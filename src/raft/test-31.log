=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 0
term 1 server 0 get vote from server 2
term 1 server 0 become leader
------------------------------------------------------
term 1 server 1 vote for server 0
term 1 server 0 get outdate rpc reply from server 1
client write log 1162223678146154653 (index 1) to leader 0
flag 11042 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 36946 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1162223678146154653 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1162223678146154653 1 1}]
------------------------------------------------------
flag 94547 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 54577 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1162223678146154653 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1162223678146154653 1 1}]
------------------------------------------------------
flag 61105 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 68067 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1162223678146154653 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1162223678146154653 1 1}]
------------------------------------------------------
flag 15736 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 39073 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1162223678146154653 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1162223678146154653 1 1}]
------------------------------------------------------
flag 76588 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 30644 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1162223678146154653 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1162223678146154653 1 1}]
------------------------------------------------------
flag 3952 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 69476 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
[{<nil> 0 0} {1162223678146154653 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1162223678146154653 1 1}]
------------------------------------------------------
flag 50880 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 53326 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1162223678146154653 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1162223678146154653 1 1}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1715464085177380660 (index 2) to leader 0
flag 14415 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 75547 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {1162223678146154653 1 1} {1715464085177380660 1 2}]
------------------------------------------------------
flag 3473 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 81423 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {1162223678146154653 1 1} {1715464085177380660 1 2}]
------------------------------------------------------
client write log 2895104709044931837 (index 3) to leader 0
client write log 7186848578138601925 (index 4) to leader 0
client write log 9119431371289042685 (index 5) to leader 0
client write log 8455692891091965933 (index 6) to leader 0
client write log 526228615881581898 (index 7) to leader 0
client write log 7323200258626327431 (index 8) to leader 0
client write log 2046209584187369159 (index 9) to leader 0
client write log 901111542449618571 (index 10) to leader 0
client write log 2923440257928396269 (index 11) to leader 0
client write log 5511715545024546153 (index 12) to leader 0
flag 34323 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 64953 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{<nil> 0 0} {1162223678146154653 1 1} {1715464085177380660 1 2} {2895104709044931837 1 3} {7186848578138601925 1 4} {9119431371289042685 1 5} {8455692891091965933 1 6} {526228615881581898 1 7} {7323200258626327431 1 8} {2046209584187369159 1 9} {901111542449618571 1 10} {2923440257928396269 1 11} {5511715545024546153 1 12}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=12
-------------------------------------------------------------
term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 50889 term 1 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 1 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=13
update matchIndex[2]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {901111542449618571 1 10} {2923440257928396269 1 11} {5511715545024546153 1 12}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=12
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2591316444352865192 (index 13) to leader 0
term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 30277 term 1 leader 0 nextIndex[2]: 13  matchIndex[2]: 12
term 1 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 2 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {901111542449618571 1 10} {2923440257928396269 1 11} {5511715545024546153 1 12} {2591316444352865192 1 13}]
------------------------------------------------------
term 1 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 3 server 2 vote for server 0
term 3 server 0 get vote from server 2
term 3 server 0 become leader
------------------------------------------------------
term 3 server 1 vote for server 0
term 3 server 0 get outdate rpc reply from server 1
flag 98520 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 24289 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {901111542449618571 1 10} {2923440257928396269 1 11} {5511715545024546153 1 12} {2591316444352865192 1 13}]
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 14->13
------------------------------------------------------
term 3 leader 0 nextIndex[1]: 2  matchIndex[1]: 0
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 80173 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 InstallSnapshot success
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {901111542449618571 1 10} {2923440257928396269 1 11} {5511715545024546153 1 12} {2591316444352865192 1 13}]
------------------------------------------------------
flag 70336 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 67093 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {901111542449618571 1 10} {2923440257928396269 1 11} {5511715545024546153 1 12} {2591316444352865192 1 13}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {901111542449618571 1 10} {2923440257928396269 1 11} {5511715545024546153 1 12} {2591316444352865192 1 13}]
------------------------------------------------------
flag 14531 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 49719 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {901111542449618571 1 10} {2923440257928396269 1 11} {5511715545024546153 1 12} {2591316444352865192 1 13}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {901111542449618571 1 10} {2923440257928396269 1 11} {5511715545024546153 1 12} {2591316444352865192 1 13}]
------------------------------------------------------
flag 67462 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 68979 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {901111542449618571 1 10} {2923440257928396269 1 11} {5511715545024546153 1 12} {2591316444352865192 1 13}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {901111542449618571 1 10} {2923440257928396269 1 11} {5511715545024546153 1 12} {2591316444352865192 1 13}]
------------------------------------------------------
flag 24943 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 70955 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {901111542449618571 1 10} {2923440257928396269 1 11} {5511715545024546153 1 12} {2591316444352865192 1 13}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {901111542449618571 1 10} {2923440257928396269 1 11} {5511715545024546153 1 12} {2591316444352865192 1 13}]
------------------------------------------------------
flag 24264 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 73216 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {901111542449618571 1 10} {2923440257928396269 1 11} {5511715545024546153 1 12} {2591316444352865192 1 13}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {901111542449618571 1 10} {2923440257928396269 1 11} {5511715545024546153 1 12} {2591316444352865192 1 13}]
------------------------------------------------------
flag 95241 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 10723 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {901111542449618571 1 10} {2923440257928396269 1 11} {5511715545024546153 1 12} {2591316444352865192 1 13}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {901111542449618571 1 10} {2923440257928396269 1 11} {5511715545024546153 1 12} {2591316444352865192 1 13}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 62522 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 78077 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 4154 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 48361 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 35630 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 15170 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 vote for server 1
term 4 server 1 get vote from server 2
term 4 server 1 become leader
------------------------------------------------------
flag 59209 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 37223 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 21971 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 77064 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {901111542449618571 1 10} {2923440257928396269 1 11} {5511715545024546153 1 12} {2591316444352865192 1 13}]
------------------------------------------------------
client write log 781682618774255079 (index 14) to leader 1
flag 61000 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 79340 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 83994 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 55574 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {901111542449618571 1 10} {2923440257928396269 1 11} {5511715545024546153 1 12} {2591316444352865192 1 13} {781682618774255079 4 14}]
------------------------------------------------------
flag 29273 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 88672 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 24092 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 26743 term 4 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {901111542449618571 1 10} {2923440257928396269 1 11} {5511715545024546153 1 12} {2591316444352865192 1 13} {781682618774255079 4 14}]
------------------------------------------------------
client write log 7776258238598148985 (index 15) to leader 1
client write log 1328092595342768298 (index 16) to leader 1
client write log 3020691919008558838 (index 17) to leader 1
client write log 4047771020728919557 (index 18) to leader 1
client write log 8572149419960444961 (index 19) to leader 1
client write log 344105284587276747 (index 20) to leader 1
client write log 2848790406405240121 (index 21) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27615 term 3 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 48461 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
flag 28908 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 36228 term 4 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 1 9} {901111542449618571 1 10} {2923440257928396269 1 11} {5511715545024546153 1 12} {2591316444352865192 1 13} {781682618774255079 4 14} {7776258238598148985 4 15} {1328092595342768298 4 16} {3020691919008558838 4 17} {4047771020728919557 4 18} {8572149419960444961 4 19} {344105284587276747 4 20} {2848790406405240121 4 21}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=21
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 14->13
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 14->13
------------------------------------------------------
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 13
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 22081 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 4 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 95945 term 4 leader 1 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=22
update matchIndex[2]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {344105284587276747 4 20} {2848790406405240121 4 21}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=21
-------------------------------------------------------------
!!!!!!connect server 0
client write log 888706396852041269 (index 22) to leader 1
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 13
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 24663 term 3 leader 0 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 3 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 2 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 39647 term 4 leader 1 nextIndex[2]: 22  matchIndex[2]: 21
term 4 leader 1 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {344105284587276747 4 20} {2848790406405240121 4 21} {888706396852041269 4 22}]
------------------------------------------------------
term 4 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 4 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 20 matchIndex[0] 19 
------------------------------------------------------------------------
term 4 server 2 not vote for server 0, 日志不够新
term 4 server 1 not vote for server 0, 日志不够新
term 6 server 2 vote for server 1
term 6 server 1 get vote from server 2
term 6 server 1 become leader
------------------------------------------------------
term 6 server 0 vote for server 1
term 6 server 1 get outdate rpc reply from server 0
flag 41286 term 6 leader 1 nextIndex[0]: 23  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 71734 term 6 leader 1 nextIndex[2]: 23  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {344105284587276747 4 20} {2848790406405240121 4 21} {888706396852041269 4 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 23->22
------------------------------------------------------
flag 81086 term 6 leader 1 nextIndex[0]: 20  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 34630 term 6 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {344105284587276747 4 20} {2848790406405240121 4 21} {888706396852041269 4 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {344105284587276747 4 20} {2848790406405240121 4 21} {888706396852041269 4 22}]
------------------------------------------------------
flag 60751 term 6 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 34214 term 6 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {344105284587276747 4 20} {2848790406405240121 4 21} {888706396852041269 4 22}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {344105284587276747 4 20} {2848790406405240121 4 21} {888706396852041269 4 22}]
------------------------------------------------------
term 6 server 0 not vote for server 1, 任期不够新
term 6 server 1 get outdate rpc reply from server 0
flag 92669 term 6 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 24401 term 6 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {344105284587276747 4 20} {2848790406405240121 4 21} {888706396852041269 4 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {344105284587276747 4 20} {2848790406405240121 4 21} {888706396852041269 4 22}]
------------------------------------------------------
flag 81659 term 6 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 64434 term 6 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {344105284587276747 4 20} {2848790406405240121 4 21} {888706396852041269 4 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {344105284587276747 4 20} {2848790406405240121 4 21} {888706396852041269 4 22}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79448 term 6 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 16101 term 6 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {344105284587276747 4 20} {2848790406405240121 4 21} {888706396852041269 4 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {344105284587276747 4 20} {2848790406405240121 4 21} {888706396852041269 4 22}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29154 term 6 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 7005 term 6 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {344105284587276747 4 20} {2848790406405240121 4 21} {888706396852041269 4 22}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {344105284587276747 4 20} {2848790406405240121 4 21} {888706396852041269 4 22}]
------------------------------------------------------
flag 74009 term 6 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 63620 term 6 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:22 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=23
update matchIndex[2]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {344105284587276747 4 20} {2848790406405240121 4 21} {888706396852041269 4 22}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=23
update matchIndex[0]=22
update leader CommitIndex=22
leader log:
[{snapshot 4 19} {344105284587276747 4 20} {2848790406405240121 4 21} {888706396852041269 4 22}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5593492393515717806 (index 23) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86195 term 6 leader 1 nextIndex[0]: 23  matchIndex[0]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
flag 65606 term 6 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 22 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:22 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {344105284587276747 4 20} {2848790406405240121 4 21} {888706396852041269 4 22} {5593492393515717806 6 23}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10570 term 6 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 6 leaderCommit: 23 
------------------------------------------------------
flag 81562 term 6 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=24
update matchIndex[0]=23
update leader CommitIndex=23
leader log:
[{snapshot 4 19} {344105284587276747 4 20} {2848790406405240121 4 21} {888706396852041269 4 22} {5593492393515717806 6 23}]
------------------------------------------------------
client write log 2457084607162644553 (index 24) to leader 1
client write log 6977508613316247756 (index 25) to leader 1
client write log 5701923888496821202 (index 26) to leader 1
client write log 1993411189519895362 (index 27) to leader 1
client write log 315980854236454612 (index 28) to leader 1
client write log 4998770082694923635 (index 29) to leader 1
flag 81281 term 6 leader 1 nextIndex[0]: 24  matchIndex[0]: 23
term 6 leader 1 sendAppendEntries PrevLogIndex: 23  PrevLogTerm: 6 leaderCommit: 23 
------------------------------------------------------
flag 8373 term 6 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 6 leader 1 sendAppendEntries PrevLogIndex: 22  PrevLogTerm: 4 leaderCommit: 23 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:23 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 19} {344105284587276747 4 20} {2848790406405240121 4 21} {888706396852041269 4 22} {5593492393515717806 6 23} {2457084607162644553 6 24} {6977508613316247756 6 25} {5701923888496821202 6 26} {1993411189519895362 6 27} {315980854236454612 6 28} {4998770082694923635 6 29}]
------------------------------------------------------
term 6 Server1 start snapshot! index=29
term 6 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37655 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 23  matchIndex[2]: 22
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 6 29}]
------------------------------------------------------
term 6 Server0 start snapshot! index=29
term 6 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1716772453409638796 (index 30) to leader 1
term 6 server 1 not vote for server 2, 日志不够新
term 6 server 0 not vote for server 2, 日志不够新
term 8 server 2 vote for server 1
term 8 server 1 get vote from server 2
term 8 server 1 become leader
------------------------------------------------------
term 8 server 0 vote for server 1
term 8 server 1 get outdate rpc reply from server 0
flag 46429 term 8 leader 1 nextIndex[0]: 31  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 3720 term 8 leader 1 nextIndex[2]: 31  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 31->30
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 31->30
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18477 term 8 leader 1 nextIndex[0]: 30  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 23  matchIndex[2]: 0
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
term 8 server 2 InstallSnapshot success
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 30 matchIndex[2] 29 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 6 rf.commitIndex 29 rf.lastApplied 29
term 8 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7137 term 8 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 67221 term 8 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 8 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
flag 71919 term 8 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 71756 term 8 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49020 term 8 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 90018 term 8 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
flag 43302 term 8 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 5010 term 8 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
flag 37664 term 8 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 503 term 8 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
flag 52745 term 8 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 79062 term 8 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
term 8 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
flag 36142 term 8 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 13578 term 8 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
flag 91349 term 8 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 99713 term 8 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
flag 52074 term 8 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 68176 term 8 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
flag 74963 term 8 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 32993 term 8 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
flag 18934 term 8 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 38758 term 8 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
flag 6810 term 8 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 57317 term 8 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
flag 53685 term 8 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 46645 term 8 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
flag 16450 term 8 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 18635 term 8 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
flag 32366 term 8 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 68786 term 8 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13470 term 8 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 18946 term 8 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
flag 32477 term 8 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 82307 term 8 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=29
leader log:
[{snapshot 6 29} {1716772453409638796 6 30}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1716772453409638796 (index 31) to leader 1
flag 72337 term 8 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 58764 term 8 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 8 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {1716772453409638796 6 30} {1716772453409638796 8 31}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {1716772453409638796 6 30} {1716772453409638796 8 31}]
------------------------------------------------------
term 8 server 0 not vote for server 1, 任期不够新
term 8 server 1 get outdate rpc reply from server 0
flag 16447 term 8 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 8 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 8 leaderCommit: 31 
------------------------------------------------------
flag 84389 term 8 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 8 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 8 leaderCommit: 31 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {1716772453409638796 6 30} {1716772453409638796 8 31}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {1716772453409638796 6 30} {1716772453409638796 8 31}]
------------------------------------------------------
flag 45741 term 8 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 8 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 8 leaderCommit: 31 
------------------------------------------------------
flag 14648 term 8 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 8 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 8 leaderCommit: 31 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {1716772453409638796 6 30} {1716772453409638796 8 31}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {1716772453409638796 6 30} {1716772453409638796 8 31}]
------------------------------------------------------
flag 77044 term 8 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 8 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 8 leaderCommit: 31 
------------------------------------------------------
flag 62644 term 8 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 8 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 8 leaderCommit: 31 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {1716772453409638796 6 30} {1716772453409638796 8 31}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {1716772453409638796 6 30} {1716772453409638796 8 31}]
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33794 term 8 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 8 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 8 leaderCommit: 31 
------------------------------------------------------
flag 21935 term 8 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 8 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 8 leaderCommit: 31 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {1716772453409638796 6 30} {1716772453409638796 8 31}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {1716772453409638796 6 30} {1716772453409638796 8 31}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85594 term 8 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 8 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 8 leaderCommit: 31 
------------------------------------------------------
flag 50503 term 8 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 8 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 8 leaderCommit: 31 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {1716772453409638796 6 30} {1716772453409638796 8 31}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {1716772453409638796 6 30} {1716772453409638796 8 31}]
------------------------------------------------------
flag 50540 term 8 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 8 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 8 leaderCommit: 31 
------------------------------------------------------
flag 74238 term 8 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 8 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 8 leaderCommit: 31 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=32
update matchIndex[2]=31
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {1716772453409638796 6 30} {1716772453409638796 8 31}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 6 29} {1716772453409638796 6 30} {1716772453409638796 8 31}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4299866339698081826 (index 32) to leader 1
flag 13937 term 8 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 8 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 8 leaderCommit: 31 
------------------------------------------------------
flag 20677 term 8 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 8 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 8 leaderCommit: 31 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {1716772453409638796 6 30} {1716772453409638796 8 31} {4299866339698081826 8 32}]
------------------------------------------------------
flag 20785 term 8 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
flag 24137 term 8 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 8 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=33
update matchIndex[0]=32
update leader CommitIndex=32
leader log:
[{snapshot 6 29} {1716772453409638796 6 30} {1716772453409638796 8 31} {4299866339698081826 8 32}]
------------------------------------------------------
client write log 8638380920125439170 (index 33) to leader 1
client write log 4970672193458782826 (index 34) to leader 1
client write log 6924036232815576385 (index 35) to leader 1
client write log 701568074516615839 (index 36) to leader 1
client write log 768360632087871882 (index 37) to leader 1
client write log 3369679057763123484 (index 38) to leader 1
client write log 1165829095766541896 (index 39) to leader 1
client write log 6661340093784344191 (index 40) to leader 1
client write log 3450028572563432749 (index 41) to leader 1
client write log 6956917622620000410 (index 42) to leader 1
flag 13806 term 8 leader 1 nextIndex[0]: 33  matchIndex[0]: 32
term 8 leader 1 sendAppendEntries PrevLogIndex: 32  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
flag 56020 term 8 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 8 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 8 leaderCommit: 32 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:32 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 29} {1716772453409638796 6 30} {1716772453409638796 8 31} {4299866339698081826 8 32} {8638380920125439170 8 33} {4970672193458782826 8 34} {6924036232815576385 8 35} {701568074516615839 8 36} {768360632087871882 8 37} {3369679057763123484 8 38} {1165829095766541896 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42}]
------------------------------------------------------
term 8 Server1 start snapshot! index=39
term 8 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=42
-------------------------------------------------------------
flag 82346 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 8
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42}]
------------------------------------------------------
term 8 Server0 start snapshot! index=39
term 8 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=42
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1840576030270360071 (index 43) to leader 1
flag 84712 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 32  matchIndex[2]: 31
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 8
------------------------------------------------------
term 9 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 10 server 2 vote for server 1
term 10 server 0 vote for server 1
term 10 server 1 get vote from server 2
term 10 server 1 become leader
------------------------------------------------------
term 10 server 1 get outdate rpc reply from server 0
flag 91957 term 10 leader 1 nextIndex[0]: 44  matchIndex[0]: 0
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 66620 term 10 leader 1 nextIndex[2]: 44  matchIndex[2]: 0
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 10 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 44->43
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28067 term 10 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 10 leader 1 nextIndex[2]: 32  matchIndex[2]: 0
term 10 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 8
------------------------------------------------------
term 10 server 2 InstallSnapshot success
------------------------------------------------------
term 10 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 40 matchIndex[2] 39 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 8 rf.commitIndex 39 rf.lastApplied 39
term 10 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
flag 27981 term 10 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 10075 term 10 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 10 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11476 term 10 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 39741 term 10 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
term 10 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 10 server 0 not vote for server 2, 任期不够新
term 10 server 2 get outdate rpc reply from server 0
flag 92451 term 10 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 58031 term 10 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
flag 29893 term 10 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 59649 term 10 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
flag 54675 term 10 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 93738 term 10 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33682 term 10 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 68334 term 10 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
flag 64707 term 10 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 23093 term 10 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
flag 37089 term 10 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 71622 term 10 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
flag 15473 term 10 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 74503 term 10 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
flag 2399 term 10 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 69994 term 10 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
term 10 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 10 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 4623 term 10 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 74481 term 10 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
flag 25992 term 10 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 61011 term 10 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12430 term 10 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 43770 term 10 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
flag 74251 term 10 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 41169 term 10 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
term 10 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35802 term 10 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 31807 term 10 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
flag 43037 term 10 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 83013 term 10 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
flag 2365 term 10 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 94004 term 10 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1840576030270360071 (index 44) to leader 1
flag 94871 term 10 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 50451 term 10 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 10 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44}]
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44}]
------------------------------------------------------
flag 49578 term 10 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 10 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 44 
------------------------------------------------------
flag 92872 term 10 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 10 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 44 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44}]
------------------------------------------------------
flag 87336 term 10 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 10 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 44 
------------------------------------------------------
flag 23516 term 10 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 10 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 44 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44}]
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44}]
------------------------------------------------------
flag 49086 term 10 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 10 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 44 
------------------------------------------------------
flag 50488 term 10 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 10 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 44 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44}]
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44}]
------------------------------------------------------
flag 52890 term 10 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 10 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 44 
------------------------------------------------------
flag 98831 term 10 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 10 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 44 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44}]
------------------------------------------------------
flag 59247 term 10 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 10 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 44 
------------------------------------------------------
flag 30728 term 10 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 10 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 44 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
term 10 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44}]
------------------------------------------------------
flag 56019 term 10 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 10 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 44 
------------------------------------------------------
flag 54021 term 10 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 10 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 44 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 32253 term 10 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 10 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 44 
------------------------------------------------------
flag 81930 term 10 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 10 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 44 
------------------------------------------------------
flag 84081 term 10 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 10 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 44 
------------------------------------------------------
flag 45896 term 10 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 10 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 44 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54370 term 10 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 10 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 44 
------------------------------------------------------
flag 19731 term 10 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 10 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 vote for server 0
term 11 server 0 get vote from server 2
term 11 server 0 become leader
------------------------------------------------------
flag 59511 term 10 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 10 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 44 
------------------------------------------------------
flag 78340 term 10 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 10 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 44 
------------------------------------------------------
flag 61912 term 11 leader 0 nextIndex[1]: 45  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 44 
------------------------------------------------------
flag 67675 term 11 leader 0 nextIndex[2]: 45  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44}]
------------------------------------------------------
client write log 7442437956458263976 (index 45) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17072 term 10 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 10 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 44 
------------------------------------------------------
flag 42634 term 10 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 10 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 44 
------------------------------------------------------
flag 95343 term 11 leader 0 nextIndex[1]: 45  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 44 
------------------------------------------------------
flag 11360 term 11 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 11 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45}]
------------------------------------------------------
flag 91501 term 10 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 10 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 44 
------------------------------------------------------
flag 37845 term 10 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 10 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 44 
------------------------------------------------------
flag 39269 term 11 leader 0 nextIndex[1]: 45  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 45 
------------------------------------------------------
flag 77256 term 11 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 11 leaderCommit: 45 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45}]
------------------------------------------------------
client write log 1934955875636920040 (index 46) to leader 0
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 45->44
------------------------------------------------------
term 10 leader 1 nextIndex[0]: 0  matchIndex[0]: 44
term 10 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 8
------------------------------------------------------
flag 93090 term 10 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 10 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 44 
------------------------------------------------------
flag 60185 term 11 leader 0 nextIndex[1]: 45  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 45 
------------------------------------------------------
flag 43088 term 11 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 11 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 11 leaderCommit: 45 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
term 10 leader 1 nextIndex[0]: 0  matchIndex[0]: 44
term 10 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 8
------------------------------------------------------
flag 71806 term 10 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 10 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 44 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31359 term 11 leader 0 nextIndex[1]: 45  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 46 
------------------------------------------------------
flag 26754 term 11 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
!!!!!!connect server 1
client write log 663191310979576395 (index 45) to leader 1
term 10 leader 1 nextIndex[0]: 0  matchIndex[0]: 44
term 10 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 8
------------------------------------------------------
flag 74325 term 10 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 10 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 44 
------------------------------------------------------
term 11 server 2 AppendEntries false 领导者任期过期 args.Term 10
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 11 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 11 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 64962 term 11 leader 0 nextIndex[1]: 45  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 10 leaderCommit: 46 
------------------------------------------------------
flag 16586 term 11 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
flag 32685 term 11 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
flag 22533 term 11 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
flag 52673 term 11 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
flag 97142 term 11 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
flag 30700 term 11 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
flag 71764 term 11 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11211 term 11 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
flag 11508 term 11 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
flag 86612 term 11 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
flag 37816 term 11 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 47->46
------------------------------------------------------
term 11 leader 0 nextIndex[1]: 0  matchIndex[1]: 46
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 8
------------------------------------------------------
flag 99188 term 11 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 1 InstallSnapshot fail
rf.commitIndex 46 args.LastIncludedIndex 39
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
flag 44016 term 11 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 11 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
flag 68506 term 11 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
flag 46108 term 11 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
flag 79553 term 11 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
flag 28332 term 11 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
flag 68595 term 11 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
term 11 server 1 not vote for server 0, 日志不够新
term 11 server 0 get outdate rpc reply from server 1
flag 90371 term 11 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
flag 15926 term 11 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
term 11 server 2 not vote for server 1, 任期不够新
term 11 server 1 get outdate rpc reply from server 2
flag 78242 term 11 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
flag 70707 term 11 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6504 term 11 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
flag 70842 term 11 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
flag 52636 term 11 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
flag 89561 term 11 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
flag 66689 term 11 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
flag 38780 term 11 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
term 11 server 1 not vote for server 2, 任期不够新
term 11 server 2 get outdate rpc reply from server 1
flag 72238 term 11 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
flag 32261 term 11 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
flag 69852 term 11 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
flag 4483 term 11 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
flag 5230 term 11 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
flag 64636 term 11 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
flag 21908 term 11 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
flag 66068 term 11 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
flag 45832 term 11 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
flag 9354 term 11 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46}]
------------------------------------------------------
client write log 663191310979576395 (index 47) to leader 0
flag 4985 term 11 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
flag 5269 term 11 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 11 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 11 leaderCommit: 46 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46} {663191310979576395 11 47}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46} {663191310979576395 11 47}]
------------------------------------------------------
flag 84812 term 11 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
term 11 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 11 leaderCommit: 47 
------------------------------------------------------
flag 56474 term 11 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 11 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 11 leaderCommit: 47 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46} {663191310979576395 11 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46} {663191310979576395 11 47}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90395 term 11 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
term 11 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 11 leaderCommit: 47 
------------------------------------------------------
flag 86664 term 11 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 11 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 11 leaderCommit: 47 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46} {663191310979576395 11 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46} {663191310979576395 11 47}]
------------------------------------------------------
flag 98850 term 11 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
term 11 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 11 leaderCommit: 47 
------------------------------------------------------
flag 51823 term 11 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 11 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 11 leaderCommit: 47 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
term 11 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46} {663191310979576395 11 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46} {663191310979576395 11 47}]
------------------------------------------------------
flag 29391 term 11 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
term 11 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 11 leaderCommit: 47 
------------------------------------------------------
flag 81135 term 11 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 11 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 11 leaderCommit: 47 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46} {663191310979576395 11 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46} {663191310979576395 11 47}]
------------------------------------------------------
flag 97320 term 11 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
term 11 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 11 leaderCommit: 47 
------------------------------------------------------
flag 82489 term 11 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 11 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 11 leaderCommit: 47 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46} {663191310979576395 11 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46} {663191310979576395 11 47}]
------------------------------------------------------
flag 25112 term 11 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
term 11 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 11 leaderCommit: 47 
------------------------------------------------------
flag 95431 term 11 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 11 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 11 leaderCommit: 47 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
term 11 server 1 AppendEntries true commitIndex:47 
------------------------------------------------------
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46} {663191310979576395 11 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=48
update matchIndex[1]=47
update leader CommitIndex=47
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46} {663191310979576395 11 47}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4189676624327198492 (index 48) to leader 0
flag 21152 term 11 leader 0 nextIndex[1]: 48  matchIndex[1]: 47
term 11 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 11 leaderCommit: 47 
------------------------------------------------------
flag 21363 term 11 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 11 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 11 leaderCommit: 47 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46} {663191310979576395 11 47} {4189676624327198492 11 48}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 48->47
------------------------------------------------------
term 11 leader 0 nextIndex[1]: 0  matchIndex[1]: 47
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 8
------------------------------------------------------
flag 72722 term 11 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 11 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 11 leaderCommit: 48 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46} {663191310979576395 11 47} {4189676624327198492 11 48}]
------------------------------------------------------
client write log 4880695656358525293 (index 49) to leader 0
client write log 2940278053586521237 (index 50) to leader 0
client write log 8062893697675284246 (index 51) to leader 0
client write log 981866917114213985 (index 52) to leader 0
client write log 8299840790234251637 (index 53) to leader 0
client write log 2252601052808066561 (index 54) to leader 0
client write log 3007845689410755097 (index 55) to leader 0
client write log 2389713346548494039 (index 56) to leader 0
client write log 4414105111313547321 (index 57) to leader 0
client write log 7561697114645032731 (index 58) to leader 0
term 11 leader 0 nextIndex[1]: 0  matchIndex[1]: 47
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 8
------------------------------------------------------
flag 5565 term 11 leader 0 nextIndex[2]: 49  matchIndex[2]: 48
term 11 leader 0 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 11 leaderCommit: 48 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 8 39} {6661340093784344191 8 40} {3450028572563432749 8 41} {6956917622620000410 8 42} {1840576030270360071 8 43} {1840576030270360071 10 44} {7442437956458263976 11 45} {1934955875636920040 11 46} {663191310979576395 11 47} {4189676624327198492 11 48} {4880695656358525293 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58}]
------------------------------------------------------
term 11 Server0 start snapshot! index=49
term 11 server0 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=58
-------------------------------------------------------------
term 11 leader 0 nextIndex[1]: 0  matchIndex[1]: 47
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 11
------------------------------------------------------
flag 29197 term 11 leader 0 nextIndex[2]: 59  matchIndex[2]: 58
term 11 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58}]
------------------------------------------------------
term 11 Server2 start snapshot! index=49
term 11 server2 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=58
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4372142777023814245 (index 59) to leader 0
term 11 server 2 not vote for server 1, 日志不够新
term 11 server 0 not vote for server 1, 日志不够新
term 13 server 2 vote for server 0
term 13 server 1 vote for server 0
term 13 server 0 get vote from server 2
term 13 server 0 become leader
------------------------------------------------------
term 13 server 0 get outdate rpc reply from server 1
flag 4709 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 96395 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 60->59
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 60->59
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 0 nextIndex[1]: 48  matchIndex[1]: 0
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 11
------------------------------------------------------
flag 96654 term 13 leader 0 nextIndex[2]: 59  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
term 13 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 11 rf.commitIndex 49 rf.lastApplied 49
term 13 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
flag 24949 term 13 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 13 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 90994 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90947 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 29244 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59812 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 12015 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31967 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 19929 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
flag 16987 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 94022 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
flag 68245 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 42836 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
flag 10681 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 38203 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
flag 87167 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 6258 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45986 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 12874 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
flag 62565 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 17891 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
flag 30095 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 67687 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
flag 80752 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 13727 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28426 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 38740 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
flag 8465 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 74119 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
flag 4872 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 19400 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
flag 96463 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 80764 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74674 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 99816 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=58
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 4372142777023814245 (index 60) to leader 0
flag 60387 term 13 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 59500 term 13 leader 0 nextIndex[2]: 60  matchIndex[2]: 59
term 13 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59} {4372142777023814245 13 60}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 49} {2940278053586521237 11 50} {8062893697675284246 11 51} {981866917114213985 11 52} {8299840790234251637 11 53} {2252601052808066561 11 54} {3007845689410755097 11 55} {2389713346548494039 11 56} {4414105111313547321 11 57} {7561697114645032731 11 58} {4372142777023814245 11 59} {4372142777023814245 13 60}]
------------------------------------------------------
term 13 Server0 start snapshot! index=59
term 13 server0 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=60
-------------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84901 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 19184 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4372142777023814245 13 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4372142777023814245 13 60}]
------------------------------------------------------
term 13 Server1 start snapshot! index=59
term 13 server1 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=60
-------------------------------------------------------------
term 13 Server2 start snapshot! index=59
term 13 server2 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=60
-------------------------------------------------------------
flag 4608 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 65749 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4372142777023814245 13 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4372142777023814245 13 60}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69603 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 41382 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4372142777023814245 13 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4372142777023814245 13 60}]
------------------------------------------------------
flag 72132 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 76463 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4372142777023814245 13 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4372142777023814245 13 60}]
------------------------------------------------------
flag 14203 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 86619 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4372142777023814245 13 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4372142777023814245 13 60}]
------------------------------------------------------
term 13 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 51361 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 17893 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4372142777023814245 13 60}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=61
update matchIndex[2]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {4372142777023814245 13 60}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3330326345583671697 (index 61) to leader 0
flag 93439 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
flag 75014 term 13 leader 0 nextIndex[2]: 61  matchIndex[2]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 60 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51646 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 55766 term 13 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61}]
------------------------------------------------------
client write log 172301459574479598 (index 62) to leader 0
client write log 3366530574415387063 (index 63) to leader 0
client write log 2391732999961677035 (index 64) to leader 0
client write log 862940614749977428 (index 65) to leader 0
client write log 7206250837526917640 (index 66) to leader 0
client write log 5696764977215299488 (index 67) to leader 0
client write log 1537250131432885059 (index 68) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90428 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
flag 71549 term 13 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 13 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 13 leaderCommit: 61 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68}]
------------------------------------------------------
flag 23454 term 13 leader 0 nextIndex[1]: 61  matchIndex[1]: 60
term 13 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 42381 term 13 leader 0 nextIndex[2]: 69  matchIndex[2]: 68
term 13 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68}]
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!connect server 1
client write log 2183216315210150224 (index 69) to leader 0
term 13 server 0 not vote for server 1, 日志不够新
term 13 server 2 not vote for server 1, 日志不够新
term 15 server 2 vote for server 0
term 15 server 0 get vote from server 2
term 15 server 0 become leader
------------------------------------------------------
term 15 server 1 vote for server 0
term 15 server 0 get outdate rpc reply from server 1
flag 47694 term 15 leader 0 nextIndex[1]: 70  matchIndex[1]: 0
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 76873 term 15 leader 0 nextIndex[2]: 70  matchIndex[2]: 0
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 15 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 70->69
------------------------------------------------------
term 15 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 70->69
------------------------------------------------------
flag 48041 term 15 leader 0 nextIndex[1]: 61  matchIndex[1]: 0
term 15 leader 0 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 22224 term 15 leader 0 nextIndex[2]: 69  matchIndex[2]: 0
term 15 leader 0 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26147 term 15 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 90908 term 15 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
flag 96103 term 15 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 20640 term 15 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
flag 69398 term 15 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 18712 term 15 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
flag 65516 term 15 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 71336 term 15 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
term 15 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 7236 term 15 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 41260 term 15 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49043 term 15 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 47737 term 15 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
flag 15067 term 15 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 66364 term 15 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
flag 2536 term 15 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 5437 term 15 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
flag 45029 term 15 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 86655 term 15 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
flag 81835 term 15 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 32936 term 15 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
flag 12454 term 15 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 35119 term 15 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
flag 16839 term 15 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 78599 term 15 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
flag 72339 term 15 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 5989 term 15 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
flag 23177 term 15 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 78007 term 15 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
flag 44757 term 15 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 67278 term 15 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:68 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
flag 53433 term 15 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 93487 term 15 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
flag 44407 term 15 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 65663 term 15 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69}]
------------------------------------------------------
client write log 2183216315210150224 (index 70) to leader 0
flag 42541 term 15 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 6679 term 15 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 15 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69} {2183216315210150224 15 70}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 59} {4372142777023814245 13 60} {3330326345583671697 13 61} {172301459574479598 13 62} {3366530574415387063 13 63} {2391732999961677035 13 64} {862940614749977428 13 65} {7206250837526917640 13 66} {5696764977215299488 13 67} {1537250131432885059 13 68} {2183216315210150224 13 69} {2183216315210150224 15 70}]
------------------------------------------------------
term 15 Server0 start snapshot! index=69
term 15 server0 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
flag 95213 term 15 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 15 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
flag 43391 term 15 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 15 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 13 69} {2183216315210150224 15 70}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 13 69} {2183216315210150224 15 70}]
------------------------------------------------------
term 15 Server1 start snapshot! index=69
term 15 server1 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
term 15 Server2 start snapshot! index=69
term 15 server2 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
flag 74149 term 15 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 15 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
flag 89276 term 15 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 15 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 13 69} {2183216315210150224 15 70}]
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 13 69} {2183216315210150224 15 70}]
------------------------------------------------------
flag 68535 term 15 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 15 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
flag 22761 term 15 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 15 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 13 69} {2183216315210150224 15 70}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 13 69} {2183216315210150224 15 70}]
------------------------------------------------------
flag 37771 term 15 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 15 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
flag 12320 term 15 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 15 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 13 69} {2183216315210150224 15 70}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 13 69} {2183216315210150224 15 70}]
------------------------------------------------------
flag 65831 term 15 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 15 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
flag 78221 term 15 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 15 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 13 69} {2183216315210150224 15 70}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 13 69} {2183216315210150224 15 70}]
------------------------------------------------------
flag 43964 term 15 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 15 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
flag 69658 term 15 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 15 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 13 69} {2183216315210150224 15 70}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 13 69} {2183216315210150224 15 70}]
------------------------------------------------------
!!!!!!diconnect server 0
term 15 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41560 term 15 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 15 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
flag 96172 term 15 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 15 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
flag 30795 term 15 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 15 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
flag 83246 term 15 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 15 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
flag 17438 term 15 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 15 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
flag 66119 term 15 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 15 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
flag 51880 term 15 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 15 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
flag 25657 term 15 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 15 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
term 16 server 2 vote for server 1
term 16 server 1 get vote from server 2
term 16 server 1 become leader
------------------------------------------------------
flag 54667 term 16 leader 1 nextIndex[0]: 71  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
flag 47447 term 16 leader 1 nextIndex[2]: 71  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 13 69} {2183216315210150224 15 70}]
------------------------------------------------------
client write log 7652710795682234324 (index 71) to leader 1
flag 39879 term 15 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 15 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
flag 61724 term 15 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 15 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
flag 990 term 16 leader 1 nextIndex[0]: 71  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
flag 26753 term 16 leader 1 nextIndex[2]: 71  matchIndex[2]: 70
term 16 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 13 69} {2183216315210150224 15 70} {7652710795682234324 16 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 71->70
------------------------------------------------------
term 15 leader 0 nextIndex[1]: 0  matchIndex[1]: 70
term 15 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
flag 31275 term 15 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 15 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
flag 70788 term 16 leader 1 nextIndex[0]: 71  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 71 
------------------------------------------------------
flag 92537 term 16 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 16 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 16 leaderCommit: 71 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 13 69} {2183216315210150224 15 70} {7652710795682234324 16 71}]
------------------------------------------------------
client write log 4679782708030402263 (index 72) to leader 1
client write log 603468011100731953 (index 73) to leader 1
client write log 5632985900328063804 (index 74) to leader 1
client write log 1369189870271143876 (index 75) to leader 1
client write log 6930464423965579652 (index 76) to leader 1
client write log 3377952726878851964 (index 77) to leader 1
client write log 7950598865540311009 (index 78) to leader 1
client write log 3381322699393786936 (index 79) to leader 1
client write log 961272197999164178 (index 80) to leader 1
client write log 1521895116241423486 (index 81) to leader 1
term 15 leader 0 nextIndex[1]: 0  matchIndex[1]: 70
term 15 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
flag 6912 term 15 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 15 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
flag 39594 term 16 leader 1 nextIndex[0]: 71  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 71 
------------------------------------------------------
flag 98440 term 16 leader 1 nextIndex[2]: 72  matchIndex[2]: 71
term 16 leader 1 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 16 leaderCommit: 71 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 69} {2183216315210150224 15 70} {7652710795682234324 16 71} {4679782708030402263 16 72} {603468011100731953 16 73} {5632985900328063804 16 74} {1369189870271143876 16 75} {6930464423965579652 16 76} {3377952726878851964 16 77} {7950598865540311009 16 78} {3381322699393786936 16 79} {961272197999164178 16 80} {1521895116241423486 16 81}]
------------------------------------------------------
term 16 Server1 start snapshot! index=79
term 16 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=81
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
term 15 leader 0 nextIndex[1]: 0  matchIndex[1]: 70
term 15 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
flag 59488 term 15 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 15 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
term 16 leader 1 nextIndex[0]: 71  matchIndex[0]: 0
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 16
------------------------------------------------------
flag 92371 term 16 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 16 leaderCommit: 81 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 16 79} {961272197999164178 16 80} {1521895116241423486 16 81}]
------------------------------------------------------
term 16 Server2 start snapshot! index=79
term 16 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=81
-------------------------------------------------------------
!!!!!!connect server 0
client write log 256732870755114976 (index 82) to leader 1
term 15 leader 0 nextIndex[1]: 0  matchIndex[1]: 70
term 15 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
flag 18441 term 15 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 15 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
term 16 server 2 AppendEntries false 领导者任期过期 args.Term 15
------------------------------------------------------
term 16 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 leader 1 nextIndex[0]: 71  matchIndex[0]: 0
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 16
------------------------------------------------------
flag 14458 term 16 leader 1 nextIndex[2]: 82  matchIndex[2]: 81
term 16 leader 1 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 16 leaderCommit: 81 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 16 79} {961272197999164178 16 80} {1521895116241423486 16 81} {256732870755114976 16 82}]
------------------------------------------------------
term 16 server 0 InstallSnapshot success
------------------------------------------------------
term 16 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 16 rf.commitIndex 79 rf.lastApplied 79
flag 35097 term 16 leader 1 nextIndex[0]: 80  matchIndex[0]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
flag 31500 term 16 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 16 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 16 79} {961272197999164178 16 80} {1521895116241423486 16 81} {256732870755114976 16 82}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 16 79} {961272197999164178 16 80} {1521895116241423486 16 81} {256732870755114976 16 82}]
------------------------------------------------------
flag 30761 term 16 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 16 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
flag 57463 term 16 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 16 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 16 79} {961272197999164178 16 80} {1521895116241423486 16 81} {256732870755114976 16 82}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 16 79} {961272197999164178 16 80} {1521895116241423486 16 81} {256732870755114976 16 82}]
------------------------------------------------------
flag 71369 term 16 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 16 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
flag 92274 term 16 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 16 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 16 79} {961272197999164178 16 80} {1521895116241423486 16 81} {256732870755114976 16 82}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 16 79} {961272197999164178 16 80} {1521895116241423486 16 81} {256732870755114976 16 82}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76340 term 16 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 16 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
flag 43688 term 16 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 16 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 16 79} {961272197999164178 16 80} {1521895116241423486 16 81} {256732870755114976 16 82}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 16 79} {961272197999164178 16 80} {1521895116241423486 16 81} {256732870755114976 16 82}]
------------------------------------------------------
flag 35427 term 16 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 16 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
flag 7466 term 16 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 16 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 16 79} {961272197999164178 16 80} {1521895116241423486 16 81} {256732870755114976 16 82}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 16 79} {961272197999164178 16 80} {1521895116241423486 16 81} {256732870755114976 16 82}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78461 term 16 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 16 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
flag 23427 term 16 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 16 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 16 79} {961272197999164178 16 80} {1521895116241423486 16 81} {256732870755114976 16 82}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=83
update matchIndex[0]=82
update leader CommitIndex=82
leader log:
[{snapshot 16 79} {961272197999164178 16 80} {1521895116241423486 16 81} {256732870755114976 16 82}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8943724674018340038 (index 83) to leader 1
flag 13564 term 16 leader 1 nextIndex[0]: 83  matchIndex[0]: 82
term 16 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
flag 16765 term 16 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 16 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 82 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {961272197999164178 16 80} {1521895116241423486 16 81} {256732870755114976 16 82} {8943724674018340038 16 83}]
------------------------------------------------------
flag 91023 term 16 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 42411 term 16 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 16 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=83
leader log:
[{snapshot 16 79} {961272197999164178 16 80} {1521895116241423486 16 81} {256732870755114976 16 82} {8943724674018340038 16 83}]
------------------------------------------------------
client write log 1882323951288326773 (index 84) to leader 1
client write log 6239145925006161011 (index 85) to leader 1
client write log 2354902335697243006 (index 86) to leader 1
client write log 8261239935186879006 (index 87) to leader 1
client write log 7945541228280680687 (index 88) to leader 1
client write log 4478939836583093392 (index 89) to leader 1
client write log 778949829955337 (index 90) to leader 1
client write log 9035898145932876850 (index 91) to leader 1
client write log 5385992315653078613 (index 92) to leader 1
client write log 5528210572164200038 (index 93) to leader 1
client write log 6394394100050985497 (index 94) to leader 1
client write log 6964204414174035860 (index 95) to leader 1
client write log 5235783374163175876 (index 96) to leader 1
client write log 2745469499257019341 (index 97) to leader 1
term 16 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21204 term 16 leader 1 nextIndex[0]: 84  matchIndex[0]: 83
term 16 leader 1 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
flag 48379 term 16 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 16 leader 1 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 16 leaderCommit: 83 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 79} {961272197999164178 16 80} {1521895116241423486 16 81} {256732870755114976 16 82} {8943724674018340038 16 83} {1882323951288326773 16 84} {6239145925006161011 16 85} {2354902335697243006 16 86} {8261239935186879006 16 87} {7945541228280680687 16 88} {4478939836583093392 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97}]
------------------------------------------------------
term 16 Server1 start snapshot! index=89
term 16 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=97
-------------------------------------------------------------
flag 72197 term 16 leader 1 nextIndex[0]: 98  matchIndex[0]: 97
term 16 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 83  matchIndex[2]: 82
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97}]
------------------------------------------------------
term 16 Server0 start snapshot! index=89
term 16 server0 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=97
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8781062658468846000 (index 98) to leader 1
term 16 server 1 not vote for server 2, 日志不够新
term 16 server 0 not vote for server 2, 日志不够新
term 18 server 2 vote for server 1
term 18 server 1 get vote from server 2
term 18 server 1 become leader
------------------------------------------------------
term 18 server 0 vote for server 1
term 18 server 1 get outdate rpc reply from server 0
flag 16108 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 13568 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 99->98
------------------------------------------------------
term 18 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 99->98
------------------------------------------------------
flag 54443 term 18 leader 1 nextIndex[0]: 98  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 83  matchIndex[2]: 0
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
term 18 server 2 InstallSnapshot success
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 16 rf.commitIndex 89 rf.lastApplied 89
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
flag 15596 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 59610 term 18 leader 1 nextIndex[2]: 90  matchIndex[2]: 89
term 18 leader 1 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60283 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 14916 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
flag 16294 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 69210 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
flag 7716 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 83217 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
flag 69506 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 95191 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
flag 5611 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 51253 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
flag 54183 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 47443 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
term 18 server 0 not vote for server 1, 任期不够新
term 18 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73681 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 79846 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
flag 33038 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 45976 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18384 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 93938 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
flag 49284 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 62231 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
flag 98875 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 17749 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
flag 92248 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 883 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97249 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 23897 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
flag 62833 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 55452 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32931 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 25650 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
flag 78095 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 27420 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98}]
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 8781062658468846000 (index 99) to leader 1
flag 12422 term 18 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
flag 93431 term 18 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 18 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 16 leaderCommit: 97 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:97 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98} {8781062658468846000 18 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 16 89} {778949829955337 16 90} {9035898145932876850 16 91} {5385992315653078613 16 92} {5528210572164200038 16 93} {6394394100050985497 16 94} {6964204414174035860 16 95} {5235783374163175876 16 96} {2745469499257019341 16 97} {8781062658468846000 16 98} {8781062658468846000 18 99}]
------------------------------------------------------
term 18 Server1 start snapshot! index=99
term 18 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89992 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
flag 13328 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 18 99}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 18 99}]
------------------------------------------------------
term 18 Server0 start snapshot! index=99
term 18 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
term 18 Server2 start snapshot! index=99
term 18 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80733 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
flag 3650 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 18 99}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 18 99}]
------------------------------------------------------
flag 46129 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
flag 27220 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 18 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 18 99}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76250 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
flag 75473 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 18 99}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 18 99}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50920 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
flag 53701 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 18 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 18 99}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8453 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
flag 89266 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 18 99}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 18 99}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8003783535370087010 (index 100) to leader 1
flag 83864 term 18 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
flag 68212 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 99 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 18 99} {8003783535370087010 18 100}]
------------------------------------------------------
flag 16021 term 18 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 18 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
flag 11114 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 18 99} {8003783535370087010 18 100}]
------------------------------------------------------
client write log 2768943020648597095 (index 101) to leader 1
client write log 3315183018614507216 (index 102) to leader 1
client write log 2618596866668740051 (index 103) to leader 1
client write log 3279114947259368377 (index 104) to leader 1
client write log 4321709927115851859 (index 105) to leader 1
client write log 4865712491138968949 (index 106) to leader 1
client write log 2998344265130336553 (index 107) to leader 1
client write log 6773039956427435280 (index 108) to leader 1
client write log 4336878268630539530 (index 109) to leader 1
client write log 991948786253505135 (index 110) to leader 1
client write log 8790825423573830058 (index 111) to leader 1
client write log 1085889359959314358 (index 112) to leader 1
client write log 3659150340824565486 (index 113) to leader 1
flag 28131 term 18 leader 1 nextIndex[0]: 101  matchIndex[0]: 100
term 18 leader 1 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
flag 46822 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 18 leaderCommit: 100 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 99} {8003783535370087010 18 100} {2768943020648597095 18 101} {3315183018614507216 18 102} {2618596866668740051 18 103} {3279114947259368377 18 104} {4321709927115851859 18 105} {4865712491138968949 18 106} {2998344265130336553 18 107} {6773039956427435280 18 108} {4336878268630539530 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113}]
------------------------------------------------------
term 18 Server1 start snapshot! index=109
term 18 server1 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=113
-------------------------------------------------------------
flag 40309 term 18 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 18 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113}]
------------------------------------------------------
term 18 Server0 start snapshot! index=109
term 18 server0 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=113
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 2
client write log 5809264450917925720 (index 114) to leader 1
term 18 server 1 not vote for server 2, 日志不够新
term 18 server 0 not vote for server 2, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 server 2 vote for server 1
term 20 server 0 vote for server 1
term 20 server 1 get vote from server 2
term 20 server 1 become leader
------------------------------------------------------
term 20 server 1 get outdate rpc reply from server 0
flag 48390 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 56972 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 20 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 115->114
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 115->114
------------------------------------------------------
flag 73532 term 20 leader 1 nextIndex[0]: 114  matchIndex[0]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 100  matchIndex[2]: 0
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
term 20 server 2 InstallSnapshot success
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 18 rf.commitIndex 109 rf.lastApplied 109
term 20 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
flag 49603 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 19803 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24093 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 37300 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
term 20 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37032 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 86427 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
term 20 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3548 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 18569 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
flag 16720 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 65946 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
flag 59833 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 33651 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56541 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 66955 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
flag 81233 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 48661 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30032 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 35083 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
flag 52191 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 97940 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83980 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 90657 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
flag 9996 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 20267 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
flag 75964 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 81465 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
flag 11244 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 93544 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
flag 61858 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 64641 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
flag 58093 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 67688 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82837 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 53151 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
flag 72813 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 94414 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114}]
------------------------------------------------------
client write log 5809264450917925720 (index 115) to leader 1
flag 62528 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
flag 50722 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114} {5809264450917925720 20 115}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114} {5809264450917925720 20 115}]
------------------------------------------------------
flag 92706 term 20 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 60098 term 20 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114} {5809264450917925720 20 115}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114} {5809264450917925720 20 115}]
------------------------------------------------------
flag 94988 term 20 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 42185 term 20 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114} {5809264450917925720 20 115}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114} {5809264450917925720 20 115}]
------------------------------------------------------
flag 40993 term 20 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 11405 term 20 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114} {5809264450917925720 20 115}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114} {5809264450917925720 20 115}]
------------------------------------------------------
flag 58774 term 20 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 55666 term 20 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114} {5809264450917925720 20 115}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114} {5809264450917925720 20 115}]
------------------------------------------------------
flag 96662 term 20 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 67881 term 20 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114} {5809264450917925720 20 115}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114} {5809264450917925720 20 115}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 54709 term 20 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 59172 term 20 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114} {5809264450917925720 20 115}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114} {5809264450917925720 20 115}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 12922 term 20 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 53691 term 20 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 77111 term 20 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 11074 term 20 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 10146 term 20 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 52424 term 20 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
term 21 server 0 vote for server 2
term 21 server 2 get vote from server 0
term 21 server 2 become leader
------------------------------------------------------
flag 74251 term 21 leader 2 nextIndex[0]: 116  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 81718 term 21 leader 2 nextIndex[1]: 116  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114} {5809264450917925720 20 115}]
------------------------------------------------------
client write log 5305689961486508606 (index 116) to leader 2
flag 74393 term 20 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 95370 term 20 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 56601 term 21 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 30972 term 21 leader 2 nextIndex[1]: 116  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114} {5809264450917925720 20 115} {5305689961486508606 21 116}]
------------------------------------------------------
flag 82582 term 20 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 17087 term 20 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 75584 term 21 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 91352 term 21 leader 2 nextIndex[1]: 116  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114} {5809264450917925720 20 115} {5305689961486508606 21 116}]
------------------------------------------------------
client write log 6653898181897488340 (index 117) to leader 2
client write log 3001729134156115880 (index 118) to leader 2
client write log 2217716031546717935 (index 119) to leader 2
client write log 655028638985661646 (index 120) to leader 2
client write log 9093560699171374713 (index 121) to leader 2
client write log 1698231502498753730 (index 122) to leader 2
client write log 8066816180378251311 (index 123) to leader 2
client write log 2360600894358035925 (index 124) to leader 2
client write log 1748120575786517559 (index 125) to leader 2
client write log 5817195806767398800 (index 126) to leader 2
client write log 6076361457918255012 (index 127) to leader 2
flag 51980 term 20 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 62599 term 20 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 70059 term 21 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 96645 term 21 leader 2 nextIndex[1]: 116  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 18 109} {991948786253505135 18 110} {8790825423573830058 18 111} {1085889359959314358 18 112} {3659150340824565486 18 113} {5809264450917925720 18 114} {5809264450917925720 20 115} {5305689961486508606 21 116} {6653898181897488340 21 117} {3001729134156115880 21 118} {2217716031546717935 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
term 21 Server2 start snapshot! index=119
term 21 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=127
-------------------------------------------------------------
flag 8940 term 20 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 31845 term 20 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 71894 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 21 leader 2 nextIndex[1]: 116  matchIndex[1]: 0
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
term 21 Server0 start snapshot! index=119
term 21 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=127
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 116->115
------------------------------------------------------
!!!!!!connect server 1
client write log 3180362514448793519 (index 116) to leader 1
term 20 leader 1 nextIndex[0]: 0  matchIndex[0]: 115
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
flag 66564 term 20 leader 1 nextIndex[2]: 116  matchIndex[2]: 115
term 20 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
term 21 server 2 AppendEntries false 领导者任期过期 args.Term 20
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 21 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 21 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32855 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 21 leader 2 nextIndex[1]: 116  matchIndex[1]: 0
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 1 InstallSnapshot success
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 21 rf.commitIndex 119 rf.lastApplied 119
term 21 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81292 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 97627 term 21 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 21 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
flag 10414 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 63465 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
flag 62641 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 88657 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
flag 91761 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 38373 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
flag 16642 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 43999 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 128->127
------------------------------------------------------
flag 46140 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 21 leader 2 nextIndex[1]: 0  matchIndex[1]: 127
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 1 InstallSnapshot fail
rf.commitIndex 127 args.LastIncludedIndex 119
------------------------------------------------------
term 21 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
flag 93389 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 58424 term 21 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 21 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
term 21 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
flag 84292 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 59895 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
flag 96474 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 37212 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49045 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 45078 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
flag 37942 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 81176 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
flag 32543 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 99752 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91944 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 52909 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
flag 83722 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 99704 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
flag 13840 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 70580 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:127 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6037 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 92886 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
flag 94893 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 76727 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
flag 85279 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 97383 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4003 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 43927 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127}]
------------------------------------------------------
client write log 3180362514448793519 (index 128) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40760 term 21 leader 2 nextIndex[0]: 128  matchIndex[0]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 3502 term 21 leader 2 nextIndex[1]: 128  matchIndex[1]: 127
term 21 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127} {3180362514448793519 21 128}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127} {3180362514448793519 21 128}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 129->128
------------------------------------------------------
flag 83728 term 21 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 21 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 21 leader 2 nextIndex[1]: 0  matchIndex[1]: 128
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
term 21 server 1 InstallSnapshot fail
rf.commitIndex 127 args.LastIncludedIndex 119
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127} {3180362514448793519 21 128}]
------------------------------------------------------
term 21 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
flag 36768 term 21 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 21 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 29495 term 21 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 21 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127} {3180362514448793519 21 128}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127} {3180362514448793519 21 128}]
------------------------------------------------------
flag 19941 term 21 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 21 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 31889 term 21 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 21 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127} {3180362514448793519 21 128}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127} {3180362514448793519 21 128}]
------------------------------------------------------
flag 14515 term 21 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 21 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 91468 term 21 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 21 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127} {3180362514448793519 21 128}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127} {3180362514448793519 21 128}]
------------------------------------------------------
flag 57497 term 21 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 21 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 69718 term 21 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 21 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:128 
term 21 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127} {3180362514448793519 21 128}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127} {3180362514448793519 21 128}]
------------------------------------------------------
flag 44694 term 21 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 21 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 5258 term 21 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 21 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127} {3180362514448793519 21 128}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127} {3180362514448793519 21 128}]
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 129->128
------------------------------------------------------
flag 63036 term 21 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 21 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 21 leader 2 nextIndex[1]: 0  matchIndex[1]: 128
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 1 InstallSnapshot fail
rf.commitIndex 128 args.LastIncludedIndex 119
------------------------------------------------------
term 21 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=128
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127} {3180362514448793519 21 128}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 476257424975801148 (index 129) to leader 2
flag 47790 term 21 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 21 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
flag 69091 term 21 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 21 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 21 leaderCommit: 128 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 21 119} {655028638985661646 21 120} {9093560699171374713 21 121} {1698231502498753730 21 122} {8066816180378251311 21 123} {2360600894358035925 21 124} {1748120575786517559 21 125} {5817195806767398800 21 126} {6076361457918255012 21 127} {3180362514448793519 21 128} {476257424975801148 21 129}]
------------------------------------------------------
term 21 Server2 start snapshot! index=129
term 21 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
term 21 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 52900 term 21 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 21 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 21 129}]
------------------------------------------------------
term 21 Server1 start snapshot! index=129
term 21 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
client write log 4570076583081483259 (index 130) to leader 2
client write log 3629097153523076143 (index 131) to leader 2
client write log 450244394417305658 (index 132) to leader 2
client write log 7003485858936375482 (index 133) to leader 2
client write log 2800714844712316331 (index 134) to leader 2
client write log 2162262248025193213 (index 135) to leader 2
client write log 2156812595221853137 (index 136) to leader 2
client write log 576283620471270159 (index 137) to leader 2
term 21 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 39898 term 21 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 21 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 129 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137}]
------------------------------------------------------
term 21 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 74755 term 21 leader 2 nextIndex[1]: 138  matchIndex[1]: 137
term 21 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 0
client write log 3190659133873819635 (index 138) to leader 2
term 21 server 2 not vote for server 0, 日志不够新
term 21 server 1 not vote for server 0, 日志不够新
term 23 server 1 vote for server 2
term 23 server 0 vote for server 2
term 23 server 2 get vote from server 0
term 23 server 2 become leader
------------------------------------------------------
term 23 server 2 get outdate rpc reply from server 1
flag 54552 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 25641 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 139->138
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 139->138
------------------------------------------------------
term 23 leader 2 nextIndex[0]: 129  matchIndex[0]: 0
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
flag 14778 term 23 leader 2 nextIndex[1]: 138  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
term 23 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 130 matchIndex[0] 129 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 21 rf.commitIndex 129 rf.lastApplied 129
flag 41762 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 27759 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57684 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 18849 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
update nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81159 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 93836 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 88802 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 88912 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19237 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 50787 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
term 23 server 1 not vote for server 2, 任期不够新
term 23 server 2 get outdate rpc reply from server 1
flag 75727 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 38757 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
flag 24957 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 62065 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 69620 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 95449 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
flag 22083 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 46711 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
term 23 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 44438 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 75980 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57847 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 80884 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25990 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 94688 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
flag 66007 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 89632 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80872 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 73130 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
flag 59764 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 82419 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
flag 44289 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 57132 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
flag 47246 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 52127 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
flag 40380 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 18767 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=137
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138}]
------------------------------------------------------
client write log 3190659133873819635 (index 139) to leader 2
flag 86390 term 23 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
flag 68018 term 23 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 23 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 21 leaderCommit: 137 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138} {3190659133873819635 23 139}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 21 129} {4570076583081483259 21 130} {3629097153523076143 21 131} {450244394417305658 21 132} {7003485858936375482 21 133} {2800714844712316331 21 134} {2162262248025193213 21 135} {2156812595221853137 21 136} {576283620471270159 21 137} {3190659133873819635 21 138} {3190659133873819635 23 139}]
------------------------------------------------------
term 23 Server2 start snapshot! index=139
term 23 server2 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
flag 83426 term 23 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 53965 term 23 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
term 23 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
term 23 Server0 start snapshot! index=139
term 23 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
term 23 Server1 start snapshot! index=139
term 23 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
flag 84461 term 23 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 85534 term 23 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
flag 57559 term 23 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 88573 term 23 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
flag 39297 term 23 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 88978 term 23 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
flag 37381 term 23 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 21956 term 23 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
flag 48588 term 23 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 99812 term 23 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=140
update matchIndex[1]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 139}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3485645856617703694 (index 140) to leader 2
flag 13789 term 23 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
flag 55749 term 23 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 139 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {3485645856617703694 23 140}]
------------------------------------------------------
flag 86800 term 23 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 81905 term 23 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=141
update matchIndex[1]=140
update leader CommitIndex=140
leader log:
[{snapshot 23 139} {3485645856617703694 23 140}]
------------------------------------------------------
client write log 9096765998061590558 (index 141) to leader 2
client write log 7873216074383545912 (index 142) to leader 2
client write log 3629038916693244464 (index 143) to leader 2
client write log 2806096533159939147 (index 144) to leader 2
client write log 6080029090754733506 (index 145) to leader 2
client write log 838629216588772544 (index 146) to leader 2
client write log 4461858613769523498 (index 147) to leader 2
client write log 6611449431106726372 (index 148) to leader 2
client write log 1962205580333922270 (index 149) to leader 2
client write log 8510259013944730101 (index 150) to leader 2
flag 86170 term 23 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
flag 9646 term 23 leader 2 nextIndex[1]: 141  matchIndex[1]: 140
term 23 leader 2 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 23 leaderCommit: 140 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 23 139} {3485645856617703694 23 140} {9096765998061590558 23 141} {7873216074383545912 23 142} {3629038916693244464 23 143} {2806096533159939147 23 144} {6080029090754733506 23 145} {838629216588772544 23 146} {4461858613769523498 23 147} {6611449431106726372 23 148} {1962205580333922270 23 149} {8510259013944730101 23 150}]
------------------------------------------------------
term 23 Server2 start snapshot! index=149
term 23 server2 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=150
-------------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 23
------------------------------------------------------
flag 90159 term 23 leader 2 nextIndex[1]: 151  matchIndex[1]: 150
term 23 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=151
update matchIndex[1]=150
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150}]
------------------------------------------------------
term 23 Server1 start snapshot! index=149
term 23 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=150
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2818095905426834254 (index 151) to leader 2
term 23 server 2 not vote for server 0, 日志不够新
term 23 server 1 not vote for server 0, 日志不够新
term 25 server 1 vote for server 2
term 25 server 0 vote for server 2
term 25 server 2 get vote from server 1
term 25 server 2 become leader
------------------------------------------------------
term 25 server 2 get outdate rpc reply from server 0
flag 39003 term 25 leader 2 nextIndex[0]: 152  matchIndex[0]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
flag 19018 term 25 leader 2 nextIndex[1]: 152  matchIndex[1]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
term 25 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 25 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 152->151
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 152->151
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 leader 2 nextIndex[0]: 140  matchIndex[0]: 0
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 23
------------------------------------------------------
flag 78991 term 25 leader 2 nextIndex[1]: 151  matchIndex[1]: 0
term 25 leader 2 sendAppendEntries PrevLogIndex: 150  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
term 25 server 0 InstallSnapshot success
------------------------------------------------------
term 25 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 150 matchIndex[0] 149 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 23 rf.commitIndex 149 rf.lastApplied 149
flag 14851 term 25 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 25 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
flag 63592 term 25 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
flag 96716 term 25 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
flag 92072 term 25 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:150 
term 25 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
flag 99314 term 25 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
flag 52817 term 25 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
flag 75984 term 25 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
flag 33465 term 25 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:150 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53303 term 25 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
flag 39366 term 25 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
flag 19293 term 25 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
flag 94394 term 25 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
flag 91844 term 25 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
flag 62496 term 25 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
flag 13847 term 25 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
flag 13031 term 25 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
flag 77724 term 25 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
flag 51965 term 25 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
flag 5244 term 25 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
flag 11322 term 25 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
flag 85611 term 25 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
flag 51214 term 25 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
flag 58520 term 25 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
flag 50024 term 25 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
term 25 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
flag 53887 term 25 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
flag 81650 term 25 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
term 25 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
flag 60614 term 25 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
flag 55268 term 25 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
flag 42277 term 25 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
flag 82937 term 25 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
flag 95111 term 25 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
flag 42196 term 25 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
flag 46667 term 25 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
flag 37104 term 25 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
flag 42802 term 25 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
flag 9363 term 25 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=152
update matchIndex[0]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=152
update matchIndex[1]=151
update leader CommitIndex=150
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151}]
------------------------------------------------------
client write log 2818095905426834254 (index 152) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95750 term 25 leader 2 nextIndex[0]: 152  matchIndex[0]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
flag 65077 term 25 leader 2 nextIndex[1]: 152  matchIndex[1]: 151
term 25 leader 2 sendAppendEntries PrevLogIndex: 151  PrevLogTerm: 23 leaderCommit: 150 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:150 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:150 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151} {2818095905426834254 25 152}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151} {2818095905426834254 25 152}]
------------------------------------------------------
flag 33248 term 25 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 77018 term 25 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151} {2818095905426834254 25 152}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151} {2818095905426834254 25 152}]
------------------------------------------------------
flag 91008 term 25 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 26282 term 25 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151} {2818095905426834254 25 152}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151} {2818095905426834254 25 152}]
------------------------------------------------------
flag 45843 term 25 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 12135 term 25 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151} {2818095905426834254 25 152}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151} {2818095905426834254 25 152}]
------------------------------------------------------
flag 93201 term 25 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 64246 term 25 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151} {2818095905426834254 25 152}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151} {2818095905426834254 25 152}]
------------------------------------------------------
flag 76227 term 25 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 71683 term 25 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151} {2818095905426834254 25 152}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151} {2818095905426834254 25 152}]
------------------------------------------------------
flag 37873 term 25 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 90434 term 25 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=153
update matchIndex[0]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151} {2818095905426834254 25 152}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151} {2818095905426834254 25 152}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 89093 term 25 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 93682 term 25 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 32344 term 25 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 63990 term 25 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 56851 term 25 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 61157 term 25 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94612 term 25 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 90093 term 25 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
term 26 server 1 vote for server 0
term 26 server 0 get vote from server 1
term 26 server 0 become leader
------------------------------------------------------
flag 63367 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 84794 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=153
update matchIndex[1]=152
update leader CommitIndex=152
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151} {2818095905426834254 25 152}]
------------------------------------------------------
client write log 8863217022744971632 (index 153) to leader 0
flag 28796 term 25 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 9168 term 25 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 22721 term 26 leader 0 nextIndex[1]: 153  matchIndex[1]: 152
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 93484 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:152 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151} {2818095905426834254 25 152} {8863217022744971632 26 153}]
------------------------------------------------------
flag 78519 term 25 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 20206 term 25 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 70182 term 26 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 45288 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 153 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151} {2818095905426834254 25 152} {8863217022744971632 26 153}]
------------------------------------------------------
client write log 3751694640610581607 (index 154) to leader 0
client write log 902254593224590127 (index 155) to leader 0
client write log 4267942864959704058 (index 156) to leader 0
client write log 1616644817537012005 (index 157) to leader 0
client write log 3657851639657731140 (index 158) to leader 0
client write log 6760947210925401950 (index 159) to leader 0
client write log 7354661925630516891 (index 160) to leader 0
client write log 4078458005458040192 (index 161) to leader 0
client write log 1566675007177074617 (index 162) to leader 0
client write log 7997768418596885798 (index 163) to leader 0
client write log 5359000908150857644 (index 164) to leader 0
client write log 9001082659419802370 (index 165) to leader 0
client write log 881997249297461075 (index 166) to leader 0
client write log 6695259862494191411 (index 167) to leader 0
client write log 7958974654243252940 (index 168) to leader 0
flag 16974 term 25 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 88120 term 25 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 42589 term 26 leader 0 nextIndex[1]: 154  matchIndex[1]: 153
term 26 leader 0 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 26 leaderCommit: 153 
------------------------------------------------------
flag 35575 term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 0
term 26 leader 0 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 153 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 23 149} {8510259013944730101 23 150} {2818095905426834254 23 151} {2818095905426834254 25 152} {8863217022744971632 26 153} {3751694640610581607 26 154} {902254593224590127 26 155} {4267942864959704058 26 156} {1616644817537012005 26 157} {3657851639657731140 26 158} {6760947210925401950 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
term 26 Server0 start snapshot! index=159
term 26 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=168
-------------------------------------------------------------
flag 39747 term 25 leader 2 nextIndex[0]: 153  matchIndex[0]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
flag 62528 term 25 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 153->152
------------------------------------------------------
flag 82650 term 26 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 0
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
term 26 Server1 start snapshot! index=159
term 26 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=168
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8750595797421637667 (index 153) to leader 2
term 25 leader 2 nextIndex[0]: 0  matchIndex[0]: 152
term 25 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 23
------------------------------------------------------
flag 85851 term 25 leader 2 nextIndex[1]: 153  matchIndex[1]: 152
term 25 leader 2 sendAppendEntries PrevLogIndex: 152  PrevLogTerm: 25 leaderCommit: 152 
------------------------------------------------------
term 26 server 1 AppendEntries false 领导者任期过期 args.Term 25
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 26 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 15805 term 26 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 leader 0 nextIndex[2]: 153  matchIndex[2]: 0
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 2 InstallSnapshot success
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
term 26 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 26 rf.commitIndex 159 rf.lastApplied 159
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
flag 45486 term 26 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 59063 term 26 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
term 26 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
flag 96316 term 26 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 25841 term 26 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
flag 60152 term 26 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 53765 term 26 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
flag 93983 term 26 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 40998 term 26 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
flag 71803 term 26 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 74321 term 26 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
flag 56624 term 26 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 15789 term 26 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
term 26 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64859 term 26 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 24361 term 26 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87863 term 26 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 96387 term 26 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
flag 8062 term 26 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 59391 term 26 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
flag 24683 term 26 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 70118 term 26 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34366 term 26 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 55950 term 26 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 169->168
------------------------------------------------------
flag 56270 term 26 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 leader 0 nextIndex[2]: 0  matchIndex[2]: 168
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 2 InstallSnapshot fail
rf.commitIndex 168 args.LastIncludedIndex 159
------------------------------------------------------
term 26 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6986 term 26 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 59219 term 26 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 26 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90533 term 26 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 54224 term 26 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59355 term 26 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 58354 term 26 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
flag 15891 term 26 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 59145 term 26 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79216 term 26 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 4132 term 26 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
flag 63623 term 26 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 86207 term 26 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
flag 8811 term 26 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 56667 term 26 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168}]
------------------------------------------------------
client write log 8750595797421637667 (index 169) to leader 0
flag 16187 term 26 leader 0 nextIndex[1]: 169  matchIndex[1]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 3692 term 26 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 26 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168} {8750595797421637667 26 169}]
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 159} {7354661925630516891 26 160} {4078458005458040192 26 161} {1566675007177074617 26 162} {7997768418596885798 26 163} {5359000908150857644 26 164} {9001082659419802370 26 165} {881997249297461075 26 166} {6695259862494191411 26 167} {7958974654243252940 26 168} {8750595797421637667 26 169}]
------------------------------------------------------
term 26 Server0 start snapshot! index=169
term 26 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 170->169
------------------------------------------------------
flag 99184 term 26 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 26 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
term 26 leader 0 nextIndex[2]: 0  matchIndex[2]: 169
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 26 rf.commitIndex 169 rf.lastApplied 169
term 26 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 26 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 170 matchIndex[2] 169 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 169}]
------------------------------------------------------
term 26 Server1 start snapshot! index=169
term 26 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
flag 2993 term 26 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 26 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
flag 44868 term 26 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 26 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 169}]
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 169}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2927 term 26 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 26 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
flag 43325 term 26 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 26 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 169}]
------------------------------------------------------
flag 36896 term 26 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 26 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
flag 901 term 26 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 26 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 169}]
------------------------------------------------------
flag 86054 term 26 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 26 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
flag 65145 term 26 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 26 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 169}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52081 term 26 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 26 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
flag 68894 term 26 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 26 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 169}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 169}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1468423183768961287 (index 170) to leader 0
flag 464 term 26 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 26 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
flag 49933 term 26 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 26 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {1468423183768961287 26 170}]
------------------------------------------------------
flag 1317 term 26 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 26 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
flag 17051 term 26 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 26 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {1468423183768961287 26 170}]
------------------------------------------------------
client write log 6866452889086660050 (index 171) to leader 0
client write log 2316966497488896968 (index 172) to leader 0
client write log 1600904784770341993 (index 173) to leader 0
client write log 4316350446728964886 (index 174) to leader 0
client write log 4661431279977350155 (index 175) to leader 0
client write log 5144882999886223639 (index 176) to leader 0
client write log 2313257270151885796 (index 177) to leader 0
client write log 1008807105999297931 (index 178) to leader 0
client write log 6953283025715920406 (index 179) to leader 0
client write log 8078990965502929733 (index 180) to leader 0
flag 35611 term 26 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 26 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
flag 29577 term 26 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 26 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 26 169} {1468423183768961287 26 170} {6866452889086660050 26 171} {2316966497488896968 26 172} {1600904784770341993 26 173} {4316350446728964886 26 174} {4661431279977350155 26 175} {5144882999886223639 26 176} {2313257270151885796 26 177} {1008807105999297931 26 178} {6953283025715920406 26 179} {8078990965502929733 26 180}]
------------------------------------------------------
term 26 Server0 start snapshot! index=179
term 26 server0 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=180
-------------------------------------------------------------
term 26 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
flag 78058 term 26 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 26 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {8078990965502929733 26 180}]
------------------------------------------------------
term 26 Server2 start snapshot! index=179
term 26 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=180
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6790726694268900967 (index 181) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 26 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
flag 26688 term 26 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 26 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 26 leaderCommit: 180 
------------------------------------------------------
term 27 server 1 InstallSnapshot false 领导者任期过期
term 26 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {8078990965502929733 26 180} {6790726694268900967 26 181}]
------------------------------------------------------
term 26 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 28 server 2 vote for server 0
term 28 server 1 vote for server 0
term 28 server 0 get vote from server 2
term 28 server 0 become leader
------------------------------------------------------
term 28 server 0 get outdate rpc reply from server 1
flag 29397 term 28 leader 0 nextIndex[1]: 182  matchIndex[1]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 181 
------------------------------------------------------
flag 49013 term 28 leader 0 nextIndex[2]: 182  matchIndex[2]: 0
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 181 
------------------------------------------------------
term 28 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 182->181
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {8078990965502929733 26 180} {6790726694268900967 26 181}]
------------------------------------------------------
term 28 leader 0 nextIndex[1]: 170  matchIndex[1]: 0
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 26
------------------------------------------------------
flag 43926 term 28 leader 0 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 181 
------------------------------------------------------
term 28 server 1 InstallSnapshot success
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {8078990965502929733 26 180} {6790726694268900967 26 181}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 26 rf.commitIndex 179 rf.lastApplied 179
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42541 term 28 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 181 
------------------------------------------------------
flag 43823 term 28 leader 0 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 181 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {8078990965502929733 26 180} {6790726694268900967 26 181}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {8078990965502929733 26 180} {6790726694268900967 26 181}]
------------------------------------------------------
flag 93032 term 28 leader 0 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 181 
------------------------------------------------------
flag 31412 term 28 leader 0 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 181 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {8078990965502929733 26 180} {6790726694268900967 26 181}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {8078990965502929733 26 180} {6790726694268900967 26 181}]
------------------------------------------------------
flag 75132 term 28 leader 0 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 181 
------------------------------------------------------
flag 47851 term 28 leader 0 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 181 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {8078990965502929733 26 180} {6790726694268900967 26 181}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {8078990965502929733 26 180} {6790726694268900967 26 181}]
------------------------------------------------------
flag 72996 term 28 leader 0 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 181 
------------------------------------------------------
flag 16639 term 28 leader 0 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 181 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {8078990965502929733 26 180} {6790726694268900967 26 181}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {8078990965502929733 26 180} {6790726694268900967 26 181}]
------------------------------------------------------
flag 31488 term 28 leader 0 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 181 
------------------------------------------------------
flag 83008 term 28 leader 0 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 181 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {8078990965502929733 26 180} {6790726694268900967 26 181}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {8078990965502929733 26 180} {6790726694268900967 26 181}]
------------------------------------------------------
flag 46286 term 28 leader 0 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 181 
------------------------------------------------------
flag 9214 term 28 leader 0 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 181 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {8078990965502929733 26 180} {6790726694268900967 26 181}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {8078990965502929733 26 180} {6790726694268900967 26 181}]
------------------------------------------------------
flag 90306 term 28 leader 0 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 181 
------------------------------------------------------
flag 23695 term 28 leader 0 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 181 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {8078990965502929733 26 180} {6790726694268900967 26 181}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {8078990965502929733 26 180} {6790726694268900967 26 181}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5229563473692622115 (index 182) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77379 term 28 leader 0 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 181 
------------------------------------------------------
flag 72042 term 28 leader 0 nextIndex[2]: 182  matchIndex[2]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 181 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8078990965502929733 26 180} {6790726694268900967 26 181} {5229563473692622115 28 182}]
------------------------------------------------------
flag 65784 term 28 leader 0 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 50972 term 28 leader 0 nextIndex[2]: 183  matchIndex[2]: 182
term 28 leader 0 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 26 179} {8078990965502929733 26 180} {6790726694268900967 26 181} {5229563473692622115 28 182}]
------------------------------------------------------
client write log 5937497536556164457 (index 183) to leader 0
client write log 1864575693762073488 (index 184) to leader 0
client write log 5656459167394001912 (index 185) to leader 0
client write log 2948266409751002484 (index 186) to leader 0
client write log 8667941340788136601 (index 187) to leader 0
client write log 8658542456605492426 (index 188) to leader 0
client write log 5266117156178396188 (index 189) to leader 0
client write log 1827240825600237708 (index 190) to leader 0
client write log 2386947140105572077 (index 191) to leader 0
flag 56874 term 28 leader 0 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 0 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 26 leaderCommit: 182 
------------------------------------------------------
flag 48197 term 28 leader 0 nextIndex[2]: 183  matchIndex[2]: 182
term 28 leader 0 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 28 leaderCommit: 182 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 26 179} {8078990965502929733 26 180} {6790726694268900967 26 181} {5229563473692622115 28 182} {5937497536556164457 28 183} {1864575693762073488 28 184} {5656459167394001912 28 185} {2948266409751002484 28 186} {8667941340788136601 28 187} {8658542456605492426 28 188} {5266117156178396188 28 189} {1827240825600237708 28 190} {2386947140105572077 28 191}]
------------------------------------------------------
term 28 Server0 start snapshot! index=189
term 28 server0 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=191
-------------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 28 leader 0 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 28
------------------------------------------------------
flag 38875 term 28 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 28 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 28 leaderCommit: 191 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 28 189} {1827240825600237708 28 190} {2386947140105572077 28 191}]
------------------------------------------------------
term 28 Server2 start snapshot! index=189
term 28 server2 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=191
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5105131764205126782 (index 192) to leader 0
term 28 leader 0 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 28
------------------------------------------------------
flag 74376 term 28 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 28 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 28 leaderCommit: 191 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
term 29 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {1827240825600237708 28 190} {2386947140105572077 28 191} {5105131764205126782 28 192}]
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 2 vote for server 0
term 30 server 1 vote for server 0
term 30 server 0 get vote from server 2
term 30 server 0 become leader
------------------------------------------------------
term 30 server 0 get outdate rpc reply from server 1
flag 51160 term 30 leader 0 nextIndex[1]: 193  matchIndex[1]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 30093 term 30 leader 0 nextIndex[2]: 193  matchIndex[2]: 0
term 30 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 30 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 193->192
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {1827240825600237708 28 190} {2386947140105572077 28 191} {5105131764205126782 28 192}]
------------------------------------------------------
term 30 leader 0 nextIndex[1]: 182  matchIndex[1]: 0
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 28
------------------------------------------------------
flag 94334 term 30 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 30 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {1827240825600237708 28 190} {2386947140105572077 28 191} {5105131764205126782 28 192}]
------------------------------------------------------
term 30 server 1 InstallSnapshot success
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 190 matchIndex[1] 189 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 28 rf.commitIndex 189 rf.lastApplied 189
flag 86533 term 30 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 30 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 85952 term 30 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 30 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {1827240825600237708 28 190} {2386947140105572077 28 191} {5105131764205126782 28 192}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {1827240825600237708 28 190} {2386947140105572077 28 191} {5105131764205126782 28 192}]
------------------------------------------------------
flag 33053 term 30 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 30 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 58221 term 30 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 30 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {1827240825600237708 28 190} {2386947140105572077 28 191} {5105131764205126782 28 192}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {1827240825600237708 28 190} {2386947140105572077 28 191} {5105131764205126782 28 192}]
------------------------------------------------------
flag 55217 term 30 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 30 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 62541 term 30 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 30 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {1827240825600237708 28 190} {2386947140105572077 28 191} {5105131764205126782 28 192}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {1827240825600237708 28 190} {2386947140105572077 28 191} {5105131764205126782 28 192}]
------------------------------------------------------
flag 91928 term 30 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 30 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 48086 term 30 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 30 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {1827240825600237708 28 190} {2386947140105572077 28 191} {5105131764205126782 28 192}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {1827240825600237708 28 190} {2386947140105572077 28 191} {5105131764205126782 28 192}]
------------------------------------------------------
flag 15832 term 30 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 30 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 46486 term 30 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 30 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {1827240825600237708 28 190} {2386947140105572077 28 191} {5105131764205126782 28 192}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {1827240825600237708 28 190} {2386947140105572077 28 191} {5105131764205126782 28 192}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22855 term 30 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 30 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 37393 term 30 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 30 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {1827240825600237708 28 190} {2386947140105572077 28 191} {5105131764205126782 28 192}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {1827240825600237708 28 190} {2386947140105572077 28 191} {5105131764205126782 28 192}]
------------------------------------------------------
flag 92458 term 30 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 30 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 39773 term 30 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 30 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {1827240825600237708 28 190} {2386947140105572077 28 191} {5105131764205126782 28 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {1827240825600237708 28 190} {2386947140105572077 28 191} {5105131764205126782 28 192}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 98490 term 30 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 30 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 12460 term 30 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 30 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 9349 term 30 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 30 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 79848 term 30 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 30 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 14801 term 30 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 30 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 20885 term 30 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 30 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 vote for server 1
term 31 server 1 get vote from server 2
term 31 server 1 become leader
------------------------------------------------------
flag 17048 term 30 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 30 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 12766 term 30 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 30 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 89135 term 31 leader 1 nextIndex[0]: 193  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 88952 term 31 leader 1 nextIndex[2]: 193  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {1827240825600237708 28 190} {2386947140105572077 28 191} {5105131764205126782 28 192}]
------------------------------------------------------
client write log 5537014106328994570 (index 193) to leader 1
flag 43785 term 30 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 30 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 37544 term 30 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 30 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 56716 term 31 leader 1 nextIndex[0]: 193  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 53010 term 31 leader 1 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {1827240825600237708 28 190} {2386947140105572077 28 191} {5105131764205126782 28 192} {5537014106328994570 31 193}]
------------------------------------------------------
flag 20941 term 30 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 30 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 50833 term 30 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 30 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 24214 term 31 leader 1 nextIndex[0]: 193  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 193 
------------------------------------------------------
flag 42169 term 31 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {1827240825600237708 28 190} {2386947140105572077 28 191} {5105131764205126782 28 192} {5537014106328994570 31 193}]
------------------------------------------------------
client write log 7575623556301780540 (index 194) to leader 1
client write log 4984947506845055093 (index 195) to leader 1
client write log 6648895588422714387 (index 196) to leader 1
client write log 3182476751612270251 (index 197) to leader 1
client write log 3754712972283173963 (index 198) to leader 1
client write log 6951776431692104584 (index 199) to leader 1
client write log 8362073242815316221 (index 200) to leader 1
client write log 8785931034992053497 (index 201) to leader 1
client write log 5287278323376098143 (index 202) to leader 1
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 193->192
------------------------------------------------------
flag 32412 term 30 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 30 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 30 leader 0 nextIndex[2]: 0  matchIndex[2]: 192
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 28
------------------------------------------------------
flag 53536 term 31 leader 1 nextIndex[0]: 193  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 193 
------------------------------------------------------
flag 16638 term 31 leader 1 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 1 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 28 189} {1827240825600237708 28 190} {2386947140105572077 28 191} {5105131764205126782 28 192} {5537014106328994570 31 193} {7575623556301780540 31 194} {4984947506845055093 31 195} {6648895588422714387 31 196} {3182476751612270251 31 197} {3754712972283173963 31 198} {6951776431692104584 31 199} {8362073242815316221 31 200} {8785931034992053497 31 201} {5287278323376098143 31 202}]
------------------------------------------------------
term 31 Server1 start snapshot! index=199
term 31 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=202
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 67616 term 30 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 30 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 30 leader 0 nextIndex[2]: 0  matchIndex[2]: 192
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 28
------------------------------------------------------
term 31 leader 1 nextIndex[0]: 193  matchIndex[0]: 0
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
flag 9189 term 31 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {8362073242815316221 31 200} {8785931034992053497 31 201} {5287278323376098143 31 202}]
------------------------------------------------------
term 31 Server2 start snapshot! index=199
term 31 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=202
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1946854442357139315 (index 203) to leader 1
flag 48591 term 30 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 30 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 30 leader 0 nextIndex[2]: 0  matchIndex[2]: 192
term 30 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 28
------------------------------------------------------
term 31 server 1 AppendEntries false 领导者任期过期 args.Term 30
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 31 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 31 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 31 leader 1 nextIndex[0]: 193  matchIndex[0]: 0
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
flag 13878 term 31 leader 1 nextIndex[2]: 203  matchIndex[2]: 202
term 31 leader 1 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 31 199} {8362073242815316221 31 200} {8785931034992053497 31 201} {5287278323376098143 31 202} {1946854442357139315 31 203}]
------------------------------------------------------
term 31 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 31 rf.commitIndex 199 rf.lastApplied 199
term 31 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 200 matchIndex[0] 199 
------------------------------------------------------------------------
flag 84828 term 31 leader 1 nextIndex[0]: 200  matchIndex[0]: 199
term 31 leader 1 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 31 leaderCommit: 203 
------------------------------------------------------
flag 79166 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 203 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 31 199} {8362073242815316221 31 200} {8785931034992053497 31 201} {5287278323376098143 31 202} {1946854442357139315 31 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 31 199} {8362073242815316221 31 200} {8785931034992053497 31 201} {5287278323376098143 31 202} {1946854442357139315 31 203}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59397 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 203 
------------------------------------------------------
flag 89337 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 203 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 31 199} {8362073242815316221 31 200} {8785931034992053497 31 201} {5287278323376098143 31 202} {1946854442357139315 31 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 31 199} {8362073242815316221 31 200} {8785931034992053497 31 201} {5287278323376098143 31 202} {1946854442357139315 31 203}]
------------------------------------------------------
flag 29370 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 203 
------------------------------------------------------
flag 56247 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 203 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
term 31 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
[{snapshot 31 199} {8362073242815316221 31 200} {8785931034992053497 31 201} {5287278323376098143 31 202} {1946854442357139315 31 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 31 199} {8362073242815316221 31 200} {8785931034992053497 31 201} {5287278323376098143 31 202} {1946854442357139315 31 203}]
------------------------------------------------------
flag 98674 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 203 
------------------------------------------------------
flag 48374 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 203 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 31 199} {8362073242815316221 31 200} {8785931034992053497 31 201} {5287278323376098143 31 202} {1946854442357139315 31 203}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 31 199} {8362073242815316221 31 200} {8785931034992053497 31 201} {5287278323376098143 31 202} {1946854442357139315 31 203}]
------------------------------------------------------
flag 34981 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 203 
------------------------------------------------------
flag 42166 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 203 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 31 199} {8362073242815316221 31 200} {8785931034992053497 31 201} {5287278323376098143 31 202} {1946854442357139315 31 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 31 199} {8362073242815316221 31 200} {8785931034992053497 31 201} {5287278323376098143 31 202} {1946854442357139315 31 203}]
------------------------------------------------------
flag 30402 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 203 
------------------------------------------------------
flag 50366 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 203 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 31 199} {8362073242815316221 31 200} {8785931034992053497 31 201} {5287278323376098143 31 202} {1946854442357139315 31 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 31 199} {8362073242815316221 31 200} {8785931034992053497 31 201} {5287278323376098143 31 202} {1946854442357139315 31 203}]
------------------------------------------------------
term 31 server 0 not vote for server 1, 任期不够新
term 31 server 1 get outdate rpc reply from server 0
term 31 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80389 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 203 
------------------------------------------------------
flag 346 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 203 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 31 199} {8362073242815316221 31 200} {8785931034992053497 31 201} {5287278323376098143 31 202} {1946854442357139315 31 203}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=204
update matchIndex[0]=203
update leader CommitIndex=203
leader log:
[{snapshot 31 199} {8362073242815316221 31 200} {8785931034992053497 31 201} {5287278323376098143 31 202} {1946854442357139315 31 203}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6193831124346178000 (index 204) to leader 1
flag 61512 term 31 leader 1 nextIndex[0]: 204  matchIndex[0]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 203 
------------------------------------------------------
flag 6036 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 203 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {8362073242815316221 31 200} {8785931034992053497 31 201} {5287278323376098143 31 202} {1946854442357139315 31 203} {6193831124346178000 31 204}]
------------------------------------------------------
flag 89662 term 31 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 31 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 31 leaderCommit: 204 
------------------------------------------------------
flag 75951 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 204 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=205
update matchIndex[0]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {8362073242815316221 31 200} {8785931034992053497 31 201} {5287278323376098143 31 202} {1946854442357139315 31 203} {6193831124346178000 31 204}]
------------------------------------------------------
client write log 3973890462747324017 (index 205) to leader 1
client write log 6967444814698659680 (index 206) to leader 1
client write log 3610246248821513531 (index 207) to leader 1
client write log 6765172709040834582 (index 208) to leader 1
client write log 6286150498559922492 (index 209) to leader 1
client write log 1477006005543848518 (index 210) to leader 1
client write log 6048050610971649001 (index 211) to leader 1
client write log 5828313452407600506 (index 212) to leader 1
client write log 6012025241331321460 (index 213) to leader 1
client write log 7508420854844699377 (index 214) to leader 1
client write log 4947889804055329842 (index 215) to leader 1
client write log 7675174736079119628 (index 216) to leader 1
client write log 5539164742598347089 (index 217) to leader 1
client write log 8901665469409222779 (index 218) to leader 1
client write log 7510231117133585537 (index 219) to leader 1
flag 15561 term 31 leader 1 nextIndex[0]: 205  matchIndex[0]: 204
term 31 leader 1 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 31 leaderCommit: 204 
------------------------------------------------------
flag 48571 term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 204 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 31 199} {8362073242815316221 31 200} {8785931034992053497 31 201} {5287278323376098143 31 202} {1946854442357139315 31 203} {6193831124346178000 31 204} {3973890462747324017 31 205} {6967444814698659680 31 206} {3610246248821513531 31 207} {6765172709040834582 31 208} {6286150498559922492 31 209} {1477006005543848518 31 210} {6048050610971649001 31 211} {5828313452407600506 31 212} {6012025241331321460 31 213} {7508420854844699377 31 214} {4947889804055329842 31 215} {7675174736079119628 31 216} {5539164742598347089 31 217} {8901665469409222779 31 218} {7510231117133585537 31 219}]
------------------------------------------------------
term 31 Server1 start snapshot! index=209
term 31 server1 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=219
-------------------------------------------------------------
term 31 Server1 start snapshot! index=219
term 31 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
flag 90931 term 31 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 31 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=220
update matchIndex[0]=219
update leader CommitIndex=219
leader log:
[{snapshot 31 219}]
------------------------------------------------------
term 31 Server0 start snapshot! index=209
term 31 server0 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=219
-------------------------------------------------------------
term 31 Server0 start snapshot! index=219
term 31 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4329265607845757960 (index 220) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 1 not vote for server 2, 日志不够新
term 31 server 0 not vote for server 2, 日志不够新
term 33 server 2 vote for server 1
term 33 server 0 vote for server 1
term 33 server 1 get vote from server 2
term 33 server 1 become leader
------------------------------------------------------
term 33 server 1 get outdate rpc reply from server 0
flag 35931 term 33 leader 1 nextIndex[0]: 221  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 84434 term 33 leader 1 nextIndex[2]: 221  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 33 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 33 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 221->220
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 221->220
------------------------------------------------------
flag 76330 term 33 leader 1 nextIndex[0]: 220  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 204  matchIndex[2]: 0
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
term 33 server 2 InstallSnapshot success
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:219 
term 33 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 220 matchIndex[2] 219 
------------------------------------------------------------------------
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 31 rf.commitIndex 219 rf.lastApplied 219
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
flag 58027 term 33 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 82757 term 33 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 33 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
flag 72634 term 33 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 86233 term 33 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
term 33 server 0 not vote for server 1, 任期不够新
term 33 server 1 get outdate rpc reply from server 0
flag 18882 term 33 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 66808 term 33 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
flag 15819 term 33 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 11526 term 33 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
flag 6766 term 33 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 22081 term 33 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57085 term 33 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 88302 term 33 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
flag 3080 term 33 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 58237 term 33 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
flag 95643 term 33 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 47897 term 33 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
flag 49052 term 33 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 24783 term 33 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9149 term 33 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 90183 term 33 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77872 term 33 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 10503 term 33 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
flag 41456 term 33 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 17566 term 33 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34373 term 33 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 12857 term 33 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31461 term 33 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 14501 term 33 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
flag 30134 term 33 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 11987 term 33 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 584 term 33 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 8654 term 33 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79757 term 33 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 73273 term 33 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220}]
------------------------------------------------------
flag 55090 term 33 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 31626 term 33 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
client write log 4329265607845757960 (index 221) to leader 1
term 33 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=221
update matchIndex[0]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220} {4329265607845757960 33 221}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=219
leader log:
[{snapshot 31 219} {4329265607845757960 31 220} {4329265607845757960 33 221}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42327 term 33 leader 1 nextIndex[0]: 221  matchIndex[0]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
flag 62333 term 33 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 33 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 31 leaderCommit: 219 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 31 219} {4329265607845757960 31 220} {4329265607845757960 33 221}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 31 219} {4329265607845757960 31 220} {4329265607845757960 33 221}]
------------------------------------------------------
flag 54298 term 33 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 33 leaderCommit: 221 
------------------------------------------------------
flag 91987 term 33 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 33 leaderCommit: 221 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 31 219} {4329265607845757960 31 220} {4329265607845757960 33 221}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 31 219} {4329265607845757960 31 220} {4329265607845757960 33 221}]
------------------------------------------------------
flag 21425 term 33 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 33 leaderCommit: 221 
------------------------------------------------------
flag 56998 term 33 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 33 leaderCommit: 221 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:221 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 31 219} {4329265607845757960 31 220} {4329265607845757960 33 221}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 31 219} {4329265607845757960 31 220} {4329265607845757960 33 221}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50391 term 33 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 33 leaderCommit: 221 
------------------------------------------------------
flag 30239 term 33 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 33 leaderCommit: 221 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 31 219} {4329265607845757960 31 220} {4329265607845757960 33 221}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 31 219} {4329265607845757960 31 220} {4329265607845757960 33 221}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99073 term 33 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 33 leaderCommit: 221 
------------------------------------------------------
flag 10460 term 33 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 33 leaderCommit: 221 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 31 219} {4329265607845757960 31 220} {4329265607845757960 33 221}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 31 219} {4329265607845757960 31 220} {4329265607845757960 33 221}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6204 term 33 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 33 leaderCommit: 221 
------------------------------------------------------
flag 67 term 33 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 33 leaderCommit: 221 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 31 219} {4329265607845757960 31 220} {4329265607845757960 33 221}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=222
update matchIndex[0]=221
update leader CommitIndex=221
leader log:
[{snapshot 31 219} {4329265607845757960 31 220} {4329265607845757960 33 221}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 2
client write log 8729333620784178235 (index 222) to leader 1
flag 90707 term 33 leader 1 nextIndex[0]: 222  matchIndex[0]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 33 leaderCommit: 221 
------------------------------------------------------
flag 58006 term 33 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 33 leaderCommit: 221 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 31 219} {4329265607845757960 31 220} {4329265607845757960 33 221} {8729333620784178235 33 222}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99868 term 33 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 33 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 85823 term 33 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=223
update matchIndex[0]=222
update leader CommitIndex=222
leader log:
[{snapshot 31 219} {4329265607845757960 31 220} {4329265607845757960 33 221} {8729333620784178235 33 222}]
------------------------------------------------------
client write log 6378779128004363003 (index 223) to leader 1
client write log 9076255034531609440 (index 224) to leader 1
client write log 4840977767843576912 (index 225) to leader 1
client write log 419142421520966787 (index 226) to leader 1
client write log 2084438454362175104 (index 227) to leader 1
client write log 4150079457307744678 (index 228) to leader 1
client write log 4988444659696565254 (index 229) to leader 1
client write log 7450161096862352746 (index 230) to leader 1
client write log 6493107774486211638 (index 231) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12923 term 33 leader 1 nextIndex[0]: 223  matchIndex[0]: 222
term 33 leader 1 sendAppendEntries PrevLogIndex: 222  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
flag 94124 term 33 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 33 leader 1 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 33 leaderCommit: 222 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:222 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 31 219} {4329265607845757960 31 220} {4329265607845757960 33 221} {8729333620784178235 33 222} {6378779128004363003 33 223} {9076255034531609440 33 224} {4840977767843576912 33 225} {419142421520966787 33 226} {2084438454362175104 33 227} {4150079457307744678 33 228} {4988444659696565254 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231}]
------------------------------------------------------
term 33 Server1 start snapshot! index=229
term 33 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=231
-------------------------------------------------------------
term 33 server 0 not vote for server 1, 任期不够新
term 33 server 1 get outdate rpc reply from server 0
flag 21588 term 33 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 33 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 33
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231}]
------------------------------------------------------
term 33 Server0 start snapshot! index=229
term 33 server0 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=231
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3965338837425044461 (index 232) to leader 1
flag 35093 term 33 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 33 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 222  matchIndex[2]: 221
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 33
------------------------------------------------------
term 34 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 35 server 2 vote for server 1
term 35 server 0 vote for server 1
term 35 server 1 get vote from server 2
term 35 server 1 become leader
------------------------------------------------------
term 35 server 1 get outdate rpc reply from server 0
flag 32618 term 35 leader 1 nextIndex[0]: 233  matchIndex[0]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
flag 13015 term 35 leader 1 nextIndex[2]: 233  matchIndex[2]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
term 35 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 233->232
------------------------------------------------------
flag 21381 term 35 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
term 35 leader 1 nextIndex[2]: 222  matchIndex[2]: 0
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 33
------------------------------------------------------
term 35 server 2 InstallSnapshot success
------------------------------------------------------
term 35 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 230 matchIndex[2] 229 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 33 rf.commitIndex 229 rf.lastApplied 229
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
flag 15010 term 35 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
flag 94394 term 35 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 35 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
term 35 server 2 not vote for server 1, 任期不够新
term 35 server 1 get outdate rpc reply from server 2
term 35 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 66891 term 35 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
flag 24621 term 35 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
flag 28242 term 35 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
flag 6142 term 35 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
flag 30810 term 35 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
flag 21479 term 35 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
flag 81818 term 35 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
flag 637 term 35 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
flag 13148 term 35 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
flag 51328 term 35 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
term 35 server 2 not vote for server 0, 任期不够新
term 35 server 0 get outdate rpc reply from server 2
flag 80017 term 35 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
flag 70514 term 35 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
flag 26503 term 35 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
flag 25360 term 35 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
flag 92536 term 35 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
flag 42402 term 35 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
flag 5713 term 35 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
flag 87946 term 35 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
flag 25414 term 35 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
flag 70536 term 35 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49728 term 35 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
flag 85744 term 35 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
flag 5130 term 35 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
flag 16414 term 35 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
term 35 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 74823 term 35 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
flag 53392 term 35 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
flag 73539 term 35 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
flag 57323 term 35 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
flag 58099 term 35 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
flag 42425 term 35 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
term 35 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49277 term 35 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
flag 51630 term 35 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232}]
------------------------------------------------------
client write log 3965338837425044461 (index 233) to leader 1
flag 37906 term 35 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
flag 28534 term 35 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 35 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 33 leaderCommit: 231 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232} {3965338837425044461 35 233}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232} {3965338837425044461 35 233}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12346 term 35 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 35 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 91497 term 35 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 35 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232} {3965338837425044461 35 233}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232} {3965338837425044461 35 233}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1617 term 35 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 35 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 13093 term 35 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 35 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232} {3965338837425044461 35 233}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232} {3965338837425044461 35 233}]
------------------------------------------------------
flag 67838 term 35 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 35 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 72187 term 35 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 35 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232} {3965338837425044461 35 233}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232} {3965338837425044461 35 233}]
------------------------------------------------------
flag 96974 term 35 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 35 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 92161 term 35 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 35 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
term 35 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232} {3965338837425044461 35 233}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232} {3965338837425044461 35 233}]
------------------------------------------------------
flag 71824 term 35 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 35 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 15476 term 35 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 35 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232} {3965338837425044461 35 233}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232} {3965338837425044461 35 233}]
------------------------------------------------------
flag 59801 term 35 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 35 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 86236 term 35 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 35 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:233 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232} {3965338837425044461 35 233}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=234
update matchIndex[2]=233
update leader CommitIndex=233
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232} {3965338837425044461 35 233}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 49896 term 35 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 35 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 10845 term 35 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 35 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 43228 term 35 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 35 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 88613 term 35 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 35 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 58678 term 35 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 35 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 6203 term 35 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 35 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
term 36 server 0 vote for server 2
term 36 server 2 get vote from server 0
term 36 server 2 become leader
------------------------------------------------------
client write log 2602463715201848130 (index 234) to leader 2
flag 31 term 36 leader 2 nextIndex[0]: 234  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 1490 term 36 leader 2 nextIndex[1]: 234  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232} {3965338837425044461 35 233} {2602463715201848130 36 234}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7962 term 35 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 35 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 76817 term 35 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 35 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 14239 term 36 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 88704 term 36 leader 2 nextIndex[1]: 234  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232} {3965338837425044461 35 233} {2602463715201848130 36 234}]
------------------------------------------------------
client write log 1990485603756546144 (index 235) to leader 2
client write log 7028333486285774748 (index 236) to leader 2
client write log 422661523146160373 (index 237) to leader 2
client write log 4017193061322321715 (index 238) to leader 2
client write log 1898358533585396284 (index 239) to leader 2
client write log 7828510287006902785 (index 240) to leader 2
client write log 3113518284150330237 (index 241) to leader 2
client write log 8455018329788230358 (index 242) to leader 2
client write log 4509564965054046743 (index 243) to leader 2
client write log 581767641753856344 (index 244) to leader 2
flag 1588 term 35 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 35 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 35882 term 35 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 35 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 79750 term 36 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 89131 term 36 leader 2 nextIndex[1]: 234  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 234 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 33 229} {7450161096862352746 33 230} {6493107774486211638 33 231} {3965338837425044461 33 232} {3965338837425044461 35 233} {2602463715201848130 36 234} {1990485603756546144 36 235} {7028333486285774748 36 236} {422661523146160373 36 237} {4017193061322321715 36 238} {1898358533585396284 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
term 36 Server2 start snapshot! index=239
term 36 server2 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=244
-------------------------------------------------------------
flag 37960 term 35 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 35 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 1955 term 35 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 35 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 65078 term 36 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 leader 2 nextIndex[1]: 234  matchIndex[1]: 0
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
term 36 Server0 start snapshot! index=239
term 36 server0 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=244
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3325269511315856582 (index 234) to leader 1
flag 57603 term 35 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 35 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 72945 term 35 leader 1 nextIndex[2]: 234  matchIndex[2]: 233
term 35 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
term 36 server 2 AppendEntries false 领导者任期过期 args.Term 35
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 36 server 0 AppendEntries false 领导者任期过期 args.Term 35
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44970 term 36 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 leader 2 nextIndex[1]: 234  matchIndex[1]: 0
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 1 InstallSnapshot success
------------------------------------------------------
term 36 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 240 matchIndex[1] 239 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 36 rf.commitIndex 239 rf.lastApplied 239
term 36 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10554 term 36 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 35619 term 36 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 36 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
flag 28345 term 36 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 94828 term 36 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
flag 9903 term 36 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 10273 term 36 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
term 36 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
flag 70557 term 36 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 52475 term 36 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
term 36 server 0 not vote for server 2, 任期不够新
term 36 server 2 get outdate rpc reply from server 0
flag 88422 term 36 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 78773 term 36 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
flag 5740 term 36 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 6601 term 36 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:244 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
flag 30873 term 36 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 3268 term 36 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
term 36 server 2 not vote for server 1, 任期不够新
term 36 server 1 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75434 term 36 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 48278 term 36 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55537 term 36 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 47803 term 36 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
flag 48640 term 36 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 38669 term 36 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
flag 67452 term 36 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 74762 term 36 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58898 term 36 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 36298 term 36 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
term 36 server 1 not vote for server 2, 任期不够新
term 36 server 2 get outdate rpc reply from server 1
flag 62184 term 36 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 88257 term 36 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:244 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
flag 57027 term 36 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 28971 term 36 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
flag 93077 term 36 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 79469 term 36 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
flag 37037 term 36 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 26280 term 36 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
flag 42080 term 36 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 99546 term 36 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
term 36 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
flag 41417 term 36 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 39328 term 36 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 245->244
------------------------------------------------------
flag 39448 term 36 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 leader 2 nextIndex[1]: 0  matchIndex[1]: 244
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 1 InstallSnapshot fail
rf.commitIndex 244 args.LastIncludedIndex 239
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
term 36 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 240 matchIndex[1] 239 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244}]
------------------------------------------------------
client write log 3325269511315856582 (index 245) to leader 2
flag 65750 term 36 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 36 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 38472 term 36 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 36 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244} {3325269511315856582 36 245}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244} {3325269511315856582 36 245}]
------------------------------------------------------
flag 10142 term 36 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 36 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 91353 term 36 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 36 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244} {3325269511315856582 36 245}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244} {3325269511315856582 36 245}]
------------------------------------------------------
flag 24554 term 36 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 36 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 8241 term 36 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 36 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244} {3325269511315856582 36 245}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244} {3325269511315856582 36 245}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20688 term 36 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 36 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 4155 term 36 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 36 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244} {3325269511315856582 36 245}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244} {3325269511315856582 36 245}]
------------------------------------------------------
flag 88441 term 36 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 36 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 20029 term 36 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 36 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244} {3325269511315856582 36 245}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244} {3325269511315856582 36 245}]
------------------------------------------------------
flag 84431 term 36 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 36 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 73173 term 36 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 36 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244} {3325269511315856582 36 245}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244} {3325269511315856582 36 245}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58410 term 36 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 36 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 69158 term 36 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 36 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244} {3325269511315856582 36 245}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244} {3325269511315856582 36 245}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2052678651218558794 (index 246) to leader 2
flag 18178 term 36 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 36 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 86066 term 36 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 36 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244} {3325269511315856582 36 245} {2052678651218558794 36 246}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 247->246
------------------------------------------------------
flag 48078 term 36 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 36 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 36 leader 2 nextIndex[1]: 0  matchIndex[1]: 246
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 1 InstallSnapshot fail
rf.commitIndex 245 args.LastIncludedIndex 239
------------------------------------------------------
term 36 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 240 matchIndex[1] 239 
------------------------------------------------------------------------
flag 79329 term 36 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 36 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 26395 term 36 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 36 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244} {3325269511315856582 36 245} {2052678651218558794 36 246}]
------------------------------------------------------
client write log 2430410533767529654 (index 247) to leader 2
client write log 8338046217322198884 (index 248) to leader 2
client write log 3026443693189993297 (index 249) to leader 2
client write log 3420931971580809995 (index 250) to leader 2
client write log 1703295286357493609 (index 251) to leader 2
client write log 7043396947153663343 (index 252) to leader 2
client write log 6370480869544436737 (index 253) to leader 2
client write log 101932951079595416 (index 254) to leader 2
client write log 4922310490701658377 (index 255) to leader 2
client write log 763598899007340097 (index 256) to leader 2
client write log 9060453665581285460 (index 257) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61676 term 36 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 36 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 39701 term 36 leader 2 nextIndex[1]: 247  matchIndex[1]: 246
term 36 leader 2 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 36 239} {7828510287006902785 36 240} {3113518284150330237 36 241} {8455018329788230358 36 242} {4509564965054046743 36 243} {581767641753856344 36 244} {3325269511315856582 36 245} {2052678651218558794 36 246} {2430410533767529654 36 247} {8338046217322198884 36 248} {3026443693189993297 36 249} {3420931971580809995 36 250} {1703295286357493609 36 251} {7043396947153663343 36 252} {6370480869544436737 36 253} {101932951079595416 36 254} {4922310490701658377 36 255} {763598899007340097 36 256} {9060453665581285460 36 257}]
------------------------------------------------------
term 36 Server2 start snapshot! index=249
term 36 server2 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=257
-------------------------------------------------------------
term 36 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
flag 91696 term 36 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 36 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {3420931971580809995 36 250} {1703295286357493609 36 251} {7043396947153663343 36 252} {6370480869544436737 36 253} {101932951079595416 36 254} {4922310490701658377 36 255} {763598899007340097 36 256} {9060453665581285460 36 257}]
------------------------------------------------------
term 36 Server1 start snapshot! index=249
term 36 server1 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=257
-------------------------------------------------------------
!!!!!!connect server 0
client write log 835627092619683616 (index 258) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
flag 54066 term 36 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 36 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 36 leaderCommit: 257 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
term 37 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {3420931971580809995 36 250} {1703295286357493609 36 251} {7043396947153663343 36 252} {6370480869544436737 36 253} {101932951079595416 36 254} {4922310490701658377 36 255} {763598899007340097 36 256} {9060453665581285460 36 257} {835627092619683616 36 258}]
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 server 1 not vote for server 2, 日志不够新
term 37 server 2 get outdate rpc reply from server 1
term 38 server 1 vote for server 2
term 38 server 0 vote for server 2
term 38 server 2 get vote from server 1
term 38 server 2 become leader
------------------------------------------------------
term 38 server 2 get outdate rpc reply from server 0
flag 31576 term 38 leader 2 nextIndex[0]: 259  matchIndex[0]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
flag 77645 term 38 leader 2 nextIndex[1]: 259  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
term 38 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {3420931971580809995 36 250} {1703295286357493609 36 251} {7043396947153663343 36 252} {6370480869544436737 36 253} {101932951079595416 36 254} {4922310490701658377 36 255} {763598899007340097 36 256} {9060453665581285460 36 257} {835627092619683616 36 258}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 259->258
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 246  matchIndex[0]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
flag 84526 term 38 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
term 38 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 36 rf.commitIndex 249 rf.lastApplied 249
[{snapshot 36 249} {3420931971580809995 36 250} {1703295286357493609 36 251} {7043396947153663343 36 252} {6370480869544436737 36 253} {101932951079595416 36 254} {4922310490701658377 36 255} {763598899007340097 36 256} {9060453665581285460 36 257} {835627092619683616 36 258}]
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 250 matchIndex[0] 249 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35068 term 38 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 38 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
flag 26444 term 38 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {3420931971580809995 36 250} {1703295286357493609 36 251} {7043396947153663343 36 252} {6370480869544436737 36 253} {101932951079595416 36 254} {4922310490701658377 36 255} {763598899007340097 36 256} {9060453665581285460 36 257} {835627092619683616 36 258}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {3420931971580809995 36 250} {1703295286357493609 36 251} {7043396947153663343 36 252} {6370480869544436737 36 253} {101932951079595416 36 254} {4922310490701658377 36 255} {763598899007340097 36 256} {9060453665581285460 36 257} {835627092619683616 36 258}]
------------------------------------------------------
flag 88714 term 38 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
flag 73045 term 38 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {3420931971580809995 36 250} {1703295286357493609 36 251} {7043396947153663343 36 252} {6370480869544436737 36 253} {101932951079595416 36 254} {4922310490701658377 36 255} {763598899007340097 36 256} {9060453665581285460 36 257} {835627092619683616 36 258}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {3420931971580809995 36 250} {1703295286357493609 36 251} {7043396947153663343 36 252} {6370480869544436737 36 253} {101932951079595416 36 254} {4922310490701658377 36 255} {763598899007340097 36 256} {9060453665581285460 36 257} {835627092619683616 36 258}]
------------------------------------------------------
flag 54936 term 38 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
flag 26863 term 38 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {3420931971580809995 36 250} {1703295286357493609 36 251} {7043396947153663343 36 252} {6370480869544436737 36 253} {101932951079595416 36 254} {4922310490701658377 36 255} {763598899007340097 36 256} {9060453665581285460 36 257} {835627092619683616 36 258}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {3420931971580809995 36 250} {1703295286357493609 36 251} {7043396947153663343 36 252} {6370480869544436737 36 253} {101932951079595416 36 254} {4922310490701658377 36 255} {763598899007340097 36 256} {9060453665581285460 36 257} {835627092619683616 36 258}]
------------------------------------------------------
flag 505 term 38 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
flag 53401 term 38 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {3420931971580809995 36 250} {1703295286357493609 36 251} {7043396947153663343 36 252} {6370480869544436737 36 253} {101932951079595416 36 254} {4922310490701658377 36 255} {763598899007340097 36 256} {9060453665581285460 36 257} {835627092619683616 36 258}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {3420931971580809995 36 250} {1703295286357493609 36 251} {7043396947153663343 36 252} {6370480869544436737 36 253} {101932951079595416 36 254} {4922310490701658377 36 255} {763598899007340097 36 256} {9060453665581285460 36 257} {835627092619683616 36 258}]
------------------------------------------------------
flag 77799 term 38 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
flag 81501 term 38 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {3420931971580809995 36 250} {1703295286357493609 36 251} {7043396947153663343 36 252} {6370480869544436737 36 253} {101932951079595416 36 254} {4922310490701658377 36 255} {763598899007340097 36 256} {9060453665581285460 36 257} {835627092619683616 36 258}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {3420931971580809995 36 250} {1703295286357493609 36 251} {7043396947153663343 36 252} {6370480869544436737 36 253} {101932951079595416 36 254} {4922310490701658377 36 255} {763598899007340097 36 256} {9060453665581285460 36 257} {835627092619683616 36 258}]
------------------------------------------------------
flag 49888 term 38 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
flag 67790 term 38 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
term 38 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
[{snapshot 36 249} {3420931971580809995 36 250} {1703295286357493609 36 251} {7043396947153663343 36 252} {6370480869544436737 36 253} {101932951079595416 36 254} {4922310490701658377 36 255} {763598899007340097 36 256} {9060453665581285460 36 257} {835627092619683616 36 258}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {3420931971580809995 36 250} {1703295286357493609 36 251} {7043396947153663343 36 252} {6370480869544436737 36 253} {101932951079595416 36 254} {4922310490701658377 36 255} {763598899007340097 36 256} {9060453665581285460 36 257} {835627092619683616 36 258}]
------------------------------------------------------
flag 93053 term 38 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
flag 89930 term 38 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {3420931971580809995 36 250} {1703295286357493609 36 251} {7043396947153663343 36 252} {6370480869544436737 36 253} {101932951079595416 36 254} {4922310490701658377 36 255} {763598899007340097 36 256} {9060453665581285460 36 257} {835627092619683616 36 258}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 36 249} {3420931971580809995 36 250} {1703295286357493609 36 251} {7043396947153663343 36 252} {6370480869544436737 36 253} {101932951079595416 36 254} {4922310490701658377 36 255} {763598899007340097 36 256} {9060453665581285460 36 257} {835627092619683616 36 258}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1405662085743267653 (index 259) to leader 2
flag 85553 term 38 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
flag 3511 term 38 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 38 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 36 leaderCommit: 258 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 36 249} {3420931971580809995 36 250} {1703295286357493609 36 251} {7043396947153663343 36 252} {6370480869544436737 36 253} {101932951079595416 36 254} {4922310490701658377 36 255} {763598899007340097 36 256} {9060453665581285460 36 257} {835627092619683616 36 258} {1405662085743267653 38 259}]
------------------------------------------------------
term 38 Server2 start snapshot! index=259
term 38 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
term 38 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 38
------------------------------------------------------
flag 48384 term 38 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 38 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 38 259}]
------------------------------------------------------
term 38 Server1 start snapshot! index=259
term 38 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
client write log 5159698940727454040 (index 260) to leader 2
client write log 4071806417867988170 (index 261) to leader 2
client write log 1133897534316342469 (index 262) to leader 2
client write log 7035256413156866552 (index 263) to leader 2
client write log 8097330995880043997 (index 264) to leader 2
client write log 1350327549835073321 (index 265) to leader 2
client write log 3170515280571768130 (index 266) to leader 2
client write log 3416445963057878603 (index 267) to leader 2
client write log 3803867329196304407 (index 268) to leader 2
term 38 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 38 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 38
------------------------------------------------------
flag 12081 term 38 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 38 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 259 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 38
------------------------------------------------------
flag 28903 term 38 leader 2 nextIndex[1]: 269  matchIndex[1]: 268
term 38 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=269
update matchIndex[1]=268
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268}]
------------------------------------------------------
!!!!!!connect server 0
client write log 6878442902812287151 (index 269) to leader 2
term 38 server 2 not vote for server 0, 日志不够新
term 38 server 1 not vote for server 0, 日志不够新
term 40 server 1 vote for server 2
term 40 server 2 get vote from server 1
term 40 server 2 become leader
------------------------------------------------------
term 40 server 0 vote for server 2
term 40 server 2 get outdate rpc reply from server 0
flag 56042 term 40 leader 2 nextIndex[0]: 270  matchIndex[0]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 31157 term 40 leader 2 nextIndex[1]: 270  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 40 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 270->269
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 270->269
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 259  matchIndex[0]: 0
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 38
------------------------------------------------------
flag 19470 term 40 leader 2 nextIndex[1]: 269  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
term 40 server 0 InstallSnapshot success
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 260 matchIndex[0] 259 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 38 rf.commitIndex 259 rf.lastApplied 259
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
flag 48535 term 40 leader 2 nextIndex[0]: 260  matchIndex[0]: 259
term 40 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 16293 term 40 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
flag 27315 term 40 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 81043 term 40 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44904 term 40 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 20154 term 40 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24174 term 40 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 52394 term 40 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
flag 87706 term 40 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 70401 term 40 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
flag 14750 term 40 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 7851 term 40 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
flag 29605 term 40 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 44469 term 40 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
flag 93160 term 40 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 82810 term 40 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
term 40 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
flag 97891 term 40 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 37315 term 40 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68188 term 40 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 59959 term 40 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 server 1 not vote for server 0, 任期不够新
term 40 server 0 get outdate rpc reply from server 1
flag 262 term 40 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 84257 term 40 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
flag 31084 term 40 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 31298 term 40 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
flag 84715 term 40 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 52322 term 40 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
term 40 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
flag 61819 term 40 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 86495 term 40 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87642 term 40 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 34458 term 40 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
flag 20746 term 40 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 217 term 40 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
flag 1471 term 40 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 97276 term 40 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=270
update matchIndex[0]=269
update leader CommitIndex=268
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269}]
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 6878442902812287151 (index 270) to leader 2
flag 5450 term 40 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
flag 65771 term 40 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 268 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
term 40 server 0 AppendEntries true commitIndex:268 
------------------------------------------------------
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269} {6878442902812287151 40 270}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 38 259} {5159698940727454040 38 260} {4071806417867988170 38 261} {1133897534316342469 38 262} {7035256413156866552 38 263} {8097330995880043997 38 264} {1350327549835073321 38 265} {3170515280571768130 38 266} {3416445963057878603 38 267} {3803867329196304407 38 268} {6878442902812287151 38 269} {6878442902812287151 40 270}]
------------------------------------------------------
term 40 Server2 start snapshot! index=269
term 40 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=270
-------------------------------------------------------------
flag 95185 term 40 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 40 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 96882 term 40 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 40 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 38 269} {6878442902812287151 40 270}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 38 269} {6878442902812287151 40 270}]
------------------------------------------------------
term 40 Server1 start snapshot! index=269
term 40 Server0 start snapshot! index=269
term 40 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=270
-------------------------------------------------------------
term 40 server1 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=270
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20648 term 40 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 40 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 82418 term 40 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 40 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 38 269} {6878442902812287151 40 270}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 38 269} {6878442902812287151 40 270}]
------------------------------------------------------
flag 37654 term 40 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 40 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 55173 term 40 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 40 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 38 269} {6878442902812287151 40 270}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 38 269} {6878442902812287151 40 270}]
------------------------------------------------------
flag 21804 term 40 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 40 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 47389 term 40 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 40 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 38 269} {6878442902812287151 40 270}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 38 269} {6878442902812287151 40 270}]
------------------------------------------------------
flag 38709 term 40 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 40 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 42834 term 40 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 40 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 38 269} {6878442902812287151 40 270}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=271
update matchIndex[0]=270
update leader CommitIndex=270
leader log:
[{snapshot 38 269} {6878442902812287151 40 270}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 32238 term 40 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 40 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 18092 term 40 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 40 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 84501 term 40 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 40 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 3680 term 40 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 40 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 87447 term 40 leader 2 nextIndex[0]: 271  matchIndex[0]: 270
term 40 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 2656 term 40 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 40 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 271->270
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 270
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 38
------------------------------------------------------
flag 40203 term 40 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 40 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 41 server 1 vote for server 0
term 41 server 0 get vote from server 1
term 41 server 0 become leader
------------------------------------------------------
client write log 2741011489039264677 (index 271) to leader 0
flag 96867 term 41 leader 0 nextIndex[1]: 271  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
flag 20567 term 41 leader 0 nextIndex[2]: 271  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271}]
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 270
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 38
------------------------------------------------------
flag 48226 term 40 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 40 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 271->270
------------------------------------------------------
flag 84130 term 41 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 41 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 88342 term 41 leader 0 nextIndex[2]: 271  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 271 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271}]
------------------------------------------------------
client write log 7515827863519090520 (index 272) to leader 0
client write log 916399006707800260 (index 273) to leader 0
client write log 3323576033684745071 (index 274) to leader 0
client write log 7840051302530984038 (index 275) to leader 0
client write log 5104265035282190182 (index 276) to leader 0
client write log 2261353390556288843 (index 277) to leader 0
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 270
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 38
------------------------------------------------------
term 40 leader 2 nextIndex[1]: 0  matchIndex[1]: 270
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 38
------------------------------------------------------
flag 85026 term 41 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 41 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 66392 term 41 leader 0 nextIndex[2]: 271  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 271 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 270
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 38
------------------------------------------------------
term 40 leader 2 nextIndex[1]: 0  matchIndex[1]: 270
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 38
------------------------------------------------------
flag 75604 term 41 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
flag 88015 term 41 leader 0 nextIndex[2]: 271  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 277 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
!!!!!!connect server 2
client write log 1490351673347260741 (index 271) to leader 2
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 270
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 38
------------------------------------------------------
term 40 leader 2 nextIndex[1]: 0  matchIndex[1]: 270
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 38
------------------------------------------------------
term 41 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 40 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 41 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78613 term 41 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
flag 42120 term 41 leader 0 nextIndex[2]: 271  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 40 leaderCommit: 277 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
flag 6004 term 41 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
flag 33545 term 41 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
term 41 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
flag 99490 term 41 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
flag 19295 term 41 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
flag 78972 term 41 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
flag 96419 term 41 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57627 term 41 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
flag 67065 term 41 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
flag 69972 term 41 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
flag 99765 term 41 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91675 term 41 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
flag 7767 term 41 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21656 term 41 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
flag 88729 term 41 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
term 41 server 2 not vote for server 0, 任期不够新
term 41 server 0 get outdate rpc reply from server 2
flag 66045 term 41 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
flag 82388 term 41 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
flag 5851 term 41 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
flag 763 term 41 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1798 term 41 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
flag 15111 term 41 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 278->277
------------------------------------------------------
flag 95857 term 41 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
term 41 leader 0 nextIndex[2]: 0  matchIndex[2]: 277
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 38
------------------------------------------------------
term 41 server 2 InstallSnapshot fail
rf.commitIndex 277 args.LastIncludedIndex 269
------------------------------------------------------
term 41 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 270->269
------------------------------------------------------
flag 25914 term 41 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
term 41 leader 0 nextIndex[2]: 0  matchIndex[2]: 269
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 38
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
term 41 server 2 InstallSnapshot fail
rf.commitIndex 277 args.LastIncludedIndex 269
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
term 41 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
flag 29702 term 41 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
flag 75585 term 41 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 41 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 277 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
flag 61634 term 41 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
flag 5874 term 41 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
flag 10486 term 41 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
flag 92230 term 41 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
flag 23833 term 41 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
flag 68688 term 41 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
flag 31180 term 41 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
flag 29585 term 41 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27743 term 41 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
flag 48749 term 41 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
term 41 server 2 not vote for server 0, 日志不够新
term 41 server 0 get outdate rpc reply from server 2
flag 77489 term 41 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
flag 71269 term 41 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277}]
------------------------------------------------------
client write log 1490351673347260741 (index 278) to leader 0
flag 40321 term 41 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
flag 63246 term 41 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 41 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 41 leaderCommit: 277 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277} {1490351673347260741 41 278}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277} {1490351673347260741 41 278}]
------------------------------------------------------
flag 18511 term 41 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 41 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 41 leaderCommit: 278 
------------------------------------------------------
flag 52059 term 41 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 41 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 41 leaderCommit: 278 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277} {1490351673347260741 41 278}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277} {1490351673347260741 41 278}]
------------------------------------------------------
flag 2392 term 41 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 41 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 41 leaderCommit: 278 
------------------------------------------------------
flag 21841 term 41 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 41 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 41 leaderCommit: 278 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277} {1490351673347260741 41 278}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277} {1490351673347260741 41 278}]
------------------------------------------------------
flag 12905 term 41 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 41 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 41 leaderCommit: 278 
------------------------------------------------------
flag 15367 term 41 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 41 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 41 leaderCommit: 278 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277} {1490351673347260741 41 278}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277} {1490351673347260741 41 278}]
------------------------------------------------------
flag 704 term 41 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 41 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 41 leaderCommit: 278 
------------------------------------------------------
flag 14902 term 41 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 41 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 41 leaderCommit: 278 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277} {1490351673347260741 41 278}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277} {1490351673347260741 41 278}]
------------------------------------------------------
flag 44430 term 41 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 41 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 41 leaderCommit: 278 
------------------------------------------------------
flag 17655 term 41 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 41 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 41 leaderCommit: 278 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=279
update matchIndex[2]=278
update leader CommitIndex=278
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277} {1490351673347260741 41 278}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277} {1490351673347260741 41 278}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3881838953411431445 (index 279) to leader 0
flag 65214 term 41 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 41 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 41 leaderCommit: 278 
------------------------------------------------------
flag 40143 term 41 leader 0 nextIndex[2]: 279  matchIndex[2]: 278
term 41 leader 0 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 41 leaderCommit: 278 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 38 269} {6878442902812287151 40 270} {2741011489039264677 41 271} {7515827863519090520 41 272} {916399006707800260 41 273} {3323576033684745071 41 274} {7840051302530984038 41 275} {5104265035282190182 41 276} {2261353390556288843 41 277} {1490351673347260741 41 278} {3881838953411431445 41 279}]
------------------------------------------------------
term 41 Server0 start snapshot! index=279
term 41 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 41 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 41
------------------------------------------------------
flag 10492 term 41 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 41 leaderCommit: 279 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=280
update matchIndex[2]=279
update leader CommitIndex=279
leader log:
[{snapshot 41 279}]
------------------------------------------------------
term 41 Server2 start snapshot! index=279
term 41 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
client write log 9130818219140290600 (index 280) to leader 0
client write log 2882144171853327529 (index 281) to leader 0
client write log 5196298463255750760 (index 282) to leader 0
client write log 268622234552761390 (index 283) to leader 0
client write log 3029904824367189283 (index 284) to leader 0
client write log 6441451618345888293 (index 285) to leader 0
client write log 2508246231641143432 (index 286) to leader 0
client write log 2318166362299113477 (index 287) to leader 0
client write log 6912581496794047512 (index 288) to leader 0
term 41 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 41
------------------------------------------------------
flag 8658 term 41 leader 0 nextIndex[2]: 280  matchIndex[2]: 279
term 41 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 41 leaderCommit: 279 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288}]
------------------------------------------------------
term 41 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 41
------------------------------------------------------
flag 19175 term 41 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 41 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5880075967733093692 (index 289) to leader 0
term 41 leader 0 nextIndex[1]: 279  matchIndex[1]: 278
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 41
------------------------------------------------------
flag 65770 term 41 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 41 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 42 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 server 2 vote for server 0
term 43 server 0 get vote from server 2
term 43 server 0 become leader
------------------------------------------------------
term 43 server 1 vote for server 0
term 43 server 0 get outdate rpc reply from server 1
flag 21222 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 22810 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
term 43 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 290->289
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 279  matchIndex[1]: 0
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 41
------------------------------------------------------
flag 40075 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 1 InstallSnapshot success
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 41 rf.commitIndex 279 rf.lastApplied 279
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
flag 84878 term 43 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 43 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 6636 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueterm 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
update nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
flag 72292 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 64974 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
flag 64676 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 55347 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
flag 37865 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 79873 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17567 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 12145 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
term 43 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61184 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 17708 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17531 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 7086 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
flag 1732 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 71923 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
flag 53752 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 24719 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
flag 9054 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 70875 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 46273 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 39346 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
flag 4551 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 48660 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 31735 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 93710 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61224 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 63346 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
flag 72450 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 36019 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
flag 75700 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 15852 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
flag 76953 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 17630 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=290
update matchIndex[2]=289
update leader CommitIndex=288
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289}]
------------------------------------------------------
client write log 5880075967733093692 (index 290) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82449 term 43 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
flag 21329 term 43 leader 0 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 288 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289} {5880075967733093692 43 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 279} {9130818219140290600 41 280} {2882144171853327529 41 281} {5196298463255750760 41 282} {268622234552761390 41 283} {3029904824367189283 41 284} {6441451618345888293 41 285} {2508246231641143432 41 286} {2318166362299113477 41 287} {6912581496794047512 41 288} {5880075967733093692 41 289} {5880075967733093692 43 290}]
------------------------------------------------------
term 43 Server0 start snapshot! index=289
term 43 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=290
-------------------------------------------------------------
term 43 server 0 not vote for server 1, 任期不够新
term 43 server 1 get outdate rpc reply from server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79487 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
flag 90485 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {5880075967733093692 43 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {5880075967733093692 43 290}]
------------------------------------------------------
term 43 Server2 start snapshot! index=289
term 43 server2 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=290
-------------------------------------------------------------
term 43 Server1 start snapshot! index=289
term 43 server1 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=290
-------------------------------------------------------------
flag 5792 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
flag 13707 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {5880075967733093692 43 290}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {5880075967733093692 43 290}]
------------------------------------------------------
flag 50674 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
flag 8575 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {5880075967733093692 43 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {5880075967733093692 43 290}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14131 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
flag 76233 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {5880075967733093692 43 290}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {5880075967733093692 43 290}]
------------------------------------------------------
term 43 server 2 not vote for server 1, 任期不够新
term 43 server 1 get outdate rpc reply from server 2
flag 84945 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
flag 60279 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {5880075967733093692 43 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {5880075967733093692 43 290}]
------------------------------------------------------
flag 50998 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
flag 51375 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {5880075967733093692 43 290}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {5880075967733093692 43 290}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3804719756143553133 (index 291) to leader 0
flag 76068 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
flag 24209 term 43 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 290 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {5880075967733093692 43 290} {3804719756143553133 43 291}]
------------------------------------------------------
flag 28878 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
flag 1998 term 43 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 43 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {5880075967733093692 43 290} {3804719756143553133 43 291}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 4129437491368548776 (index 292) to leader 0
client write log 3655800980383571388 (index 293) to leader 0
client write log 5885179060349621709 (index 294) to leader 0
client write log 6581750961783486744 (index 295) to leader 0
client write log 1902261305588216856 (index 296) to leader 0
client write log 9194464175189434436 (index 297) to leader 0
client write log 3845074240908615406 (index 298) to leader 0
client write log 4978338136613763295 (index 299) to leader 0
client write log 8007480842407848517 (index 300) to leader 0
client write log 2119029681502507912 (index 301) to leader 0
client write log 5148013820617773542 (index 302) to leader 0
flag 71091 term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
flag 41858 term 43 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 43 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 43 leaderCommit: 291 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 41 289} {5880075967733093692 43 290} {3804719756143553133 43 291} {4129437491368548776 43 292} {3655800980383571388 43 293} {5885179060349621709 43 294} {6581750961783486744 43 295} {1902261305588216856 43 296} {9194464175189434436 43 297} {3845074240908615406 43 298} {4978338136613763295 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302}]
------------------------------------------------------
term 43 Server0 start snapshot! index=299
term 43 server0 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=302
-------------------------------------------------------------
term 43 leader 0 nextIndex[1]: 291  matchIndex[1]: 290
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 43
------------------------------------------------------
flag 49941 term 43 leader 0 nextIndex[2]: 303  matchIndex[2]: 302
term 43 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302}]
------------------------------------------------------
term 43 Server2 start snapshot! index=299
term 43 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=302
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6863045819731771054 (index 303) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 server 2 not vote for server 1, 日志不够新
term 43 server 0 not vote for server 1, 日志不够新
term 45 server 2 vote for server 0
term 45 server 1 vote for server 0
term 45 server 0 get vote from server 2
term 45 server 0 become leader
------------------------------------------------------
term 45 server 0 get outdate rpc reply from server 1
flag 41194 term 45 leader 0 nextIndex[1]: 304  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
flag 80684 term 45 leader 0 nextIndex[2]: 304  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
term 45 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 304->303
------------------------------------------------------
term 45 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 304->303
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 45 leader 0 nextIndex[1]: 291  matchIndex[1]: 0
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 43
------------------------------------------------------
flag 30755 term 45 leader 0 nextIndex[2]: 303  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
term 45 server 1 InstallSnapshot success
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:302 
term 45 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 300 matchIndex[1] 299 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 43 rf.commitIndex 299 rf.lastApplied 299
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
flag 38815 term 45 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 45 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
flag 25625 term 45 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
flag 12071 term 45 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
flag 47768 term 45 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
flag 33078 term 45 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
flag 43127 term 45 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
flag 75045 term 45 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
flag 96296 term 45 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
term 45 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
flag 65069 term 45 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
flag 44735 term 45 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
flag 6683 term 45 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
flag 44325 term 45 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
flag 35176 term 45 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
flag 26265 term 45 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
flag 7502 term 45 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
flag 11369 term 45 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
flag 64667 term 45 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
flag 1672 term 45 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
flag 42763 term 45 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
flag 44430 term 45 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
flag 22374 term 45 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
flag 11756 term 45 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
flag 7854 term 45 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
flag 69030 term 45 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
flag 3853 term 45 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
flag 49972 term 45 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:302 
term 45 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
flag 27552 term 45 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
flag 34565 term 45 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
flag 25602 term 45 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
flag 3686 term 45 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
flag 58257 term 45 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
flag 76681 term 45 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
flag 51746 term 45 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
flag 66510 term 45 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
flag 3889 term 45 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
flag 38262 term 45 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=304
update matchIndex[1]=303
update leader CommitIndex=302
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303}]
------------------------------------------------------
client write log 6863045819731771054 (index 304) to leader 0
flag 93940 term 45 leader 0 nextIndex[1]: 304  matchIndex[1]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
flag 35344 term 45 leader 0 nextIndex[2]: 304  matchIndex[2]: 303
term 45 leader 0 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 43 leaderCommit: 302 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:302 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303} {6863045819731771054 45 304}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303} {6863045819731771054 45 304}]
------------------------------------------------------
flag 61443 term 45 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 72015 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303} {6863045819731771054 45 304}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303} {6863045819731771054 45 304}]
------------------------------------------------------
flag 19012 term 45 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 55328 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303} {6863045819731771054 45 304}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303} {6863045819731771054 45 304}]
------------------------------------------------------
flag 61959 term 45 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 92235 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303} {6863045819731771054 45 304}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303} {6863045819731771054 45 304}]
------------------------------------------------------
flag 28676 term 45 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 28803 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303} {6863045819731771054 45 304}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303} {6863045819731771054 45 304}]
------------------------------------------------------
flag 28781 term 45 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 58575 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303} {6863045819731771054 45 304}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303} {6863045819731771054 45 304}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 44176 term 45 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 46286 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 25787 term 45 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 50193 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 10598 term 45 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 3664 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 46 server 2 vote for server 1
term 46 server 1 get vote from server 2
term 46 server 1 become leader
------------------------------------------------------
flag 50651 term 46 leader 1 nextIndex[0]: 305  matchIndex[0]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 14471 term 46 leader 1 nextIndex[2]: 305  matchIndex[2]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303} {6863045819731771054 45 304}]
------------------------------------------------------
flag 73368 term 45 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 44164 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 5294975353434984929 (index 305) to leader 1
flag 56169 term 46 leader 1 nextIndex[0]: 305  matchIndex[0]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 41989 term 46 leader 1 nextIndex[2]: 305  matchIndex[2]: 304
term 46 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303} {6863045819731771054 45 304} {5294975353434984929 46 305}]
------------------------------------------------------
flag 4668 term 45 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 11490 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 21703 term 46 leader 1 nextIndex[0]: 305  matchIndex[0]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 305 
------------------------------------------------------
flag 41547 term 46 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 46 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303} {6863045819731771054 45 304} {5294975353434984929 46 305}]
------------------------------------------------------
flag 35383 term 45 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 99626 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
client write log 2084246223836969114 (index 306) to leader 1
client write log 2235716248164852944 (index 307) to leader 1
client write log 8287853461874694332 (index 308) to leader 1
client write log 650113927764662972 (index 309) to leader 1
client write log 8458708202522110977 (index 310) to leader 1
client write log 2815469340469242206 (index 311) to leader 1
client write log 8540941447961072428 (index 312) to leader 1
client write log 8078037046518840418 (index 313) to leader 1
client write log 27657401669008156 (index 314) to leader 1
flag 76834 term 46 leader 1 nextIndex[0]: 305  matchIndex[0]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 305 
------------------------------------------------------
flag 96 term 46 leader 1 nextIndex[2]: 306  matchIndex[2]: 305
term 46 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 46 leaderCommit: 305 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 43 299} {8007480842407848517 43 300} {2119029681502507912 43 301} {5148013820617773542 43 302} {6863045819731771054 43 303} {6863045819731771054 45 304} {5294975353434984929 46 305} {2084246223836969114 46 306} {2235716248164852944 46 307} {8287853461874694332 46 308} {650113927764662972 46 309} {8458708202522110977 46 310} {2815469340469242206 46 311} {8540941447961072428 46 312} {8078037046518840418 46 313} {27657401669008156 46 314}]
------------------------------------------------------
flag 46198 term 45 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 73221 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 46 Server1 start snapshot! index=309
term 46 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=314
-------------------------------------------------------------
term 46 leader 1 nextIndex[0]: 305  matchIndex[0]: 0
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 46
------------------------------------------------------
flag 1734 term 46 leader 1 nextIndex[2]: 315  matchIndex[2]: 314
term 46 leader 1 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 46 leaderCommit: 314 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 46 309} {8458708202522110977 46 310} {2815469340469242206 46 311} {8540941447961072428 46 312} {8078037046518840418 46 313} {27657401669008156 46 314}]
------------------------------------------------------
flag 82444 term 45 leader 0 nextIndex[1]: 305  matchIndex[1]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
flag 67547 term 45 leader 0 nextIndex[2]: 305  matchIndex[2]: 304
term 45 leader 0 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 46 Server2 start snapshot! index=309
term 46 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=314
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5097093087591734529 (index 315) to leader 1
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 305->304
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 305->304
------------------------------------------------------
term 46 leader 1 nextIndex[0]: 305  matchIndex[0]: 0
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 46
------------------------------------------------------
flag 38040 term 46 leader 1 nextIndex[2]: 315  matchIndex[2]: 314
term 46 leader 1 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 46 leaderCommit: 314 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 46 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
Server0 get CondInstallSnapshot!
[{snapshot 46 309} {8458708202522110977 46 310} {2815469340469242206 46 311} {8540941447961072428 46 312} {8078037046518840418 46 313} {27657401669008156 46 314} {5097093087591734529 46 315}]
------------------------------------------------------
term 46 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 310 matchIndex[0] 309 
------------------------------------------------------------------------
rf.lastIncludedIndex 309 rf.lastIncludedTerm 46 rf.commitIndex 309 rf.lastApplied 309
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95063 term 46 leader 1 nextIndex[0]: 310  matchIndex[0]: 309
term 46 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 46 leaderCommit: 315 
------------------------------------------------------
flag 6574 term 46 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 46 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 46 leaderCommit: 315 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 46 309} {8458708202522110977 46 310} {2815469340469242206 46 311} {8540941447961072428 46 312} {8078037046518840418 46 313} {27657401669008156 46 314} {5097093087591734529 46 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 46 309} {8458708202522110977 46 310} {2815469340469242206 46 311} {8540941447961072428 46 312} {8078037046518840418 46 313} {27657401669008156 46 314} {5097093087591734529 46 315}]
------------------------------------------------------
flag 81597 term 46 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 46 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 46 leaderCommit: 315 
------------------------------------------------------
flag 17704 term 46 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 46 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 46 leaderCommit: 315 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 46 309} {8458708202522110977 46 310} {2815469340469242206 46 311} {8540941447961072428 46 312} {8078037046518840418 46 313} {27657401669008156 46 314} {5097093087591734529 46 315}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 46 309} {8458708202522110977 46 310} {2815469340469242206 46 311} {8540941447961072428 46 312} {8078037046518840418 46 313} {27657401669008156 46 314} {5097093087591734529 46 315}]
------------------------------------------------------
flag 93125 term 46 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 46 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 46 leaderCommit: 315 
------------------------------------------------------
flag 15056 term 46 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 46 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 46 leaderCommit: 315 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
term 46 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
[{snapshot 46 309} {8458708202522110977 46 310} {2815469340469242206 46 311} {8540941447961072428 46 312} {8078037046518840418 46 313} {27657401669008156 46 314} {5097093087591734529 46 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 46 309} {8458708202522110977 46 310} {2815469340469242206 46 311} {8540941447961072428 46 312} {8078037046518840418 46 313} {27657401669008156 46 314} {5097093087591734529 46 315}]
------------------------------------------------------
flag 28562 term 46 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 46 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 46 leaderCommit: 315 
------------------------------------------------------
flag 83598 term 46 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 46 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 46 leaderCommit: 315 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 46 309} {8458708202522110977 46 310} {2815469340469242206 46 311} {8540941447961072428 46 312} {8078037046518840418 46 313} {27657401669008156 46 314} {5097093087591734529 46 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 46 309} {8458708202522110977 46 310} {2815469340469242206 46 311} {8540941447961072428 46 312} {8078037046518840418 46 313} {27657401669008156 46 314} {5097093087591734529 46 315}]
------------------------------------------------------
flag 24141 term 46 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 46 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 46 leaderCommit: 315 
------------------------------------------------------
flag 69137 term 46 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 46 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 46 leaderCommit: 315 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 46 309} {8458708202522110977 46 310} {2815469340469242206 46 311} {8540941447961072428 46 312} {8078037046518840418 46 313} {27657401669008156 46 314} {5097093087591734529 46 315}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 46 309} {8458708202522110977 46 310} {2815469340469242206 46 311} {8540941447961072428 46 312} {8078037046518840418 46 313} {27657401669008156 46 314} {5097093087591734529 46 315}]
------------------------------------------------------
flag 33971 term 46 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 46 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 46 leaderCommit: 315 
------------------------------------------------------
flag 48751 term 46 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 46 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 46 leaderCommit: 315 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 46 309} {8458708202522110977 46 310} {2815469340469242206 46 311} {8540941447961072428 46 312} {8078037046518840418 46 313} {27657401669008156 46 314} {5097093087591734529 46 315}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 46 309} {8458708202522110977 46 310} {2815469340469242206 46 311} {8540941447961072428 46 312} {8078037046518840418 46 313} {27657401669008156 46 314} {5097093087591734529 46 315}]
------------------------------------------------------
flag 51753 term 46 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 46 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 46 leaderCommit: 315 
------------------------------------------------------
flag 48973 term 46 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 46 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 46 leaderCommit: 315 
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2309274405430796642 (index 316) to leader 1
term 46 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 46 309} {8458708202522110977 46 310} {2815469340469242206 46 311} {8540941447961072428 46 312} {8078037046518840418 46 313} {27657401669008156 46 314} {5097093087591734529 46 315} {2309274405430796642 46 316}]
------------------------------------------------------
flag 39521 term 46 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 46 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 46 leaderCommit: 315 
------------------------------------------------------
flag 95854 term 46 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 46 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 46 leaderCommit: 315 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 46 309} {8458708202522110977 46 310} {2815469340469242206 46 311} {8540941447961072428 46 312} {8078037046518840418 46 313} {27657401669008156 46 314} {5097093087591734529 46 315} {2309274405430796642 46 316}]
------------------------------------------------------
flag 28592 term 46 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 46 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 46 leaderCommit: 316 
------------------------------------------------------
flag 45700 term 46 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 46 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 46 leaderCommit: 316 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 46 309} {8458708202522110977 46 310} {2815469340469242206 46 311} {8540941447961072428 46 312} {8078037046518840418 46 313} {27657401669008156 46 314} {5097093087591734529 46 315} {2309274405430796642 46 316}]
------------------------------------------------------
client write log 1170246316421640132 (index 317) to leader 1
client write log 456695096550326861 (index 318) to leader 1
client write log 5840670399631916643 (index 319) to leader 1
client write log 2268279966356389271 (index 320) to leader 1
client write log 83767717434997192 (index 321) to leader 1
client write log 195296575311615047 (index 322) to leader 1
client write log 1579208868062295641 (index 323) to leader 1
client write log 7301802508276863419 (index 324) to leader 1
client write log 3723403572449306281 (index 325) to leader 1
client write log 8928725625879907538 (index 326) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63009 term 46 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 46 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 46 leaderCommit: 316 
------------------------------------------------------
flag 45863 term 46 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 46 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 46 leaderCommit: 316 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 46 309} {8458708202522110977 46 310} {2815469340469242206 46 311} {8540941447961072428 46 312} {8078037046518840418 46 313} {27657401669008156 46 314} {5097093087591734529 46 315} {2309274405430796642 46 316} {1170246316421640132 46 317} {456695096550326861 46 318} {5840670399631916643 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326}]
------------------------------------------------------
term 46 Server1 start snapshot! index=319
term 46 server1 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=326
-------------------------------------------------------------
flag 3129 term 46 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 46 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326}]
------------------------------------------------------
term 46 Server0 start snapshot! index=319
term 46 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=326
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1258632318532737364 (index 327) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95179 term 46 leader 1 nextIndex[0]: 327  matchIndex[0]: 326
term 46 leader 1 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 46
------------------------------------------------------
term 47 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 46 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 server 2 vote for server 1
term 48 server 1 get vote from server 2
term 48 server 1 become leader
------------------------------------------------------
term 48 server 0 vote for server 1
term 48 server 1 get outdate rpc reply from server 0
flag 46649 term 48 leader 1 nextIndex[0]: 328  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
flag 82025 term 48 leader 1 nextIndex[2]: 328  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
term 48 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 328->327
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
flag 74756 term 48 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 316  matchIndex[2]: 0
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 46
------------------------------------------------------
term 48 server 2 InstallSnapshot success
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
leader 1 sendAppendEntries -> server 0 truerf.lastIncludedIndex 319 rf.lastIncludedTerm 46 rf.commitIndex 319 rf.lastApplied 319
update nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
flag 28300 term 48 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
flag 68245 term 48 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 48 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
term 48 server 1 not vote for server 2, 任期不够新
term 48 server 2 get outdate rpc reply from server 1
flag 25511 term 48 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
flag 5410 term 48 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
term 48 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33305 term 48 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
flag 21962 term 48 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
flag 69581 term 48 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
flag 79033 term 48 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
term 48 server 0 not vote for server 1, 任期不够新
term 48 server 1 get outdate rpc reply from server 0
flag 72321 term 48 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
flag 70025 term 48 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
flag 38265 term 48 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
flag 75868 term 48 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23408 term 48 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
flag 96261 term 48 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
flag 1027 term 48 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
flag 65559 term 48 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
flag 75638 term 48 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
flag 40388 term 48 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
flag 76972 term 48 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
flag 73014 term 48 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
flag 67133 term 48 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
flag 90603 term 48 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24548 term 48 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
flag 75365 term 48 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
flag 16368 term 48 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
flag 97150 term 48 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
term 48 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
flag 91353 term 48 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
flag 48534 term 48 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
flag 77873 term 48 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
flag 881 term 48 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
flag 21426 term 48 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
flag 288 term 48 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44422 term 48 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
flag 64234 term 48 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327}]
------------------------------------------------------
client write log 1258632318532737364 (index 328) to leader 1
flag 50301 term 48 leader 1 nextIndex[0]: 328  matchIndex[0]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
flag 11222 term 48 leader 1 nextIndex[2]: 328  matchIndex[2]: 327
term 48 leader 1 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 46 leaderCommit: 326 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327} {1258632318532737364 48 328}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327} {1258632318532737364 48 328}]
------------------------------------------------------
flag 4063 term 48 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 48 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 48 leaderCommit: 328 
------------------------------------------------------
flag 3239 term 48 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 48 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 48 leaderCommit: 328 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
term 48 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327} {1258632318532737364 48 328}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327} {1258632318532737364 48 328}]
------------------------------------------------------
flag 42103 term 48 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 48 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 48 leaderCommit: 328 
------------------------------------------------------
flag 84217 term 48 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 48 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 48 leaderCommit: 328 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327} {1258632318532737364 48 328}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327} {1258632318532737364 48 328}]
------------------------------------------------------
flag 15269 term 48 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 48 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 48 leaderCommit: 328 
------------------------------------------------------
flag 87538 term 48 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 48 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 48 leaderCommit: 328 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327} {1258632318532737364 48 328}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327} {1258632318532737364 48 328}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89589 term 48 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 48 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 48 leaderCommit: 328 
------------------------------------------------------
flag 46524 term 48 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 48 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 48 leaderCommit: 328 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327} {1258632318532737364 48 328}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327} {1258632318532737364 48 328}]
------------------------------------------------------
flag 26521 term 48 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 48 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 48 leaderCommit: 328 
------------------------------------------------------
flag 6740 term 48 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 48 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 48 leaderCommit: 328 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:328 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=329
update matchIndex[2]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327} {1258632318532737364 48 328}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327} {1258632318532737364 48 328}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2548217952910614009 (index 329) to leader 1
flag 84457 term 48 leader 1 nextIndex[0]: 329  matchIndex[0]: 328
term 48 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 48 leaderCommit: 328 
------------------------------------------------------
flag 1183 term 48 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 48 leader 1 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 48 leaderCommit: 328 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=329
leader log:
[{snapshot 46 319} {2268279966356389271 46 320} {83767717434997192 46 321} {195296575311615047 46 322} {1579208868062295641 46 323} {7301802508276863419 46 324} {3723403572449306281 46 325} {8928725625879907538 46 326} {1258632318532737364 46 327} {1258632318532737364 48 328} {2548217952910614009 48 329}]
------------------------------------------------------
term 48 Server1 start snapshot! index=329
term 48 server1 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=329
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23574 term 48 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 48 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 48
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=330
update matchIndex[0]=329
update leader CommitIndex=329
leader log:
[{snapshot 48 329}]
------------------------------------------------------
term 48 Server0 start snapshot! index=329
term 48 server0 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=329
-------------------------------------------------------------
client write log 7897226243481559505 (index 330) to leader 1
client write log 8466046082354501041 (index 331) to leader 1
client write log 677166669425801541 (index 332) to leader 1
client write log 3813139841674431161 (index 333) to leader 1
client write log 3862959862448998235 (index 334) to leader 1
client write log 859128616038507723 (index 335) to leader 1
client write log 4145500278285570998 (index 336) to leader 1
client write log 7600639339169429083 (index 337) to leader 1
client write log 7918466121109743036 (index 338) to leader 1
flag 37166 term 48 leader 1 nextIndex[0]: 330  matchIndex[0]: 329
term 48 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 48 leaderCommit: 329 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 48
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=339
update matchIndex[0]=338
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83150 term 48 leader 1 nextIndex[0]: 339  matchIndex[0]: 338
term 48 leader 1 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 48
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=339
update matchIndex[0]=338
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338}]
------------------------------------------------------
!!!!!!connect server 2
client write log 1062155375304756619 (index 339) to leader 1
flag 34951 term 48 leader 1 nextIndex[0]: 339  matchIndex[0]: 338
term 48 leader 1 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 329  matchIndex[2]: 328
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 48
------------------------------------------------------
term 49 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 server 2 vote for server 1
term 50 server 0 vote for server 1
term 50 server 1 get vote from server 2
term 50 server 1 become leader
------------------------------------------------------
term 50 server 1 get outdate rpc reply from server 0
flag 11200 term 50 leader 1 nextIndex[0]: 340  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
flag 71339 term 50 leader 1 nextIndex[2]: 340  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
term 50 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 340->339
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
flag 64427 term 50 leader 1 nextIndex[0]: 340  matchIndex[0]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 329  matchIndex[2]: 0
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 48
------------------------------------------------------
term 50 server 2 InstallSnapshot success
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 330 matchIndex[2] 329 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 48 rf.commitIndex 329 rf.lastApplied 329
term 50 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
flag 74531 term 50 leader 1 nextIndex[0]: 340  matchIndex[0]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
flag 38246 term 50 leader 1 nextIndex[2]: 330  matchIndex[2]: 329
term 50 leader 1 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
flag 65181 term 50 leader 1 nextIndex[0]: 340  matchIndex[0]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
flag 6424 term 50 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
flag 11810 term 50 leader 1 nextIndex[0]: 340  matchIndex[0]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
flag 96354 term 50 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
flag 56600 term 50 leader 1 nextIndex[0]: 340  matchIndex[0]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
flag 13617 term 50 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
flag 93573 term 50 leader 1 nextIndex[0]: 340  matchIndex[0]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
flag 62724 term 50 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32799 term 50 leader 1 nextIndex[0]: 340  matchIndex[0]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
flag 48943 term 50 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:338 
term 50 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
flag 62569 term 50 leader 1 nextIndex[0]: 340  matchIndex[0]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
flag 6185 term 50 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=338
leader log:
term 50 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
term 50 server 0 not vote for server 2, 任期不够新
term 50 server 2 get outdate rpc reply from server 0
flag 91766 term 50 leader 1 nextIndex[0]: 340  matchIndex[0]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
flag 52260 term 50 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57942 term 50 leader 1 nextIndex[0]: 340  matchIndex[0]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
flag 5563 term 50 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80864 term 50 leader 1 nextIndex[0]: 340  matchIndex[0]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
flag 72501 term 50 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
flag 70186 term 50 leader 1 nextIndex[0]: 340  matchIndex[0]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
flag 77669 term 50 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35162 term 50 leader 1 nextIndex[0]: 340  matchIndex[0]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
flag 12990 term 50 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
flag 31088 term 50 leader 1 nextIndex[0]: 340  matchIndex[0]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
flag 6793 term 50 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
flag 31816 term 50 leader 1 nextIndex[0]: 340  matchIndex[0]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
flag 69257 term 50 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
flag 88123 term 50 leader 1 nextIndex[0]: 340  matchIndex[0]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
flag 11345 term 50 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
flag 36259 term 50 leader 1 nextIndex[0]: 340  matchIndex[0]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
flag 22075 term 50 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=340
update matchIndex[2]=339
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1062155375304756619 (index 340) to leader 1
flag 57312 term 50 leader 1 nextIndex[0]: 340  matchIndex[0]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
flag 85927 term 50 leader 1 nextIndex[2]: 340  matchIndex[2]: 339
term 50 leader 1 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 338 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:338 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=340
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339} {1062155375304756619 50 340}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=340
leader log:
[{snapshot 48 329} {7897226243481559505 48 330} {8466046082354501041 48 331} {677166669425801541 48 332} {3813139841674431161 48 333} {3862959862448998235 48 334} {859128616038507723 48 335} {4145500278285570998 48 336} {7600639339169429083 48 337} {7918466121109743036 48 338} {1062155375304756619 48 339} {1062155375304756619 50 340}]
------------------------------------------------------
term 50 Server1 start snapshot! index=339
term 50 server1 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=340
-------------------------------------------------------------
flag 5243 term 50 leader 1 nextIndex[0]: 341  matchIndex[0]: 340
term 50 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 50 leaderCommit: 340 
------------------------------------------------------
flag 28156 term 50 leader 1 nextIndex[2]: 341  matchIndex[2]: 340
term 50 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 50 leaderCommit: 340 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=340
leader log:
[{snapshot 48 339} {1062155375304756619 50 340}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=340
leader log:
[{snapshot 48 339} {1062155375304756619 50 340}]
------------------------------------------------------
term 50 Server2 start snapshot! index=339
term 50 server2 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=340
-------------------------------------------------------------
term 50 Server0 start snapshot! index=339
term 50 server0 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=340
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74899 term 50 leader 1 nextIndex[0]: 341  matchIndex[0]: 340
term 50 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 50 leaderCommit: 340 
------------------------------------------------------
flag 55465 term 50 leader 1 nextIndex[2]: 341  matchIndex[2]: 340
term 50 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 50 leaderCommit: 340 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=340
leader log:
[{snapshot 48 339} {1062155375304756619 50 340}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=340
leader log:
[{snapshot 48 339} {1062155375304756619 50 340}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46910 term 50 leader 1 nextIndex[0]: 341  matchIndex[0]: 340
term 50 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 50 leaderCommit: 340 
------------------------------------------------------
flag 96363 term 50 leader 1 nextIndex[2]: 341  matchIndex[2]: 340
term 50 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 50 leaderCommit: 340 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=340
leader log:
[{snapshot 48 339} {1062155375304756619 50 340}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=340
leader log:
[{snapshot 48 339} {1062155375304756619 50 340}]
------------------------------------------------------
flag 83572 term 50 leader 1 nextIndex[0]: 341  matchIndex[0]: 340
term 50 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 50 leaderCommit: 340 
------------------------------------------------------
flag 68769 term 50 leader 1 nextIndex[2]: 341  matchIndex[2]: 340
term 50 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 50 leaderCommit: 340 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=340
leader log:
[{snapshot 48 339} {1062155375304756619 50 340}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=340
leader log:
[{snapshot 48 339} {1062155375304756619 50 340}]
------------------------------------------------------
flag 33680 term 50 leader 1 nextIndex[0]: 341  matchIndex[0]: 340
term 50 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 50 leaderCommit: 340 
------------------------------------------------------
flag 2458 term 50 leader 1 nextIndex[2]: 341  matchIndex[2]: 340
term 50 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 50 leaderCommit: 340 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=340
leader log:
[{snapshot 48 339} {1062155375304756619 50 340}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=340
leader log:
[{snapshot 48 339} {1062155375304756619 50 340}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 91404 term 50 leader 1 nextIndex[0]: 341  matchIndex[0]: 340
term 50 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 50 leaderCommit: 340 
------------------------------------------------------
flag 99742 term 50 leader 1 nextIndex[2]: 341  matchIndex[2]: 340
term 50 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 50 leaderCommit: 340 
------------------------------------------------------
flag 40011 term 50 leader 1 nextIndex[0]: 341  matchIndex[0]: 340
term 50 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 50 leaderCommit: 340 
------------------------------------------------------
flag 96280 term 50 leader 1 nextIndex[2]: 341  matchIndex[2]: 340
term 50 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 50 leaderCommit: 340 
------------------------------------------------------
term 50 server 0 not vote for server 2, 任期不够新
term 50 server 2 get outdate rpc reply from server 0
flag 10024 term 50 leader 1 nextIndex[0]: 341  matchIndex[0]: 340
term 50 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 50 leaderCommit: 340 
------------------------------------------------------
flag 12208 term 50 leader 1 nextIndex[2]: 341  matchIndex[2]: 340
term 50 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 50 leaderCommit: 340 
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 341->340
------------------------------------------------------
term 51 server 2 vote for server 0
term 51 server 0 get vote from server 2
term 51 server 0 become leader
------------------------------------------------------
flag 35929 term 51 leader 0 nextIndex[1]: 341  matchIndex[1]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 50 leaderCommit: 340 
------------------------------------------------------
flag 45800 term 51 leader 0 nextIndex[2]: 341  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 50 leaderCommit: 340 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=341
update matchIndex[2]=340
update leader CommitIndex=340
leader log:
[{snapshot 48 339} {1062155375304756619 50 340}]
------------------------------------------------------
term 50 leader 1 nextIndex[0]: 0  matchIndex[0]: 340
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 48
------------------------------------------------------
flag 14427 term 50 leader 1 nextIndex[2]: 341  matchIndex[2]: 340
term 50 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 50 leaderCommit: 340 
------------------------------------------------------
client write log 1154145374856374921 (index 341) to leader 0
flag 21632 term 51 leader 0 nextIndex[1]: 341  matchIndex[1]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 50 leaderCommit: 340 
------------------------------------------------------
flag 1435 term 51 leader 0 nextIndex[2]: 341  matchIndex[2]: 340
term 51 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 50 leaderCommit: 340 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341}]
------------------------------------------------------
term 50 leader 1 nextIndex[0]: 0  matchIndex[0]: 340
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 48
------------------------------------------------------
flag 66605 term 50 leader 1 nextIndex[2]: 341  matchIndex[2]: 340
term 50 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 50 leaderCommit: 340 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75154 term 51 leader 0 nextIndex[1]: 341  matchIndex[1]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 50 leaderCommit: 341 
------------------------------------------------------
flag 44086 term 51 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 51 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 51 leaderCommit: 341 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=342
update matchIndex[2]=341
update leader CommitIndex=341
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341}]
------------------------------------------------------
term 50 leader 1 nextIndex[0]: 0  matchIndex[0]: 340
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 48
------------------------------------------------------
flag 13442 term 50 leader 1 nextIndex[2]: 341  matchIndex[2]: 340
term 50 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 50 leaderCommit: 340 
------------------------------------------------------
client write log 4909524065777896622 (index 342) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 341->340
------------------------------------------------------
term 51 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 48
------------------------------------------------------
flag 85358 term 51 leader 0 nextIndex[2]: 342  matchIndex[2]: 341
term 51 leader 0 sendAppendEntries PrevLogIndex: 341  PrevLogTerm: 51 leaderCommit: 341 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
term 50 leader 1 nextIndex[0]: 0  matchIndex[0]: 340
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 48
------------------------------------------------------
flag 21339 term 50 leader 1 nextIndex[2]: 341  matchIndex[2]: 340
term 50 leader 1 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 50 leaderCommit: 340 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 341->340
------------------------------------------------------
term 51 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 48
------------------------------------------------------
flag 31763 term 51 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
term 50 leader 1 nextIndex[0]: 0  matchIndex[0]: 340
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 48
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 0  matchIndex[2]: 340
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 48
------------------------------------------------------
!!!!!!connect server 1
client write log 6760880744332648800 (index 341) to leader 1
term 51 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 48
------------------------------------------------------
flag 22133 term 51 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
term 51 server 1 InstallSnapshot fail
rf.commitIndex 340 args.LastIncludedIndex 339
------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 340 matchIndex[1] 339 
------------------------------------------------------------------------
flag 526 term 51 leader 0 nextIndex[1]: 340  matchIndex[1]: 339
term 51 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 342 
------------------------------------------------------
flag 86150 term 51 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:341 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
flag 33411 term 51 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
flag 10331 term 51 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueterm 51 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
update nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
flag 57724 term 51 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
flag 32882 term 51 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
flag 35691 term 51 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
flag 27826 term 51 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60886 term 51 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
flag 58117 term 51 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
flag 90680 term 51 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
flag 69620 term 51 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
flag 28146 term 51 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
flag 47096 term 51 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
flag 92119 term 51 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
flag 19837 term 51 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1036 term 51 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
flag 40923 term 51 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
flag 93155 term 51 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
flag 80158 term 51 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
flag 40307 term 51 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
flag 35578 term 51 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
term 51 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49271 term 51 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
flag 28814 term 51 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
flag 38797 term 51 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
flag 45635 term 51 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
flag 96453 term 51 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
flag 62772 term 51 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
flag 31640 term 51 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
flag 26242 term 51 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13689 term 51 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
flag 8787 term 51 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
flag 33680 term 51 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
flag 91415 term 51 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
term 51 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
flag 24087 term 51 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
flag 78430 term 51 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
flag 55979 term 51 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
flag 93012 term 51 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342}]
------------------------------------------------------
client write log 6760880744332648800 (index 343) to leader 0
term 51 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57018 term 51 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
flag 60570 term 51 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 51 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 51 leaderCommit: 342 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:342 
term 51 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342} {6760880744332648800 51 343}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342} {6760880744332648800 51 343}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 344->343
------------------------------------------------------
term 51 server 1 not vote for server 0, 日志不够新
term 51 server 0 get outdate rpc reply from server 1
term 51 leader 0 nextIndex[1]: 0  matchIndex[1]: 343
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 48
------------------------------------------------------
flag 37289 term 51 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 51 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 51 leaderCommit: 343 
------------------------------------------------------
term 51 server 1 InstallSnapshot fail
rf.commitIndex 342 args.LastIncludedIndex 339
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 340 matchIndex[1] 339 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342} {6760880744332648800 51 343}]
------------------------------------------------------
flag 24858 term 51 leader 0 nextIndex[1]: 340  matchIndex[1]: 339
term 51 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 343 
------------------------------------------------------
flag 69673 term 51 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 51 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 51 leaderCommit: 343 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342} {6760880744332648800 51 343}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342} {6760880744332648800 51 343}]
------------------------------------------------------
term 51 server 1 not vote for server 2, 任期不够新
term 51 server 2 get outdate rpc reply from server 1
term 51 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 340 matchIndex[1] 339 
------------------------------------------------------------------------
flag 65551 term 51 leader 0 nextIndex[1]: 340  matchIndex[1]: 339
term 51 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 48 leaderCommit: 343 
------------------------------------------------------
flag 83845 term 51 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 51 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 51 leaderCommit: 343 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342} {6760880744332648800 51 343}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342} {6760880744332648800 51 343}]
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80389 term 51 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 51 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 51 leaderCommit: 343 
------------------------------------------------------
flag 71391 term 51 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 51 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 51 leaderCommit: 343 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342} {6760880744332648800 51 343}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342} {6760880744332648800 51 343}]
------------------------------------------------------
term 51 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58558 term 51 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 51 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 51 leaderCommit: 343 
------------------------------------------------------
flag 73279 term 51 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 51 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 51 leaderCommit: 343 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342} {6760880744332648800 51 343}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342} {6760880744332648800 51 343}]
------------------------------------------------------
flag 74212 term 51 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 51 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 51 leaderCommit: 343 
------------------------------------------------------
flag 49883 term 51 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 51 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 51 leaderCommit: 343 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342} {6760880744332648800 51 343}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342} {6760880744332648800 51 343}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6230953795673616720 (index 344) to leader 0
flag 24951 term 51 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 51 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 51 leaderCommit: 343 
------------------------------------------------------
flag 8145 term 51 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 51 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 51 leaderCommit: 343 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342} {6760880744332648800 51 343} {6230953795673616720 51 344}]
------------------------------------------------------
flag 15210 term 51 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 51 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 51 leaderCommit: 344 
------------------------------------------------------
flag 14934 term 51 leader 0 nextIndex[2]: 345  matchIndex[2]: 344
term 51 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 51 leaderCommit: 344 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342} {6760880744332648800 51 343} {6230953795673616720 51 344}]
------------------------------------------------------
client write log 2429464395260573109 (index 345) to leader 0
client write log 785991922256857974 (index 346) to leader 0
client write log 4061418011767034928 (index 347) to leader 0
client write log 594135295297626992 (index 348) to leader 0
client write log 8883109863699543731 (index 349) to leader 0
client write log 1592064449655096067 (index 350) to leader 0
client write log 4368765364543288094 (index 351) to leader 0
client write log 546140608275616291 (index 352) to leader 0
client write log 6712460788056608171 (index 353) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81010 term 51 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 51 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 51 leaderCommit: 344 
------------------------------------------------------
flag 23109 term 51 leader 0 nextIndex[2]: 345  matchIndex[2]: 344
term 51 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 51 leaderCommit: 344 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 48 339} {1062155375304756619 50 340} {1154145374856374921 51 341} {4909524065777896622 51 342} {6760880744332648800 51 343} {6230953795673616720 51 344} {2429464395260573109 51 345} {785991922256857974 51 346} {4061418011767034928 51 347} {594135295297626992 51 348} {8883109863699543731 51 349} {1592064449655096067 51 350} {4368765364543288094 51 351} {546140608275616291 51 352} {6712460788056608171 51 353}]
------------------------------------------------------
term 51 Server0 start snapshot! index=349
term 51 server0 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=353
-------------------------------------------------------------
term 51 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 51
------------------------------------------------------
flag 20561 term 51 leader 0 nextIndex[2]: 354  matchIndex[2]: 353
term 51 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 51 leaderCommit: 353 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 51 349} {1592064449655096067 51 350} {4368765364543288094 51 351} {546140608275616291 51 352} {6712460788056608171 51 353}]
------------------------------------------------------
term 51 Server2 start snapshot! index=349
term 51 server2 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=353
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8983616704425822687 (index 354) to leader 0
term 51 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 51
------------------------------------------------------
flag 33822 term 51 leader 0 nextIndex[2]: 354  matchIndex[2]: 353
term 51 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 51 leaderCommit: 353 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
term 52 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=355
update matchIndex[2]=354
update leader CommitIndex=354
leader log:
[{snapshot 51 349} {1592064449655096067 51 350} {4368765364543288094 51 351} {546140608275616291 51 352} {6712460788056608171 51 353} {8983616704425822687 51 354}]
------------------------------------------------------
term 51 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 53 server 2 vote for server 0
term 53 server 1 vote for server 0
term 53 server 0 get vote from server 1
term 53 server 0 become leader
------------------------------------------------------
term 53 server 0 get outdate rpc reply from server 2
flag 75875 term 53 leader 0 nextIndex[1]: 355  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 51 leaderCommit: 354 
------------------------------------------------------
flag 9063 term 53 leader 0 nextIndex[2]: 355  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 51 leaderCommit: 354 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
term 53 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=355
update matchIndex[2]=354
update leader CommitIndex=354
leader log:
[{snapshot 51 349} {1592064449655096067 51 350} {4368765364543288094 51 351} {546140608275616291 51 352} {6712460788056608171 51 353} {8983616704425822687 51 354}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 355->354
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 344  matchIndex[1]: 0
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 51
------------------------------------------------------
flag 71684 term 53 leader 0 nextIndex[2]: 355  matchIndex[2]: 354
term 53 leader 0 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 51 leaderCommit: 354 
------------------------------------------------------
term 53 server 1 InstallSnapshot success
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 350 matchIndex[1] 349 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 349 rf.lastIncludedTerm 51 rf.commitIndex 349 rf.lastApplied 349
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=355
update matchIndex[2]=354
update leader CommitIndex=354
leader log:
[{snapshot 51 349} {1592064449655096067 51 350} {4368765364543288094 51 351} {546140608275616291 51 352} {6712460788056608171 51 353} {8983616704425822687 51 354}]
------------------------------------------------------
flag 21632 term 53 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 53 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 51 leaderCommit: 354 
------------------------------------------------------
flag 80794 term 53 leader 0 nextIndex[2]: 355  matchIndex[2]: 354
term 53 leader 0 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 51 leaderCommit: 354 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=355
update matchIndex[2]=354
update leader CommitIndex=354
leader log:
[{snapshot 51 349} {1592064449655096067 51 350} {4368765364543288094 51 351} {546140608275616291 51 352} {6712460788056608171 51 353} {8983616704425822687 51 354}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=354
leader log:
[{snapshot 51 349} {1592064449655096067 51 350} {4368765364543288094 51 351} {546140608275616291 51 352} {6712460788056608171 51 353} {8983616704425822687 51 354}]
------------------------------------------------------
flag 53074 term 53 leader 0 nextIndex[1]: 355  matchIndex[1]: 354
term 53 leader 0 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 51 leaderCommit: 354 
------------------------------------------------------
flag 20359 term 53 leader 0 nextIndex[2]: 355  matchIndex[2]: 354
term 53 leader 0 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 51 leaderCommit: 354 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:354 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=354
leader log:
[{snapshot 51 349} {1592064449655096067 51 350} {4368765364543288094 51 351} {546140608275616291 51 352} {6712460788056608171 51 353} {8983616704425822687 51 354}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=355
update matchIndex[2]=354
update leader CommitIndex=354
leader log:
[{snapshot 51 349} {1592064449655096067 51 350} {4368765364543288094 51 351} {546140608275616291 51 352} {6712460788056608171 51 353} {8983616704425822687 51 354}]
------------------------------------------------------
flag 9452 term 53 leader 0 nextIndex[1]: 355  matchIndex[1]: 354
term 53 leader 0 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 51 leaderCommit: 354 
------------------------------------------------------
flag 73651 term 53 leader 0 nextIndex[2]: 355  matchIndex[2]: 354
term 53 leader 0 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 51 leaderCommit: 354 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=354
leader log:
[{snapshot 51 349} {1592064449655096067 51 350} {4368765364543288094 51 351} {546140608275616291 51 352} {6712460788056608171 51 353} {8983616704425822687 51 354}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=355
update matchIndex[2]=354
update leader CommitIndex=354
leader log:
[{snapshot 51 349} {1592064449655096067 51 350} {4368765364543288094 51 351} {546140608275616291 51 352} {6712460788056608171 51 353} {8983616704425822687 51 354}]
------------------------------------------------------
flag 66441 term 53 leader 0 nextIndex[1]: 355  matchIndex[1]: 354
term 53 leader 0 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 51 leaderCommit: 354 
------------------------------------------------------
flag 75293 term 53 leader 0 nextIndex[2]: 355  matchIndex[2]: 354
term 53 leader 0 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 51 leaderCommit: 354 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=355
update matchIndex[2]=354
update leader CommitIndex=354
leader log:
[{snapshot 51 349} {1592064449655096067 51 350} {4368765364543288094 51 351} {546140608275616291 51 352} {6712460788056608171 51 353} {8983616704425822687 51 354}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=354
leader log:
[{snapshot 51 349} {1592064449655096067 51 350} {4368765364543288094 51 351} {546140608275616291 51 352} {6712460788056608171 51 353} {8983616704425822687 51 354}]
------------------------------------------------------
flag 55465 term 53 leader 0 nextIndex[1]: 355  matchIndex[1]: 354
term 53 leader 0 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 51 leaderCommit: 354 
------------------------------------------------------
flag 83268 term 53 leader 0 nextIndex[2]: 355  matchIndex[2]: 354
term 53 leader 0 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 51 leaderCommit: 354 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=355
update matchIndex[2]=354
update leader CommitIndex=354
leader log:
[{snapshot 51 349} {1592064449655096067 51 350} {4368765364543288094 51 351} {546140608275616291 51 352} {6712460788056608171 51 353} {8983616704425822687 51 354}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=354
leader log:
[{snapshot 51 349} {1592064449655096067 51 350} {4368765364543288094 51 351} {546140608275616291 51 352} {6712460788056608171 51 353} {8983616704425822687 51 354}]
------------------------------------------------------
flag 77714 term 53 leader 0 nextIndex[1]: 355  matchIndex[1]: 354
term 53 leader 0 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 51 leaderCommit: 354 
------------------------------------------------------
flag 14786 term 53 leader 0 nextIndex[2]: 355  matchIndex[2]: 354
term 53 leader 0 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 51 leaderCommit: 354 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:354 
term 53 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=355
update matchIndex[2]=354
update leader CommitIndex=354
leader log:
[{snapshot 51 349} {1592064449655096067 51 350} {4368765364543288094 51 351} {546140608275616291 51 352} {6712460788056608171 51 353} {8983616704425822687 51 354}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=354
leader log:
[{snapshot 51 349} {1592064449655096067 51 350} {4368765364543288094 51 351} {546140608275616291 51 352} {6712460788056608171 51 353} {8983616704425822687 51 354}]
------------------------------------------------------
term 53 server 2 not vote for server 1, 任期不够新
term 53 server 1 get outdate rpc reply from server 2
term 53 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47099 term 53 leader 0 nextIndex[1]: 355  matchIndex[1]: 354
term 53 leader 0 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 51 leaderCommit: 354 
------------------------------------------------------
flag 638 term 53 leader 0 nextIndex[2]: 355  matchIndex[2]: 354
term 53 leader 0 sendAppendEntries PrevLogIndex: 354  PrevLogTerm: 51 leaderCommit: 354 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:354 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:354 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=355
update matchIndex[2]=354
update leader CommitIndex=354
leader log:
[{snapshot 51 349} {1592064449655096067 51 350} {4368765364543288094 51 351} {546140608275616291 51 352} {6712460788056608171 51 353} {8983616704425822687 51 354}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=355
update matchIndex[1]=354
update leader CommitIndex=354
leader log:
[{snapshot 51 349} {1592064449655096067 51 350} {4368765364543288094 51 351} {546140608275616291 51 352} {6712460788056608171 51 353} {8983616704425822687 51 354}]
------------------------------------------------------
  ... Passed --  81.3  3 1855  893347  354
--- PASS: TestSnapshotInstall2D (81.28s)
PASS
