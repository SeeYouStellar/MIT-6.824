=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 0
term 1 server 1 vote for server 0
term 1 server 0 get vote from server 2
term 1 server 0 become leader
------------------------------------------------------
term 1 server 0 get outdate rpc reply from server 1
flag 68200 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 55855 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 8186534446868569450 (index 1) to leader 0
flag 43694 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 27399 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
[{<nil> 0 0} {8186534446868569450 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8186534446868569450 1 1}]
------------------------------------------------------
flag 77717 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 37702 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8186534446868569450 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8186534446868569450 1 1}]
------------------------------------------------------
flag 6856 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 18531 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8186534446868569450 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8186534446868569450 1 1}]
------------------------------------------------------
flag 130 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 65777 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8186534446868569450 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8186534446868569450 1 1}]
------------------------------------------------------
flag 41439 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 43590 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8186534446868569450 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8186534446868569450 1 1}]
------------------------------------------------------
flag 81005 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 61894 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8186534446868569450 1 1}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8186534446868569450 1 1}]
------------------------------------------------------
flag 26561 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 98847 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8186534446868569450 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8186534446868569450 1 1}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6970585307987255695 (index 2) to leader 0
flag 52359 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 50132 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {8186534446868569450 1 1} {6970585307987255695 1 2}]
------------------------------------------------------
flag 43542 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 14646 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {8186534446868569450 1 1} {6970585307987255695 1 2}]
------------------------------------------------------
client write log 1576144936198215195 (index 3) to leader 0
client write log 5912062454134836988 (index 4) to leader 0
client write log 2587872454222791241 (index 5) to leader 0
client write log 528701731658313546 (index 6) to leader 0
client write log 6513565982123690014 (index 7) to leader 0
client write log 2111531280348708110 (index 8) to leader 0
client write log 7780954080187638317 (index 9) to leader 0
client write log 8751023126390953700 (index 10) to leader 0
client write log 527286342612459470 (index 11) to leader 0
client write log 3142811597353096922 (index 12) to leader 0
client write log 7288730113044048535 (index 13) to leader 0
client write log 2371953827085319940 (index 14) to leader 0
flag 78390 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 31237 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{<nil> 0 0} {8186534446868569450 1 1} {6970585307987255695 1 2} {1576144936198215195 1 3} {5912062454134836988 1 4} {2587872454222791241 1 5} {528701731658313546 1 6} {6513565982123690014 1 7} {2111531280348708110 1 8} {7780954080187638317 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=14
-------------------------------------------------------------
term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 2585 term 1 leader 0 nextIndex[2]: 15  matchIndex[2]: 14
term 1 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=14
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6267027806450345670 (index 15) to leader 0
term 1 server 2 not vote for server 1, 日志不够新
term 1 server 0 not vote for server 1, 日志不够新
term 3 server 2 vote for server 0
term 3 server 1 vote for server 0
term 3 server 0 get vote from server 2
term 3 server 0 become leader
------------------------------------------------------
term 3 server 0 get outdate rpc reply from server 1
flag 67738 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 65895 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 16->15
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 16->15
------------------------------------------------------
term 3 leader 0 nextIndex[1]: 2  matchIndex[1]: 0
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 57019 term 3 leader 0 nextIndex[2]: 15  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
term 3 server 1 InstallSnapshot success
------------------------------------------------------
term 3 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 10 matchIndex[1] 9 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 68106 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 26528 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
flag 40885 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 5530 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
flag 43502 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 39447 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
flag 82128 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 7354 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
flag 37182 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 62673 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
flag 17280 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 65273 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
flag 89567 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 11015 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
flag 18050 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 8464 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
flag 83331 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 26436 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
flag 75376 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 86015 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
flag 31956 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 78000 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
flag 92095 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 22393 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
flag 12715 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 70179 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
flag 83658 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 97850 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
flag 52120 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 52710 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
flag 56205 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 54373 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
flag 17428 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 29850 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=14
leader log:
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=16
update matchIndex[1]=15
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15}]
------------------------------------------------------
client write log 6267027806450345670 (index 16) to leader 0
flag 36177 term 3 leader 0 nextIndex[1]: 16  matchIndex[1]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
flag 80769 term 3 leader 0 nextIndex[2]: 16  matchIndex[2]: 15
term 3 leader 0 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15} {6267027806450345670 3 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15} {6267027806450345670 3 16}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66188 term 3 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 24749 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15} {6267027806450345670 3 16}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15} {6267027806450345670 3 16}]
------------------------------------------------------
flag 38693 term 3 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 87321 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15} {6267027806450345670 3 16}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15} {6267027806450345670 3 16}]
------------------------------------------------------
flag 28798 term 3 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 37339 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15} {6267027806450345670 3 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15} {6267027806450345670 3 16}]
------------------------------------------------------
flag 70768 term 3 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 12598 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15} {6267027806450345670 3 16}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15} {6267027806450345670 3 16}]
------------------------------------------------------
flag 38493 term 3 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 36015 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15} {6267027806450345670 3 16}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15} {6267027806450345670 3 16}]
------------------------------------------------------
flag 46466 term 3 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 91309 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15} {6267027806450345670 3 16}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=17
update matchIndex[1]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15} {6267027806450345670 3 16}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 34453 term 3 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 19762 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 4336 term 3 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 93019 term 3 leader 0 nextIndex[2]: 17  matchIndex[2]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 17->16
------------------------------------------------------
flag 83139 term 3 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 leader 0 nextIndex[2]: 0  matchIndex[2]: 16
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 2 vote for server 1
term 4 server 1 get vote from server 2
term 4 server 1 become leader
------------------------------------------------------
flag 69799 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 11748 term 4 leader 1 nextIndex[2]: 17  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=17
update matchIndex[2]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15} {6267027806450345670 3 16}]
------------------------------------------------------
flag 44830 term 3 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 leader 0 nextIndex[2]: 0  matchIndex[2]: 16
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
client write log 3339788429481449107 (index 17) to leader 1
flag 61990 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
flag 37437 term 4 leader 1 nextIndex[2]: 17  matchIndex[2]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15} {6267027806450345670 3 16} {3339788429481449107 4 17}]
------------------------------------------------------
flag 21586 term 3 leader 0 nextIndex[1]: 17  matchIndex[1]: 16
term 3 leader 0 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 16 
------------------------------------------------------
term 3 leader 0 nextIndex[2]: 0  matchIndex[2]: 16
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 17->16
------------------------------------------------------
flag 54456 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 81908 term 4 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=18
update matchIndex[2]=17
update leader CommitIndex=17
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15} {6267027806450345670 3 16} {3339788429481449107 4 17}]
------------------------------------------------------
client write log 4135124785319200670 (index 18) to leader 1
client write log 1317033371542869809 (index 19) to leader 1
client write log 8379392251490281029 (index 20) to leader 1
client write log 8025851789558958181 (index 21) to leader 1
client write log 5184894317220525019 (index 22) to leader 1
client write log 7638863867169049323 (index 23) to leader 1
client write log 189475598847602730 (index 24) to leader 1
client write log 3155331369945564417 (index 25) to leader 1
client write log 7439191399467191060 (index 26) to leader 1
client write log 3246539627812462881 (index 27) to leader 1
client write log 4994715561007972488 (index 28) to leader 1
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 16
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 leader 0 nextIndex[2]: 0  matchIndex[2]: 16
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32953 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 3 leaderCommit: 17 
------------------------------------------------------
flag 83268 term 4 leader 1 nextIndex[2]: 18  matchIndex[2]: 17
term 4 leader 1 sendAppendEntries PrevLogIndex: 17  PrevLogTerm: 4 leaderCommit: 17 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:17 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 1 9} {8751023126390953700 1 10} {527286342612459470 1 11} {3142811597353096922 1 12} {7288730113044048535 1 13} {2371953827085319940 1 14} {6267027806450345670 1 15} {6267027806450345670 3 16} {3339788429481449107 4 17} {4135124785319200670 4 18} {1317033371542869809 4 19} {8379392251490281029 4 20} {8025851789558958181 4 21} {5184894317220525019 4 22} {7638863867169049323 4 23} {189475598847602730 4 24} {3155331369945564417 4 25} {7439191399467191060 4 26} {3246539627812462881 4 27} {4994715561007972488 4 28}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=28
-------------------------------------------------------------
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 16
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 leader 0 nextIndex[2]: 0  matchIndex[2]: 16
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 61698 term 4 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 4 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=29
update matchIndex[2]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {8379392251490281029 4 20} {8025851789558958181 4 21} {5184894317220525019 4 22} {7638863867169049323 4 23} {189475598847602730 4 24} {3155331369945564417 4 25} {7439191399467191060 4 26} {3246539627812462881 4 27} {4994715561007972488 4 28}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=28
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6432664668719789089 (index 29) to leader 1
term 3 leader 0 nextIndex[1]: 0  matchIndex[1]: 16
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 leader 0 nextIndex[2]: 0  matchIndex[2]: 16
term 3 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 3 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 58968 term 4 leader 1 nextIndex[2]: 29  matchIndex[2]: 28
term 4 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 19} {8379392251490281029 4 20} {8025851789558958181 4 21} {5184894317220525019 4 22} {7638863867169049323 4 23} {189475598847602730 4 24} {3155331369945564417 4 25} {7439191399467191060 4 26} {3246539627812462881 4 27} {4994715561007972488 4 28} {6432664668719789089 4 29}]
------------------------------------------------------
term 4 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 4 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 20 matchIndex[0] 19 
------------------------------------------------------------------------
term 4 Server1 start snapshot! index=29
term 4 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
term 4 server 1 not vote for server 0, 日志不够新
term 4 server 2 not vote for server 0, 日志不够新
term 6 server 2 vote for server 1
term 6 server 1 get vote from server 2
term 6 server 1 become leader
------------------------------------------------------
term 6 server 0 vote for server 1
term 6 server 1 get outdate rpc reply from server 0
flag 11209 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 4956 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 30->29
------------------------------------------------------
term 6 Server2 start snapshot! index=29
term 6 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
term 6 leader 1 nextIndex[0]: 20  matchIndex[0]: 0
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 4
------------------------------------------------------
flag 82425 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 0 InstallSnapshot success
------------------------------------------------------
term 6 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 30 matchIndex[0] 29 
------------------------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 29 rf.lastIncludedTerm 4 rf.commitIndex 29 rf.lastApplied 29
flag 16271 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 8665 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
flag 59289 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 53748 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
flag 67347 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 67361 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
flag 81238 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 70456 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
flag 65078 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 46078 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 29}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 358345977039594989 (index 30) to leader 1
flag 5628 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
flag 69770 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {358345977039594989 6 30}]
------------------------------------------------------
flag 57961 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 70870 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {358345977039594989 6 30}]
------------------------------------------------------
client write log 2870945833270050815 (index 31) to leader 1
client write log 4339598342657490128 (index 32) to leader 1
client write log 6466516610304255112 (index 33) to leader 1
client write log 2465657941591444218 (index 34) to leader 1
client write log 6878172896857663653 (index 35) to leader 1
client write log 5081050240400898546 (index 36) to leader 1
client write log 7302301683816365571 (index 37) to leader 1
client write log 252906930163292596 (index 38) to leader 1
client write log 5266675222152265670 (index 39) to leader 1
client write log 8008774921930254236 (index 40) to leader 1
term 6 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 66374 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 6660 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 30 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 29} {358345977039594989 6 30} {2870945833270050815 6 31} {4339598342657490128 6 32} {6466516610304255112 6 33} {2465657941591444218 6 34} {6878172896857663653 6 35} {5081050240400898546 6 36} {7302301683816365571 6 37} {252906930163292596 6 38} {5266675222152265670 6 39} {8008774921930254236 6 40}]
------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
flag 26213 term 6 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40}]
------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1001648047746786342 (index 41) to leader 1
term 6 server 1 not vote for server 2, 日志不够新
term 6 server 0 not vote for server 2, 日志不够新
term 8 server 2 vote for server 1
term 8 server 0 vote for server 1
term 8 server 1 get vote from server 2
term 8 server 1 become leader
------------------------------------------------------
term 8 server 1 get outdate rpc reply from server 0
flag 31619 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 88818 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 42->41
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 42->41
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95760 term 8 leader 1 nextIndex[0]: 41  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 30  matchIndex[2]: 0
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
term 8 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 40 matchIndex[2] 39 
------------------------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
flag 34559 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 32675 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
flag 34101 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 93924 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
flag 27440 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 53964 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56666 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 86558 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
flag 65598 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 41080 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
flag 25727 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 2269 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
flag 43319 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 2563 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21585 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 96828 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12631 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 39827 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
flag 6269 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 83640 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
flag 56953 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 93258 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
flag 94147 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 59870 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
flag 30821 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 54786 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
term 8 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62563 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 23973 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
flag 73270 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 93802 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
flag 95905 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 19974 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
term 8 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 82640 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 41778 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2885 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 33060 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41}]
------------------------------------------------------
client write log 1001648047746786342 (index 42) to leader 1
flag 81011 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 1378 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41} {1001648047746786342 8 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41} {1001648047746786342 8 42}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71404 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 87248 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41} {1001648047746786342 8 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41} {1001648047746786342 8 42}]
------------------------------------------------------
term 8 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72885 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 72720 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41} {1001648047746786342 8 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41} {1001648047746786342 8 42}]
------------------------------------------------------
flag 33480 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 51663 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41} {1001648047746786342 8 42}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41} {1001648047746786342 8 42}]
------------------------------------------------------
term 8 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61190 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 84777 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41} {1001648047746786342 8 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41} {1001648047746786342 8 42}]
------------------------------------------------------
flag 54068 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 24199 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41} {1001648047746786342 8 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41} {1001648047746786342 8 42}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1913835738946743033 (index 43) to leader 1
flag 89275 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
flag 70685 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 42 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41} {1001648047746786342 8 42} {1913835738946743033 8 43}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2791 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 67384 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41} {1001648047746786342 8 42} {1913835738946743033 8 43}]
------------------------------------------------------
client write log 3593183772729019471 (index 44) to leader 1
client write log 7929913909522648285 (index 45) to leader 1
client write log 4737074697293850025 (index 46) to leader 1
client write log 6624160716705507104 (index 47) to leader 1
client write log 9184112041794083281 (index 48) to leader 1
client write log 2123851975008744232 (index 49) to leader 1
client write log 4583380130579651050 (index 50) to leader 1
client write log 5568285211330710937 (index 51) to leader 1
term 8 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92759 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 23387 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 6 39} {8008774921930254236 6 40} {1001648047746786342 6 41} {1001648047746786342 8 42} {1913835738946743033 8 43} {3593183772729019471 8 44} {7929913909522648285 8 45} {4737074697293850025 8 46} {6624160716705507104 8 47} {9184112041794083281 8 48} {2123851975008744232 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51}]
------------------------------------------------------
term 8 Server1 start snapshot! index=49
term 8 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=51
-------------------------------------------------------------
flag 29397 term 8 leader 1 nextIndex[0]: 52  matchIndex[0]: 51
term 8 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=52
update matchIndex[0]=51
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51}]
------------------------------------------------------
term 8 Server0 start snapshot! index=49
term 8 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=51
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3625258302916644885 (index 52) to leader 1
term 8 server 1 not vote for server 2, 日志不够新
term 8 server 0 not vote for server 2, 日志不够新
term 10 server 2 vote for server 1
term 10 server 0 vote for server 1
term 10 server 1 get vote from server 2
term 10 server 1 become leader
------------------------------------------------------
term 10 server 1 get outdate rpc reply from server 0
flag 72701 term 10 leader 1 nextIndex[0]: 53  matchIndex[0]: 0
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 53129 term 10 leader 1 nextIndex[2]: 53  matchIndex[2]: 0
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 10 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 10 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 53->52
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 53->52
------------------------------------------------------
flag 31512 term 10 leader 1 nextIndex[0]: 52  matchIndex[0]: 0
term 10 leader 1 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 10 leader 1 nextIndex[2]: 43  matchIndex[2]: 0
term 10 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
term 10 server 2 InstallSnapshot success
------------------------------------------------------
term 10 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 8 rf.commitIndex 49 rf.lastApplied 49
term 10 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
flag 89042 term 10 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 11789 term 10 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 10 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1909 term 10 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 31985 term 10 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
flag 81421 term 10 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 12351 term 10 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
term 10 server 0 not vote for server 1, 任期不够新
term 10 server 1 get outdate rpc reply from server 0
flag 18552 term 10 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 87161 term 10 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
term 10 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 51718 term 10 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 49853 term 10 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
flag 75782 term 10 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 74917 term 10 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
flag 65721 term 10 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 6510 term 10 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50726 term 10 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 68875 term 10 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
flag 86281 term 10 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 27987 term 10 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
flag 93583 term 10 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 7990 term 10 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84243 term 10 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 25924 term 10 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
flag 22184 term 10 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 18148 term 10 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=51
leader log:
term 10 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
flag 82937 term 10 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 29054 term 10 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
flag 98763 term 10 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 60213 term 10 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
flag 53425 term 10 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 42386 term 10 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
flag 9000 term 10 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 20160 term 10 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
flag 61737 term 10 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 11734 term 10 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
flag 35753 term 10 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 14890 term 10 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=51
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52}]
------------------------------------------------------
client write log 3625258302916644885 (index 53) to leader 1
flag 84710 term 10 leader 1 nextIndex[0]: 53  matchIndex[0]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 86489 term 10 leader 1 nextIndex[2]: 53  matchIndex[2]: 52
term 10 leader 1 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53}]
------------------------------------------------------
flag 80692 term 10 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 10 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 37546 term 10 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 10 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53}]
------------------------------------------------------
flag 55868 term 10 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 10 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 49669 term 10 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 10 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53}]
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88200 term 10 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 10 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 79596 term 10 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 10 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53}]
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53}]
------------------------------------------------------
flag 90785 term 10 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 10 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 5702 term 10 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 10 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53}]
------------------------------------------------------
flag 23531 term 10 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 10 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 68082 term 10 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 10 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53}]
------------------------------------------------------
flag 93567 term 10 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 10 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 7191 term 10 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 10 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 10 server 0 AppendEntries true commitIndex:53 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=54
update matchIndex[0]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 65770 term 10 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 10 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 38475 term 10 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 10 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 26129 term 10 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 10 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 27626 term 10 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 10 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86610 term 10 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 10 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 51469 term 10 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 10 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92982 term 10 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 10 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 19645 term 10 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 10 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 vote for server 0
term 11 server 0 get vote from server 2
term 11 server 0 become leader
------------------------------------------------------
flag 8702 term 11 leader 0 nextIndex[1]: 54  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 87619 term 11 leader 0 nextIndex[2]: 54  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53}]
------------------------------------------------------
client write log 73270270288518704 (index 54) to leader 0
flag 49888 term 10 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 10 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 35129 term 10 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 10 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 60346 term 11 leader 0 nextIndex[1]: 54  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 44814 term 11 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
term 11 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54}]
------------------------------------------------------
flag 31876 term 10 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 10 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 6254 term 10 leader 1 nextIndex[2]: 54  matchIndex[2]: 53
term 10 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
flag 21550 term 11 leader 0 nextIndex[1]: 54  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 54 
------------------------------------------------------
flag 69037 term 11 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54}]
------------------------------------------------------
client write log 2455396725098498757 (index 55) to leader 0
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 54->53
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
flag 17249 term 10 leader 1 nextIndex[0]: 54  matchIndex[0]: 53
term 10 leader 1 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 53 
------------------------------------------------------
term 10 leader 1 nextIndex[2]: 0  matchIndex[2]: 53
term 10 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 74524 term 11 leader 0 nextIndex[1]: 54  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 54 
------------------------------------------------------
flag 65665 term 11 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 11 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 54 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 54->53
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 54->53
------------------------------------------------------
term 10 leader 1 nextIndex[0]: 0  matchIndex[0]: 53
term 10 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
term 10 leader 1 nextIndex[2]: 0  matchIndex[2]: 53
term 10 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
term 11 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 42838 term 11 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 11 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
!!!!!!connect server 1
client write log 2619568414440957831 (index 54) to leader 1
term 10 leader 1 nextIndex[0]: 0  matchIndex[0]: 53
term 10 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
term 10 leader 1 nextIndex[2]: 0  matchIndex[2]: 53
term 10 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
term 11 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 10 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 11 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 74482 term 11 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 11 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
term 11 server 1 InstallSnapshot fail
rf.commitIndex 53 args.LastIncludedIndex 49
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
term 11 server 0 not vote for server 1, 日志不够新
term 11 server 2 not vote for server 1, 日志不够新
term 13 server 2 vote for server 0
term 13 server 0 get vote from server 2
term 13 server 1 vote for server 0
term 13 server 0 become leader
------------------------------------------------------
term 13 server 0 get outdate rpc reply from server 1
flag 74470 term 13 leader 0 nextIndex[1]: 56  matchIndex[1]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 55848 term 13 leader 0 nextIndex[2]: 56  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 56->55
------------------------------------------------------
flag 17000 term 13 leader 0 nextIndex[1]: 55  matchIndex[1]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 20658 term 13 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 55->54
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88216 term 13 leader 0 nextIndex[1]: 54  matchIndex[1]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 10 leaderCommit: 55 
------------------------------------------------------
flag 13924 term 13 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
term 13 server 1 AppendEntries true commitIndex:54 
------------------------------------------------------
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
flag 98554 term 13 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 77995 term 13 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71454 term 13 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 24104 term 13 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
term 13 server 1 not vote for server 0, 任期不够新
term 13 server 0 get outdate rpc reply from server 1
flag 80597 term 13 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 35241 term 13 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
flag 30507 term 13 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 980 term 13 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31578 term 13 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 84692 term 13 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14626 term 13 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 15276 term 13 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
flag 7806 term 13 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 10047 term 13 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86794 term 13 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 6486 term 13 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
flag 60215 term 13 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 8895 term 13 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11480 term 13 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 94379 term 13 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85132 term 13 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 913 term 13 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
flag 47740 term 13 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 89785 term 13 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1565 term 13 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 62106 term 13 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
flag 40452 term 13 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 88517 term 13 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
flag 64958 term 13 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 49855 term 13 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
flag 19389 term 13 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 4256 term 13 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=56
update matchIndex[1]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55}]
------------------------------------------------------
client write log 2619568414440957831 (index 56) to leader 0
flag 51216 term 13 leader 0 nextIndex[1]: 56  matchIndex[1]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
flag 8583 term 13 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 13 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 11 leaderCommit: 55 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
term 13 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55} {2619568414440957831 13 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55} {2619568414440957831 13 56}]
------------------------------------------------------
flag 56169 term 13 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 13 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
flag 14521 term 13 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 13 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55} {2619568414440957831 13 56}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55} {2619568414440957831 13 56}]
------------------------------------------------------
flag 66165 term 13 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 13 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
flag 78578 term 13 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 13 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55} {2619568414440957831 13 56}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55} {2619568414440957831 13 56}]
------------------------------------------------------
flag 57842 term 13 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 13 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
flag 39199 term 13 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 13 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55} {2619568414440957831 13 56}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55} {2619568414440957831 13 56}]
------------------------------------------------------
flag 92998 term 13 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 13 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
flag 54004 term 13 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 13 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55} {2619568414440957831 13 56}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55} {2619568414440957831 13 56}]
------------------------------------------------------
flag 78610 term 13 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 13 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
flag 39156 term 13 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 13 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55} {2619568414440957831 13 56}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55} {2619568414440957831 13 56}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36312 term 13 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 13 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
flag 40450 term 13 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 13 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=56
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55} {2619568414440957831 13 56}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=56
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55} {2619568414440957831 13 56}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4891886594446452414 (index 57) to leader 0
flag 38787 term 13 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 13 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
flag 7342 term 13 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 13 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 56 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:56 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55} {2619568414440957831 13 56} {4891886594446452414 13 57}]
------------------------------------------------------
flag 73177 term 13 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 13 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 57 
------------------------------------------------------
flag 56332 term 13 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 13 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 13 leaderCommit: 57 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55} {2619568414440957831 13 56} {4891886594446452414 13 57}]
------------------------------------------------------
client write log 951416362401120400 (index 58) to leader 0
client write log 4532074627117251072 (index 59) to leader 0
client write log 7139026907703983720 (index 60) to leader 0
client write log 4263672717093027700 (index 61) to leader 0
client write log 6261975722794806141 (index 62) to leader 0
client write log 8180185366899440573 (index 63) to leader 0
client write log 975794189377906503 (index 64) to leader 0
flag 93042 term 13 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 13 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 13 leaderCommit: 57 
------------------------------------------------------
flag 50500 term 13 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 13 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 13 leaderCommit: 57 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 8 49} {4583380130579651050 8 50} {5568285211330710937 8 51} {3625258302916644885 8 52} {3625258302916644885 10 53} {73270270288518704 11 54} {2455396725098498757 11 55} {2619568414440957831 13 56} {4891886594446452414 13 57} {951416362401120400 13 58} {4532074627117251072 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64}]
------------------------------------------------------
term 13 Server0 start snapshot! index=59
term 13 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=64
-------------------------------------------------------------
term 13 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 13
------------------------------------------------------
flag 66725 term 13 leader 0 nextIndex[2]: 65  matchIndex[2]: 64
term 13 leader 0 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64}]
------------------------------------------------------
term 13 Server2 start snapshot! index=59
term 13 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=64
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1723305812593695193 (index 65) to leader 0
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 13 server 2 not vote for server 1, 日志不够新
term 13 server 0 not vote for server 1, 日志不够新
term 15 server 2 vote for server 0
term 15 server 1 vote for server 0
term 15 server 0 get vote from server 1
term 15 server 0 become leader
------------------------------------------------------
term 15 server 0 get outdate rpc reply from server 2
flag 62363 term 15 leader 0 nextIndex[1]: 66  matchIndex[1]: 0
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
flag 22794 term 15 leader 0 nextIndex[2]: 66  matchIndex[2]: 0
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 15 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 66->65
------------------------------------------------------
term 15 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 66->65
------------------------------------------------------
term 15 leader 0 nextIndex[1]: 57  matchIndex[1]: 0
term 15 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 13
------------------------------------------------------
flag 55774 term 15 leader 0 nextIndex[2]: 65  matchIndex[2]: 0
term 15 leader 0 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
term 15 server 1 InstallSnapshot success
------------------------------------------------------
term 15 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 13 rf.commitIndex 59 rf.lastApplied 59
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49974 term 15 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 15 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
flag 74713 term 15 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
flag 68372 term 15 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
flag 65478 term 15 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22614 term 15 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
flag 38782 term 15 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 15 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
update nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
flag 39954 term 15 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
flag 10764 term 15 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
term 15 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36653 term 15 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
flag 28680 term 15 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
flag 51889 term 15 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
flag 3929 term 15 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
flag 5990 term 15 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
flag 48685 term 15 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
flag 7949 term 15 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
flag 98321 term 15 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79519 term 15 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
flag 68098 term 15 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
flag 5602 term 15 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
flag 12181 term 15 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
flag 28322 term 15 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
flag 8262 term 15 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
flag 85585 term 15 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
flag 7416 term 15 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4468 term 15 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
flag 46067 term 15 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
flag 72657 term 15 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
flag 17610 term 15 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 15 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13553 term 15 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
flag 84059 term 15 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
term 15 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36736 term 15 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
flag 9750 term 15 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
flag 27743 term 15 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
flag 66267 term 15 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
flag 70102 term 15 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
flag 94540 term 15 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=64
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65}]
------------------------------------------------------
client write log 1723305812593695193 (index 66) to leader 0
flag 7719 term 15 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
flag 55800 term 15 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 15 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 13 leaderCommit: 64 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65} {1723305812593695193 15 66}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65} {1723305812593695193 15 66}]
------------------------------------------------------
flag 55438 term 15 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 15 leaderCommit: 66 
------------------------------------------------------
flag 3394 term 15 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 15 leaderCommit: 66 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65} {1723305812593695193 15 66}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65} {1723305812593695193 15 66}]
------------------------------------------------------
flag 21851 term 15 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 15 leaderCommit: 66 
------------------------------------------------------
flag 93672 term 15 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 15 leaderCommit: 66 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65} {1723305812593695193 15 66}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65} {1723305812593695193 15 66}]
------------------------------------------------------
flag 20626 term 15 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 15 leaderCommit: 66 
------------------------------------------------------
flag 81801 term 15 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 15 leaderCommit: 66 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65} {1723305812593695193 15 66}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65} {1723305812593695193 15 66}]
------------------------------------------------------
term 15 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29741 term 15 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 15 leaderCommit: 66 
------------------------------------------------------
flag 68462 term 15 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 15 leaderCommit: 66 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65} {1723305812593695193 15 66}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65} {1723305812593695193 15 66}]
------------------------------------------------------
term 15 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5691 term 15 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 15 leaderCommit: 66 
------------------------------------------------------
flag 26506 term 15 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 15 leaderCommit: 66 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65} {1723305812593695193 15 66}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65} {1723305812593695193 15 66}]
------------------------------------------------------
flag 96935 term 15 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 15 leaderCommit: 66 
------------------------------------------------------
flag 15514 term 15 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 15 leaderCommit: 66 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65} {1723305812593695193 15 66}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65} {1723305812593695193 15 66}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5131505491822746454 (index 67) to leader 0
flag 27251 term 15 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 15 leaderCommit: 66 
------------------------------------------------------
flag 78485 term 15 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 15 leaderCommit: 66 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=67
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65} {1723305812593695193 15 66} {5131505491822746454 15 67}]
------------------------------------------------------
flag 36573 term 15 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
flag 90435 term 15 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 15 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=67
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65} {1723305812593695193 15 66} {5131505491822746454 15 67}]
------------------------------------------------------
client write log 8934050842592983231 (index 68) to leader 0
client write log 6264046833598977495 (index 69) to leader 0
client write log 8681577388313004107 (index 70) to leader 0
client write log 8822528324973624615 (index 71) to leader 0
client write log 6423244584480370286 (index 72) to leader 0
client write log 6524573307573071200 (index 73) to leader 0
client write log 6151805954509222980 (index 74) to leader 0
client write log 8733884722929314182 (index 75) to leader 0
client write log 4776301479408328908 (index 76) to leader 0
client write log 6819712168859786892 (index 77) to leader 0
client write log 5107253385526970710 (index 78) to leader 0
client write log 5496219367378903298 (index 79) to leader 0
client write log 8240466078786728912 (index 80) to leader 0
client write log 4983963540808057624 (index 81) to leader 0
flag 86670 term 15 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
flag 57792 term 15 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 15 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 15 leaderCommit: 67 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 13 59} {7139026907703983720 13 60} {4263672717093027700 13 61} {6261975722794806141 13 62} {8180185366899440573 13 63} {975794189377906503 13 64} {1723305812593695193 13 65} {1723305812593695193 15 66} {5131505491822746454 15 67} {8934050842592983231 15 68} {6264046833598977495 15 69} {8681577388313004107 15 70} {8822528324973624615 15 71} {6423244584480370286 15 72} {6524573307573071200 15 73} {6151805954509222980 15 74} {8733884722929314182 15 75} {4776301479408328908 15 76} {6819712168859786892 15 77} {5107253385526970710 15 78} {5496219367378903298 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81}]
------------------------------------------------------
term 15 Server0 start snapshot! index=69
term 15 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=81
-------------------------------------------------------------
term 15 Server0 start snapshot! index=79
term 15 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=81
-------------------------------------------------------------
term 15 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 15 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 15
------------------------------------------------------
flag 65657 term 15 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 15 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81}]
------------------------------------------------------
term 15 Server2 start snapshot! index=69
term 15 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=81
-------------------------------------------------------------
term 15 Server2 start snapshot! index=79
term 15 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=81
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6306967043765347060 (index 82) to leader 0
term 15 server 2 not vote for server 1, 日志不够新
term 15 server 0 not vote for server 1, 日志不够新
term 17 server 2 vote for server 0
term 17 server 1 vote for server 0
term 17 server 0 get vote from server 2
term 17 server 0 become leader
------------------------------------------------------
term 17 server 0 get outdate rpc reply from server 1
flag 80392 term 17 leader 0 nextIndex[1]: 83  matchIndex[1]: 0
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
flag 34913 term 17 leader 0 nextIndex[2]: 83  matchIndex[2]: 0
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
term 17 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 83->82
------------------------------------------------------
term 17 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 83->82
------------------------------------------------------
term 17 leader 0 nextIndex[1]: 67  matchIndex[1]: 0
term 17 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 15
------------------------------------------------------
flag 12415 term 17 leader 0 nextIndex[2]: 82  matchIndex[2]: 0
term 17 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 17 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
term 17 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
rf.lastIncludedIndex 79 rf.lastIncludedTerm 15 rf.commitIndex 79 rf.lastApplied 79
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64549 term 17 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 17 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
flag 10932 term 17 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
flag 83456 term 17 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
flag 69994 term 17 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
flag 31796 term 17 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
flag 69416 term 17 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
flag 54879 term 17 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
flag 12271 term 17 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
flag 849 term 17 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
flag 45483 term 17 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
flag 97823 term 17 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
flag 65367 term 17 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
flag 75309 term 17 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
flag 51956 term 17 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
flag 757 term 17 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
flag 20655 term 17 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
flag 4450 term 17 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
flag 51443 term 17 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
flag 85356 term 17 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
flag 87612 term 17 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
flag 55106 term 17 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
flag 31059 term 17 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
flag 39794 term 17 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
flag 97925 term 17 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
flag 3474 term 17 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
flag 5784 term 17 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53952 term 17 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
flag 16811 term 17 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
flag 81787 term 17 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
flag 33085 term 17 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
flag 21602 term 17 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
flag 33131 term 17 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
flag 5248 term 17 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
flag 88197 term 17 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=81
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82}]
------------------------------------------------------
client write log 6306967043765347060 (index 83) to leader 0
flag 78109 term 17 leader 0 nextIndex[1]: 83  matchIndex[1]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
flag 58255 term 17 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 17 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 15 leaderCommit: 81 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83}]
------------------------------------------------------
flag 55252 term 17 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 17 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
flag 3044 term 17 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 17 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83}]
------------------------------------------------------
flag 42290 term 17 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 17 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
flag 40483 term 17 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 17 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83}]
------------------------------------------------------
flag 92056 term 17 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 17 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
flag 12236 term 17 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 17 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83}]
------------------------------------------------------
flag 62949 term 17 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 17 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
flag 75973 term 17 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 17 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83}]
------------------------------------------------------
flag 889 term 17 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 17 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
flag 7716 term 17 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 17 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83}]
------------------------------------------------------
flag 97981 term 17 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 17 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
flag 32013 term 17 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 17 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
term 17 server 2 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=84
update matchIndex[2]=83
update leader CommitIndex=83
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 92574 term 17 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 17 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
flag 23009 term 17 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 17 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
flag 25960 term 17 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 17 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
flag 89044 term 17 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 17 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
flag 732 term 17 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 17 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
flag 67731 term 17 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 17 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 1 vote for server 2
term 18 server 2 get vote from server 1
term 18 server 2 become leader
------------------------------------------------------
flag 63375 term 18 leader 2 nextIndex[0]: 84  matchIndex[0]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
flag 46522 term 18 leader 2 nextIndex[1]: 84  matchIndex[1]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83}]
------------------------------------------------------
client write log 6157174047559491809 (index 84) to leader 2
flag 51094 term 17 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 17 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
flag 21112 term 17 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 17 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
flag 99106 term 18 leader 2 nextIndex[0]: 84  matchIndex[0]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
flag 93100 term 18 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 18 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83} {6157174047559491809 18 84}]
------------------------------------------------------
flag 74352 term 17 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 17 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
flag 15846 term 17 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 17 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
flag 59085 term 18 leader 2 nextIndex[0]: 84  matchIndex[0]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 84 
------------------------------------------------------
flag 14453 term 18 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 18 leaderCommit: 84 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83} {6157174047559491809 18 84}]
------------------------------------------------------
client write log 6326779597675802223 (index 85) to leader 2
flag 90218 term 17 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 17 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
flag 79972 term 17 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 17 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
flag 3910 term 18 leader 2 nextIndex[0]: 84  matchIndex[0]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 84 
------------------------------------------------------
flag 68489 term 18 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 18 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 18 leaderCommit: 84 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83} {6157174047559491809 18 84} {6326779597675802223 18 85}]
------------------------------------------------------
flag 53100 term 17 leader 0 nextIndex[1]: 84  matchIndex[1]: 83
term 17 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
flag 59130 term 17 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 17 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
term 17 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 84->83
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40323 term 18 leader 2 nextIndex[0]: 84  matchIndex[0]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 85 
------------------------------------------------------
flag 26483 term 18 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 18 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 18 leaderCommit: 85 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83} {6157174047559491809 18 84} {6326779597675802223 18 85}]
------------------------------------------------------
term 17 leader 0 nextIndex[1]: 0  matchIndex[1]: 83
term 17 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 15
------------------------------------------------------
flag 13539 term 17 leader 0 nextIndex[2]: 84  matchIndex[2]: 83
term 17 leader 0 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 83 
------------------------------------------------------
!!!!!!connect server 0
client write log 1969590452602087263 (index 86) to leader 2
flag 54698 term 18 leader 2 nextIndex[0]: 84  matchIndex[0]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 17 leaderCommit: 85 
------------------------------------------------------
flag 85004 term 18 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 18 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 18 leaderCommit: 85 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83} {6157174047559491809 18 84} {6326779597675802223 18 85} {1969590452602087263 18 86}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83} {6157174047559491809 18 84} {6326779597675802223 18 85} {1969590452602087263 18 86}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31176 term 18 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 18 leaderCommit: 86 
------------------------------------------------------
flag 8673 term 18 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 18 leaderCommit: 86 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83} {6157174047559491809 18 84} {6326779597675802223 18 85} {1969590452602087263 18 86}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83} {6157174047559491809 18 84} {6326779597675802223 18 85} {1969590452602087263 18 86}]
------------------------------------------------------
flag 69612 term 18 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 18 leaderCommit: 86 
------------------------------------------------------
flag 10312 term 18 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 18 leaderCommit: 86 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83} {6157174047559491809 18 84} {6326779597675802223 18 85} {1969590452602087263 18 86}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83} {6157174047559491809 18 84} {6326779597675802223 18 85} {1969590452602087263 18 86}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7429 term 18 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 18 leaderCommit: 86 
------------------------------------------------------
flag 29231 term 18 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 18 leaderCommit: 86 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83} {6157174047559491809 18 84} {6326779597675802223 18 85} {1969590452602087263 18 86}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83} {6157174047559491809 18 84} {6326779597675802223 18 85} {1969590452602087263 18 86}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 77740 term 18 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 18 leaderCommit: 86 
------------------------------------------------------
flag 86950 term 18 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 18 leaderCommit: 86 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83} {6157174047559491809 18 84} {6326779597675802223 18 85} {1969590452602087263 18 86}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83} {6157174047559491809 18 84} {6326779597675802223 18 85} {1969590452602087263 18 86}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60800 term 18 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 18 leaderCommit: 86 
------------------------------------------------------
flag 62503 term 18 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 18 leaderCommit: 86 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83} {6157174047559491809 18 84} {6326779597675802223 18 85} {1969590452602087263 18 86}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83} {6157174047559491809 18 84} {6326779597675802223 18 85} {1969590452602087263 18 86}]
------------------------------------------------------
term 18 server 0 not vote for server 2, 日志不够新
term 18 server 2 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69831 term 18 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 18 leaderCommit: 86 
------------------------------------------------------
flag 80995 term 18 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 18 leaderCommit: 86 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83} {6157174047559491809 18 84} {6326779597675802223 18 85} {1969590452602087263 18 86}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83} {6157174047559491809 18 84} {6326779597675802223 18 85} {1969590452602087263 18 86}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7995881754855132667 (index 87) to leader 2
flag 96255 term 18 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 18 leaderCommit: 86 
------------------------------------------------------
flag 91717 term 18 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 18 leaderCommit: 86 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83} {6157174047559491809 18 84} {6326779597675802223 18 85} {1969590452602087263 18 86} {7995881754855132667 18 87}]
------------------------------------------------------
flag 27381 term 18 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 18 leaderCommit: 87 
------------------------------------------------------
flag 36005 term 18 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 18 leaderCommit: 87 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=88
update matchIndex[1]=87
update leader CommitIndex=87
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83} {6157174047559491809 18 84} {6326779597675802223 18 85} {1969590452602087263 18 86} {7995881754855132667 18 87}]
------------------------------------------------------
client write log 5276619942208906054 (index 88) to leader 2
client write log 2640997599714197660 (index 89) to leader 2
client write log 8393658756952097135 (index 90) to leader 2
client write log 2299771754908071258 (index 91) to leader 2
client write log 2174030187566088082 (index 92) to leader 2
client write log 8819201362503783196 (index 93) to leader 2
client write log 8594038044487411257 (index 94) to leader 2
flag 24914 term 18 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 18 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 18 leaderCommit: 87 
------------------------------------------------------
flag 54285 term 18 leader 2 nextIndex[1]: 88  matchIndex[1]: 87
term 18 leader 2 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 18 leaderCommit: 87 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 15 79} {8240466078786728912 15 80} {4983963540808057624 15 81} {6306967043765347060 15 82} {6306967043765347060 17 83} {6157174047559491809 18 84} {6326779597675802223 18 85} {1969590452602087263 18 86} {7995881754855132667 18 87} {5276619942208906054 18 88} {2640997599714197660 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94}]
------------------------------------------------------
term 18 Server2 start snapshot! index=89
term 18 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=94
-------------------------------------------------------------
term 18 leader 2 nextIndex[0]: 87  matchIndex[0]: 86
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 18
------------------------------------------------------
flag 35025 term 18 leader 2 nextIndex[1]: 95  matchIndex[1]: 94
term 18 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94}]
------------------------------------------------------
term 18 Server1 start snapshot! index=89
term 18 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=94
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7345051950936599241 (index 95) to leader 2
term 18 server 2 not vote for server 0, 日志不够新
term 18 server 1 not vote for server 0, 日志不够新
term 20 server 1 vote for server 2
term 20 server 0 vote for server 2
term 20 server 2 get vote from server 1
term 20 server 2 become leader
------------------------------------------------------
term 20 server 2 get outdate rpc reply from server 0
flag 79073 term 20 leader 2 nextIndex[0]: 96  matchIndex[0]: 0
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 69802 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 0
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 96->95
------------------------------------------------------
term 20 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 96->95
------------------------------------------------------
term 20 leader 2 nextIndex[0]: 87  matchIndex[0]: 0
term 20 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 18
------------------------------------------------------
flag 23421 term 20 leader 2 nextIndex[1]: 95  matchIndex[1]: 0
term 20 leader 2 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
term 20 server 0 InstallSnapshot success
------------------------------------------------------
term 20 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 18 rf.commitIndex 89 rf.lastApplied 89
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93161 term 20 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 20 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 19059 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3079 term 20 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 60244 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
flag 20624 term 20 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 56261 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89075 term 20 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 33775 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
flag 96218 term 20 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 20443 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
flag 92801 term 20 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 24881 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
flag 63417 term 20 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 23562 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
flag 38612 term 20 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 82254 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91193 term 20 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 67160 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
flag 55078 term 20 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 50833 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
flag 44701 term 20 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 35576 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
flag 23242 term 20 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 91944 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
flag 27825 term 20 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 90010 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93062 term 20 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 27392 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92898 term 20 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 66402 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
flag 88374 term 20 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 98206 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
flag 68211 term 20 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 91773 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=94
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95}]
------------------------------------------------------
client write log 7345051950936599241 (index 96) to leader 2
flag 58692 term 20 leader 2 nextIndex[0]: 96  matchIndex[0]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
flag 46235 term 20 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 20 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 18 leaderCommit: 94 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:94 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95} {7345051950936599241 20 96}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95} {7345051950936599241 20 96}]
------------------------------------------------------
flag 60224 term 20 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 20 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 20 leaderCommit: 96 
------------------------------------------------------
flag 80037 term 20 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 20 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 20 leaderCommit: 96 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95} {7345051950936599241 20 96}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95} {7345051950936599241 20 96}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25499 term 20 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 20 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 20 leaderCommit: 96 
------------------------------------------------------
flag 54972 term 20 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 20 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 20 leaderCommit: 96 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95} {7345051950936599241 20 96}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95} {7345051950936599241 20 96}]
------------------------------------------------------
flag 70044 term 20 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 20 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 20 leaderCommit: 96 
------------------------------------------------------
flag 48600 term 20 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 20 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 20 leaderCommit: 96 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95} {7345051950936599241 20 96}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95} {7345051950936599241 20 96}]
------------------------------------------------------
flag 329 term 20 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 20 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 20 leaderCommit: 96 
------------------------------------------------------
flag 77294 term 20 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 20 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 20 leaderCommit: 96 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95} {7345051950936599241 20 96}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95} {7345051950936599241 20 96}]
------------------------------------------------------
flag 93161 term 20 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 20 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 20 leaderCommit: 96 
------------------------------------------------------
flag 40145 term 20 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 20 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 20 leaderCommit: 96 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95} {7345051950936599241 20 96}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=96
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95} {7345051950936599241 20 96}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8573368248712096886 (index 97) to leader 2
flag 17586 term 20 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 20 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 20 leaderCommit: 96 
------------------------------------------------------
flag 87133 term 20 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 20 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 20 leaderCommit: 96 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95} {7345051950936599241 20 96} {8573368248712096886 20 97}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23828 term 20 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 20 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 20 leaderCommit: 97 
------------------------------------------------------
flag 28481 term 20 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 20 leaderCommit: 97 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95} {7345051950936599241 20 96} {8573368248712096886 20 97}]
------------------------------------------------------
client write log 3949645234168629602 (index 98) to leader 2
client write log 1880643633726762843 (index 99) to leader 2
client write log 5247376228783105511 (index 100) to leader 2
client write log 3847859558859687407 (index 101) to leader 2
client write log 5164538008562517844 (index 102) to leader 2
client write log 4488986633330586995 (index 103) to leader 2
client write log 7051301015232501718 (index 104) to leader 2
client write log 9009713484703852500 (index 105) to leader 2
client write log 7181289026215279896 (index 106) to leader 2
client write log 9163134196570019322 (index 107) to leader 2
client write log 6319049618301158615 (index 108) to leader 2
client write log 1855975113644045008 (index 109) to leader 2
client write log 8974019548698864035 (index 110) to leader 2
client write log 1876738200023085548 (index 111) to leader 2
flag 25281 term 20 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 20 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 20 leaderCommit: 97 
------------------------------------------------------
flag 99533 term 20 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 20 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 20 leaderCommit: 97 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 18 89} {8393658756952097135 18 90} {2299771754908071258 18 91} {2174030187566088082 18 92} {8819201362503783196 18 93} {8594038044487411257 18 94} {7345051950936599241 18 95} {7345051950936599241 20 96} {8573368248712096886 20 97} {3949645234168629602 20 98} {1880643633726762843 20 99} {5247376228783105511 20 100} {3847859558859687407 20 101} {5164538008562517844 20 102} {4488986633330586995 20 103} {7051301015232501718 20 104} {9009713484703852500 20 105} {7181289026215279896 20 106} {9163134196570019322 20 107} {6319049618301158615 20 108} {1855975113644045008 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111}]
------------------------------------------------------
term 20 Server2 start snapshot! index=99
term 20 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=111
-------------------------------------------------------------
term 20 Server2 start snapshot! index=109
term 20 server2 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=111
-------------------------------------------------------------
term 20 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 20 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 20
------------------------------------------------------
flag 88414 term 20 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 20 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 20 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111}]
------------------------------------------------------
term 20 Server1 start snapshot! index=99
term 20 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=111
-------------------------------------------------------------
term 20 Server1 start snapshot! index=109
term 20 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=111
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1479168216485818691 (index 112) to leader 2
term 20 server 2 not vote for server 0, 日志不够新
term 20 server 1 not vote for server 0, 日志不够新
term 22 server 1 vote for server 2
term 22 server 2 get vote from server 1
term 22 server 2 become leader
------------------------------------------------------
term 22 server 0 vote for server 2
term 22 server 2 get outdate rpc reply from server 0
flag 131 term 22 leader 2 nextIndex[0]: 113  matchIndex[0]: 0
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 66934 term 22 leader 2 nextIndex[1]: 113  matchIndex[1]: 0
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 22 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 113->112
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 113->112
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 22 leader 2 nextIndex[0]: 97  matchIndex[0]: 0
term 22 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 20
------------------------------------------------------
flag 10863 term 22 leader 2 nextIndex[1]: 112  matchIndex[1]: 0
term 22 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 0 InstallSnapshot success
------------------------------------------------------
term 22 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 20 rf.commitIndex 109 rf.lastApplied 109
flag 89068 term 22 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 22 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 78353 term 22 leader 2 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
flag 67100 term 22 leader 2 nextIndex[0]: 113  matchIndex[0]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 26336 term 22 leader 2 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98710 term 22 leader 2 nextIndex[0]: 113  matchIndex[0]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 49771 term 22 leader 2 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
flag 68326 term 22 leader 2 nextIndex[0]: 113  matchIndex[0]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 66076 term 22 leader 2 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
flag 15568 term 22 leader 2 nextIndex[0]: 113  matchIndex[0]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 32313 term 22 leader 2 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
flag 17872 term 22 leader 2 nextIndex[0]: 113  matchIndex[0]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 83608 term 22 leader 2 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
flag 14442 term 22 leader 2 nextIndex[0]: 113  matchIndex[0]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 2569 term 22 leader 2 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
flag 86019 term 22 leader 2 nextIndex[0]: 113  matchIndex[0]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 75767 term 22 leader 2 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
flag 97234 term 22 leader 2 nextIndex[0]: 113  matchIndex[0]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 57024 term 22 leader 2 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
flag 28837 term 22 leader 2 nextIndex[0]: 113  matchIndex[0]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 73287 term 22 leader 2 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
flag 9952 term 22 leader 2 nextIndex[0]: 113  matchIndex[0]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 57821 term 22 leader 2 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
flag 49153 term 22 leader 2 nextIndex[0]: 113  matchIndex[0]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 56330 term 22 leader 2 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
flag 47686 term 22 leader 2 nextIndex[0]: 113  matchIndex[0]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 30789 term 22 leader 2 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
flag 99804 term 22 leader 2 nextIndex[0]: 113  matchIndex[0]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 18356 term 22 leader 2 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
term 22 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93657 term 22 leader 2 nextIndex[0]: 113  matchIndex[0]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 33483 term 22 leader 2 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
flag 66494 term 22 leader 2 nextIndex[0]: 113  matchIndex[0]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 64100 term 22 leader 2 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
flag 5639 term 22 leader 2 nextIndex[0]: 113  matchIndex[0]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 28194 term 22 leader 2 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=113
update matchIndex[1]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=111
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112}]
------------------------------------------------------
client write log 1479168216485818691 (index 113) to leader 2
flag 54087 term 22 leader 2 nextIndex[0]: 113  matchIndex[0]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
flag 53221 term 22 leader 2 nextIndex[1]: 113  matchIndex[1]: 112
term 22 leader 2 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 111 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112} {1479168216485818691 22 113}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112} {1479168216485818691 22 113}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57682 term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
flag 99896 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112} {1479168216485818691 22 113}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112} {1479168216485818691 22 113}]
------------------------------------------------------
flag 54369 term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
flag 45353 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112} {1479168216485818691 22 113}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112} {1479168216485818691 22 113}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77079 term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
flag 49909 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112} {1479168216485818691 22 113}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112} {1479168216485818691 22 113}]
------------------------------------------------------
flag 9178 term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
flag 60107 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112} {1479168216485818691 22 113}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112} {1479168216485818691 22 113}]
------------------------------------------------------
flag 6015 term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
flag 19526 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
term 22 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112} {1479168216485818691 22 113}]
------------------------------------------------------
term 22 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112} {1479168216485818691 22 113}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 42704 term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
flag 78824 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29042 term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
flag 44544 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81332 term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
flag 68125 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
flag 31727 term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
flag 57086 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
term 23 server 1 vote for server 0
term 23 server 0 get vote from server 1
term 23 server 0 become leader
------------------------------------------------------
flag 15887 term 23 leader 0 nextIndex[1]: 114  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
flag 41824 term 23 leader 0 nextIndex[2]: 114  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=114
update matchIndex[1]=113
update leader CommitIndex=113
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112} {1479168216485818691 22 113}]
------------------------------------------------------
client write log 2446817208557922667 (index 114) to leader 0
flag 23559 term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
flag 48570 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
flag 48344 term 23 leader 0 nextIndex[1]: 114  matchIndex[1]: 113
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
flag 11339 term 23 leader 0 nextIndex[2]: 114  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112} {1479168216485818691 22 113} {2446817208557922667 23 114}]
------------------------------------------------------
flag 21727 term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
flag 15844 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
flag 67975 term 23 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 23 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 23 leaderCommit: 114 
------------------------------------------------------
flag 61319 term 23 leader 0 nextIndex[2]: 114  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112} {1479168216485818691 22 113} {2446817208557922667 23 114}]
------------------------------------------------------
client write log 3168891811174499065 (index 115) to leader 0
client write log 4177088918898820344 (index 116) to leader 0
client write log 3457588879044438134 (index 117) to leader 0
client write log 775990410299751728 (index 118) to leader 0
client write log 4284322153956968969 (index 119) to leader 0
client write log 2528205326432723137 (index 120) to leader 0
client write log 1875063574321304981 (index 121) to leader 0
client write log 3763415811628894007 (index 122) to leader 0
client write log 3429053203861610773 (index 123) to leader 0
client write log 2753794133596684284 (index 124) to leader 0
flag 46244 term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
flag 21223 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
flag 5172 term 23 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 23 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 23 leaderCommit: 114 
------------------------------------------------------
flag 6485 term 23 leader 0 nextIndex[2]: 114  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 114 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 20 109} {8974019548698864035 20 110} {1876738200023085548 20 111} {1479168216485818691 20 112} {1479168216485818691 22 113} {2446817208557922667 23 114} {3168891811174499065 23 115} {4177088918898820344 23 116} {3457588879044438134 23 117} {775990410299751728 23 118} {4284322153956968969 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
term 23 Server0 start snapshot! index=119
term 23 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=124
-------------------------------------------------------------
flag 49025 term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
flag 14322 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
flag 52122 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 leader 0 nextIndex[2]: 114  matchIndex[2]: 0
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 23
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
term 23 Server1 start snapshot! index=119
term 23 server1 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=124
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8374905473831063718 (index 114) to leader 2
flag 84772 term 22 leader 2 nextIndex[0]: 114  matchIndex[0]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
flag 38348 term 22 leader 2 nextIndex[1]: 114  matchIndex[1]: 113
term 22 leader 2 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 22 leaderCommit: 113 
------------------------------------------------------
term 23 server 1 AppendEntries false 领导者任期过期 args.Term 22
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 23 server 0 AppendEntries false 领导者任期过期 args.Term 22
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89829 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 leader 0 nextIndex[2]: 114  matchIndex[2]: 0
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 23
------------------------------------------------------
term 23 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 23 rf.commitIndex 119 rf.lastApplied 119
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
term 23 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
flag 81167 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
flag 8715 term 23 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 23 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
flag 94582 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
flag 98913 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
flag 17716 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
flag 10516 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
flag 46259 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
flag 11788 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 125->124
------------------------------------------------------
flag 29209 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 leader 0 nextIndex[2]: 0  matchIndex[2]: 124
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 23
------------------------------------------------------
term 23 server 2 InstallSnapshot fail
rf.commitIndex 124 args.LastIncludedIndex 119
------------------------------------------------------
term 23 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
------------------------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
flag 28923 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
flag 85170 term 23 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 23 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
flag 36104 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
flag 73555 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
flag 33083 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
flag 49833 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
flag 63338 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
flag 43421 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
flag 86284 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
flag 7096 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
flag 10928 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
flag 63160 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9470 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
flag 90516 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
flag 58445 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
flag 64804 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
flag 46102 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
flag 264 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
flag 24370 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
flag 90045 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
flag 19768 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
flag 80316 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
flag 63953 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
flag 22155 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
flag 14395 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
flag 39210 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80307 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
flag 4220 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124}]
------------------------------------------------------
client write log 8374905473831063718 (index 125) to leader 0
flag 59800 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
flag 89644 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124} {8374905473831063718 23 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124} {8374905473831063718 23 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 126->125
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77269 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
term 23 leader 0 nextIndex[2]: 0  matchIndex[2]: 125
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 23
------------------------------------------------------
term 23 server 2 InstallSnapshot fail
rf.commitIndex 124 args.LastIncludedIndex 119
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
term 23 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124} {8374905473831063718 23 125}]
------------------------------------------------------
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5731 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
flag 73456 term 23 leader 0 nextIndex[2]: 120  matchIndex[2]: 119
term 23 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124} {8374905473831063718 23 125}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124} {8374905473831063718 23 125}]
------------------------------------------------------
flag 6581 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
flag 54157 term 23 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124} {8374905473831063718 23 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124} {8374905473831063718 23 125}]
------------------------------------------------------
flag 33394 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
flag 37553 term 23 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124} {8374905473831063718 23 125}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124} {8374905473831063718 23 125}]
------------------------------------------------------
flag 8510 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
flag 33897 term 23 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124} {8374905473831063718 23 125}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124} {8374905473831063718 23 125}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 server 2 not vote for server 0, 日志不够新
term 23 server 0 get outdate rpc reply from server 2
flag 93511 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
flag 8582 term 23 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124} {8374905473831063718 23 125}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=126
update matchIndex[1]=125
update leader CommitIndex=125
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124} {8374905473831063718 23 125}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5788755077359362289 (index 126) to leader 0
flag 52088 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
flag 50000 term 23 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124} {8374905473831063718 23 125} {5788755077359362289 23 126}]
------------------------------------------------------
flag 31518 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 126 
------------------------------------------------------
flag 38974 term 23 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 23 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 23 leaderCommit: 126 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124} {8374905473831063718 23 125} {5788755077359362289 23 126}]
------------------------------------------------------
client write log 2695539719302585898 (index 127) to leader 0
client write log 5277898083522833043 (index 128) to leader 0
client write log 8229637058217836182 (index 129) to leader 0
client write log 2501852895248248526 (index 130) to leader 0
client write log 3529122193861204609 (index 131) to leader 0
client write log 1430689426375122096 (index 132) to leader 0
client write log 7780354207902433988 (index 133) to leader 0
client write log 3519117975929776395 (index 134) to leader 0
client write log 5333254860283024187 (index 135) to leader 0
client write log 1153756295063252280 (index 136) to leader 0
client write log 7171831838501231924 (index 137) to leader 0
client write log 7490262976613167877 (index 138) to leader 0
client write log 6787305194814628577 (index 139) to leader 0
client write log 207234642959981269 (index 140) to leader 0
client write log 7134953382345345336 (index 141) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34790 term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 126 
------------------------------------------------------
flag 23132 term 23 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 23 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 23 leaderCommit: 126 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 119} {2528205326432723137 23 120} {1875063574321304981 23 121} {3763415811628894007 23 122} {3429053203861610773 23 123} {2753794133596684284 23 124} {8374905473831063718 23 125} {5788755077359362289 23 126} {2695539719302585898 23 127} {5277898083522833043 23 128} {8229637058217836182 23 129} {2501852895248248526 23 130} {3529122193861204609 23 131} {1430689426375122096 23 132} {7780354207902433988 23 133} {3519117975929776395 23 134} {5333254860283024187 23 135} {1153756295063252280 23 136} {7171831838501231924 23 137} {7490262976613167877 23 138} {6787305194814628577 23 139} {207234642959981269 23 140} {7134953382345345336 23 141}]
------------------------------------------------------
term 23 Server0 start snapshot! index=129
term 23 server0 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=141
-------------------------------------------------------------
term 23 Server0 start snapshot! index=139
term 23 server0 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=141
-------------------------------------------------------------
term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 709 term 23 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 23 139} {207234642959981269 23 140} {7134953382345345336 23 141}]
------------------------------------------------------
term 23 Server2 start snapshot! index=129
term 23 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=141
-------------------------------------------------------------
term 23 Server2 start snapshot! index=139
term 23 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=141
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5140358466416598411 (index 142) to leader 0
term 23 leader 0 nextIndex[1]: 126  matchIndex[1]: 125
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 13721 term 23 leader 0 nextIndex[2]: 142  matchIndex[2]: 141
term 23 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 23 leaderCommit: 141 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {207234642959981269 23 140} {7134953382345345336 23 141} {5140358466416598411 23 142}]
------------------------------------------------------
term 24 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 server 2 vote for server 0
term 25 server 1 vote for server 0
term 25 server 0 get vote from server 2
term 25 server 0 become leader
------------------------------------------------------
term 25 server 0 get outdate rpc reply from server 1
flag 71613 term 25 leader 0 nextIndex[1]: 143  matchIndex[1]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 19555 term 25 leader 0 nextIndex[2]: 143  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {207234642959981269 23 140} {7134953382345345336 23 141} {5140358466416598411 23 142}]
------------------------------------------------------
term 25 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 143->142
------------------------------------------------------
term 25 leader 0 nextIndex[1]: 126  matchIndex[1]: 0
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 45230 term 25 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 25 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {207234642959981269 23 140} {7134953382345345336 23 141} {5140358466416598411 23 142}]
------------------------------------------------------
term 25 server 1 InstallSnapshot success
------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 23 rf.commitIndex 139 rf.lastApplied 139
flag 86239 term 25 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 29425 term 25 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 25 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {207234642959981269 23 140} {7134953382345345336 23 141} {5140358466416598411 23 142}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {207234642959981269 23 140} {7134953382345345336 23 141} {5140358466416598411 23 142}]
------------------------------------------------------
flag 64058 term 25 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 95232 term 25 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 25 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {207234642959981269 23 140} {7134953382345345336 23 141} {5140358466416598411 23 142}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {207234642959981269 23 140} {7134953382345345336 23 141} {5140358466416598411 23 142}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61861 term 25 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 63522 term 25 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 25 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {207234642959981269 23 140} {7134953382345345336 23 141} {5140358466416598411 23 142}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {207234642959981269 23 140} {7134953382345345336 23 141} {5140358466416598411 23 142}]
------------------------------------------------------
flag 10766 term 25 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 21291 term 25 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 25 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {207234642959981269 23 140} {7134953382345345336 23 141} {5140358466416598411 23 142}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {207234642959981269 23 140} {7134953382345345336 23 141} {5140358466416598411 23 142}]
------------------------------------------------------
term 25 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29052 term 25 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 87955 term 25 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 25 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {207234642959981269 23 140} {7134953382345345336 23 141} {5140358466416598411 23 142}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {207234642959981269 23 140} {7134953382345345336 23 141} {5140358466416598411 23 142}]
------------------------------------------------------
flag 16650 term 25 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 43533 term 25 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 25 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {207234642959981269 23 140} {7134953382345345336 23 141} {5140358466416598411 23 142}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 23 139} {207234642959981269 23 140} {7134953382345345336 23 141} {5140358466416598411 23 142}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7861543607236577849 (index 143) to leader 0
flag 57192 term 25 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
flag 29338 term 25 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 25 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 142 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {207234642959981269 23 140} {7134953382345345336 23 141} {5140358466416598411 23 142} {7861543607236577849 25 143}]
------------------------------------------------------
flag 13354 term 25 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 80469 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {207234642959981269 23 140} {7134953382345345336 23 141} {5140358466416598411 23 142} {7861543607236577849 25 143}]
------------------------------------------------------
client write log 1319425426369301669 (index 144) to leader 0
client write log 8599477257517923724 (index 145) to leader 0
client write log 1132544695297196061 (index 146) to leader 0
client write log 6805450006444641983 (index 147) to leader 0
client write log 6666640499516466521 (index 148) to leader 0
client write log 8812725905246102232 (index 149) to leader 0
client write log 3558523030726629701 (index 150) to leader 0
client write log 6902499003247115463 (index 151) to leader 0
client write log 849042983075270174 (index 152) to leader 0
client write log 5070592536307272079 (index 153) to leader 0
client write log 1621120000128557511 (index 154) to leader 0
client write log 6336483595812102043 (index 155) to leader 0
client write log 2890011748494328678 (index 156) to leader 0
client write log 1666757562131146990 (index 157) to leader 0
client write log 456646531149921544 (index 158) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34984 term 25 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 53333 term 25 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 25 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 25 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 23 139} {207234642959981269 23 140} {7134953382345345336 23 141} {5140358466416598411 23 142} {7861543607236577849 25 143} {1319425426369301669 25 144} {8599477257517923724 25 145} {1132544695297196061 25 146} {6805450006444641983 25 147} {6666640499516466521 25 148} {8812725905246102232 25 149} {3558523030726629701 25 150} {6902499003247115463 25 151} {849042983075270174 25 152} {5070592536307272079 25 153} {1621120000128557511 25 154} {6336483595812102043 25 155} {2890011748494328678 25 156} {1666757562131146990 25 157} {456646531149921544 25 158}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 Server0 start snapshot! index=149
term 25 server0 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=158
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 25
------------------------------------------------------
flag 58470 term 25 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 25 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 158 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 25 149} {3558523030726629701 25 150} {6902499003247115463 25 151} {849042983075270174 25 152} {5070592536307272079 25 153} {1621120000128557511 25 154} {6336483595812102043 25 155} {2890011748494328678 25 156} {1666757562131146990 25 157} {456646531149921544 25 158}]
------------------------------------------------------
term 25 Server2 start snapshot! index=149
term 25 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=158
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6055399467439206556 (index 159) to leader 0
term 25 leader 0 nextIndex[1]: 143  matchIndex[1]: 142
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 25
------------------------------------------------------
flag 13441 term 25 leader 0 nextIndex[2]: 159  matchIndex[2]: 158
term 25 leader 0 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 25 leaderCommit: 158 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 149} {3558523030726629701 25 150} {6902499003247115463 25 151} {849042983075270174 25 152} {5070592536307272079 25 153} {1621120000128557511 25 154} {6336483595812102043 25 155} {2890011748494328678 25 156} {1666757562131146990 25 157} {456646531149921544 25 158} {6055399467439206556 25 159}]
------------------------------------------------------
term 26 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 Server0 start snapshot! index=159
term 26 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
term 27 server 2 vote for server 0
term 27 server 0 get vote from server 2
term 27 server 0 become leader
------------------------------------------------------
term 27 server 1 vote for server 0
term 27 server 0 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3923 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 33970 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 159}]
------------------------------------------------------
term 27 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 160->159
------------------------------------------------------
term 27 Server2 start snapshot! index=159
term 27 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 leader 0 nextIndex[1]: 143  matchIndex[1]: 0
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 25
------------------------------------------------------
flag 6205 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 27 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 159}]
------------------------------------------------------
term 27 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 25 rf.commitIndex 159 rf.lastApplied 159
flag 61687 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 26342 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 159}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 159}]
------------------------------------------------------
flag 78059 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 52821 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 159}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 159}]
------------------------------------------------------
flag 90740 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 38351 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 159}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 159}]
------------------------------------------------------
flag 72227 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 36696 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 159}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 159}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 74561 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 21541 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 96132 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 25351 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96015 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 91202 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 server 2 vote for server 1
term 28 server 1 get vote from server 2
term 28 server 1 become leader
------------------------------------------------------
flag 31536 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 16180 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 52068 term 28 leader 1 nextIndex[0]: 160  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 26851 term 28 leader 1 nextIndex[2]: 160  matchIndex[2]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 25 159}]
------------------------------------------------------
client write log 5536852303539198473 (index 160) to leader 1
flag 1272 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 97354 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 50552 term 28 leader 1 nextIndex[0]: 160  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 76388 term 28 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {5536852303539198473 28 160}]
------------------------------------------------------
flag 35696 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 59999 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 93774 term 28 leader 1 nextIndex[0]: 160  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 16785 term 28 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 28 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=161
update matchIndex[2]=160
update leader CommitIndex=160
leader log:
[{snapshot 25 159} {5536852303539198473 28 160}]
------------------------------------------------------
client write log 7121205750569065147 (index 161) to leader 1
client write log 8513812983696107147 (index 162) to leader 1
client write log 6362625146423265801 (index 163) to leader 1
client write log 5505133551649029978 (index 164) to leader 1
client write log 1594659880105874036 (index 165) to leader 1
client write log 8089396521465987927 (index 166) to leader 1
flag 52910 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 19949 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 67833 term 28 leader 1 nextIndex[0]: 160  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 160 
------------------------------------------------------
flag 70475 term 28 leader 1 nextIndex[2]: 161  matchIndex[2]: 160
term 28 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 25 159} {5536852303539198473 28 160} {7121205750569065147 28 161} {8513812983696107147 28 162} {6362625146423265801 28 163} {5505133551649029978 28 164} {1594659880105874036 28 165} {8089396521465987927 28 166}]
------------------------------------------------------
flag 19078 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 83432 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 26729 term 28 leader 1 nextIndex[0]: 160  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 166 
------------------------------------------------------
flag 28988 term 28 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=167
update matchIndex[2]=166
update leader CommitIndex=166
leader log:
[{snapshot 25 159} {5536852303539198473 28 160} {7121205750569065147 28 161} {8513812983696107147 28 162} {6362625146423265801 28 163} {5505133551649029978 28 164} {1594659880105874036 28 165} {8089396521465987927 28 166}]
------------------------------------------------------
!!!!!!connect server 0
client write log 7981223418063986195 (index 167) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93573 term 27 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
flag 89569 term 27 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 27 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 159 
------------------------------------------------------
term 28 server 2 AppendEntries false 领导者任期过期 args.Term 27
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 28 server 1 AppendEntries false 领导者任期过期 args.Term 27
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69189 term 28 leader 1 nextIndex[0]: 160  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 25 leaderCommit: 166 
------------------------------------------------------
flag 95796 term 28 leader 1 nextIndex[2]: 167  matchIndex[2]: 166
term 28 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 28 leaderCommit: 166 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {5536852303539198473 28 160} {7121205750569065147 28 161} {8513812983696107147 28 162} {6362625146423265801 28 163} {5505133551649029978 28 164} {1594659880105874036 28 165} {8089396521465987927 28 166} {7981223418063986195 28 167}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {5536852303539198473 28 160} {7121205750569065147 28 161} {8513812983696107147 28 162} {6362625146423265801 28 163} {5505133551649029978 28 164} {1594659880105874036 28 165} {8089396521465987927 28 166} {7981223418063986195 28 167}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42507 term 28 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 39631 term 28 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {5536852303539198473 28 160} {7121205750569065147 28 161} {8513812983696107147 28 162} {6362625146423265801 28 163} {5505133551649029978 28 164} {1594659880105874036 28 165} {8089396521465987927 28 166} {7981223418063986195 28 167}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {5536852303539198473 28 160} {7121205750569065147 28 161} {8513812983696107147 28 162} {6362625146423265801 28 163} {5505133551649029978 28 164} {1594659880105874036 28 165} {8089396521465987927 28 166} {7981223418063986195 28 167}]
------------------------------------------------------
flag 76280 term 28 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 45266 term 28 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {5536852303539198473 28 160} {7121205750569065147 28 161} {8513812983696107147 28 162} {6362625146423265801 28 163} {5505133551649029978 28 164} {1594659880105874036 28 165} {8089396521465987927 28 166} {7981223418063986195 28 167}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {5536852303539198473 28 160} {7121205750569065147 28 161} {8513812983696107147 28 162} {6362625146423265801 28 163} {5505133551649029978 28 164} {1594659880105874036 28 165} {8089396521465987927 28 166} {7981223418063986195 28 167}]
------------------------------------------------------
flag 11598 term 28 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 18978 term 28 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {5536852303539198473 28 160} {7121205750569065147 28 161} {8513812983696107147 28 162} {6362625146423265801 28 163} {5505133551649029978 28 164} {1594659880105874036 28 165} {8089396521465987927 28 166} {7981223418063986195 28 167}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {5536852303539198473 28 160} {7121205750569065147 28 161} {8513812983696107147 28 162} {6362625146423265801 28 163} {5505133551649029978 28 164} {1594659880105874036 28 165} {8089396521465987927 28 166} {7981223418063986195 28 167}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 server 0 not vote for server 1, 任期不够新
term 28 server 1 get outdate rpc reply from server 0
flag 41361 term 28 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 10774 term 28 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {5536852303539198473 28 160} {7121205750569065147 28 161} {8513812983696107147 28 162} {6362625146423265801 28 163} {5505133551649029978 28 164} {1594659880105874036 28 165} {8089396521465987927 28 166} {7981223418063986195 28 167}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {5536852303539198473 28 160} {7121205750569065147 28 161} {8513812983696107147 28 162} {6362625146423265801 28 163} {5505133551649029978 28 164} {1594659880105874036 28 165} {8089396521465987927 28 166} {7981223418063986195 28 167}]
------------------------------------------------------
flag 75497 term 28 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 76557 term 28 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {5536852303539198473 28 160} {7121205750569065147 28 161} {8513812983696107147 28 162} {6362625146423265801 28 163} {5505133551649029978 28 164} {1594659880105874036 28 165} {8089396521465987927 28 166} {7981223418063986195 28 167}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {5536852303539198473 28 160} {7121205750569065147 28 161} {8513812983696107147 28 162} {6362625146423265801 28 163} {5505133551649029978 28 164} {1594659880105874036 28 165} {8089396521465987927 28 166} {7981223418063986195 28 167}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56067 term 28 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 4404 term 28 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:167 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {5536852303539198473 28 160} {7121205750569065147 28 161} {8513812983696107147 28 162} {6362625146423265801 28 163} {5505133551649029978 28 164} {1594659880105874036 28 165} {8089396521465987927 28 166} {7981223418063986195 28 167}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=167
leader log:
[{snapshot 25 159} {5536852303539198473 28 160} {7121205750569065147 28 161} {8513812983696107147 28 162} {6362625146423265801 28 163} {5505133551649029978 28 164} {1594659880105874036 28 165} {8089396521465987927 28 166} {7981223418063986195 28 167}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2008269299043651685 (index 168) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69782 term 28 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
flag 2566 term 28 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 167 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 25 159} {5536852303539198473 28 160} {7121205750569065147 28 161} {8513812983696107147 28 162} {6362625146423265801 28 163} {5505133551649029978 28 164} {1594659880105874036 28 165} {8089396521465987927 28 166} {7981223418063986195 28 167} {2008269299043651685 28 168}]
------------------------------------------------------
flag 98840 term 28 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 28 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 5589 term 28 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 25 159} {5536852303539198473 28 160} {7121205750569065147 28 161} {8513812983696107147 28 162} {6362625146423265801 28 163} {5505133551649029978 28 164} {1594659880105874036 28 165} {8089396521465987927 28 166} {7981223418063986195 28 167} {2008269299043651685 28 168}]
------------------------------------------------------
client write log 7504318838439489959 (index 169) to leader 1
client write log 7470902568436857728 (index 170) to leader 1
client write log 5858435740499358715 (index 171) to leader 1
client write log 7122065401754965035 (index 172) to leader 1
client write log 7685863312120375661 (index 173) to leader 1
client write log 3976029776892480341 (index 174) to leader 1
client write log 6234873909394539521 (index 175) to leader 1
client write log 1865098341147983529 (index 176) to leader 1
client write log 7294574654935939616 (index 177) to leader 1
client write log 3615307109201962294 (index 178) to leader 1
client write log 9027560618032026152 (index 179) to leader 1
client write log 5049241204650051067 (index 180) to leader 1
flag 66131 term 28 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 28 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
flag 86103 term 28 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 28 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 28 leaderCommit: 168 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 25 159} {5536852303539198473 28 160} {7121205750569065147 28 161} {8513812983696107147 28 162} {6362625146423265801 28 163} {5505133551649029978 28 164} {1594659880105874036 28 165} {8089396521465987927 28 166} {7981223418063986195 28 167} {2008269299043651685 28 168} {7504318838439489959 28 169} {7470902568436857728 28 170} {5858435740499358715 28 171} {7122065401754965035 28 172} {7685863312120375661 28 173} {3976029776892480341 28 174} {6234873909394539521 28 175} {1865098341147983529 28 176} {7294574654935939616 28 177} {3615307109201962294 28 178} {9027560618032026152 28 179} {5049241204650051067 28 180}]
------------------------------------------------------
term 28 Server1 start snapshot! index=169
term 28 server1 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=180
-------------------------------------------------------------
term 28 Server1 start snapshot! index=179
term 28 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=180
-------------------------------------------------------------
flag 34180 term 28 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 28
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180}]
------------------------------------------------------
term 28 Server0 start snapshot! index=169
term 28 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=180
-------------------------------------------------------------
term 28 Server0 start snapshot! index=179
term 28 server0 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=180
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3916317072509472038 (index 181) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31725 term 28 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 28
------------------------------------------------------
term 29 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 2 vote for server 1
term 30 server 1 get vote from server 2
term 30 server 0 vote for server 1
term 30 server 1 become leader
------------------------------------------------------
term 30 server 1 get outdate rpc reply from server 0
flag 92419 term 30 leader 1 nextIndex[0]: 182  matchIndex[0]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 11918 term 30 leader 1 nextIndex[2]: 182  matchIndex[2]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 30 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 182->181
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
flag 70078 term 30 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 30 leader 1 nextIndex[2]: 168  matchIndex[2]: 0
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 28
------------------------------------------------------
term 30 server 2 InstallSnapshot success
------------------------------------------------------
term 30 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 28 rf.commitIndex 179 rf.lastApplied 179
term 30 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8094 term 30 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 35363 term 30 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 30 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
flag 7264 term 30 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 29747 term 30 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
term 30 server 0 not vote for server 1, 任期不够新
term 30 server 1 get outdate rpc reply from server 0
flag 47407 term 30 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 74188 term 30 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38032 term 30 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 45491 term 30 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
flag 91209 term 30 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 85798 term 30 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
term 30 server 2 not vote for server 1, 任期不够新
term 30 server 1 get outdate rpc reply from server 2
flag 71782 term 30 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 82332 term 30 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83413 term 30 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 25098 term 30 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
term 30 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
flag 56386 term 30 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 21088 term 30 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
flag 33441 term 30 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 36890 term 30 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61612 term 30 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 94861 term 30 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
term 30 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 30 server 0 not vote for server 1, 任期不够新
term 30 server 1 get outdate rpc reply from server 0
flag 20015 term 30 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 73345 term 30 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
flag 76130 term 30 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 24062 term 30 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
term 30 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
flag 28089 term 30 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 39013 term 30 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75562 term 30 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 11704 term 30 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45552 term 30 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 51039 term 30 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
flag 70280 term 30 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 39733 term 30 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
flag 38238 term 30 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 97181 term 30 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=182
update matchIndex[2]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=182
update matchIndex[0]=181
update leader CommitIndex=180
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181}]
------------------------------------------------------
client write log 3916317072509472038 (index 182) to leader 1
term 30 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83529 term 30 leader 1 nextIndex[0]: 182  matchIndex[0]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 33393 term 30 leader 1 nextIndex[2]: 182  matchIndex[2]: 181
term 30 leader 1 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181} {3916317072509472038 30 182}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181} {3916317072509472038 30 182}]
------------------------------------------------------
flag 63125 term 30 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 30 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 30 leaderCommit: 182 
------------------------------------------------------
flag 7913 term 30 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 30 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 30 leaderCommit: 182 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181} {3916317072509472038 30 182}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181} {3916317072509472038 30 182}]
------------------------------------------------------
flag 51143 term 30 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 30 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 30 leaderCommit: 182 
------------------------------------------------------
flag 12045 term 30 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 30 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 30 leaderCommit: 182 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181} {3916317072509472038 30 182}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181} {3916317072509472038 30 182}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10852 term 30 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 30 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 30 leaderCommit: 182 
------------------------------------------------------
flag 43752 term 30 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 30 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 30 leaderCommit: 182 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181} {3916317072509472038 30 182}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181} {3916317072509472038 30 182}]
------------------------------------------------------
flag 86551 term 30 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 30 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 30 leaderCommit: 182 
------------------------------------------------------
flag 90127 term 30 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 30 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 30 leaderCommit: 182 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181} {3916317072509472038 30 182}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181} {3916317072509472038 30 182}]
------------------------------------------------------
flag 85719 term 30 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 30 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 30 leaderCommit: 182 
------------------------------------------------------
flag 68046 term 30 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 30 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 30 leaderCommit: 182 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181} {3916317072509472038 30 182}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181} {3916317072509472038 30 182}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65823 term 30 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 30 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 30 leaderCommit: 182 
------------------------------------------------------
flag 99656 term 30 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 30 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 30 leaderCommit: 182 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=183
update matchIndex[2]=182
update leader CommitIndex=182
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181} {3916317072509472038 30 182}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=183
update matchIndex[0]=182
update leader CommitIndex=182
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181} {3916317072509472038 30 182}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 579367197621442513 (index 183) to leader 1
flag 87307 term 30 leader 1 nextIndex[0]: 183  matchIndex[0]: 182
term 30 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 30 leaderCommit: 182 
------------------------------------------------------
flag 77767 term 30 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 30 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 30 leaderCommit: 182 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:182 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=183
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181} {3916317072509472038 30 182} {579367197621442513 30 183}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39746 term 30 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 30 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 30 leaderCommit: 183 
------------------------------------------------------
flag 69627 term 30 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 30 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 30 leaderCommit: 183 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=184
update matchIndex[0]=183
update leader CommitIndex=183
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181} {3916317072509472038 30 182} {579367197621442513 30 183}]
------------------------------------------------------
client write log 5958237423003073039 (index 184) to leader 1
client write log 7143441613003831526 (index 185) to leader 1
client write log 1467471460414600395 (index 186) to leader 1
client write log 7974428985290499104 (index 187) to leader 1
client write log 8202687434735708065 (index 188) to leader 1
client write log 3660943153260411096 (index 189) to leader 1
client write log 6464013455860910417 (index 190) to leader 1
client write log 4662880600691188031 (index 191) to leader 1
client write log 2482683077627226586 (index 192) to leader 1
client write log 1192329801678030186 (index 193) to leader 1
client write log 7386927886188903679 (index 194) to leader 1
client write log 7248565062453977765 (index 195) to leader 1
client write log 7644553469799631915 (index 196) to leader 1
flag 66667 term 30 leader 1 nextIndex[0]: 184  matchIndex[0]: 183
term 30 leader 1 sendAppendEntries PrevLogIndex: 183  PrevLogTerm: 30 leaderCommit: 183 
------------------------------------------------------
flag 81138 term 30 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 30 leader 1 sendAppendEntries PrevLogIndex: 182  PrevLogTerm: 30 leaderCommit: 183 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:183 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=196
leader log:
[{snapshot 28 179} {5049241204650051067 28 180} {3916317072509472038 28 181} {3916317072509472038 30 182} {579367197621442513 30 183} {5958237423003073039 30 184} {7143441613003831526 30 185} {1467471460414600395 30 186} {7974428985290499104 30 187} {8202687434735708065 30 188} {3660943153260411096 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196}]
------------------------------------------------------
term 30 Server1 start snapshot! index=189
term 30 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=196
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28453 term 30 leader 1 nextIndex[0]: 197  matchIndex[0]: 196
term 30 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 30 leader 1 nextIndex[2]: 183  matchIndex[2]: 182
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=197
update matchIndex[0]=196
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196}]
------------------------------------------------------
term 30 Server0 start snapshot! index=189
term 30 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=196
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7011476414256748070 (index 197) to leader 1
term 30 server 1 not vote for server 2, 日志不够新
term 30 server 0 not vote for server 2, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 server 2 vote for server 1
term 32 server 1 get vote from server 2
term 32 server 1 become leader
------------------------------------------------------
term 32 server 0 vote for server 1
term 32 server 1 get outdate rpc reply from server 0
flag 90828 term 32 leader 1 nextIndex[0]: 198  matchIndex[0]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 86344 term 32 leader 1 nextIndex[2]: 198  matchIndex[2]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 32 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 32 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 198->197
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 198->197
------------------------------------------------------
flag 35939 term 32 leader 1 nextIndex[0]: 197  matchIndex[0]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 196  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 32 leader 1 nextIndex[2]: 183  matchIndex[2]: 0
term 32 leader 1 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
term 32 server 2 InstallSnapshot success
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
term 32 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 30 rf.commitIndex 189 rf.lastApplied 189
flag 66737 term 32 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 36555 term 32 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
term 32 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92323 term 32 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 74789 term 32 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41711 term 32 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 71538 term 32 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
flag 49218 term 32 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 10975 term 32 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
flag 91380 term 32 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 90980 term 32 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95333 term 32 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 59093 term 32 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
flag 45973 term 32 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 84122 term 32 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
flag 7853 term 32 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 17635 term 32 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
term 32 server 2 not vote for server 1, 任期不够新
term 32 server 1 get outdate rpc reply from server 2
flag 86531 term 32 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 70106 term 32 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1573 term 32 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 17575 term 32 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
flag 16195 term 32 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 19032 term 32 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54817 term 32 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 45610 term 32 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
flag 86224 term 32 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 59843 term 32 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15608 term 32 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 92555 term 32 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55698 term 32 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 87976 term 32 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63421 term 32 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 931 term 32 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59657 term 32 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 19024 term 32 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82841 term 32 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 71540 term 32 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=198
update matchIndex[0]=197
update leader CommitIndex=196
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197}]
------------------------------------------------------
client write log 7011476414256748070 (index 198) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25463 term 32 leader 1 nextIndex[0]: 198  matchIndex[0]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
flag 25605 term 32 leader 1 nextIndex[2]: 198  matchIndex[2]: 197
term 32 leader 1 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 30 leaderCommit: 196 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:196 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:196 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=198
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197} {7011476414256748070 32 198}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197} {7011476414256748070 32 198}]
------------------------------------------------------
flag 41448 term 32 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
flag 1148 term 32 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 32 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=198
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197} {7011476414256748070 32 198}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197} {7011476414256748070 32 198}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63062 term 32 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
flag 82263 term 32 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 32 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=198
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197} {7011476414256748070 32 198}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197} {7011476414256748070 32 198}]
------------------------------------------------------
flag 90699 term 32 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
flag 10059 term 32 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 32 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=198
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197} {7011476414256748070 32 198}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197} {7011476414256748070 32 198}]
------------------------------------------------------
flag 11281 term 32 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
flag 97556 term 32 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 32 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197} {7011476414256748070 32 198}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=198
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197} {7011476414256748070 32 198}]
------------------------------------------------------
flag 20854 term 32 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
flag 62036 term 32 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 32 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=198
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197} {7011476414256748070 32 198}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197} {7011476414256748070 32 198}]
------------------------------------------------------
flag 62254 term 32 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
flag 25633 term 32 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 32 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=198
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197} {7011476414256748070 32 198}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=199
update matchIndex[0]=198
update leader CommitIndex=198
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197} {7011476414256748070 32 198}]
------------------------------------------------------
!!!!!!diconnect server 1
term 32 server 0 not vote for server 2, 任期不够新
term 32 server 2 get outdate rpc reply from server 0
flag 15351 term 32 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
flag 82129 term 32 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 32 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
flag 83204 term 32 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
flag 94272 term 32 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 32 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
flag 2236 term 32 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
flag 59659 term 32 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 32 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
flag 53970 term 32 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
flag 1685 term 32 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 32 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
term 33 server 2 vote for server 0
term 33 server 0 get vote from server 2
term 33 server 0 become leader
------------------------------------------------------
flag 2514 term 33 leader 0 nextIndex[1]: 199  matchIndex[1]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
flag 34362 term 33 leader 0 nextIndex[2]: 199  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=198
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197} {7011476414256748070 32 198}]
------------------------------------------------------
client write log 8820214804134980171 (index 199) to leader 0
flag 56195 term 32 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
flag 96817 term 32 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 32 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
flag 76260 term 33 leader 0 nextIndex[1]: 199  matchIndex[1]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
flag 22057 term 33 leader 0 nextIndex[2]: 199  matchIndex[2]: 198
term 33 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:198 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 30 189} {6464013455860910417 30 190} {4662880600691188031 30 191} {2482683077627226586 30 192} {1192329801678030186 30 193} {7386927886188903679 30 194} {7248565062453977765 30 195} {7644553469799631915 30 196} {7011476414256748070 30 197} {7011476414256748070 32 198} {8820214804134980171 33 199}]
------------------------------------------------------
term 33 Server0 start snapshot! index=199
term 33 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
flag 21830 term 32 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
flag 93808 term 32 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 32 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 199  matchIndex[1]: 0
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 82676 term 33 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 33 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 33 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 33 199}]
------------------------------------------------------
term 33 Server2 start snapshot! index=199
term 33 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
client write log 6755012801198823964 (index 200) to leader 0
flag 47025 term 32 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
flag 66103 term 32 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 32 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 199  matchIndex[1]: 0
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 43208 term 33 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 33 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 33 leaderCommit: 199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
flag 92752 term 32 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
flag 5405 term 32 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 32 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 199  matchIndex[1]: 0
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 82376 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5236765446068214038 (index 199) to leader 1
flag 85809 term 32 leader 1 nextIndex[0]: 199  matchIndex[0]: 198
term 32 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
flag 14160 term 32 leader 1 nextIndex[2]: 199  matchIndex[2]: 198
term 32 leader 1 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 32 leaderCommit: 198 
------------------------------------------------------
term 33 server 2 AppendEntries false 领导者任期过期 args.Term 32
------------------------------------------------------
term 33 server 0 AppendEntries false 领导者任期过期 args.Term 32
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 199  matchIndex[1]: 0
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 63418 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 33 server 1 InstallSnapshot success
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
rf.lastIncludedIndex 199 rf.lastIncludedTerm 33 rf.commitIndex 199 rf.lastApplied 199
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40161 term 33 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 33 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
flag 88338 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27503 term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
flag 91262 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61615 term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
flag 47722 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89263 term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
flag 93261 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 201->200
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 0  matchIndex[1]: 200
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 20287 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 33 server 1 InstallSnapshot fail
rf.commitIndex 200 args.LastIncludedIndex 199
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
flag 49644 term 33 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 33 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
flag 61474 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69084 term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
flag 53363 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
flag 88740 term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
flag 37394 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
flag 48118 term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
flag 11574 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 971 term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
flag 84355 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
flag 18057 term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
flag 2852 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57254 term 33 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 33 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
flag 18111 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
flag 47043 term 33 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 33 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
flag 67157 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
flag 78468 term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
flag 47184 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
flag 40295 term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
flag 40826 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
flag 73218 term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
flag 69059 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
flag 62135 term 33 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 33 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
flag 45516 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
flag 42337 term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
flag 15405 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
flag 74854 term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
flag 71838 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 33 199} {6755012801198823964 33 200}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 5236765446068214038 (index 201) to leader 0
flag 52801 term 33 leader 0 nextIndex[1]: 201  matchIndex[1]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
flag 15208 term 33 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 33 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 33 leaderCommit: 200 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {6755012801198823964 33 200} {5236765446068214038 33 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {6755012801198823964 33 200} {5236765446068214038 33 201}]
------------------------------------------------------
flag 64712 term 33 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 33 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 55465 term 33 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {6755012801198823964 33 200} {5236765446068214038 33 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {6755012801198823964 33 200} {5236765446068214038 33 201}]
------------------------------------------------------
flag 31709 term 33 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 33 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 70975 term 33 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {6755012801198823964 33 200} {5236765446068214038 33 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {6755012801198823964 33 200} {5236765446068214038 33 201}]
------------------------------------------------------
flag 35455 term 33 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 33 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 24777 term 33 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {6755012801198823964 33 200} {5236765446068214038 33 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {6755012801198823964 33 200} {5236765446068214038 33 201}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89501 term 33 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 33 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 60111 term 33 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {6755012801198823964 33 200} {5236765446068214038 33 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {6755012801198823964 33 200} {5236765446068214038 33 201}]
------------------------------------------------------
term 33 server 1 not vote for server 0, 日志不够新
term 33 server 0 get outdate rpc reply from server 1
flag 38055 term 33 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 33 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 65428 term 33 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {6755012801198823964 33 200} {5236765446068214038 33 201}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {6755012801198823964 33 200} {5236765446068214038 33 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 202->201
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 0  matchIndex[1]: 201
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 15939 term 33 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=201
leader log:
[{snapshot 33 199} {6755012801198823964 33 200} {5236765446068214038 33 201}]
------------------------------------------------------
term 33 server 1 InstallSnapshot fail
rf.commitIndex 201 args.LastIncludedIndex 199
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
!!!!!!diconnect server 1
client write log 2118014206339392405 (index 202) to leader 0
flag 7048 term 33 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 33 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
flag 57847 term 33 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 33 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 33 leaderCommit: 201 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {6755012801198823964 33 200} {5236765446068214038 33 201} {2118014206339392405 33 202}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10824 term 33 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 33 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
flag 25530 term 33 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 33 199} {6755012801198823964 33 200} {5236765446068214038 33 201} {2118014206339392405 33 202}]
------------------------------------------------------
client write log 2140990191784487882 (index 203) to leader 0
client write log 3126802525052705776 (index 204) to leader 0
client write log 6922877738416703656 (index 205) to leader 0
client write log 5515384770563134526 (index 206) to leader 0
client write log 1290511076634153970 (index 207) to leader 0
client write log 3508326686114061307 (index 208) to leader 0
client write log 8069557780468606528 (index 209) to leader 0
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32155 term 33 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 33 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
flag 8037 term 33 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 33 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 33 199} {6755012801198823964 33 200} {5236765446068214038 33 201} {2118014206339392405 33 202} {2140990191784487882 33 203} {3126802525052705776 33 204} {6922877738416703656 33 205} {5515384770563134526 33 206} {1290511076634153970 33 207} {3508326686114061307 33 208} {8069557780468606528 33 209}]
------------------------------------------------------
term 33 Server0 start snapshot! index=209
term 33 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
flag 30869 term 33 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 33 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 209 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 33 209}]
------------------------------------------------------
term 33 Server2 start snapshot! index=209
term 33 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7184502295670783409 (index 210) to leader 0
term 33 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
flag 80789 term 33 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 33 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 209 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 33 209} {7184502295670783409 33 210}]
------------------------------------------------------
term 34 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 35 server 2 vote for server 0
term 35 server 0 get vote from server 2
term 35 server 1 vote for server 0
term 35 server 0 become leader
------------------------------------------------------
term 35 server 0 get outdate rpc reply from server 1
flag 46630 term 35 leader 0 nextIndex[1]: 211  matchIndex[1]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 33 leaderCommit: 210 
------------------------------------------------------
flag 92663 term 35 leader 0 nextIndex[2]: 211  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 33 leaderCommit: 210 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
term 35 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
[{snapshot 33 209} {7184502295670783409 33 210}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 211->210
------------------------------------------------------
term 35 server 2 not vote for server 1, 任期不够新
term 35 server 1 get outdate rpc reply from server 2
term 35 leader 0 nextIndex[1]: 202  matchIndex[1]: 0
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
flag 63260 term 35 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 35 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 33 leaderCommit: 210 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
term 35 server 1 InstallSnapshot success
------------------------------------------------------
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 33 209} {7184502295670783409 33 210}]
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 33 rf.commitIndex 209 rf.lastApplied 209
flag 51487 term 35 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 35 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 210 
------------------------------------------------------
flag 12809 term 35 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 35 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 33 leaderCommit: 210 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 33 209} {7184502295670783409 33 210}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 33 209} {7184502295670783409 33 210}]
------------------------------------------------------
flag 39477 term 35 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 35 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 33 leaderCommit: 210 
------------------------------------------------------
flag 38306 term 35 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 35 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 33 leaderCommit: 210 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 33 209} {7184502295670783409 33 210}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 33 209} {7184502295670783409 33 210}]
------------------------------------------------------
flag 84385 term 35 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 35 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 33 leaderCommit: 210 
------------------------------------------------------
flag 74804 term 35 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 35 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 33 leaderCommit: 210 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 33 209} {7184502295670783409 33 210}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 33 209} {7184502295670783409 33 210}]
------------------------------------------------------
flag 16055 term 35 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 35 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 33 leaderCommit: 210 
------------------------------------------------------
flag 80846 term 35 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 35 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 33 leaderCommit: 210 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 33 209} {7184502295670783409 33 210}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 33 209} {7184502295670783409 33 210}]
------------------------------------------------------
flag 11729 term 35 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 35 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 33 leaderCommit: 210 
------------------------------------------------------
flag 84360 term 35 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 35 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 33 leaderCommit: 210 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 33 209} {7184502295670783409 33 210}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 33 209} {7184502295670783409 33 210}]
------------------------------------------------------
flag 78793 term 35 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 35 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 33 leaderCommit: 210 
------------------------------------------------------
flag 78199 term 35 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 35 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 33 leaderCommit: 210 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 33 209} {7184502295670783409 33 210}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 33 209} {7184502295670783409 33 210}]
------------------------------------------------------
flag 92822 term 35 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 35 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 33 leaderCommit: 210 
------------------------------------------------------
flag 1488 term 35 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 35 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 33 leaderCommit: 210 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 33 209} {7184502295670783409 33 210}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=210
leader log:
[{snapshot 33 209} {7184502295670783409 33 210}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8247790550231804328 (index 211) to leader 0
flag 30730 term 35 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 35 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 33 leaderCommit: 210 
------------------------------------------------------
flag 87721 term 35 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 35 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 33 leaderCommit: 210 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {7184502295670783409 33 210} {8247790550231804328 35 211}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77532 term 35 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 35 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 52456 term 35 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 35 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 35 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=211
leader log:
[{snapshot 33 209} {7184502295670783409 33 210} {8247790550231804328 35 211}]
------------------------------------------------------
client write log 1483045775674390130 (index 212) to leader 0
client write log 1407057879258330707 (index 213) to leader 0
client write log 3251534607407434385 (index 214) to leader 0
client write log 1141737649025219868 (index 215) to leader 0
client write log 2451807002339591352 (index 216) to leader 0
client write log 898989545449974500 (index 217) to leader 0
client write log 2253690235157506194 (index 218) to leader 0
client write log 719814190741921712 (index 219) to leader 0
client write log 7984991454664075188 (index 220) to leader 0
client write log 2141096385203121802 (index 221) to leader 0
client write log 4930449439579768526 (index 222) to leader 0
client write log 830479503825150605 (index 223) to leader 0
client write log 7477229110616182799 (index 224) to leader 0
client write log 3827603835995516443 (index 225) to leader 0
flag 85951 term 35 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 35 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 33 leaderCommit: 211 
------------------------------------------------------
flag 31740 term 35 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 35 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 35 leaderCommit: 211 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 33 209} {7184502295670783409 33 210} {8247790550231804328 35 211} {1483045775674390130 35 212} {1407057879258330707 35 213} {3251534607407434385 35 214} {1141737649025219868 35 215} {2451807002339591352 35 216} {898989545449974500 35 217} {2253690235157506194 35 218} {719814190741921712 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225}]
------------------------------------------------------
term 35 Server0 start snapshot! index=219
term 35 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=225
-------------------------------------------------------------
term 35 leader 0 nextIndex[1]: 211  matchIndex[1]: 210
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 35
------------------------------------------------------
flag 86549 term 35 leader 0 nextIndex[2]: 226  matchIndex[2]: 225
term 35 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225}]
------------------------------------------------------
term 35 Server2 start snapshot! index=219
term 35 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=225
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2561953937945084306 (index 226) to leader 0
term 35 server 2 not vote for server 1, 日志不够新
term 35 server 0 not vote for server 1, 日志不够新
term 37 server 2 vote for server 0
term 37 server 1 vote for server 0
term 37 server 0 get vote from server 2
term 37 server 0 become leader
------------------------------------------------------
term 37 server 0 get outdate rpc reply from server 1
flag 66315 term 37 leader 0 nextIndex[1]: 227  matchIndex[1]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
flag 51732 term 37 leader 0 nextIndex[2]: 227  matchIndex[2]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
term 37 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 37 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 227->226
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 227->226
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 leader 0 nextIndex[1]: 211  matchIndex[1]: 0
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 35
------------------------------------------------------
flag 29702 term 37 leader 0 nextIndex[2]: 226  matchIndex[2]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
term 37 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
term 37 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 220 matchIndex[1] 219 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 35 rf.commitIndex 219 rf.lastApplied 219
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51244 term 37 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
flag 62587 term 37 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
flag 35553 term 37 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
flag 85206 term 37 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:225 
term 37 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
flag 56140 term 37 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
flag 70375 term 37 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
flag 91589 term 37 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
flag 13808 term 37 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77327 term 37 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
flag 27176 term 37 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
flag 37878 term 37 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
flag 68505 term 37 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
flag 40809 term 37 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
flag 57681 term 37 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
flag 93450 term 37 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
flag 67225 term 37 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
flag 49053 term 37 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
flag 48434 term 37 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
flag 87690 term 37 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
flag 81150 term 37 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
flag 16808 term 37 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
flag 68670 term 37 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
flag 42049 term 37 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
flag 35022 term 37 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
flag 48826 term 37 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
flag 57143 term 37 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
flag 33799 term 37 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
flag 1743 term 37 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
flag 37857 term 37 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
flag 31024 term 37 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
flag 69500 term 37 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
flag 45991 term 37 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36637 term 37 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
flag 91075 term 37 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
flag 83187 term 37 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
flag 8419 term 37 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=227
update matchIndex[1]=226
update leader CommitIndex=225
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226}]
------------------------------------------------------
client write log 2561953937945084306 (index 227) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82635 term 37 leader 0 nextIndex[1]: 227  matchIndex[1]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
flag 44239 term 37 leader 0 nextIndex[2]: 227  matchIndex[2]: 226
term 37 leader 0 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 35 leaderCommit: 225 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226} {2561953937945084306 37 227}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226} {2561953937945084306 37 227}]
------------------------------------------------------
flag 48154 term 37 leader 0 nextIndex[1]: 228  matchIndex[1]: 227
term 37 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 13434 term 37 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 37 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226} {2561953937945084306 37 227}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226} {2561953937945084306 37 227}]
------------------------------------------------------
flag 46612 term 37 leader 0 nextIndex[1]: 228  matchIndex[1]: 227
term 37 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 96418 term 37 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 37 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226} {2561953937945084306 37 227}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226} {2561953937945084306 37 227}]
------------------------------------------------------
flag 95698 term 37 leader 0 nextIndex[1]: 228  matchIndex[1]: 227
term 37 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 68124 term 37 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 37 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226} {2561953937945084306 37 227}]
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226} {2561953937945084306 37 227}]
------------------------------------------------------
flag 97174 term 37 leader 0 nextIndex[1]: 228  matchIndex[1]: 227
term 37 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 37285 term 37 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 37 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226} {2561953937945084306 37 227}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226} {2561953937945084306 37 227}]
------------------------------------------------------
flag 5173 term 37 leader 0 nextIndex[1]: 228  matchIndex[1]: 227
term 37 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 89170 term 37 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 37 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226} {2561953937945084306 37 227}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226} {2561953937945084306 37 227}]
------------------------------------------------------
flag 20801 term 37 leader 0 nextIndex[1]: 228  matchIndex[1]: 227
term 37 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 76394 term 37 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 37 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226} {2561953937945084306 37 227}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226} {2561953937945084306 37 227}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
flag 6833 term 37 leader 0 nextIndex[1]: 228  matchIndex[1]: 227
term 37 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 64327 term 37 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 37 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 65570 term 37 leader 0 nextIndex[1]: 228  matchIndex[1]: 227
term 37 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 76945 term 37 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 37 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 61500 term 37 leader 0 nextIndex[1]: 228  matchIndex[1]: 227
term 37 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 19909 term 37 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 37 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 38 server 1 vote for server 2
term 38 server 2 get vote from server 1
term 38 server 2 become leader
------------------------------------------------------
flag 93941 term 38 leader 2 nextIndex[0]: 228  matchIndex[0]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 23453 term 38 leader 2 nextIndex[1]: 228  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=228
update matchIndex[1]=227
update leader CommitIndex=227
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226} {2561953937945084306 37 227}]
------------------------------------------------------
flag 44014 term 37 leader 0 nextIndex[1]: 228  matchIndex[1]: 227
term 37 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 37279 term 37 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 37 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
client write log 854860874477334485 (index 228) to leader 2
flag 43923 term 38 leader 2 nextIndex[0]: 228  matchIndex[0]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 61667 term 38 leader 2 nextIndex[1]: 228  matchIndex[1]: 227
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226} {2561953937945084306 37 227} {854860874477334485 38 228}]
------------------------------------------------------
flag 17323 term 37 leader 0 nextIndex[1]: 228  matchIndex[1]: 227
term 37 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 63804 term 37 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 37 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 76978 term 38 leader 2 nextIndex[0]: 228  matchIndex[0]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 228 
------------------------------------------------------
flag 61936 term 38 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=229
update matchIndex[1]=228
update leader CommitIndex=228
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226} {2561953937945084306 37 227} {854860874477334485 38 228}]
------------------------------------------------------
client write log 5336845669115870827 (index 229) to leader 2
flag 43640 term 37 leader 0 nextIndex[1]: 228  matchIndex[1]: 227
term 37 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 80798 term 37 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 37 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 38 server 1 not vote for server 2, 任期不够新
term 38 server 2 get outdate rpc reply from server 1
flag 28554 term 38 leader 2 nextIndex[0]: 228  matchIndex[0]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 228 
------------------------------------------------------
flag 95563 term 38 leader 2 nextIndex[1]: 229  matchIndex[1]: 228
term 38 leader 2 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 35 219} {7984991454664075188 35 220} {2141096385203121802 35 221} {4930449439579768526 35 222} {830479503825150605 35 223} {7477229110616182799 35 224} {3827603835995516443 35 225} {2561953937945084306 35 226} {2561953937945084306 37 227} {854860874477334485 38 228} {5336845669115870827 38 229}]
------------------------------------------------------
term 38 Server2 start snapshot! index=229
term 38 server2 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
flag 64732 term 37 leader 0 nextIndex[1]: 228  matchIndex[1]: 227
term 37 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 6106 term 37 leader 0 nextIndex[2]: 228  matchIndex[2]: 227
term 37 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 228->227
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 228  matchIndex[0]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 36183 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 229 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=230
update matchIndex[1]=229
update leader CommitIndex=229
leader log:
[{snapshot 38 229}]
------------------------------------------------------
term 38 Server1 start snapshot! index=229
term 38 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7744225309838242215 (index 230) to leader 2
flag 17673 term 37 leader 0 nextIndex[1]: 228  matchIndex[1]: 227
term 37 leader 0 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
term 37 leader 0 nextIndex[2]: 0  matchIndex[2]: 227
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 35
------------------------------------------------------
term 38 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 37 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 38 server 1 AppendEntries false 领导者任期过期 args.Term 37
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 228  matchIndex[0]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
flag 38686 term 38 leader 2 nextIndex[1]: 230  matchIndex[1]: 229
term 38 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 229 
------------------------------------------------------
term 38 server 0 InstallSnapshot success
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 38 rf.commitIndex 229 rf.lastApplied 229
term 38 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 230 matchIndex[0] 229 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {7744225309838242215 38 230}]
------------------------------------------------------
term 38 server 2 not vote for server 0, 日志不够新
term 38 server 1 not vote for server 0, 日志不够新
term 40 server 1 vote for server 2
term 40 server 2 get vote from server 1
term 40 server 2 become leader
------------------------------------------------------
term 40 server 0 vote for server 2
term 40 server 2 get outdate rpc reply from server 0
flag 77849 term 40 leader 2 nextIndex[0]: 231  matchIndex[0]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 73064 term 40 leader 2 nextIndex[1]: 231  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {7744225309838242215 38 230}]
------------------------------------------------------
term 40 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 231->230
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86517 term 40 leader 2 nextIndex[0]: 230  matchIndex[0]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 98471 term 40 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {7744225309838242215 38 230}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {7744225309838242215 38 230}]
------------------------------------------------------
term 40 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57463 term 40 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 57692 term 40 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
[{snapshot 38 229} {7744225309838242215 38 230}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {7744225309838242215 38 230}]
------------------------------------------------------
flag 65555 term 40 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 99519 term 40 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {7744225309838242215 38 230}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {7744225309838242215 38 230}]
------------------------------------------------------
flag 98165 term 40 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 25470 term 40 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {7744225309838242215 38 230}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {7744225309838242215 38 230}]
------------------------------------------------------
flag 46011 term 40 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 30183 term 40 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {7744225309838242215 38 230}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {7744225309838242215 38 230}]
------------------------------------------------------
flag 88617 term 40 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 62402 term 40 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {7744225309838242215 38 230}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {7744225309838242215 38 230}]
------------------------------------------------------
flag 74510 term 40 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 22497 term 40 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {7744225309838242215 38 230}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {7744225309838242215 38 230}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5308591458631005567 (index 231) to leader 2
flag 34961 term 40 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 29191 term 40 leader 2 nextIndex[1]: 231  matchIndex[1]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {7744225309838242215 38 230} {5308591458631005567 40 231}]
------------------------------------------------------
flag 17770 term 40 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
flag 170 term 40 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 40 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 40 leaderCommit: 231 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 38 229} {7744225309838242215 38 230} {5308591458631005567 40 231}]
------------------------------------------------------
client write log 2834982087949081441 (index 232) to leader 2
client write log 1841307641046050050 (index 233) to leader 2
client write log 4485164774952736999 (index 234) to leader 2
client write log 5223602505857271083 (index 235) to leader 2
client write log 3520786858350645749 (index 236) to leader 2
client write log 1332283342975787004 (index 237) to leader 2
client write log 6203780859493899309 (index 238) to leader 2
flag 77217 term 40 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 231 
------------------------------------------------------
flag 39668 term 40 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 40 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 40 leaderCommit: 231 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {7744225309838242215 38 230} {5308591458631005567 40 231} {2834982087949081441 40 232} {1841307641046050050 40 233} {4485164774952736999 40 234} {5223602505857271083 40 235} {3520786858350645749 40 236} {1332283342975787004 40 237} {6203780859493899309 40 238}]
------------------------------------------------------
flag 48428 term 40 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 36861 term 40 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 40 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=239
update matchIndex[1]=238
update leader CommitIndex=238
leader log:
[{snapshot 38 229} {7744225309838242215 38 230} {5308591458631005567 40 231} {2834982087949081441 40 232} {1841307641046050050 40 233} {4485164774952736999 40 234} {5223602505857271083 40 235} {3520786858350645749 40 236} {1332283342975787004 40 237} {6203780859493899309 40 238}]
------------------------------------------------------
!!!!!!connect server 0
client write log 7014765603721809068 (index 239) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36853 term 40 leader 2 nextIndex[0]: 231  matchIndex[0]: 230
term 40 leader 2 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 42364 term 40 leader 2 nextIndex[1]: 239  matchIndex[1]: 238
term 40 leader 2 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 40 leaderCommit: 238 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:238 
------------------------------------------------------
term 41 server 0 AppendEntries false 领导者任期过期 args.Term 40
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 38 229} {7744225309838242215 38 230} {5308591458631005567 40 231} {2834982087949081441 40 232} {1841307641046050050 40 233} {4485164774952736999 40 234} {5223602505857271083 40 235} {3520786858350645749 40 236} {1332283342975787004 40 237} {6203780859493899309 40 238} {7014765603721809068 40 239}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 41 Server2 start snapshot! index=239
term 41 server2 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 server 2 not vote for server 0, 日志不够新
term 40 server 1 not vote for server 0, 日志不够新
term 43 server 1 vote for server 2
term 43 server 0 vote for server 2
term 43 server 2 get vote from server 1
term 43 server 2 become leader
------------------------------------------------------
term 43 server 2 get outdate rpc reply from server 0
flag 43648 term 43 leader 2 nextIndex[0]: 240  matchIndex[0]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 40 leaderCommit: 239 
------------------------------------------------------
flag 43115 term 43 leader 2 nextIndex[1]: 240  matchIndex[1]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 40 leaderCommit: 239 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 40 239}]
------------------------------------------------------
term 43 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 240->239
------------------------------------------------------
term 43 Server1 start snapshot! index=239
term 43 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=239
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 2 nextIndex[0]: 231  matchIndex[0]: 0
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 40
------------------------------------------------------
flag 15707 term 43 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 43 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 40 leaderCommit: 239 
------------------------------------------------------
term 43 server 0 InstallSnapshot success
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 240 matchIndex[0] 239 
------------------------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 40 239}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 40 rf.commitIndex 239 rf.lastApplied 239
term 43 server 1 not vote for server 0, 任期不够新
term 43 server 0 get outdate rpc reply from server 1
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17452 term 43 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 43 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 40 leaderCommit: 239 
------------------------------------------------------
flag 32638 term 43 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 43 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 40 leaderCommit: 239 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:239 
term 43 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 40 239}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 40 239}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 server 0 not vote for server 1, 任期不够新
term 43 server 1 get outdate rpc reply from server 0
flag 41404 term 43 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 43 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 40 leaderCommit: 239 
------------------------------------------------------
flag 45048 term 43 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 43 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 40 leaderCommit: 239 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 40 239}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 40 239}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18960 term 43 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 43 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 40 leaderCommit: 239 
------------------------------------------------------
flag 59831 term 43 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 43 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 40 leaderCommit: 239 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 40 239}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 40 239}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21197 term 43 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 43 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 40 leaderCommit: 239 
------------------------------------------------------
flag 26191 term 43 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 43 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 40 leaderCommit: 239 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=240
update matchIndex[1]=239
update leader CommitIndex=239
leader log:
[{snapshot 40 239}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=240
update matchIndex[0]=239
update leader CommitIndex=239
leader log:
[{snapshot 40 239}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1572299216100621542 (index 240) to leader 2
flag 31373 term 43 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 43 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 40 leaderCommit: 239 
------------------------------------------------------
flag 78790 term 43 leader 2 nextIndex[1]: 240  matchIndex[1]: 239
term 43 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 40 leaderCommit: 239 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {1572299216100621542 43 240}]
------------------------------------------------------
flag 13668 term 43 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 43 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
flag 72233 term 43 leader 2 nextIndex[1]: 241  matchIndex[1]: 240
term 43 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 43 leaderCommit: 240 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=241
update matchIndex[1]=240
update leader CommitIndex=240
leader log:
[{snapshot 40 239} {1572299216100621542 43 240}]
------------------------------------------------------
client write log 429312674208601481 (index 241) to leader 2
client write log 1040362158683292801 (index 242) to leader 2
client write log 5846200839497094934 (index 243) to leader 2
client write log 7884848357037058970 (index 244) to leader 2
client write log 5269748784617300019 (index 245) to leader 2
client write log 506683149569718329 (index 246) to leader 2
client write log 369071230435285915 (index 247) to leader 2
client write log 283095261273321848 (index 248) to leader 2
client write log 7191169300501068139 (index 249) to leader 2
client write log 3743722574856663957 (index 250) to leader 2
client write log 6583524304611198136 (index 251) to leader 2
client write log 8477847780471573322 (index 252) to leader 2
client write log 2983540461475548848 (index 253) to leader 2
client write log 7160658469165320225 (index 254) to leader 2
client write log 1368978070345050103 (index 255) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89184 term 43 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 43 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 40 leaderCommit: 240 
------------------------------------------------------
flag 38812 term 43 leader 2 nextIndex[1]: 241  matchIndex[1]: 240
term 43 leader 2 sendAppendEntries PrevLogIndex: 240  PrevLogTerm: 43 leaderCommit: 240 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:240 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 40 239} {1572299216100621542 43 240} {429312674208601481 43 241} {1040362158683292801 43 242} {5846200839497094934 43 243} {7884848357037058970 43 244} {5269748784617300019 43 245} {506683149569718329 43 246} {369071230435285915 43 247} {283095261273321848 43 248} {7191169300501068139 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255}]
------------------------------------------------------
term 43 Server2 start snapshot! index=249
term 43 server2 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=255
-------------------------------------------------------------
term 43 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 43
------------------------------------------------------
flag 40275 term 43 leader 2 nextIndex[1]: 256  matchIndex[1]: 255
term 43 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255}]
------------------------------------------------------
term 43 Server1 start snapshot! index=249
term 43 server1 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=255
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4763412394078295171 (index 256) to leader 2
term 43 server 2 not vote for server 0, 日志不够新
term 43 server 1 not vote for server 0, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 server 1 vote for server 2
term 45 server 0 vote for server 2
term 45 server 2 get vote from server 1
term 45 server 2 become leader
------------------------------------------------------
term 45 server 2 get outdate rpc reply from server 0
flag 76879 term 45 leader 2 nextIndex[0]: 257  matchIndex[0]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 67728 term 45 leader 2 nextIndex[1]: 257  matchIndex[1]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 257->256
------------------------------------------------------
term 45 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 257->256
------------------------------------------------------
term 45 leader 2 nextIndex[0]: 240  matchIndex[0]: 0
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 43
------------------------------------------------------
flag 1369 term 45 leader 2 nextIndex[1]: 256  matchIndex[1]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
term 45 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 250 matchIndex[0] 249 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 43 rf.commitIndex 249 rf.lastApplied 249
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84110 term 45 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 45 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 96303 term 45 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51824 term 45 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 55877 term 45 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
flag 38969 term 45 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 35749 term 45 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
flag 31483 term 45 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 34385 term 45 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19114 term 45 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 83724 term 45 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
flag 52338 term 45 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 32738 term 45 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
flag 12425 term 45 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 95348 term 45 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
flag 71350 term 45 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 74990 term 45 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
flag 1047 term 45 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 46754 term 45 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
flag 21208 term 45 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 85981 term 45 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34234 term 45 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 39224 term 45 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
flag 81265 term 45 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 17528 term 45 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6231 term 45 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 79851 term 45 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 server 0 not vote for server 2, 任期不够新
term 45 server 2 get outdate rpc reply from server 0
flag 86400 term 45 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 77668 term 45 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
flag 57999 term 45 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 4087 term 45 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
update nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
flag 62387 term 45 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 84833 term 45 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15570 term 45 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 76985 term 45 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=255
leader log:
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=255
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256}]
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 4763412394078295171 (index 257) to leader 2
flag 59171 term 45 leader 2 nextIndex[0]: 257  matchIndex[0]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 99209 term 45 leader 2 nextIndex[1]: 257  matchIndex[1]: 256
term 45 leader 2 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256} {4763412394078295171 45 257}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256} {4763412394078295171 45 257}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18018 term 45 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 45 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
flag 92695 term 45 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 45 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256} {4763412394078295171 45 257}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256} {4763412394078295171 45 257}]
------------------------------------------------------
flag 79751 term 45 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 45 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
flag 53965 term 45 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 45 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256} {4763412394078295171 45 257}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256} {4763412394078295171 45 257}]
------------------------------------------------------
flag 95435 term 45 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 45 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
flag 93793 term 45 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 45 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256} {4763412394078295171 45 257}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256} {4763412394078295171 45 257}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3223 term 45 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 45 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
flag 5522 term 45 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 45 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256} {4763412394078295171 45 257}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256} {4763412394078295171 45 257}]
------------------------------------------------------
flag 26847 term 45 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 45 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
flag 25420 term 45 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 45 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256} {4763412394078295171 45 257}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256} {4763412394078295171 45 257}]
------------------------------------------------------
flag 29929 term 45 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 45 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
flag 67551 term 45 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 45 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256} {4763412394078295171 45 257}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256} {4763412394078295171 45 257}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 53599 term 45 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 45 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
flag 2658 term 45 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 45 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
flag 57305 term 45 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 45 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
flag 88977 term 45 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 45 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70050 term 45 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 45 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
flag 94327 term 45 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 45 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 server 1 vote for server 0
term 46 server 0 get vote from server 1
term 46 server 0 become leader
------------------------------------------------------
flag 55215 term 46 leader 0 nextIndex[1]: 258  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
flag 38563 term 46 leader 0 nextIndex[2]: 258  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256} {4763412394078295171 45 257}]
------------------------------------------------------
client write log 282267878715380051 (index 258) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12910 term 45 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 45 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
flag 78332 term 45 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 45 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
flag 67584 term 46 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 46 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
flag 52704 term 46 leader 0 nextIndex[2]: 258  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256} {4763412394078295171 45 257} {282267878715380051 46 258}]
------------------------------------------------------
flag 70647 term 45 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 45 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
flag 88143 term 45 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 45 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
flag 1183 term 46 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 46 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 45377 term 46 leader 0 nextIndex[2]: 258  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256} {4763412394078295171 45 257} {282267878715380051 46 258}]
------------------------------------------------------
client write log 6715671352966168778 (index 259) to leader 0
client write log 7195253688377558514 (index 260) to leader 0
client write log 9217507245124614231 (index 261) to leader 0
client write log 5075422516147452946 (index 262) to leader 0
client write log 3965040826733546941 (index 263) to leader 0
client write log 1441246690736162542 (index 264) to leader 0
client write log 2249171675851165547 (index 265) to leader 0
client write log 8987509107985344945 (index 266) to leader 0
client write log 6422177023695950582 (index 267) to leader 0
client write log 869478636566633017 (index 268) to leader 0
client write log 7640401499178905562 (index 269) to leader 0
client write log 8621731133355563474 (index 270) to leader 0
client write log 1187889528735244594 (index 271) to leader 0
client write log 9135047160413520166 (index 272) to leader 0
client write log 1110567746919062511 (index 273) to leader 0
flag 80960 term 45 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 45 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
flag 40712 term 45 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 45 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
flag 70004 term 46 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 46 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 46 leaderCommit: 258 
------------------------------------------------------
flag 74359 term 46 leader 0 nextIndex[2]: 258  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 258 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 43 249} {3743722574856663957 43 250} {6583524304611198136 43 251} {8477847780471573322 43 252} {2983540461475548848 43 253} {7160658469165320225 43 254} {1368978070345050103 43 255} {4763412394078295171 43 256} {4763412394078295171 45 257} {282267878715380051 46 258} {6715671352966168778 46 259} {7195253688377558514 46 260} {9217507245124614231 46 261} {5075422516147452946 46 262} {3965040826733546941 46 263} {1441246690736162542 46 264} {2249171675851165547 46 265} {8987509107985344945 46 266} {6422177023695950582 46 267} {869478636566633017 46 268} {7640401499178905562 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
term 46 Server0 start snapshot! index=259
term 46 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=273
-------------------------------------------------------------
term 46 Server0 start snapshot! index=269
term 46 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=273
-------------------------------------------------------------
flag 61219 term 45 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 45 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
flag 89808 term 45 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 45 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
flag 44083 term 46 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
term 46 leader 0 nextIndex[2]: 258  matchIndex[2]: 0
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
term 46 Server1 start snapshot! index=259
term 46 server1 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=273
-------------------------------------------------------------
term 46 Server1 start snapshot! index=269
term 46 server1 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=273
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7066810309391025811 (index 258) to leader 2
term 45 server 2 not vote for server 0, 任期不够新
term 46 server 0 get outdate rpc reply from server 2
flag 22571 term 45 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 45 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
flag 9825 term 45 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 45 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 45 leaderCommit: 257 
------------------------------------------------------
term 46 server 1 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 46 server 0 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19630 term 46 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
term 46 leader 0 nextIndex[2]: 258  matchIndex[2]: 0
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 2 InstallSnapshot success
------------------------------------------------------
term 46 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 46 rf.commitIndex 269 rf.lastApplied 269
term 46 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
flag 76091 term 46 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
flag 62597 term 46 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 46 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 server 2 not vote for server 0, 日志不够新
term 46 server 0 get outdate rpc reply from server 2
flag 98479 term 46 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
flag 48823 term 46 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20433 term 46 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
flag 90208 term 46 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84256 term 46 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
flag 53344 term 46 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
flag 16855 term 46 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
flag 92515 term 46 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
flag 27867 term 46 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
flag 59428 term 46 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
flag 80224 term 46 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
flag 11292 term 46 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
flag 14703 term 46 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
flag 93537 term 46 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21562 term 46 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
flag 67765 term 46 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51333 term 46 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
flag 34499 term 46 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
flag 92900 term 46 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
flag 4353 term 46 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 274->273
------------------------------------------------------
flag 55363 term 46 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
term 46 leader 0 nextIndex[2]: 0  matchIndex[2]: 273
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 2 InstallSnapshot fail
rf.commitIndex 273 args.LastIncludedIndex 269
------------------------------------------------------
term 46 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
flag 72218 term 46 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
flag 21639 term 46 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 46 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
flag 12885 term 46 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
flag 29126 term 46 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
flag 15011 term 46 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
flag 68431 term 46 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
flag 68361 term 46 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
flag 59550 term 46 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
flag 79528 term 46 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
flag 28625 term 46 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88288 term 46 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
flag 48359 term 46 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
term 46 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68876 term 46 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
flag 12551 term 46 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273}]
------------------------------------------------------
client write log 7066810309391025811 (index 274) to leader 0
flag 54147 term 46 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
flag 49563 term 46 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 46 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 46 leaderCommit: 273 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273} {7066810309391025811 46 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273} {7066810309391025811 46 274}]
------------------------------------------------------
flag 33751 term 46 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
flag 71177 term 46 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273} {7066810309391025811 46 274}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273} {7066810309391025811 46 274}]
------------------------------------------------------
flag 67802 term 46 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
flag 27766 term 46 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273} {7066810309391025811 46 274}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273} {7066810309391025811 46 274}]
------------------------------------------------------
flag 60157 term 46 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
flag 52095 term 46 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273} {7066810309391025811 46 274}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273} {7066810309391025811 46 274}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26676 term 46 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
flag 66876 term 46 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273} {7066810309391025811 46 274}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273} {7066810309391025811 46 274}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
flag 45171 term 46 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
flag 67298 term 46 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273} {7066810309391025811 46 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273} {7066810309391025811 46 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 275->274
------------------------------------------------------
flag 41597 term 46 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
term 46 leader 0 nextIndex[2]: 0  matchIndex[2]: 274
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 2 InstallSnapshot fail
rf.commitIndex 274 args.LastIncludedIndex 269
------------------------------------------------------
term 46 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=274
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273} {7066810309391025811 46 274}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7952193020239292977 (index 275) to leader 0
flag 8531 term 46 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
flag 45188 term 46 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 46 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 46 leaderCommit: 274 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273} {7066810309391025811 46 274} {7952193020239292977 46 275}]
------------------------------------------------------
term 46 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76375 term 46 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 275 
------------------------------------------------------
flag 99917 term 46 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 46 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 46 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273} {7066810309391025811 46 274} {7952193020239292977 46 275}]
------------------------------------------------------
client write log 2589046023899215211 (index 276) to leader 0
client write log 5555470145929246343 (index 277) to leader 0
client write log 881157367675303115 (index 278) to leader 0
client write log 7288424316035079106 (index 279) to leader 0
client write log 4229105986066165037 (index 280) to leader 0
client write log 1923612839006695799 (index 281) to leader 0
client write log 1731265393062428116 (index 282) to leader 0
client write log 4887373524488526971 (index 283) to leader 0
client write log 6307533991743561703 (index 284) to leader 0
client write log 6844573901280123807 (index 285) to leader 0
client write log 5142228953412583739 (index 286) to leader 0
client write log 8510462639753781247 (index 287) to leader 0
client write log 2314708031418480282 (index 288) to leader 0
client write log 8284493628107436050 (index 289) to leader 0
client write log 3333976944735814854 (index 290) to leader 0
flag 86816 term 46 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 46 leaderCommit: 275 
------------------------------------------------------
flag 17201 term 46 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 46 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 46 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 269} {8621731133355563474 46 270} {1187889528735244594 46 271} {9135047160413520166 46 272} {1110567746919062511 46 273} {7066810309391025811 46 274} {7952193020239292977 46 275} {2589046023899215211 46 276} {5555470145929246343 46 277} {881157367675303115 46 278} {7288424316035079106 46 279} {4229105986066165037 46 280} {1923612839006695799 46 281} {1731265393062428116 46 282} {4887373524488526971 46 283} {6307533991743561703 46 284} {6844573901280123807 46 285} {5142228953412583739 46 286} {8510462639753781247 46 287} {2314708031418480282 46 288} {8284493628107436050 46 289} {3333976944735814854 46 290}]
------------------------------------------------------
term 46 Server0 start snapshot! index=279
term 46 server0 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=290
-------------------------------------------------------------
term 46 Server0 start snapshot! index=289
term 46 server0 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=290
-------------------------------------------------------------
term 46 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
flag 78713 term 46 leader 0 nextIndex[2]: 291  matchIndex[2]: 290
term 46 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=291
update matchIndex[2]=290
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290}]
------------------------------------------------------
term 46 Server2 start snapshot! index=279
term 46 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=290
-------------------------------------------------------------
term 46 Server2 start snapshot! index=289
term 46 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=290
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4105843351343319067 (index 291) to leader 0
term 46 server 2 not vote for server 1, 日志不够新
term 46 server 0 not vote for server 1, 日志不够新
term 48 server 2 vote for server 0
term 48 server 1 vote for server 0
term 48 server 0 get vote from server 2
term 48 server 0 become leader
------------------------------------------------------
term 48 server 0 get outdate rpc reply from server 1
flag 60625 term 48 leader 0 nextIndex[1]: 292  matchIndex[1]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 50246 term 48 leader 0 nextIndex[2]: 292  matchIndex[2]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 48 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 292->291
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 292->291
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 leader 0 nextIndex[1]: 275  matchIndex[1]: 0
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
flag 25685 term 48 leader 0 nextIndex[2]: 291  matchIndex[2]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
term 48 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
term 48 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
rf.lastIncludedIndex 289 rf.lastIncludedTerm 46 rf.commitIndex 289 rf.lastApplied 289
flag 77103 term 48 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 48 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 3333 term 48 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
flag 58337 term 48 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 52318 term 48 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
flag 89653 term 48 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 13064 term 48 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
flag 43073 term 48 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 52514 term 48 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
flag 8129 term 48 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 71862 term 48 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
flag 1641 term 48 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 57958 term 48 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
flag 35386 term 48 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 30024 term 48 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64388 term 48 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 40401 term 48 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
flag 42847 term 48 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 93341 term 48 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
flag 33960 term 48 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 84989 term 48 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
flag 64935 term 48 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 56136 term 48 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
flag 39861 term 48 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 12949 term 48 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10035 term 48 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 33840 term 48 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
flag 28917 term 48 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 11791 term 48 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
flag 68766 term 48 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 83385 term 48 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
flag 28978 term 48 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 20269 term 48 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14498 term 48 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 65748 term 48 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=292
update matchIndex[1]=291
update leader CommitIndex=290
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 4105843351343319067 (index 292) to leader 0
flag 42152 term 48 leader 0 nextIndex[1]: 292  matchIndex[1]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
flag 34024 term 48 leader 0 nextIndex[2]: 292  matchIndex[2]: 291
term 48 leader 0 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 46 leaderCommit: 290 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291} {4105843351343319067 48 292}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291} {4105843351343319067 48 292}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62413 term 48 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
flag 43736 term 48 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291} {4105843351343319067 48 292}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291} {4105843351343319067 48 292}]
------------------------------------------------------
flag 99133 term 48 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
flag 42461 term 48 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291} {4105843351343319067 48 292}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291} {4105843351343319067 48 292}]
------------------------------------------------------
flag 90512 term 48 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
flag 63313 term 48 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291} {4105843351343319067 48 292}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291} {4105843351343319067 48 292}]
------------------------------------------------------
flag 21921 term 48 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
flag 36088 term 48 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291} {4105843351343319067 48 292}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291} {4105843351343319067 48 292}]
------------------------------------------------------
flag 51834 term 48 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
flag 34984 term 48 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291} {4105843351343319067 48 292}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291} {4105843351343319067 48 292}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40755 term 48 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
flag 69903 term 48 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291} {4105843351343319067 48 292}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291} {4105843351343319067 48 292}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 438057894447181012 (index 293) to leader 0
flag 6199 term 48 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
flag 84134 term 48 leader 0 nextIndex[2]: 293  matchIndex[2]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291} {4105843351343319067 48 292} {438057894447181012 48 293}]
------------------------------------------------------
flag 78550 term 48 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 293 
------------------------------------------------------
flag 10303 term 48 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 48 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 293 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=294
update matchIndex[2]=293
update leader CommitIndex=293
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291} {4105843351343319067 48 292} {438057894447181012 48 293}]
------------------------------------------------------
client write log 5402411781234662102 (index 294) to leader 0
client write log 4196549165927414288 (index 295) to leader 0
client write log 8219098677474382889 (index 296) to leader 0
client write log 6358807738117684301 (index 297) to leader 0
client write log 6900836907053586950 (index 298) to leader 0
client write log 1725826708568285961 (index 299) to leader 0
client write log 3659103134973760263 (index 300) to leader 0
client write log 2187998317269964347 (index 301) to leader 0
client write log 5564355466273101808 (index 302) to leader 0
client write log 2702741945402077422 (index 303) to leader 0
client write log 2338357782137127244 (index 304) to leader 0
client write log 8532040741759552015 (index 305) to leader 0
flag 25149 term 48 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 48 leader 0 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 293 
------------------------------------------------------
flag 13658 term 48 leader 0 nextIndex[2]: 294  matchIndex[2]: 293
term 48 leader 0 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 293 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 46 289} {3333976944735814854 46 290} {4105843351343319067 46 291} {4105843351343319067 48 292} {438057894447181012 48 293} {5402411781234662102 48 294} {4196549165927414288 48 295} {8219098677474382889 48 296} {6358807738117684301 48 297} {6900836907053586950 48 298} {1725826708568285961 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305}]
------------------------------------------------------
term 48 Server0 start snapshot! index=299
term 48 server0 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=305
-------------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 leader 0 nextIndex[1]: 293  matchIndex[1]: 292
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
flag 75139 term 48 leader 0 nextIndex[2]: 306  matchIndex[2]: 305
term 48 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=306
update matchIndex[2]=305
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305}]
------------------------------------------------------
term 48 Server2 start snapshot! index=299
term 48 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=305
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2033429088950022040 (index 306) to leader 0
term 48 server 2 not vote for server 1, 日志不够新
term 48 server 0 not vote for server 1, 日志不够新
term 50 server 2 vote for server 0
term 50 server 0 get vote from server 2
term 50 server 0 become leader
------------------------------------------------------
term 50 server 1 vote for server 0
term 50 server 0 get outdate rpc reply from server 1
flag 95375 term 50 leader 0 nextIndex[1]: 307  matchIndex[1]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 64847 term 50 leader 0 nextIndex[2]: 307  matchIndex[2]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 307->306
------------------------------------------------------
term 50 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 307->306
------------------------------------------------------
term 50 leader 0 nextIndex[1]: 293  matchIndex[1]: 0
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
flag 52908 term 50 leader 0 nextIndex[2]: 306  matchIndex[2]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
term 50 server 1 InstallSnapshot success
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 300 matchIndex[1] 299 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 48 rf.commitIndex 299 rf.lastApplied 299
flag 65339 term 50 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 85772 term 50 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
flag 65340 term 50 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 75803 term 50 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53038 term 50 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 18664 term 50 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
flag 61892 term 50 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 98115 term 50 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
flag 42144 term 50 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 87796 term 50 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
flag 87767 term 50 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 32397 term 50 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
flag 20033 term 50 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 81324 term 50 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
flag 9025 term 50 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 87675 term 50 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
flag 74808 term 50 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 20224 term 50 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69880 term 50 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 71471 term 50 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
flag 80079 term 50 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 42017 term 50 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
flag 67848 term 50 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 90073 term 50 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
flag 265 term 50 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 4518 term 50 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
flag 82518 term 50 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 52756 term 50 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
flag 45808 term 50 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 3838 term 50 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
flag 5185 term 50 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 79802 term 50 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
flag 4361 term 50 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 16018 term 50 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40779 term 50 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 37277 term 50 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306}]
------------------------------------------------------
client write log 2033429088950022040 (index 307) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39764 term 50 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
flag 74845 term 50 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 305 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306} {2033429088950022040 50 307}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306} {2033429088950022040 50 307}]
------------------------------------------------------
flag 73550 term 50 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 30854 term 50 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306} {2033429088950022040 50 307}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306} {2033429088950022040 50 307}]
------------------------------------------------------
flag 50433 term 50 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 15649 term 50 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306} {2033429088950022040 50 307}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306} {2033429088950022040 50 307}]
------------------------------------------------------
flag 26336 term 50 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 36914 term 50 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306} {2033429088950022040 50 307}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306} {2033429088950022040 50 307}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76953 term 50 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 55876 term 50 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306} {2033429088950022040 50 307}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306} {2033429088950022040 50 307}]
------------------------------------------------------
flag 27543 term 50 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 40591 term 50 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306} {2033429088950022040 50 307}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306} {2033429088950022040 50 307}]
------------------------------------------------------
flag 48464 term 50 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 25365 term 50 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306} {2033429088950022040 50 307}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306} {2033429088950022040 50 307}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 97910 term 50 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 60580 term 50 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 28356 term 50 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 67671 term 50 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 72867 term 50 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 17254 term 50 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 server 1 vote for server 2
term 51 server 2 get vote from server 1
term 51 server 2 become leader
------------------------------------------------------
flag 90780 term 51 leader 2 nextIndex[0]: 308  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 16837 term 51 leader 2 nextIndex[1]: 308  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306} {2033429088950022040 50 307}]
------------------------------------------------------
flag 45440 term 50 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 67876 term 50 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
client write log 6047240616644771590 (index 308) to leader 2
flag 57206 term 51 leader 2 nextIndex[0]: 308  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 40697 term 51 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306} {2033429088950022040 50 307} {6047240616644771590 51 308}]
------------------------------------------------------
flag 36953 term 50 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 73877 term 50 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 72113 term 51 leader 2 nextIndex[0]: 308  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 44793 term 51 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 308 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306} {2033429088950022040 50 307} {6047240616644771590 51 308}]
------------------------------------------------------
client write log 9045015298264788233 (index 309) to leader 2
flag 80363 term 50 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
flag 58152 term 50 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 308->307
------------------------------------------------------
flag 43713 term 51 leader 2 nextIndex[0]: 308  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 21635 term 51 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 51 leaderCommit: 308 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 48 299} {3659103134973760263 48 300} {2187998317269964347 48 301} {5564355466273101808 48 302} {2702741945402077422 48 303} {2338357782137127244 48 304} {8532040741759552015 48 305} {2033429088950022040 48 306} {2033429088950022040 50 307} {6047240616644771590 51 308} {9045015298264788233 51 309}]
------------------------------------------------------
term 51 Server2 start snapshot! index=309
term 51 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
flag 70614 term 50 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 0  matchIndex[2]: 307
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
term 51 leader 2 nextIndex[0]: 308  matchIndex[0]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 51
------------------------------------------------------
flag 3563 term 51 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 51 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 51 309}]
------------------------------------------------------
term 51 Server1 start snapshot! index=309
term 51 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
!!!!!!connect server 0
client write log 700522065961135027 (index 310) to leader 2
flag 19709 term 50 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 307 
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 0  matchIndex[2]: 307
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
term 51 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 50 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 server 1 AppendEntries false 领导者任期过期 args.Term 50
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 leader 2 nextIndex[0]: 308  matchIndex[0]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 51
------------------------------------------------------
flag 76151 term 51 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 51 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {700522065961135027 51 310}]
------------------------------------------------------
term 51 server 0 InstallSnapshot success
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 310 matchIndex[0] 309 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 51 rf.commitIndex 309 rf.lastApplied 309
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 server 2 not vote for server 0, 日志不够新
term 51 server 1 not vote for server 0, 日志不够新
term 53 server 1 vote for server 2
term 53 server 2 get vote from server 1
term 53 server 2 become leader
------------------------------------------------------
term 53 server 0 vote for server 2
term 53 server 2 get outdate rpc reply from server 0
flag 78347 term 53 leader 2 nextIndex[0]: 311  matchIndex[0]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
flag 69427 term 53 leader 2 nextIndex[1]: 311  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {700522065961135027 51 310}]
------------------------------------------------------
term 53 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 311->310
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45826 term 53 leader 2 nextIndex[0]: 310  matchIndex[0]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
flag 17273 term 53 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 53 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {700522065961135027 51 310}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {700522065961135027 51 310}]
------------------------------------------------------
flag 51515 term 53 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 53 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
flag 68638 term 53 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 53 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {700522065961135027 51 310}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {700522065961135027 51 310}]
------------------------------------------------------
flag 97737 term 53 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 53 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
flag 25182 term 53 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 53 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {700522065961135027 51 310}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {700522065961135027 51 310}]
------------------------------------------------------
flag 29964 term 53 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 53 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
flag 74897 term 53 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 53 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {700522065961135027 51 310}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {700522065961135027 51 310}]
------------------------------------------------------
flag 89974 term 53 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 53 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
flag 69367 term 53 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 53 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {700522065961135027 51 310}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {700522065961135027 51 310}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79565 term 53 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 53 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
flag 59493 term 53 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 53 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {700522065961135027 51 310}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {700522065961135027 51 310}]
------------------------------------------------------
flag 95763 term 53 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 53 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
flag 99628 term 53 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 53 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {700522065961135027 51 310}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=311
update matchIndex[0]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {700522065961135027 51 310}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3207330122481020254 (index 311) to leader 2
flag 13875 term 53 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 53 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
flag 5483 term 53 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 53 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 51 309} {700522065961135027 51 310} {3207330122481020254 53 311}]
------------------------------------------------------
flag 37757 term 53 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 53 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 311 
------------------------------------------------------
flag 80900 term 53 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 53 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 51 309} {700522065961135027 51 310} {3207330122481020254 53 311}]
------------------------------------------------------
client write log 5257611942649946008 (index 312) to leader 2
client write log 5954940867435269275 (index 313) to leader 2
client write log 1061865089448309335 (index 314) to leader 2
client write log 3593493246101130449 (index 315) to leader 2
client write log 3420308381800466273 (index 316) to leader 2
client write log 789827372666611015 (index 317) to leader 2
client write log 8633454479684047473 (index 318) to leader 2
client write log 5093397020818906214 (index 319) to leader 2
client write log 4601761497567382095 (index 320) to leader 2
client write log 3334164698576725213 (index 321) to leader 2
client write log 2644487019600058019 (index 322) to leader 2
client write log 5470719078797589654 (index 323) to leader 2
client write log 3688596267598906350 (index 324) to leader 2
client write log 1290115129152078876 (index 325) to leader 2
client write log 431081174239027843 (index 326) to leader 2
flag 49802 term 53 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 53 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 311 
------------------------------------------------------
flag 45149 term 53 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 53 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 53 leaderCommit: 311 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 309} {700522065961135027 51 310} {3207330122481020254 53 311} {5257611942649946008 53 312} {5954940867435269275 53 313} {1061865089448309335 53 314} {3593493246101130449 53 315} {3420308381800466273 53 316} {789827372666611015 53 317} {8633454479684047473 53 318} {5093397020818906214 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326}]
------------------------------------------------------
term 53 Server2 start snapshot! index=319
term 53 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=326
-------------------------------------------------------------
term 53 leader 2 nextIndex[0]: 311  matchIndex[0]: 310
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 53
------------------------------------------------------
flag 73053 term 53 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 53 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326}]
------------------------------------------------------
term 53 Server1 start snapshot! index=319
term 53 server1 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=326
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7427290341967398084 (index 327) to leader 2
term 53 server 2 not vote for server 0, 日志不够新
term 53 server 1 not vote for server 0, 日志不够新
term 55 server 1 vote for server 2
term 55 server 2 get vote from server 1
term 55 server 2 become leader
------------------------------------------------------
term 55 server 0 vote for server 2
term 55 server 2 get outdate rpc reply from server 0
flag 56934 term 55 leader 2 nextIndex[0]: 328  matchIndex[0]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 18803 term 55 leader 2 nextIndex[1]: 328  matchIndex[1]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
term 55 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 328->327
------------------------------------------------------
term 55 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 328->327
------------------------------------------------------
term 55 leader 2 nextIndex[0]: 311  matchIndex[0]: 0
term 55 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 53
------------------------------------------------------
flag 1234 term 55 leader 2 nextIndex[1]: 327  matchIndex[1]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
term 55 server 0 InstallSnapshot success
------------------------------------------------------
term 55 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 320 matchIndex[0] 319 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 53 rf.commitIndex 319 rf.lastApplied 319
term 55 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45172 term 55 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 55 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 69085 term 55 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
flag 7325 term 55 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 54357 term 55 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
flag 44159 term 55 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 32877 term 55 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64117 term 55 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 89479 term 55 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
flag 91876 term 55 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 74718 term 55 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
term 55 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
flag 34087 term 55 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 26883 term 55 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
flag 7854 term 55 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 77060 term 55 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
flag 21358 term 55 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 4250 term 55 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
term 55 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29691 term 55 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 73246 term 55 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
flag 8292 term 55 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 50500 term 55 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
flag 13177 term 55 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 59392 term 55 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
flag 49704 term 55 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 898 term 55 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
flag 36063 term 55 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 17349 term 55 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
term 55 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49158 term 55 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 31057 term 55 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56187 term 55 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 11214 term 55 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
flag 18002 term 55 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 89913 term 55 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
flag 75182 term 55 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 99625 term 55 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14786 term 55 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 92400 term 55 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=328
update matchIndex[0]=327
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327}]
------------------------------------------------------
client write log 7427290341967398084 (index 328) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50117 term 55 leader 2 nextIndex[0]: 328  matchIndex[0]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
flag 69804 term 55 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 55 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327} {7427290341967398084 55 328}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327} {7427290341967398084 55 328}]
------------------------------------------------------
flag 49963 term 55 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 55 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 55 leaderCommit: 328 
------------------------------------------------------
flag 14679 term 55 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 55 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 55 leaderCommit: 328 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327} {7427290341967398084 55 328}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327} {7427290341967398084 55 328}]
------------------------------------------------------
flag 78202 term 55 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 55 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 55 leaderCommit: 328 
------------------------------------------------------
flag 29444 term 55 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 55 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 55 leaderCommit: 328 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327} {7427290341967398084 55 328}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327} {7427290341967398084 55 328}]
------------------------------------------------------
flag 61475 term 55 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 55 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 55 leaderCommit: 328 
------------------------------------------------------
flag 87196 term 55 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 55 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 55 leaderCommit: 328 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327} {7427290341967398084 55 328}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327} {7427290341967398084 55 328}]
------------------------------------------------------
flag 19734 term 55 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 55 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 55 leaderCommit: 328 
------------------------------------------------------
flag 49496 term 55 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 55 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 55 leaderCommit: 328 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327} {7427290341967398084 55 328}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327} {7427290341967398084 55 328}]
------------------------------------------------------
flag 67103 term 55 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 55 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 55 leaderCommit: 328 
------------------------------------------------------
flag 11367 term 55 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 55 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 55 leaderCommit: 328 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327} {7427290341967398084 55 328}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327} {7427290341967398084 55 328}]
------------------------------------------------------
flag 94042 term 55 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 55 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 55 leaderCommit: 328 
------------------------------------------------------
flag 8237 term 55 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 55 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 55 leaderCommit: 328 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327} {7427290341967398084 55 328}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327} {7427290341967398084 55 328}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7659897111453794469 (index 329) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7459 term 55 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 55 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 55 leaderCommit: 328 
------------------------------------------------------
flag 11079 term 55 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 55 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 55 leaderCommit: 328 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 53 319} {4601761497567382095 53 320} {3334164698576725213 53 321} {2644487019600058019 53 322} {5470719078797589654 53 323} {3688596267598906350 53 324} {1290115129152078876 53 325} {431081174239027843 53 326} {7427290341967398084 53 327} {7427290341967398084 55 328} {7659897111453794469 55 329}]
------------------------------------------------------
term 55 Server2 start snapshot! index=329
term 55 server2 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=329
-------------------------------------------------------------
term 55 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 55 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 55
------------------------------------------------------
flag 58674 term 55 leader 2 nextIndex[1]: 330  matchIndex[1]: 329
term 55 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 55 leaderCommit: 329 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 55 329}]
------------------------------------------------------
term 55 Server1 start snapshot! index=329
term 55 server1 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=329
-------------------------------------------------------------
client write log 2763001858972500181 (index 330) to leader 2
client write log 1736661002760428849 (index 331) to leader 2
client write log 3669710386338617567 (index 332) to leader 2
client write log 7810843011710108727 (index 333) to leader 2
client write log 3257184786444121613 (index 334) to leader 2
client write log 4930814179455794388 (index 335) to leader 2
client write log 8342073645875193461 (index 336) to leader 2
client write log 7093031327353172250 (index 337) to leader 2
client write log 3583606575312611344 (index 338) to leader 2
client write log 2870914177354713981 (index 339) to leader 2
client write log 3570240083452239090 (index 340) to leader 2
client write log 7570744043718734338 (index 341) to leader 2
client write log 5362330076396563717 (index 342) to leader 2
client write log 6007816690887451173 (index 343) to leader 2
client write log 1348996480984298510 (index 344) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 55 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 55
------------------------------------------------------
flag 17538 term 55 leader 2 nextIndex[1]: 330  matchIndex[1]: 329
term 55 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 55 leaderCommit: 329 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 55 329} {2763001858972500181 55 330} {1736661002760428849 55 331} {3669710386338617567 55 332} {7810843011710108727 55 333} {3257184786444121613 55 334} {4930814179455794388 55 335} {8342073645875193461 55 336} {7093031327353172250 55 337} {3583606575312611344 55 338} {2870914177354713981 55 339} {3570240083452239090 55 340} {7570744043718734338 55 341} {5362330076396563717 55 342} {6007816690887451173 55 343} {1348996480984298510 55 344}]
------------------------------------------------------
term 55 Server2 start snapshot! index=339
term 55 server2 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=344
-------------------------------------------------------------
term 55 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 55 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 55
------------------------------------------------------
flag 58627 term 55 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 55 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 55 leaderCommit: 344 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 55 339} {3570240083452239090 55 340} {7570744043718734338 55 341} {5362330076396563717 55 342} {6007816690887451173 55 343} {1348996480984298510 55 344}]
------------------------------------------------------
term 55 Server1 start snapshot! index=339
term 55 server1 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=344
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2595458496449114948 (index 345) to leader 2
term 56 server 0 not vote for server 2, 任期不够新
term 55 server 2 get outdate rpc reply from server 0
term 55 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 55 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 55
------------------------------------------------------
flag 38588 term 55 leader 2 nextIndex[1]: 345  matchIndex[1]: 344
term 55 leader 2 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 55 leaderCommit: 344 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=345
leader log:
[{snapshot 55 339} {3570240083452239090 55 340} {7570744043718734338 55 341} {5362330076396563717 55 342} {6007816690887451173 55 343} {1348996480984298510 55 344} {2595458496449114948 55 345}]
------------------------------------------------------
term 56 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 55 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 57 server 1 vote for server 2
term 57 server 0 vote for server 2
term 57 server 2 get vote from server 1
term 57 server 2 become leader
------------------------------------------------------
term 57 server 2 get outdate rpc reply from server 0
flag 62014 term 57 leader 2 nextIndex[0]: 346  matchIndex[0]: 0
term 57 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
flag 9631 term 57 leader 2 nextIndex[1]: 346  matchIndex[1]: 0
term 57 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
term 57 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 346->345
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=345
leader log:
[{snapshot 55 339} {3570240083452239090 55 340} {7570744043718734338 55 341} {5362330076396563717 55 342} {6007816690887451173 55 343} {1348996480984298510 55 344} {2595458496449114948 55 345}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 57 leader 2 nextIndex[0]: 329  matchIndex[0]: 0
term 57 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 55
------------------------------------------------------
flag 82307 term 57 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 57 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=345
leader log:
[{snapshot 55 339} {3570240083452239090 55 340} {7570744043718734338 55 341} {5362330076396563717 55 342} {6007816690887451173 55 343} {1348996480984298510 55 344} {2595458496449114948 55 345}]
------------------------------------------------------
term 57 server 0 InstallSnapshot success
------------------------------------------------------
term 57 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 340 matchIndex[0] 339 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 55 rf.commitIndex 339 rf.lastApplied 339
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63127 term 57 leader 2 nextIndex[0]: 340  matchIndex[0]: 339
term 57 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
flag 23023 term 57 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 57 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=345
leader log:
[{snapshot 55 339} {3570240083452239090 55 340} {7570744043718734338 55 341} {5362330076396563717 55 342} {6007816690887451173 55 343} {1348996480984298510 55 344} {2595458496449114948 55 345}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=345
leader log:
[{snapshot 55 339} {3570240083452239090 55 340} {7570744043718734338 55 341} {5362330076396563717 55 342} {6007816690887451173 55 343} {1348996480984298510 55 344} {2595458496449114948 55 345}]
------------------------------------------------------
flag 71873 term 57 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 57 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
flag 48724 term 57 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 57 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=345
leader log:
[{snapshot 55 339} {3570240083452239090 55 340} {7570744043718734338 55 341} {5362330076396563717 55 342} {6007816690887451173 55 343} {1348996480984298510 55 344} {2595458496449114948 55 345}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=345
leader log:
[{snapshot 55 339} {3570240083452239090 55 340} {7570744043718734338 55 341} {5362330076396563717 55 342} {6007816690887451173 55 343} {1348996480984298510 55 344} {2595458496449114948 55 345}]
------------------------------------------------------
flag 81345 term 57 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 57 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
flag 80864 term 57 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 57 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=345
leader log:
[{snapshot 55 339} {3570240083452239090 55 340} {7570744043718734338 55 341} {5362330076396563717 55 342} {6007816690887451173 55 343} {1348996480984298510 55 344} {2595458496449114948 55 345}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=345
leader log:
[{snapshot 55 339} {3570240083452239090 55 340} {7570744043718734338 55 341} {5362330076396563717 55 342} {6007816690887451173 55 343} {1348996480984298510 55 344} {2595458496449114948 55 345}]
------------------------------------------------------
flag 68934 term 57 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 57 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
flag 96198 term 57 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 57 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=345
leader log:
[{snapshot 55 339} {3570240083452239090 55 340} {7570744043718734338 55 341} {5362330076396563717 55 342} {6007816690887451173 55 343} {1348996480984298510 55 344} {2595458496449114948 55 345}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=345
leader log:
[{snapshot 55 339} {3570240083452239090 55 340} {7570744043718734338 55 341} {5362330076396563717 55 342} {6007816690887451173 55 343} {1348996480984298510 55 344} {2595458496449114948 55 345}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87496 term 57 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 57 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
flag 44149 term 57 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 57 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=345
leader log:
[{snapshot 55 339} {3570240083452239090 55 340} {7570744043718734338 55 341} {5362330076396563717 55 342} {6007816690887451173 55 343} {1348996480984298510 55 344} {2595458496449114948 55 345}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=345
leader log:
[{snapshot 55 339} {3570240083452239090 55 340} {7570744043718734338 55 341} {5362330076396563717 55 342} {6007816690887451173 55 343} {1348996480984298510 55 344} {2595458496449114948 55 345}]
------------------------------------------------------
flag 4052 term 57 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 57 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
flag 86967 term 57 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 57 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=345
leader log:
[{snapshot 55 339} {3570240083452239090 55 340} {7570744043718734338 55 341} {5362330076396563717 55 342} {6007816690887451173 55 343} {1348996480984298510 55 344} {2595458496449114948 55 345}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=345
leader log:
[{snapshot 55 339} {3570240083452239090 55 340} {7570744043718734338 55 341} {5362330076396563717 55 342} {6007816690887451173 55 343} {1348996480984298510 55 344} {2595458496449114948 55 345}]
------------------------------------------------------
flag 64666 term 57 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 57 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
flag 4691 term 57 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 57 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
term 57 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=345
leader log:
[{snapshot 55 339} {3570240083452239090 55 340} {7570744043718734338 55 341} {5362330076396563717 55 342} {6007816690887451173 55 343} {1348996480984298510 55 344} {2595458496449114948 55 345}]
------------------------------------------------------
term 57 server 0 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=346
update matchIndex[0]=345
update leader CommitIndex=345
leader log:
[{snapshot 55 339} {3570240083452239090 55 340} {7570744043718734338 55 341} {5362330076396563717 55 342} {6007816690887451173 55 343} {1348996480984298510 55 344} {2595458496449114948 55 345}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 63698 term 57 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 57 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
flag 64843 term 57 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 57 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
flag 52207 term 57 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 57 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
flag 13049 term 57 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 57 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89401 term 57 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 57 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
flag 92796 term 57 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 57 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65988 term 57 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 57 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
flag 55864 term 57 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 57 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
term 58 server 1 vote for server 0
term 58 server 0 get vote from server 1
term 58 server 0 become leader
------------------------------------------------------
flag 20094 term 58 leader 0 nextIndex[1]: 346  matchIndex[1]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
flag 38265 term 58 leader 0 nextIndex[2]: 346  matchIndex[2]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=346
update matchIndex[1]=345
update leader CommitIndex=345
leader log:
[{snapshot 55 339} {3570240083452239090 55 340} {7570744043718734338 55 341} {5362330076396563717 55 342} {6007816690887451173 55 343} {1348996480984298510 55 344} {2595458496449114948 55 345}]
------------------------------------------------------
client write log 6154963075349921522 (index 346) to leader 0
flag 11613 term 57 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 57 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
flag 92484 term 57 leader 2 nextIndex[1]: 346  matchIndex[1]: 345
term 57 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
flag 89211 term 58 leader 0 nextIndex[1]: 346  matchIndex[1]: 345
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
flag 91274 term 58 leader 0 nextIndex[2]: 346  matchIndex[2]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:345 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 55 339} {3570240083452239090 55 340} {7570744043718734338 55 341} {5362330076396563717 55 342} {6007816690887451173 55 343} {1348996480984298510 55 344} {2595458496449114948 55 345} {6154963075349921522 58 346}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 346->345
------------------------------------------------------
flag 71903 term 57 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 57 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
term 57 leader 2 nextIndex[1]: 0  matchIndex[1]: 345
term 57 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 55
------------------------------------------------------
flag 50824 term 58 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
flag 56313 term 58 leader 0 nextIndex[2]: 346  matchIndex[2]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 346 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=347
update matchIndex[1]=346
update leader CommitIndex=346
leader log:
[{snapshot 55 339} {3570240083452239090 55 340} {7570744043718734338 55 341} {5362330076396563717 55 342} {6007816690887451173 55 343} {1348996480984298510 55 344} {2595458496449114948 55 345} {6154963075349921522 58 346}]
------------------------------------------------------
client write log 8658351679469955657 (index 347) to leader 0
client write log 6424386798846327138 (index 348) to leader 0
client write log 6029126647534097815 (index 349) to leader 0
client write log 349423823192438443 (index 350) to leader 0
client write log 2699597521575139936 (index 351) to leader 0
client write log 3633097889875956453 (index 352) to leader 0
client write log 279746978225967539 (index 353) to leader 0
client write log 3349504428686323126 (index 354) to leader 0
client write log 9044069819407104540 (index 355) to leader 0
client write log 1873636140493229969 (index 356) to leader 0
client write log 6256171819514911066 (index 357) to leader 0
flag 82718 term 57 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 57 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
term 57 leader 2 nextIndex[1]: 0  matchIndex[1]: 345
term 57 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 55
------------------------------------------------------
term 57 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 1624 term 58 leader 0 nextIndex[1]: 347  matchIndex[1]: 346
term 58 leader 0 sendAppendEntries PrevLogIndex: 346  PrevLogTerm: 58 leaderCommit: 346 
------------------------------------------------------
flag 93171 term 58 leader 0 nextIndex[2]: 346  matchIndex[2]: 0
term 58 leader 0 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 346 
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:346 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 55 339} {3570240083452239090 55 340} {7570744043718734338 55 341} {5362330076396563717 55 342} {6007816690887451173 55 343} {1348996480984298510 55 344} {2595458496449114948 55 345} {6154963075349921522 58 346} {8658351679469955657 58 347} {6424386798846327138 58 348} {6029126647534097815 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
term 58 Server0 start snapshot! index=349
term 58 server0 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=357
-------------------------------------------------------------
flag 26993 term 57 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 57 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
term 57 leader 2 nextIndex[1]: 0  matchIndex[1]: 345
term 57 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 55
------------------------------------------------------
flag 49767 term 58 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 58 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 58 leader 0 nextIndex[2]: 346  matchIndex[2]: 0
term 58 leader 0 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 58
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
term 58 Server1 start snapshot! index=349
term 58 server1 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=357
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3837672262057563127 (index 346) to leader 2
term 58 server 1 not vote for server 0, 任期不够新
term 58 server 0 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5034 term 57 leader 2 nextIndex[0]: 346  matchIndex[0]: 345
term 57 leader 2 sendAppendEntries PrevLogIndex: 345  PrevLogTerm: 55 leaderCommit: 345 
------------------------------------------------------
term 57 leader 2 nextIndex[1]: 0  matchIndex[1]: 345
term 57 leader 2 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 55
------------------------------------------------------
term 58 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 58 server 0 AppendEntries false 领导者任期过期 args.Term 57
------------------------------------------------------
term 57 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29333 term 58 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 58 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 58 leader 0 nextIndex[2]: 346  matchIndex[2]: 0
term 58 leader 0 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 58
------------------------------------------------------
term 58 server 2 InstallSnapshot success
------------------------------------------------------
term 58 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 349 rf.lastIncludedTerm 58 rf.commitIndex 349 rf.lastApplied 349
term 58 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 350 matchIndex[2] 349 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 58 server 1 not vote for server 2, 日志不够新
term 58 server 0 not vote for server 2, 日志不够新
term 60 server 2 vote for server 0
term 60 server 1 vote for server 0
term 60 server 0 get vote from server 1
term 60 server 0 become leader
------------------------------------------------------
term 60 server 0 get outdate rpc reply from server 2
flag 34293 term 60 leader 0 nextIndex[1]: 358  matchIndex[1]: 0
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 77468 term 60 leader 0 nextIndex[2]: 358  matchIndex[2]: 0
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 358->357
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
flag 15432 term 60 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 74996 term 60 leader 0 nextIndex[2]: 350  matchIndex[2]: 0
term 60 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:349 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92650 term 60 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 38490 term 60 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
flag 23366 term 60 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 45154 term 60 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 347 term 60 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 44832 term 60 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
flag 13147 term 60 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 31753 term 60 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
flag 27622 term 60 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 17263 term 60 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26537 term 60 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 28751 term 60 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
flag 30725 term 60 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 73874 term 60 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
flag 5987 term 60 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 34521 term 60 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
term 60 server 2 not vote for server 0, 任期不够新
term 60 server 0 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92903 term 60 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 96753 term 60 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
term 60 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30726 term 60 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 80410 term 60 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92454 term 60 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 28273 term 60 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
flag 27395 term 60 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 79590 term 60 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
flag 21622 term 60 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 19020 term 60 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
flag 57231 term 60 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 28729 term 60 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
term 60 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21519 term 60 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 11679 term 60 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34841 term 60 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 58986 term 60 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
flag 1244 term 60 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 8706 term 60 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=358
update matchIndex[2]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=358
update matchIndex[1]=357
update leader CommitIndex=357
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 3837672262057563127 (index 358) to leader 0
flag 14543 term 60 leader 0 nextIndex[1]: 358  matchIndex[1]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
flag 17263 term 60 leader 0 nextIndex[2]: 358  matchIndex[2]: 357
term 60 leader 0 sendAppendEntries PrevLogIndex: 357  PrevLogTerm: 58 leaderCommit: 357 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357} {3837672262057563127 60 358}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:357 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357} {3837672262057563127 60 358}]
------------------------------------------------------
flag 18264 term 60 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 60 leaderCommit: 358 
------------------------------------------------------
flag 2117 term 60 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 60 leaderCommit: 358 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357} {3837672262057563127 60 358}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357} {3837672262057563127 60 358}]
------------------------------------------------------
flag 51676 term 60 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 60 leaderCommit: 358 
------------------------------------------------------
flag 59652 term 60 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 60 leaderCommit: 358 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357} {3837672262057563127 60 358}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357} {3837672262057563127 60 358}]
------------------------------------------------------
flag 13521 term 60 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 60 leaderCommit: 358 
------------------------------------------------------
flag 8239 term 60 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 60 leaderCommit: 358 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357} {3837672262057563127 60 358}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357} {3837672262057563127 60 358}]
------------------------------------------------------
flag 89525 term 60 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 60 leaderCommit: 358 
------------------------------------------------------
flag 51675 term 60 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 60 leaderCommit: 358 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357} {3837672262057563127 60 358}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357} {3837672262057563127 60 358}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38809 term 60 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 60 leaderCommit: 358 
------------------------------------------------------
flag 7064 term 60 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 60 leaderCommit: 358 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357} {3837672262057563127 60 358}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357} {3837672262057563127 60 358}]
------------------------------------------------------
flag 98129 term 60 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 60 leaderCommit: 358 
------------------------------------------------------
flag 94566 term 60 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 60 leaderCommit: 358 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=359
update matchIndex[2]=358
update leader CommitIndex=358
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357} {3837672262057563127 60 358}]
------------------------------------------------------
term 60 server 1 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=359
update matchIndex[1]=358
update leader CommitIndex=358
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357} {3837672262057563127 60 358}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6476384015866921405 (index 359) to leader 0
flag 80853 term 60 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 60 leaderCommit: 358 
------------------------------------------------------
flag 73578 term 60 leader 0 nextIndex[2]: 359  matchIndex[2]: 358
term 60 leader 0 sendAppendEntries PrevLogIndex: 358  PrevLogTerm: 60 leaderCommit: 358 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:358 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=359
leader log:
[{snapshot 58 349} {349423823192438443 58 350} {2699597521575139936 58 351} {3633097889875956453 58 352} {279746978225967539 58 353} {3349504428686323126 58 354} {9044069819407104540 58 355} {1873636140493229969 58 356} {6256171819514911066 58 357} {3837672262057563127 60 358} {6476384015866921405 60 359}]
------------------------------------------------------
term 60 Server0 start snapshot! index=359
term 60 server0 snapshot success
lastIncludedIndex=359 lastApplied=359 lastIndex=359
-------------------------------------------------------------
term 60 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 60 leader 0 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 60
------------------------------------------------------
flag 855 term 60 leader 0 nextIndex[2]: 360  matchIndex[2]: 359
term 60 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 60 leaderCommit: 359 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=360
update matchIndex[2]=359
update leader CommitIndex=359
leader log:
[{snapshot 60 359}]
------------------------------------------------------
term 60 Server2 start snapshot! index=359
term 60 server2 snapshot success
lastIncludedIndex=359 lastApplied=359 lastIndex=359
-------------------------------------------------------------
client write log 5921815521953377877 (index 360) to leader 0
client write log 8149593182370200543 (index 361) to leader 0
client write log 527916592800179572 (index 362) to leader 0
client write log 2899884468849064259 (index 363) to leader 0
client write log 3889154652078672316 (index 364) to leader 0
client write log 496312109580233743 (index 365) to leader 0
client write log 4443413534744686955 (index 366) to leader 0
client write log 7142202151063647239 (index 367) to leader 0
client write log 4225124690879330955 (index 368) to leader 0
term 60 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 60 leader 0 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 60
------------------------------------------------------
flag 48168 term 60 leader 0 nextIndex[2]: 360  matchIndex[2]: 359
term 60 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 60 leaderCommit: 359 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=369
update matchIndex[2]=368
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368}]
------------------------------------------------------
term 60 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 60 leader 0 nextIndex[1]: 359  matchIndex[1]: 358
term 60 leader 0 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 60
------------------------------------------------------
flag 11921 term 60 leader 0 nextIndex[2]: 369  matchIndex[2]: 368
term 60 leader 0 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
term 60 server 2 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=369
update matchIndex[2]=368
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368}]
------------------------------------------------------
!!!!!!connect server 1
client write log 8429172144480332537 (index 369) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 60 server 2 not vote for server 1, 日志不够新
term 60 server 0 not vote for server 1, 日志不够新
term 62 server 2 vote for server 0
term 62 server 0 get vote from server 2
term 62 server 0 become leader
------------------------------------------------------
term 62 server 1 vote for server 0
term 62 server 0 get outdate rpc reply from server 1
flag 57936 term 62 leader 0 nextIndex[1]: 370  matchIndex[1]: 0
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
flag 61250 term 62 leader 0 nextIndex[2]: 370  matchIndex[2]: 0
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
term 62 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 62 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 370->369
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 370->369
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 62 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 62 leader 0 nextIndex[1]: 359  matchIndex[1]: 0
term 62 leader 0 sendInstallSnapshot LastIncludedIndex: 359  LastIncludedTerm: 60
------------------------------------------------------
flag 18707 term 62 leader 0 nextIndex[2]: 369  matchIndex[2]: 0
term 62 leader 0 sendAppendEntries PrevLogIndex: 368  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
term 62 server 2 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=370
update matchIndex[2]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
term 62 server 1 InstallSnapshot success
------------------------------------------------------
term 62 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 360 matchIndex[1] 359 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 359 rf.lastIncludedTerm 60 rf.commitIndex 359 rf.lastApplied 359
flag 67537 term 62 leader 0 nextIndex[1]: 360  matchIndex[1]: 359
term 62 leader 0 sendAppendEntries PrevLogIndex: 359  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
flag 70017 term 62 leader 0 nextIndex[2]: 370  matchIndex[2]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
term 62 server 2 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=370
update matchIndex[2]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:359 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=370
update matchIndex[1]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
flag 10436 term 62 leader 0 nextIndex[1]: 370  matchIndex[1]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
flag 11603 term 62 leader 0 nextIndex[2]: 370  matchIndex[2]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
term 62 server 2 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=370
update matchIndex[2]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=370
update matchIndex[1]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
flag 33177 term 62 leader 0 nextIndex[1]: 370  matchIndex[1]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
flag 90059 term 62 leader 0 nextIndex[2]: 370  matchIndex[2]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
term 62 server 2 AppendEntries true commitIndex:368 
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=370
update matchIndex[2]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=370
update matchIndex[1]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
flag 33411 term 62 leader 0 nextIndex[1]: 370  matchIndex[1]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
flag 29776 term 62 leader 0 nextIndex[2]: 370  matchIndex[2]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
term 62 server 2 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=370
update matchIndex[2]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=370
update matchIndex[1]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
flag 65265 term 62 leader 0 nextIndex[1]: 370  matchIndex[1]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
flag 26476 term 62 leader 0 nextIndex[2]: 370  matchIndex[2]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=370
update matchIndex[1]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
term 62 server 2 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=370
update matchIndex[2]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
term 62 server 2 not vote for server 0, 任期不够新
term 62 server 0 get outdate rpc reply from server 2
flag 85732 term 62 leader 0 nextIndex[1]: 370  matchIndex[1]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
flag 38853 term 62 leader 0 nextIndex[2]: 370  matchIndex[2]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
term 62 server 2 AppendEntries true commitIndex:368 
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=370
update matchIndex[2]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=370
update matchIndex[1]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
flag 11490 term 62 leader 0 nextIndex[1]: 370  matchIndex[1]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
flag 10186 term 62 leader 0 nextIndex[2]: 370  matchIndex[2]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
term 62 server 2 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=370
update matchIndex[2]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=370
update matchIndex[1]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
flag 64080 term 62 leader 0 nextIndex[1]: 370  matchIndex[1]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
flag 4615 term 62 leader 0 nextIndex[2]: 370  matchIndex[2]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
term 62 server 2 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=370
update matchIndex[2]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=370
update matchIndex[1]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
flag 28010 term 62 leader 0 nextIndex[1]: 370  matchIndex[1]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
flag 44560 term 62 leader 0 nextIndex[2]: 370  matchIndex[2]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
term 62 server 2 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=370
update matchIndex[2]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=370
update matchIndex[1]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
flag 71480 term 62 leader 0 nextIndex[1]: 370  matchIndex[1]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
flag 53085 term 62 leader 0 nextIndex[2]: 370  matchIndex[2]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
term 62 server 2 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=370
update matchIndex[2]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=370
update matchIndex[1]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
flag 88609 term 62 leader 0 nextIndex[1]: 370  matchIndex[1]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
flag 38476 term 62 leader 0 nextIndex[2]: 370  matchIndex[2]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
term 62 server 2 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=370
update matchIndex[2]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=370
update matchIndex[1]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31373 term 62 leader 0 nextIndex[1]: 370  matchIndex[1]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
flag 8699 term 62 leader 0 nextIndex[2]: 370  matchIndex[2]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
term 62 server 2 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=370
update matchIndex[2]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=370
update matchIndex[1]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38141 term 62 leader 0 nextIndex[1]: 370  matchIndex[1]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
flag 61047 term 62 leader 0 nextIndex[2]: 370  matchIndex[2]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
term 62 server 2 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=370
update matchIndex[2]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=370
update matchIndex[1]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66216 term 62 leader 0 nextIndex[1]: 370  matchIndex[1]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
flag 90526 term 62 leader 0 nextIndex[2]: 370  matchIndex[2]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
term 62 server 2 AppendEntries true commitIndex:368 
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=370
update matchIndex[1]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=370
update matchIndex[2]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
flag 52974 term 62 leader 0 nextIndex[1]: 370  matchIndex[1]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
flag 37777 term 62 leader 0 nextIndex[2]: 370  matchIndex[2]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
term 62 server 2 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=370
update matchIndex[2]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=370
update matchIndex[1]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
term 62 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12827 term 62 leader 0 nextIndex[1]: 370  matchIndex[1]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
flag 15153 term 62 leader 0 nextIndex[2]: 370  matchIndex[2]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
term 62 server 2 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=370
update matchIndex[2]=369
update leader CommitIndex=368
leader log:
term 62 server 1 AppendEntries true commitIndex:368 
------------------------------------------------------
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=370
update matchIndex[1]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97587 term 62 leader 0 nextIndex[1]: 370  matchIndex[1]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
flag 67248 term 62 leader 0 nextIndex[2]: 370  matchIndex[2]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
term 62 server 2 AppendEntries true commitIndex:368 
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=370
update matchIndex[2]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=370
update matchIndex[1]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
flag 62799 term 62 leader 0 nextIndex[1]: 370  matchIndex[1]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
flag 4330 term 62 leader 0 nextIndex[2]: 370  matchIndex[2]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:368 
------------------------------------------------------
term 62 server 2 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=370
update matchIndex[2]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=370
update matchIndex[1]=369
update leader CommitIndex=368
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369}]
------------------------------------------------------
client write log 8429172144480332537 (index 370) to leader 0
flag 32448 term 62 leader 0 nextIndex[1]: 370  matchIndex[1]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
flag 82323 term 62 leader 0 nextIndex[2]: 370  matchIndex[2]: 369
term 62 leader 0 sendAppendEntries PrevLogIndex: 369  PrevLogTerm: 60 leaderCommit: 368 
------------------------------------------------------
term 62 server 2 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=371
update matchIndex[2]=370
update leader CommitIndex=370
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369} {8429172144480332537 62 370}]
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:368 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=371
update matchIndex[1]=370
update leader CommitIndex=370
leader log:
[{snapshot 60 359} {5921815521953377877 60 360} {8149593182370200543 60 361} {527916592800179572 60 362} {2899884468849064259 60 363} {3889154652078672316 60 364} {496312109580233743 60 365} {4443413534744686955 60 366} {7142202151063647239 60 367} {4225124690879330955 60 368} {8429172144480332537 60 369} {8429172144480332537 62 370}]
------------------------------------------------------
term 62 Server0 start snapshot! index=369
term 62 server0 snapshot success
lastIncludedIndex=369 lastApplied=370 lastIndex=370
-------------------------------------------------------------
flag 5894 term 62 leader 0 nextIndex[1]: 371  matchIndex[1]: 370
term 62 leader 0 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 62 leaderCommit: 370 
------------------------------------------------------
flag 25748 term 62 leader 0 nextIndex[2]: 371  matchIndex[2]: 370
term 62 leader 0 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 62 leaderCommit: 370 
------------------------------------------------------
term 62 server 2 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=371
update matchIndex[2]=370
update leader CommitIndex=370
leader log:
[{snapshot 60 369} {8429172144480332537 62 370}]
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=371
update matchIndex[1]=370
update leader CommitIndex=370
leader log:
[{snapshot 60 369} {8429172144480332537 62 370}]
------------------------------------------------------
term 62 Server2 start snapshot! index=369
term 62 server2 snapshot success
lastIncludedIndex=369 lastApplied=370 lastIndex=370
-------------------------------------------------------------
term 62 Server1 start snapshot! index=369
term 62 server1 snapshot success
lastIncludedIndex=369 lastApplied=370 lastIndex=370
-------------------------------------------------------------
flag 53934 term 62 leader 0 nextIndex[1]: 371  matchIndex[1]: 370
term 62 leader 0 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 62 leaderCommit: 370 
------------------------------------------------------
flag 67450 term 62 leader 0 nextIndex[2]: 371  matchIndex[2]: 370
term 62 leader 0 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 62 leaderCommit: 370 
------------------------------------------------------
term 62 server 2 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=371
update matchIndex[2]=370
update leader CommitIndex=370
leader log:
[{snapshot 60 369} {8429172144480332537 62 370}]
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=371
update matchIndex[1]=370
update leader CommitIndex=370
leader log:
[{snapshot 60 369} {8429172144480332537 62 370}]
------------------------------------------------------
flag 68504 term 62 leader 0 nextIndex[1]: 371  matchIndex[1]: 370
term 62 leader 0 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 62 leaderCommit: 370 
------------------------------------------------------
flag 56751 term 62 leader 0 nextIndex[2]: 371  matchIndex[2]: 370
term 62 leader 0 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 62 leaderCommit: 370 
------------------------------------------------------
term 62 server 2 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=371
update matchIndex[2]=370
update leader CommitIndex=370
leader log:
[{snapshot 60 369} {8429172144480332537 62 370}]
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=371
update matchIndex[1]=370
update leader CommitIndex=370
leader log:
[{snapshot 60 369} {8429172144480332537 62 370}]
------------------------------------------------------
term 62 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 43369 term 62 leader 0 nextIndex[1]: 371  matchIndex[1]: 370
term 62 leader 0 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 62 leaderCommit: 370 
------------------------------------------------------
flag 82054 term 62 leader 0 nextIndex[2]: 371  matchIndex[2]: 370
term 62 leader 0 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 62 leaderCommit: 370 
------------------------------------------------------
term 62 server 2 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=371
update matchIndex[2]=370
update leader CommitIndex=370
leader log:
[{snapshot 60 369} {8429172144480332537 62 370}]
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=371
update matchIndex[1]=370
update leader CommitIndex=370
leader log:
[{snapshot 60 369} {8429172144480332537 62 370}]
------------------------------------------------------
flag 86671 term 62 leader 0 nextIndex[1]: 371  matchIndex[1]: 370
term 62 leader 0 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 62 leaderCommit: 370 
------------------------------------------------------
flag 4516 term 62 leader 0 nextIndex[2]: 371  matchIndex[2]: 370
term 62 leader 0 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 62 leaderCommit: 370 
------------------------------------------------------
term 62 server 2 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=371
update matchIndex[2]=370
update leader CommitIndex=370
leader log:
[{snapshot 60 369} {8429172144480332537 62 370}]
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=371
update matchIndex[1]=370
update leader CommitIndex=370
leader log:
[{snapshot 60 369} {8429172144480332537 62 370}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31987 term 62 leader 0 nextIndex[1]: 371  matchIndex[1]: 370
term 62 leader 0 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 62 leaderCommit: 370 
------------------------------------------------------
flag 3556 term 62 leader 0 nextIndex[2]: 371  matchIndex[2]: 370
term 62 leader 0 sendAppendEntries PrevLogIndex: 370  PrevLogTerm: 62 leaderCommit: 370 
------------------------------------------------------
term 62 server 2 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=371
update matchIndex[2]=370
update leader CommitIndex=370
leader log:
[{snapshot 60 369} {8429172144480332537 62 370}]
------------------------------------------------------
term 62 server 1 AppendEntries true commitIndex:370 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=371
update matchIndex[1]=370
update leader CommitIndex=370
leader log:
[{snapshot 60 369} {8429172144480332537 62 370}]
------------------------------------------------------
  ... Passed --  79.6  3 1827  798367  370
--- PASS: TestSnapshotInstall2D (79.62s)
PASS
