=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 1
term 1 server 1 get vote from server 2
term 1 server 1 become leader
------------------------------------------------------
term 1 server 0 vote for server 1
term 1 server 1 get outdate rpc reply from server 0
client write log 9053597863660224465 (index 1) to leader 1
flag 85284 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 385 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9053597863660224465 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9053597863660224465 1 1}]
------------------------------------------------------
flag 14359 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 10998 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9053597863660224465 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9053597863660224465 1 1}]
------------------------------------------------------
flag 43074 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 90530 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9053597863660224465 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9053597863660224465 1 1}]
------------------------------------------------------
flag 24528 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 1311 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9053597863660224465 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9053597863660224465 1 1}]
------------------------------------------------------
flag 77170 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 10196 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9053597863660224465 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9053597863660224465 1 1}]
------------------------------------------------------
flag 40923 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 8115 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9053597863660224465 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9053597863660224465 1 1}]
------------------------------------------------------
flag 30643 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 6182 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9053597863660224465 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {9053597863660224465 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6496376382171029008 (index 2) to leader 1
flag 50305 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 16886 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {9053597863660224465 1 1} {6496376382171029008 1 2}]
------------------------------------------------------
flag 34293 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 61261 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {9053597863660224465 1 1} {6496376382171029008 1 2}]
------------------------------------------------------
client write log 8182169863502165913 (index 3) to leader 1
client write log 2848501297760105121 (index 4) to leader 1
client write log 5632119731047526202 (index 5) to leader 1
client write log 5745976732905511054 (index 6) to leader 1
client write log 8368220227500691953 (index 7) to leader 1
client write log 1343262928601959049 (index 8) to leader 1
client write log 8986973862525032106 (index 9) to leader 1
flag 75301 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 37357 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {9053597863660224465 1 1} {6496376382171029008 1 2} {8182169863502165913 1 3} {2848501297760105121 1 4} {5632119731047526202 1 5} {5745976732905511054 1 6} {8368220227500691953 1 7} {1343262928601959049 1 8} {8986973862525032106 1 9}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
flag 44802 term 1 leader 1 nextIndex[0]: 10  matchIndex[0]: 9
term 1 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6325094942685271326 (index 10) to leader 1
term 1 server 1 not vote for server 2, 日志不够新
term 1 server 0 not vote for server 2, 日志不够新
term 3 server 2 vote for server 1
term 3 server 1 get vote from server 2
term 3 server 1 become leader
------------------------------------------------------
term 3 server 0 vote for server 1
term 3 server 1 get outdate rpc reply from server 0
flag 46732 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 74869 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 11->10
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 11->10
------------------------------------------------------
flag 9777 term 3 leader 1 nextIndex[0]: 10  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 2  matchIndex[2]: 0
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 server 2 InstallSnapshot success
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
flag 37237 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 24742 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
flag 85386 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 27193 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
flag 47220 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 84409 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
flag 79392 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 50009 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
flag 72904 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 78686 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18706 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 83530 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
flag 21588 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 49844 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
flag 11900 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 63944 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
flag 3368 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 41723 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
flag 68159 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 58578 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
flag 29489 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 89914 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
flag 52683 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 78493 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
flag 83799 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 95213 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
flag 41629 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 72602 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
flag 77271 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 32777 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
flag 14632 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 15408 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
flag 16186 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 22264 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
flag 17850 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 18852 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {6325094942685271326 1 10}]
------------------------------------------------------
client write log 6325094942685271326 (index 11) to leader 1
flag 26430 term 3 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 18024 term 3 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6325094942685271326 1 10} {6325094942685271326 3 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6325094942685271326 1 10} {6325094942685271326 3 11}]
------------------------------------------------------
flag 93434 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 43560 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6325094942685271326 1 10} {6325094942685271326 3 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6325094942685271326 1 10} {6325094942685271326 3 11}]
------------------------------------------------------
flag 17103 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 49840 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6325094942685271326 1 10} {6325094942685271326 3 11}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6325094942685271326 1 10} {6325094942685271326 3 11}]
------------------------------------------------------
flag 66946 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 54605 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6325094942685271326 1 10} {6325094942685271326 3 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6325094942685271326 1 10} {6325094942685271326 3 11}]
------------------------------------------------------
flag 82857 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 16043 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6325094942685271326 1 10} {6325094942685271326 3 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6325094942685271326 1 10} {6325094942685271326 3 11}]
------------------------------------------------------
flag 2197 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 53921 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6325094942685271326 1 10} {6325094942685271326 3 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6325094942685271326 1 10} {6325094942685271326 3 11}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 65277 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 80965 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 12416 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 29128 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 83625 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 5647 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 4 server 0 vote for server 2
term 4 server 2 get vote from server 0
term 4 server 2 become leader
------------------------------------------------------
flag 41610 term 4 leader 2 nextIndex[0]: 12  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 99713 term 4 leader 2 nextIndex[1]: 12  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6325094942685271326 1 10} {6325094942685271326 3 11}]
------------------------------------------------------
client write log 8210281724867923888 (index 12) to leader 2
flag 55272 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 80921 term 3 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 12->11
------------------------------------------------------
flag 4040 term 4 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 30657 term 4 leader 2 nextIndex[1]: 12  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6325094942685271326 1 10} {6325094942685271326 3 11} {8210281724867923888 4 12}]
------------------------------------------------------
flag 932 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 0  matchIndex[2]: 11
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 24864 term 4 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 96178 term 4 leader 2 nextIndex[1]: 12  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6325094942685271326 1 10} {6325094942685271326 3 11} {8210281724867923888 4 12}]
------------------------------------------------------
flag 64372 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 0  matchIndex[2]: 11
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
client write log 2120093308879692516 (index 13) to leader 2
client write log 4761938618748632111 (index 14) to leader 2
client write log 1347853506825631396 (index 15) to leader 2
client write log 548265395598110806 (index 16) to leader 2
client write log 3034845214340823927 (index 17) to leader 2
client write log 5531458468300661357 (index 18) to leader 2
client write log 8539858275473918767 (index 19) to leader 2
flag 42122 term 4 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 4 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 33944 term 4 leader 2 nextIndex[1]: 12  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 1 9} {6325094942685271326 1 10} {6325094942685271326 3 11} {8210281724867923888 4 12} {2120093308879692516 4 13} {4761938618748632111 4 14} {1347853506825631396 4 15} {548265395598110806 4 16} {3034845214340823927 4 17} {5531458468300661357 4 18} {8539858275473918767 4 19}]
------------------------------------------------------
flag 68129 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 0  matchIndex[2]: 11
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
flag 6938 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 12  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
flag 67686 term 3 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 0  matchIndex[2]: 11
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=19
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7520909394506267338 (index 12) to leader 1
flag 57037 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 12  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 server 1 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 20->19
------------------------------------------------------
flag 98107 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 19
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 19 args.LastIncludedIndex 19
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
flag 70419 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 31636 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30698 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 4319 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 20->19
------------------------------------------------------
flag 93400 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 19
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 19 args.LastIncludedIndex 19
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
flag 33438 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 11902 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
flag 60647 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 39754 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
[{snapshot 4 19}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
flag 63337 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 3634 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
flag 6541 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 37425 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61810 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 7021 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
flag 54207 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 41913 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
flag 67186 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 75270 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5426 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 84820 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
flag 66218 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 46607 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
flag 960 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 740 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
flag 25441 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 46093 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 1 not vote for server 2, 日志不够新
term 4 server 2 get outdate rpc reply from server 1
flag 18379 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 72830 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
flag 47949 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 97143 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28340 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 26081 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
flag 56657 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 86968 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=20
update matchIndex[1]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=20
update matchIndex[0]=19
update leader CommitIndex=19
leader log:
[{snapshot 4 19}]
------------------------------------------------------
client write log 7520909394506267338 (index 20) to leader 2
flag 69302 term 4 leader 2 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
flag 27065 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 19 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {7520909394506267338 4 20}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {7520909394506267338 4 20}]
------------------------------------------------------
flag 28903 term 4 leader 2 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 90690 term 4 leader 2 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {7520909394506267338 4 20}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {7520909394506267338 4 20}]
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30758 term 4 leader 2 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 93875 term 4 leader 2 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {7520909394506267338 4 20}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {7520909394506267338 4 20}]
------------------------------------------------------
flag 30581 term 4 leader 2 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 87740 term 4 leader 2 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {7520909394506267338 4 20}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {7520909394506267338 4 20}]
------------------------------------------------------
flag 36988 term 4 leader 2 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 7066 term 4 leader 2 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {7520909394506267338 4 20}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {7520909394506267338 4 20}]
------------------------------------------------------
flag 73292 term 4 leader 2 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 7772 term 4 leader 2 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {7520909394506267338 4 20}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {7520909394506267338 4 20}]
------------------------------------------------------
flag 98846 term 4 leader 2 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 41500 term 4 leader 2 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=21
update matchIndex[1]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {7520909394506267338 4 20}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=21
update matchIndex[0]=20
update leader CommitIndex=20
leader log:
[{snapshot 4 19} {7520909394506267338 4 20}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3228669968131088988 (index 21) to leader 2
flag 86461 term 4 leader 2 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
flag 96786 term 4 leader 2 nextIndex[1]: 21  matchIndex[1]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 20 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56180 term 4 leader 2 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 19011 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=22
update matchIndex[1]=21
update leader CommitIndex=21
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21}]
------------------------------------------------------
client write log 3702361067902770077 (index 22) to leader 2
client write log 5000602479852724649 (index 23) to leader 2
client write log 8806767949702699943 (index 24) to leader 2
client write log 2896334771241051684 (index 25) to leader 2
client write log 2165004464083649615 (index 26) to leader 2
client write log 2776763053568105230 (index 27) to leader 2
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37418 term 4 leader 2 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
flag 70191 term 4 leader 2 nextIndex[1]: 22  matchIndex[1]: 21
term 4 leader 2 sendAppendEntries PrevLogIndex: 21  PrevLogTerm: 4 leaderCommit: 21 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:21 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27}]
------------------------------------------------------
flag 14588 term 4 leader 2 nextIndex[0]: 21  matchIndex[0]: 20
term 4 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 31835 term 4 leader 2 nextIndex[1]: 28  matchIndex[1]: 27
term 4 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=28
update matchIndex[1]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27}]
------------------------------------------------------
!!!!!!connect server 0
client write log 967541837010809198 (index 28) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 21->20
------------------------------------------------------
term 4 server 2 not vote for server 0, 日志不够新
term 4 server 1 not vote for server 0, 日志不够新
term 6 server 0 vote for server 2
term 6 server 2 get vote from server 0
term 6 server 2 become leader
------------------------------------------------------
term 6 server 1 vote for server 2
term 6 server 2 get outdate rpc reply from server 1
flag 92732 term 6 leader 2 nextIndex[0]: 29  matchIndex[0]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 14099 term 6 leader 2 nextIndex[1]: 29  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 29->28
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 29->28
------------------------------------------------------
flag 81229 term 6 leader 2 nextIndex[0]: 21  matchIndex[0]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 20  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 74529 term 6 leader 2 nextIndex[1]: 28  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:20 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
flag 54619 term 6 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 4177 term 6 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
flag 65453 term 6 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 11061 term 6 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95709 term 6 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 63483 term 6 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27140 term 6 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 71343 term 6 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
flag 723 term 6 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 1286 term 6 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52364 term 6 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 69330 term 6 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
flag 10488 term 6 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 81831 term 6 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
flag 27243 term 6 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 84494 term 6 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
flag 72259 term 6 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 55902 term 6 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
flag 21709 term 6 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 26072 term 6 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
flag 77046 term 6 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 75066 term 6 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
flag 57625 term 6 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 24135 term 6 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
flag 77763 term 6 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 15083 term 6 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77764 term 6 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 7335 term 6 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
term 6 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 34743 term 6 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 42354 term 6 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90365 term 6 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 61205 term 6 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
flag 17675 term 6 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 32654 term 6 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9962 term 6 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 83378 term 6 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=29
update matchIndex[1]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28}]
------------------------------------------------------
client write log 967541837010809198 (index 29) to leader 2
flag 50733 term 6 leader 2 nextIndex[0]: 29  matchIndex[0]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 3981 term 6 leader 2 nextIndex[1]: 29  matchIndex[1]: 28
term 6 leader 2 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28} {967541837010809198 6 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 4 19} {7520909394506267338 4 20} {3228669968131088988 4 21} {3702361067902770077 4 22} {5000602479852724649 4 23} {8806767949702699943 4 24} {2896334771241051684 4 25} {2165004464083649615 4 26} {2776763053568105230 4 27} {967541837010809198 4 28} {967541837010809198 6 29}]
------------------------------------------------------
term 6 Server2 start snapshot! index=29
term 6 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83609 term 6 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 92315 term 6 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 6 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 6 29}]
------------------------------------------------------
term 6 Server0 start snapshot! index=29
term 6 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
term 6 Server1 start snapshot! index=29
term 6 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=29
-------------------------------------------------------------
flag 87915 term 6 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 79533 term 6 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 6 29}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 6 29}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83119 term 6 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 36745 term 6 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 6 29}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 6 29}]
------------------------------------------------------
flag 66249 term 6 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 78379 term 6 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 6 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 6 29}]
------------------------------------------------------
flag 91252 term 6 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 1490 term 6 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 6 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 6 29}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9872 term 6 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 90202 term 6 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=30
update matchIndex[1]=29
update leader CommitIndex=29
leader log:
[{snapshot 6 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=29
leader log:
[{snapshot 6 29}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 293128515900877880 (index 30) to leader 2
flag 29594 term 6 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
flag 71967 term 6 leader 2 nextIndex[1]: 30  matchIndex[1]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 29 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:29 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {293128515900877880 6 30}]
------------------------------------------------------
flag 75177 term 6 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 30892 term 6 leader 2 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 2 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=31
update matchIndex[1]=30
update leader CommitIndex=30
leader log:
[{snapshot 6 29} {293128515900877880 6 30}]
------------------------------------------------------
client write log 37115316211581212 (index 31) to leader 2
client write log 7098689010630260482 (index 32) to leader 2
client write log 8010481453079541758 (index 33) to leader 2
client write log 7402385602206365290 (index 34) to leader 2
client write log 8714193963387096700 (index 35) to leader 2
client write log 2918485140760765316 (index 36) to leader 2
client write log 986295807958600534 (index 37) to leader 2
client write log 5071268912238894019 (index 38) to leader 2
client write log 3961497738742589206 (index 39) to leader 2
client write log 810350964342332573 (index 40) to leader 2
client write log 1712775127268592949 (index 41) to leader 2
client write log 5808890056773715550 (index 42) to leader 2
client write log 8006564362538808430 (index 43) to leader 2
flag 98020 term 6 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 2 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 97496 term 6 leader 2 nextIndex[1]: 31  matchIndex[1]: 30
term 6 leader 2 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 29} {293128515900877880 6 30} {37115316211581212 6 31} {7098689010630260482 6 32} {8010481453079541758 6 33} {7402385602206365290 6 34} {8714193963387096700 6 35} {2918485140760765316 6 36} {986295807958600534 6 37} {5071268912238894019 6 38} {3961497738742589206 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43}]
------------------------------------------------------
term 6 Server2 start snapshot! index=39
term 6 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=43
-------------------------------------------------------------
term 6 leader 2 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 29069 term 6 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43}]
------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=43
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7476908753340886916 (index 44) to leader 2
term 6 server 2 not vote for server 0, 日志不够新
term 6 server 1 not vote for server 0, 日志不够新
term 8 server 0 vote for server 2
term 8 server 2 get vote from server 0
term 8 server 2 become leader
------------------------------------------------------
term 8 server 1 vote for server 2
term 8 server 2 get outdate rpc reply from server 1
flag 5652 term 8 leader 2 nextIndex[0]: 45  matchIndex[0]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 98762 term 8 leader 2 nextIndex[1]: 45  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 45->44
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 45->44
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 30  matchIndex[0]: 0
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 72860 term 8 leader 2 nextIndex[1]: 44  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 0 InstallSnapshot success
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 40 matchIndex[0] 39 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
flag 35288 term 8 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 8 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 5851 term 8 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
flag 53993 term 8 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 85963 term 8 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
flag 24752 term 8 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 58662 term 8 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
flag 18563 term 8 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 13612 term 8 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
flag 58844 term 8 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 30207 term 8 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9282 term 8 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 3136 term 8 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
flag 6295 term 8 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 65031 term 8 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
flag 43456 term 8 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 53001 term 8 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
flag 12146 term 8 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 64095 term 8 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
flag 73663 term 8 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 25227 term 8 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
flag 15719 term 8 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 8500 term 8 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
flag 33865 term 8 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 42731 term 8 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
flag 40156 term 8 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 97761 term 8 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
flag 49551 term 8 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 36137 term 8 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
flag 69252 term 8 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 49061 term 8 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21515 term 8 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 20787 term 8 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
flag 59570 term 8 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 55981 term 8 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
flag 698 term 8 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 21631 term 8 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=45
update matchIndex[1]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44}]
------------------------------------------------------
client write log 7476908753340886916 (index 45) to leader 2
flag 32149 term 8 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 22951 term 8 leader 2 nextIndex[1]: 45  matchIndex[1]: 44
term 8 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45}]
------------------------------------------------------
flag 84915 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 62207 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45}]
------------------------------------------------------
flag 27914 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 6223 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45}]
------------------------------------------------------
flag 12491 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 78456 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45}]
------------------------------------------------------
flag 74989 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 33918 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2078 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 69808 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45}]
------------------------------------------------------
flag 45038 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 76918 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 50672 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 97388 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 13421 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 69848 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 38719 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 24510 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 50780 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 41699 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 9 server 0 vote for server 1
term 9 server 1 get vote from server 0
term 9 server 1 become leader
------------------------------------------------------
flag 95241 term 9 leader 1 nextIndex[0]: 46  matchIndex[0]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 14799 term 9 leader 1 nextIndex[2]: 46  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45}]
------------------------------------------------------
client write log 3133142503970366034 (index 46) to leader 1
flag 86981 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 38391 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 72118 term 9 leader 1 nextIndex[0]: 46  matchIndex[0]: 45
term 9 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 33564 term 9 leader 1 nextIndex[2]: 46  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45} {3133142503970366034 9 46}]
------------------------------------------------------
flag 50796 term 8 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 38207 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 38071 term 9 leader 1 nextIndex[0]: 47  matchIndex[0]: 46
term 9 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
flag 36956 term 9 leader 1 nextIndex[2]: 46  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45} {3133142503970366034 9 46}]
------------------------------------------------------
client write log 53747327623832543 (index 47) to leader 1
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 46->45
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 0  matchIndex[0]: 45
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 62015 term 8 leader 2 nextIndex[1]: 46  matchIndex[1]: 45
term 8 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
flag 74110 term 9 leader 1 nextIndex[0]: 47  matchIndex[0]: 46
term 9 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
flag 68472 term 9 leader 1 nextIndex[2]: 46  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 46 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45} {3133142503970366034 9 46} {53747327623832543 9 47}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 46->45
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 0  matchIndex[0]: 45
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 45
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 62098 term 9 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 9 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
flag 27314 term 9 leader 1 nextIndex[2]: 46  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 47 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45} {3133142503970366034 9 46} {53747327623832543 9 47}]
------------------------------------------------------
!!!!!!connect server 2
client write log 6333918851840045368 (index 48) to leader 1
term 8 leader 2 nextIndex[0]: 0  matchIndex[0]: 45
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 45
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 8 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75299 term 9 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 9 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
flag 50814 term 9 leader 1 nextIndex[2]: 46  matchIndex[2]: 0
term 9 leader 1 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 8 leaderCommit: 47 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45} {3133142503970366034 9 46} {53747327623832543 9 47} {6333918851840045368 9 48}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45} {3133142503970366034 9 46} {53747327623832543 9 47} {6333918851840045368 9 48}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62433 term 9 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 9 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
flag 18612 term 9 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 9 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45} {3133142503970366034 9 46} {53747327623832543 9 47} {6333918851840045368 9 48}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45} {3133142503970366034 9 46} {53747327623832543 9 47} {6333918851840045368 9 48}]
------------------------------------------------------
flag 24897 term 9 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 9 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
flag 54355 term 9 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 9 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45} {3133142503970366034 9 46} {53747327623832543 9 47} {6333918851840045368 9 48}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45} {3133142503970366034 9 46} {53747327623832543 9 47} {6333918851840045368 9 48}]
------------------------------------------------------
flag 65092 term 9 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 9 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
flag 77183 term 9 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 9 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45} {3133142503970366034 9 46} {53747327623832543 9 47} {6333918851840045368 9 48}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45} {3133142503970366034 9 46} {53747327623832543 9 47} {6333918851840045368 9 48}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86022 term 9 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 9 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
flag 7326 term 9 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 9 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45} {3133142503970366034 9 46} {53747327623832543 9 47} {6333918851840045368 9 48}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45} {3133142503970366034 9 46} {53747327623832543 9 47} {6333918851840045368 9 48}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42237 term 9 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 9 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
flag 42053 term 9 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 9 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45} {3133142503970366034 9 46} {53747327623832543 9 47} {6333918851840045368 9 48}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45} {3133142503970366034 9 46} {53747327623832543 9 47} {6333918851840045368 9 48}]
------------------------------------------------------
flag 27402 term 9 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 9 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
flag 61580 term 9 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 9 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45} {3133142503970366034 9 46} {53747327623832543 9 47} {6333918851840045368 9 48}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45} {3133142503970366034 9 46} {53747327623832543 9 47} {6333918851840045368 9 48}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6936427807614986778 (index 49) to leader 1
flag 82664 term 9 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 9 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
flag 92126 term 9 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 9 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 9 leaderCommit: 48 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 39} {810350964342332573 6 40} {1712775127268592949 6 41} {5808890056773715550 6 42} {8006564362538808430 6 43} {7476908753340886916 6 44} {7476908753340886916 8 45} {3133142503970366034 9 46} {53747327623832543 9 47} {6333918851840045368 9 48} {6936427807614986778 9 49}]
------------------------------------------------------
term 9 Server1 start snapshot! index=49
term 9 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
flag 4017 term 9 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 9 49}]
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
client write log 1863122789269000625 (index 50) to leader 1
client write log 6433672934854686767 (index 51) to leader 1
client write log 4647281103315259550 (index 52) to leader 1
client write log 4533691157037867316 (index 53) to leader 1
client write log 676929530830041934 (index 54) to leader 1
client write log 5366931988269885803 (index 55) to leader 1
client write log 6733267750658006980 (index 56) to leader 1
client write log 2364734952151568234 (index 57) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31424 term 9 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99936 term 9 leader 1 nextIndex[0]: 58  matchIndex[0]: 57
term 9 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 2
client write log 1846234883757106719 (index 58) to leader 1
flag 70162 term 9 leader 1 nextIndex[0]: 58  matchIndex[0]: 57
term 9 leader 1 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 9 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 10 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 server 2 vote for server 1
term 11 server 1 get vote from server 2
term 11 server 1 become leader
------------------------------------------------------
term 11 server 0 vote for server 1
term 11 server 1 get outdate rpc reply from server 0
flag 25281 term 11 leader 1 nextIndex[0]: 59  matchIndex[0]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 71233 term 11 leader 1 nextIndex[2]: 59  matchIndex[2]: 0
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 59->58
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71565 term 11 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 leader 1 nextIndex[2]: 49  matchIndex[2]: 0
term 11 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 11 server 2 InstallSnapshot success
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 50 matchIndex[2] 49 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 9 rf.commitIndex 49 rf.lastApplied 49
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
flag 19234 term 11 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 1461 term 11 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 11 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
flag 52082 term 11 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 29282 term 11 leader 1 nextIndex[2]: 59  matchIndex[2]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65293 term 11 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 2118 term 11 leader 1 nextIndex[2]: 59  matchIndex[2]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
flag 23611 term 11 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 90435 term 11 leader 1 nextIndex[2]: 59  matchIndex[2]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
flag 50691 term 11 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 41332 term 11 leader 1 nextIndex[2]: 59  matchIndex[2]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72042 term 11 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 53988 term 11 leader 1 nextIndex[2]: 59  matchIndex[2]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
flag 13762 term 11 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 94613 term 11 leader 1 nextIndex[2]: 59  matchIndex[2]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
flag 20664 term 11 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 18746 term 11 leader 1 nextIndex[2]: 59  matchIndex[2]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
flag 93066 term 11 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 21110 term 11 leader 1 nextIndex[2]: 59  matchIndex[2]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
flag 68699 term 11 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 8020 term 11 leader 1 nextIndex[2]: 59  matchIndex[2]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
flag 11498 term 11 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 94084 term 11 leader 1 nextIndex[2]: 59  matchIndex[2]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
flag 51790 term 11 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 16175 term 11 leader 1 nextIndex[2]: 59  matchIndex[2]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 21295 term 11 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 90417 term 11 leader 1 nextIndex[2]: 59  matchIndex[2]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
flag 99010 term 11 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 3023 term 11 leader 1 nextIndex[2]: 59  matchIndex[2]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
term 11 server 1 not vote for server 2, 任期不够新
term 11 server 2 get outdate rpc reply from server 1
flag 49123 term 11 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 64107 term 11 leader 1 nextIndex[2]: 59  matchIndex[2]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
flag 28732 term 11 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 86882 term 11 leader 1 nextIndex[2]: 59  matchIndex[2]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
flag 58095 term 11 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 27774 term 11 leader 1 nextIndex[2]: 59  matchIndex[2]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=59
update matchIndex[2]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58}]
------------------------------------------------------
client write log 1846234883757106719 (index 59) to leader 1
flag 55197 term 11 leader 1 nextIndex[0]: 59  matchIndex[0]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 70265 term 11 leader 1 nextIndex[2]: 59  matchIndex[2]: 58
term 11 leader 1 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58} {1846234883757106719 11 59}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 49} {1863122789269000625 9 50} {6433672934854686767 9 51} {4647281103315259550 9 52} {4533691157037867316 9 53} {676929530830041934 9 54} {5366931988269885803 9 55} {6733267750658006980 9 56} {2364734952151568234 9 57} {1846234883757106719 9 58} {1846234883757106719 11 59}]
------------------------------------------------------
term 11 Server1 start snapshot! index=59
term 11 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
flag 17080 term 11 leader 1 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 26131 term 11 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 11 59}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 11 59}]
------------------------------------------------------
term 11 Server0 start snapshot! index=59
term 11 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
term 11 Server2 start snapshot! index=59
term 11 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74362 term 11 leader 1 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 88136 term 11 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 11 59}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 11 59}]
------------------------------------------------------
flag 48196 term 11 leader 1 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 83840 term 11 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 11 59}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 11 59}]
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56860 term 11 leader 1 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 51631 term 11 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 11 59}]
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 11 59}]
------------------------------------------------------
flag 86485 term 11 leader 1 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 40983 term 11 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=60
update matchIndex[2]=59
update leader CommitIndex=59
leader log:
[{snapshot 11 59}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=60
update matchIndex[0]=59
update leader CommitIndex=59
leader log:
[{snapshot 11 59}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 843060975376802141 (index 60) to leader 1
flag 4042 term 11 leader 1 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
flag 39671 term 11 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {843060975376802141 11 60}]
------------------------------------------------------
term 11 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48783 term 11 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 68565 term 11 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {843060975376802141 11 60}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 8939772438318868230 (index 61) to leader 1
client write log 8077264407484778545 (index 62) to leader 1
client write log 2741573214019564114 (index 63) to leader 1
client write log 8327444403039821548 (index 64) to leader 1
client write log 6212991169891713873 (index 65) to leader 1
client write log 4046213859482244177 (index 66) to leader 1
client write log 4495909354413826034 (index 67) to leader 1
flag 25564 term 11 leader 1 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 1 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 57198 term 11 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {843060975376802141 11 60} {8939772438318868230 11 61} {8077264407484778545 11 62} {2741573214019564114 11 63} {8327444403039821548 11 64} {6212991169891713873 11 65} {4046213859482244177 11 66} {4495909354413826034 11 67}]
------------------------------------------------------
flag 57025 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 7591 term 11 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {843060975376802141 11 60} {8939772438318868230 11 61} {8077264407484778545 11 62} {2741573214019564114 11 63} {8327444403039821548 11 64} {6212991169891713873 11 65} {4046213859482244177 11 66} {4495909354413826034 11 67}]
------------------------------------------------------
!!!!!!connect server 2
client write log 7979052950188944586 (index 68) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36820 term 11 leader 1 nextIndex[0]: 68  matchIndex[0]: 67
term 11 leader 1 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 43216 term 11 leader 1 nextIndex[2]: 60  matchIndex[2]: 59
term 11 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 12 server 2 AppendEntries false 领导者任期过期 args.Term 11
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 12 server 1 not vote for server 2, 日志不够新
term 11 server 0 not vote for server 2, 日志不够新
term 14 server 2 vote for server 1
term 14 server 0 vote for server 1
term 14 server 1 get vote from server 2
term 14 server 1 become leader
------------------------------------------------------
term 14 server 1 get outdate rpc reply from server 0
flag 80295 term 14 leader 1 nextIndex[0]: 69  matchIndex[0]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 20179 term 14 leader 1 nextIndex[2]: 69  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 14 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 69->68
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {843060975376802141 11 60} {8939772438318868230 11 61} {8077264407484778545 11 62} {2741573214019564114 11 63} {8327444403039821548 11 64} {6212991169891713873 11 65} {4046213859482244177 11 66} {4495909354413826034 11 67} {7979052950188944586 11 68}]
------------------------------------------------------
flag 21249 term 14 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 14 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 46863 term 14 leader 1 nextIndex[2]: 60  matchIndex[2]: 0
term 14 leader 1 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
term 14 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
[{snapshot 11 59} {843060975376802141 11 60} {8939772438318868230 11 61} {8077264407484778545 11 62} {2741573214019564114 11 63} {8327444403039821548 11 64} {6212991169891713873 11 65} {4046213859482244177 11 66} {4495909354413826034 11 67} {7979052950188944586 11 68}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {843060975376802141 11 60} {8939772438318868230 11 61} {8077264407484778545 11 62} {2741573214019564114 11 63} {8327444403039821548 11 64} {6212991169891713873 11 65} {4046213859482244177 11 66} {4495909354413826034 11 67} {7979052950188944586 11 68}]
------------------------------------------------------
flag 72325 term 14 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 14 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 11780 term 14 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
term 14 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
[{snapshot 11 59} {843060975376802141 11 60} {8939772438318868230 11 61} {8077264407484778545 11 62} {2741573214019564114 11 63} {8327444403039821548 11 64} {6212991169891713873 11 65} {4046213859482244177 11 66} {4495909354413826034 11 67} {7979052950188944586 11 68}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {843060975376802141 11 60} {8939772438318868230 11 61} {8077264407484778545 11 62} {2741573214019564114 11 63} {8327444403039821548 11 64} {6212991169891713873 11 65} {4046213859482244177 11 66} {4495909354413826034 11 67} {7979052950188944586 11 68}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 14 server 0 not vote for server 2, 任期不够新
term 14 server 2 get outdate rpc reply from server 0
flag 14480 term 14 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 14 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 39684 term 14 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {843060975376802141 11 60} {8939772438318868230 11 61} {8077264407484778545 11 62} {2741573214019564114 11 63} {8327444403039821548 11 64} {6212991169891713873 11 65} {4046213859482244177 11 66} {4495909354413826034 11 67} {7979052950188944586 11 68}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {843060975376802141 11 60} {8939772438318868230 11 61} {8077264407484778545 11 62} {2741573214019564114 11 63} {8327444403039821548 11 64} {6212991169891713873 11 65} {4046213859482244177 11 66} {4495909354413826034 11 67} {7979052950188944586 11 68}]
------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32293 term 14 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 14 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 81306 term 14 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {843060975376802141 11 60} {8939772438318868230 11 61} {8077264407484778545 11 62} {2741573214019564114 11 63} {8327444403039821548 11 64} {6212991169891713873 11 65} {4046213859482244177 11 66} {4495909354413826034 11 67} {7979052950188944586 11 68}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {843060975376802141 11 60} {8939772438318868230 11 61} {8077264407484778545 11 62} {2741573214019564114 11 63} {8327444403039821548 11 64} {6212991169891713873 11 65} {4046213859482244177 11 66} {4495909354413826034 11 67} {7979052950188944586 11 68}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97340 term 14 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 14 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 83327 term 14 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {843060975376802141 11 60} {8939772438318868230 11 61} {8077264407484778545 11 62} {2741573214019564114 11 63} {8327444403039821548 11 64} {6212991169891713873 11 65} {4046213859482244177 11 66} {4495909354413826034 11 67} {7979052950188944586 11 68}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {843060975376802141 11 60} {8939772438318868230 11 61} {8077264407484778545 11 62} {2741573214019564114 11 63} {8327444403039821548 11 64} {6212991169891713873 11 65} {4046213859482244177 11 66} {4495909354413826034 11 67} {7979052950188944586 11 68}]
------------------------------------------------------
flag 55194 term 14 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 14 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 71454 term 14 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {843060975376802141 11 60} {8939772438318868230 11 61} {8077264407484778545 11 62} {2741573214019564114 11 63} {8327444403039821548 11 64} {6212991169891713873 11 65} {4046213859482244177 11 66} {4495909354413826034 11 67} {7979052950188944586 11 68}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {843060975376802141 11 60} {8939772438318868230 11 61} {8077264407484778545 11 62} {2741573214019564114 11 63} {8327444403039821548 11 64} {6212991169891713873 11 65} {4046213859482244177 11 66} {4495909354413826034 11 67} {7979052950188944586 11 68}]
------------------------------------------------------
flag 3347 term 14 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 14 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 82612 term 14 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {843060975376802141 11 60} {8939772438318868230 11 61} {8077264407484778545 11 62} {2741573214019564114 11 63} {8327444403039821548 11 64} {6212991169891713873 11 65} {4046213859482244177 11 66} {4495909354413826034 11 67} {7979052950188944586 11 68}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {843060975376802141 11 60} {8939772438318868230 11 61} {8077264407484778545 11 62} {2741573214019564114 11 63} {8327444403039821548 11 64} {6212991169891713873 11 65} {4046213859482244177 11 66} {4495909354413826034 11 67} {7979052950188944586 11 68}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32522 term 14 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 14 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 56983 term 14 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {843060975376802141 11 60} {8939772438318868230 11 61} {8077264407484778545 11 62} {2741573214019564114 11 63} {8327444403039821548 11 64} {6212991169891713873 11 65} {4046213859482244177 11 66} {4495909354413826034 11 67} {7979052950188944586 11 68}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {843060975376802141 11 60} {8939772438318868230 11 61} {8077264407484778545 11 62} {2741573214019564114 11 63} {8327444403039821548 11 64} {6212991169891713873 11 65} {4046213859482244177 11 66} {4495909354413826034 11 67} {7979052950188944586 11 68}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30674 term 14 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 14 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 21374 term 14 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {843060975376802141 11 60} {8939772438318868230 11 61} {8077264407484778545 11 62} {2741573214019564114 11 63} {8327444403039821548 11 64} {6212991169891713873 11 65} {4046213859482244177 11 66} {4495909354413826034 11 67} {7979052950188944586 11 68}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {843060975376802141 11 60} {8939772438318868230 11 61} {8077264407484778545 11 62} {2741573214019564114 11 63} {8327444403039821548 11 64} {6212991169891713873 11 65} {4046213859482244177 11 66} {4495909354413826034 11 67} {7979052950188944586 11 68}]
------------------------------------------------------
flag 16367 term 14 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 14 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 38668 term 14 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {843060975376802141 11 60} {8939772438318868230 11 61} {8077264407484778545 11 62} {2741573214019564114 11 63} {8327444403039821548 11 64} {6212991169891713873 11 65} {4046213859482244177 11 66} {4495909354413826034 11 67} {7979052950188944586 11 68}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {843060975376802141 11 60} {8939772438318868230 11 61} {8077264407484778545 11 62} {2741573214019564114 11 63} {8327444403039821548 11 64} {6212991169891713873 11 65} {4046213859482244177 11 66} {4495909354413826034 11 67} {7979052950188944586 11 68}]
------------------------------------------------------
flag 27999 term 14 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 14 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 98661 term 14 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {843060975376802141 11 60} {8939772438318868230 11 61} {8077264407484778545 11 62} {2741573214019564114 11 63} {8327444403039821548 11 64} {6212991169891713873 11 65} {4046213859482244177 11 66} {4495909354413826034 11 67} {7979052950188944586 11 68}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {843060975376802141 11 60} {8939772438318868230 11 61} {8077264407484778545 11 62} {2741573214019564114 11 63} {8327444403039821548 11 64} {6212991169891713873 11 65} {4046213859482244177 11 66} {4495909354413826034 11 67} {7979052950188944586 11 68}]
------------------------------------------------------
term 14 server 2 not vote for server 1, 任期不够新
term 14 server 1 get outdate rpc reply from server 2
flag 23515 term 14 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 14 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 91454 term 14 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {843060975376802141 11 60} {8939772438318868230 11 61} {8077264407484778545 11 62} {2741573214019564114 11 63} {8327444403039821548 11 64} {6212991169891713873 11 65} {4046213859482244177 11 66} {4495909354413826034 11 67} {7979052950188944586 11 68}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {843060975376802141 11 60} {8939772438318868230 11 61} {8077264407484778545 11 62} {2741573214019564114 11 63} {8327444403039821548 11 64} {6212991169891713873 11 65} {4046213859482244177 11 66} {4495909354413826034 11 67} {7979052950188944586 11 68}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98872 term 14 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 14 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 41175 term 14 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {843060975376802141 11 60} {8939772438318868230 11 61} {8077264407484778545 11 62} {2741573214019564114 11 63} {8327444403039821548 11 64} {6212991169891713873 11 65} {4046213859482244177 11 66} {4495909354413826034 11 67} {7979052950188944586 11 68}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {843060975376802141 11 60} {8939772438318868230 11 61} {8077264407484778545 11 62} {2741573214019564114 11 63} {8327444403039821548 11 64} {6212991169891713873 11 65} {4046213859482244177 11 66} {4495909354413826034 11 67} {7979052950188944586 11 68}]
------------------------------------------------------
flag 43140 term 14 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 14 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 68320 term 14 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=69
update matchIndex[2]=68
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {843060975376802141 11 60} {8939772438318868230 11 61} {8077264407484778545 11 62} {2741573214019564114 11 63} {8327444403039821548 11 64} {6212991169891713873 11 65} {4046213859482244177 11 66} {4495909354413826034 11 67} {7979052950188944586 11 68}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=67
leader log:
[{snapshot 11 59} {843060975376802141 11 60} {8939772438318868230 11 61} {8077264407484778545 11 62} {2741573214019564114 11 63} {8327444403039821548 11 64} {6212991169891713873 11 65} {4046213859482244177 11 66} {4495909354413826034 11 67} {7979052950188944586 11 68}]
------------------------------------------------------
client write log 7979052950188944586 (index 69) to leader 1
flag 77001 term 14 leader 1 nextIndex[0]: 69  matchIndex[0]: 68
term 14 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 55525 term 14 leader 1 nextIndex[2]: 69  matchIndex[2]: 68
term 14 leader 1 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 59} {843060975376802141 11 60} {8939772438318868230 11 61} {8077264407484778545 11 62} {2741573214019564114 11 63} {8327444403039821548 11 64} {6212991169891713873 11 65} {4046213859482244177 11 66} {4495909354413826034 11 67} {7979052950188944586 11 68} {7979052950188944586 14 69}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 59} {843060975376802141 11 60} {8939772438318868230 11 61} {8077264407484778545 11 62} {2741573214019564114 11 63} {8327444403039821548 11 64} {6212991169891713873 11 65} {4046213859482244177 11 66} {4495909354413826034 11 67} {7979052950188944586 11 68} {7979052950188944586 14 69}]
------------------------------------------------------
term 14 Server1 start snapshot! index=69
term 14 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59417 term 14 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
flag 60571 term 14 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 14 69}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 14 69}]
------------------------------------------------------
term 14 Server2 start snapshot! index=69
term 14 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
term 14 Server0 start snapshot! index=69
term 14 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
flag 85000 term 14 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
flag 89137 term 14 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 14 69}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 14 69}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27480 term 14 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
flag 83950 term 14 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 14 69}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 14 69}]
------------------------------------------------------
flag 6303 term 14 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
flag 18781 term 14 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 14 69}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 14 69}]
------------------------------------------------------
flag 5155 term 14 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
flag 99004 term 14 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 14 69}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 14 69}]
------------------------------------------------------
flag 56732 term 14 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
flag 95082 term 14 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 14 69}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=70
update matchIndex[0]=69
update leader CommitIndex=69
leader log:
[{snapshot 14 69}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 26190 term 14 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
flag 75135 term 14 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
flag 37777 term 14 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
flag 25806 term 14 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
flag 16582 term 14 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
flag 50403 term 14 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
flag 65758 term 14 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
flag 41495 term 14 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
term 15 server 0 vote for server 2
term 15 server 2 get vote from server 0
term 15 server 2 become leader
------------------------------------------------------
client write log 5294219032474110288 (index 70) to leader 2
flag 37163 term 15 leader 2 nextIndex[0]: 70  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
flag 67501 term 15 leader 2 nextIndex[1]: 70  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 14 69} {5294219032474110288 15 70}]
------------------------------------------------------
flag 89700 term 14 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
flag 79773 term 14 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
flag 99305 term 15 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
flag 11225 term 15 leader 2 nextIndex[1]: 70  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 70 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=71
update matchIndex[0]=70
update leader CommitIndex=70
leader log:
[{snapshot 14 69} {5294219032474110288 15 70}]
------------------------------------------------------
client write log 3507273536230638253 (index 71) to leader 2
client write log 8640708424525214555 (index 72) to leader 2
client write log 7374760667472167200 (index 73) to leader 2
client write log 144403353583687584 (index 74) to leader 2
client write log 4443297889464394739 (index 75) to leader 2
client write log 7380490423864773223 (index 76) to leader 2
client write log 5842000400844424361 (index 77) to leader 2
flag 66095 term 14 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
flag 2818 term 14 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
flag 96289 term 15 leader 2 nextIndex[0]: 71  matchIndex[0]: 70
term 15 leader 2 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 15 leaderCommit: 70 
------------------------------------------------------
flag 59940 term 15 leader 2 nextIndex[1]: 70  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 70 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
flag 46990 term 14 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
flag 97305 term 14 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
flag 48612 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 28366 term 15 leader 2 nextIndex[1]: 70  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 77 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
term 14 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!connect server 1
client write log 3430531236502174609 (index 70) to leader 1
flag 28074 term 14 leader 1 nextIndex[0]: 70  matchIndex[0]: 69
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
flag 6854 term 14 leader 1 nextIndex[2]: 70  matchIndex[2]: 69
term 14 leader 1 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 69 
------------------------------------------------------
term 15 server 2 AppendEntries false 领导者任期过期 args.Term 14
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 15 server 0 AppendEntries false 领导者任期过期 args.Term 14
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82304 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 13647 term 15 leader 2 nextIndex[1]: 70  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 77 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
flag 39581 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 3474 term 15 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
flag 91734 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 55351 term 15 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60199 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 36126 term 15 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
flag 14381 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 22088 term 15 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
flag 62709 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 42235 term 15 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
flag 51694 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 32381 term 15 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
flag 1402 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 62622 term 15 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
flag 94091 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 23181 term 15 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
flag 3074 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 93707 term 15 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3681 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 90714 term 15 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 78->77
------------------------------------------------------
flag 59702 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 0  matchIndex[1]: 77
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 14
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
term 15 server 1 InstallSnapshot fail
rf.commitIndex 77 args.LastIncludedIndex 69
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
term 15 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 70 matchIndex[1] 69 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 70->69
------------------------------------------------------
flag 16852 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 15 leader 2 nextIndex[1]: 0  matchIndex[1]: 69
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 14
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
term 15 server 1 InstallSnapshot fail
rf.commitIndex 77 args.LastIncludedIndex 69
------------------------------------------------------
term 15 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 70 matchIndex[1] 69 
------------------------------------------------------------------------
term 15 server 1 not vote for server 2, 任期不够新
term 15 server 2 get outdate rpc reply from server 1
flag 44605 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 99375 term 15 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 15 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 14 leaderCommit: 77 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62418 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 39677 term 15 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
flag 87748 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 5360 term 15 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
flag 5652 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 67389 term 15 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47909 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 35650 term 15 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
flag 14995 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 70602 term 15 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
flag 62672 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 88138 term 15 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=78
update matchIndex[0]=77
update leader CommitIndex=77
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77}]
------------------------------------------------------
client write log 3430531236502174609 (index 78) to leader 2
flag 81860 term 15 leader 2 nextIndex[0]: 78  matchIndex[0]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
flag 54652 term 15 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 15 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 15 leaderCommit: 77 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77} {3430531236502174609 15 78}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77} {3430531236502174609 15 78}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97052 term 15 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 15 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
flag 1289 term 15 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 15 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77} {3430531236502174609 15 78}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77} {3430531236502174609 15 78}]
------------------------------------------------------
flag 35082 term 15 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 15 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
flag 6835 term 15 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 15 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77} {3430531236502174609 15 78}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77} {3430531236502174609 15 78}]
------------------------------------------------------
flag 54785 term 15 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 15 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
flag 38587 term 15 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 15 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77} {3430531236502174609 15 78}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77} {3430531236502174609 15 78}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19982 term 15 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 15 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
flag 76747 term 15 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 15 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77} {3430531236502174609 15 78}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77} {3430531236502174609 15 78}]
------------------------------------------------------
flag 79716 term 15 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 15 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
flag 5016 term 15 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 15 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=79
update matchIndex[1]=78
update leader CommitIndex=78
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77} {3430531236502174609 15 78}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=79
update matchIndex[0]=78
update leader CommitIndex=78
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77} {3430531236502174609 15 78}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 950883632313358684 (index 79) to leader 2
flag 23681 term 15 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 15 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
flag 44131 term 15 leader 2 nextIndex[1]: 79  matchIndex[1]: 78
term 15 leader 2 sendAppendEntries PrevLogIndex: 78  PrevLogTerm: 15 leaderCommit: 78 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:78 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 14 69} {5294219032474110288 15 70} {3507273536230638253 15 71} {8640708424525214555 15 72} {7374760667472167200 15 73} {144403353583687584 15 74} {4443297889464394739 15 75} {7380490423864773223 15 76} {5842000400844424361 15 77} {3430531236502174609 15 78} {950883632313358684 15 79}]
------------------------------------------------------
term 15 Server2 start snapshot! index=79
term 15 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
term 15 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 15
------------------------------------------------------
flag 28590 term 15 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 15 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 15 leaderCommit: 79 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=80
update matchIndex[1]=79
update leader CommitIndex=79
leader log:
[{snapshot 15 79}]
------------------------------------------------------
term 15 Server1 start snapshot! index=79
term 15 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
client write log 7591121747573893228 (index 80) to leader 2
client write log 5723488815402472332 (index 81) to leader 2
client write log 4895456831562380232 (index 82) to leader 2
client write log 3475062505281627839 (index 83) to leader 2
client write log 3983053374097210409 (index 84) to leader 2
client write log 4585682993422732716 (index 85) to leader 2
client write log 477595375049738100 (index 86) to leader 2
client write log 3909069532344700743 (index 87) to leader 2
client write log 3844041687862891768 (index 88) to leader 2
term 15 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 15
------------------------------------------------------
flag 30400 term 15 leader 2 nextIndex[1]: 80  matchIndex[1]: 79
term 15 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 15 leaderCommit: 79 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88}]
------------------------------------------------------
term 15 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 15
------------------------------------------------------
flag 36689 term 15 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 15 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88}]
------------------------------------------------------
!!!!!!connect server 0
client write log 3482541661892919399 (index 89) to leader 2
term 15 leader 2 nextIndex[0]: 79  matchIndex[0]: 78
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 15
------------------------------------------------------
flag 56050 term 15 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 15 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 16 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 17 server 1 vote for server 2
term 17 server 0 vote for server 2
term 17 server 2 get vote from server 1
term 17 server 2 become leader
------------------------------------------------------
term 17 server 2 get outdate rpc reply from server 0
flag 1021 term 17 leader 2 nextIndex[0]: 90  matchIndex[0]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 92837 term 17 leader 2 nextIndex[1]: 90  matchIndex[1]: 0
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
term 17 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 90->89
------------------------------------------------------
term 17 server 0 not vote for server 2, 任期不够新
term 17 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 17 leader 2 nextIndex[0]: 79  matchIndex[0]: 0
term 17 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 15
------------------------------------------------------
flag 99039 term 17 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
term 17 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
term 17 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 15 rf.commitIndex 79 rf.lastApplied 79
flag 37371 term 17 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 17 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 65251 term 17 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85651 term 17 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 67272 term 17 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
flag 31165 term 17 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 62720 term 17 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
flag 52059 term 17 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 27375 term 17 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
flag 39902 term 17 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 64688 term 17 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
flag 3139 term 17 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 93712 term 17 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
flag 41188 term 17 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 24479 term 17 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77982 term 17 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 56734 term 17 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
flag 73999 term 17 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 45268 term 17 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5096 term 17 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 70974 term 17 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
term 17 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37949 term 17 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 27802 term 17 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
flag 10920 term 17 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 60550 term 17 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45578 term 17 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 97000 term 17 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:88 
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
flag 87381 term 17 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 10718 term 17 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64618 term 17 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 24869 term 17 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
flag 6875 term 17 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 92503 term 17 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=88
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89}]
------------------------------------------------------
client write log 3482541661892919399 (index 90) to leader 2
flag 54923 term 17 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
flag 46017 term 17 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 17 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 15 leaderCommit: 88 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89} {3482541661892919399 17 90}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 79} {7591121747573893228 15 80} {5723488815402472332 15 81} {4895456831562380232 15 82} {3475062505281627839 15 83} {3983053374097210409 15 84} {4585682993422732716 15 85} {477595375049738100 15 86} {3909069532344700743 15 87} {3844041687862891768 15 88} {3482541661892919399 15 89} {3482541661892919399 17 90}]
------------------------------------------------------
term 17 Server2 start snapshot! index=89
term 17 server2 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=90
-------------------------------------------------------------
term 17 server 1 not vote for server 2, 任期不够新
term 17 server 2 get outdate rpc reply from server 1
flag 2918 term 17 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 17 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 17 leaderCommit: 90 
------------------------------------------------------
flag 98431 term 17 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 17 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 17 leaderCommit: 90 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {3482541661892919399 17 90}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {3482541661892919399 17 90}]
------------------------------------------------------
term 17 Server0 start snapshot! index=89
term 17 server0 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=90
-------------------------------------------------------------
term 17 Server1 start snapshot! index=89
term 17 server1 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=90
-------------------------------------------------------------
flag 33690 term 17 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 17 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 17 leaderCommit: 90 
------------------------------------------------------
flag 52368 term 17 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 17 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 17 leaderCommit: 90 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {3482541661892919399 17 90}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {3482541661892919399 17 90}]
------------------------------------------------------
term 17 server 1 not vote for server 0, 任期不够新
term 17 server 0 get outdate rpc reply from server 1
flag 24309 term 17 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 17 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 17 leaderCommit: 90 
------------------------------------------------------
flag 9152 term 17 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 17 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 17 leaderCommit: 90 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {3482541661892919399 17 90}]
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {3482541661892919399 17 90}]
------------------------------------------------------
flag 43427 term 17 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 17 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 17 leaderCommit: 90 
------------------------------------------------------
flag 38108 term 17 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 17 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 17 leaderCommit: 90 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {3482541661892919399 17 90}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {3482541661892919399 17 90}]
------------------------------------------------------
flag 24050 term 17 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 17 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 17 leaderCommit: 90 
------------------------------------------------------
flag 41783 term 17 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 17 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 17 leaderCommit: 90 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
term 17 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {3482541661892919399 17 90}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 15 89} {3482541661892919399 17 90}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2663204621146643236 (index 91) to leader 2
flag 14864 term 17 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 17 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 17 leaderCommit: 90 
------------------------------------------------------
flag 33976 term 17 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 17 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 17 leaderCommit: 90 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91}]
------------------------------------------------------
flag 71215 term 17 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 17 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 17 leaderCommit: 91 
------------------------------------------------------
flag 60346 term 17 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 17 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 17 leaderCommit: 91 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91}]
------------------------------------------------------
client write log 2455843660195445553 (index 92) to leader 2
client write log 1911094771686645539 (index 93) to leader 2
client write log 4624688299300572507 (index 94) to leader 2
client write log 9179941863222111650 (index 95) to leader 2
client write log 2860655101003222874 (index 96) to leader 2
client write log 8082443011891953850 (index 97) to leader 2
client write log 8090846199495808517 (index 98) to leader 2
flag 14779 term 17 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 17 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 17 leaderCommit: 91 
------------------------------------------------------
flag 71 term 17 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 17 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 17 leaderCommit: 91 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16965 term 17 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 17 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 47990 term 17 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 17 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 17 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98}]
------------------------------------------------------
!!!!!!connect server 0
client write log 5277397927415754798 (index 99) to leader 2
term 17 server 1 not vote for server 0, 日志不够新
flag 75316 term 17 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 17 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 26818 term 17 leader 2 nextIndex[1]: 99  matchIndex[1]: 98
term 17 leader 2 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 18 server 1 AppendEntries false 领导者任期过期 args.Term 17
------------------------------------------------------
term 18 server 0 AppendEntries false 领导者任期过期 args.Term 17
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 2 not vote for server 0, 日志不够新
term 18 server 1 not vote for server 0, 日志不够新
term 19 server 2 not vote for server 1, 日志不够新
term 20 server 0 vote for server 1
term 20 server 1 get vote from server 0
term 20 server 1 become leader
------------------------------------------------------
flag 93920 term 20 leader 1 nextIndex[0]: 99  matchIndex[0]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 27397 term 20 leader 1 nextIndex[2]: 99  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98}]
------------------------------------------------------
term 20 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 99->98
------------------------------------------------------
flag 30252 term 20 leader 1 nextIndex[0]: 91  matchIndex[0]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 53993 term 20 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 20 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98}]
------------------------------------------------------
flag 47491 term 20 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 20 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 55812 term 20 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 20 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98}]
------------------------------------------------------
flag 25139 term 20 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 20 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 6603 term 20 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 20 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48374 term 20 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 20 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 45183 term 20 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 20 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98}]
------------------------------------------------------
flag 28221 term 20 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 20 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 88506 term 20 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 20 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 server 2 not vote for server 0, 任期不够新
term 20 server 0 get outdate rpc reply from server 2
flag 29089 term 20 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 20 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 76661 term 20 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 20 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58712 term 20 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 20 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 92391 term 20 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 20 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98}]
------------------------------------------------------
flag 8022 term 20 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 20 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 86939 term 20 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 20 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98}]
------------------------------------------------------
flag 16825 term 20 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 20 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 30853 term 20 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 20 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98}]
------------------------------------------------------
flag 41208 term 20 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 20 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 21507 term 20 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 20 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98}]
------------------------------------------------------
term 20 leader 2 -> server 0 sendInstallSnapshot fail
flag 2042 term 20 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 20 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 93669 term 20 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 20 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
------------------------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98}]
------------------------------------------------------
flag 72013 term 20 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 20 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 19970 term 20 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 20 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98}]
------------------------------------------------------
flag 9853 term 20 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 20 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 29865 term 20 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 20 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:98 
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98}]
------------------------------------------------------
flag 5438 term 20 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 20 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 52496 term 20 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 20 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98}]
------------------------------------------------------
term 20 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3603 term 20 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 20 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 33115 term 20 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 20 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=99
update matchIndex[0]=98
update leader CommitIndex=98
term 20 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=99
update matchIndex[2]=98
update leader CommitIndex=98
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98}]
------------------------------------------------------
client write log 5277397927415754798 (index 99) to leader 1
flag 94436 term 20 leader 1 nextIndex[0]: 99  matchIndex[0]: 98
term 20 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
flag 5562 term 20 leader 1 nextIndex[2]: 99  matchIndex[2]: 98
term 20 leader 1 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 17 leaderCommit: 98 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98} {5277397927415754798 20 99}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 15 89} {3482541661892919399 17 90} {2663204621146643236 17 91} {2455843660195445553 17 92} {1911094771686645539 17 93} {4624688299300572507 17 94} {9179941863222111650 17 95} {2860655101003222874 17 96} {8082443011891953850 17 97} {8090846199495808517 17 98} {5277397927415754798 20 99}]
------------------------------------------------------
term 20 Server1 start snapshot! index=99
term 20 server1 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
flag 27102 term 20 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
flag 34935 term 20 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 20 99}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 20 99}]
------------------------------------------------------
term 20 Server0 start snapshot! index=99
term 20 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
term 20 Server2 start snapshot! index=99
term 20 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=99
-------------------------------------------------------------
flag 66379 term 20 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
flag 97467 term 20 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 20 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 20 99}]
------------------------------------------------------
flag 5431 term 20 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
flag 27593 term 20 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 20 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
update nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 20 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 20 99}]
------------------------------------------------------
flag 4004 term 20 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
flag 57973 term 20 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 20 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 20 99}]
------------------------------------------------------
flag 52200 term 20 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
flag 51359 term 20 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 20 99}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 20 99}]
------------------------------------------------------
flag 91666 term 20 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
flag 54036 term 20 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=100
update matchIndex[2]=99
update leader CommitIndex=99
leader log:
[{snapshot 20 99}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 20 99}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 52394 term 20 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
flag 35235 term 20 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
flag 72579 term 20 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
flag 25245 term 20 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
flag 55692 term 20 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
flag 12012 term 20 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
flag 92346 term 20 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
flag 99252 term 20 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
term 21 server 0 vote for server 2
term 21 server 2 get vote from server 0
term 21 server 2 become leader
------------------------------------------------------
flag 60934 term 21 leader 2 nextIndex[0]: 100  matchIndex[0]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
flag 68252 term 21 leader 2 nextIndex[1]: 100  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=100
update matchIndex[0]=99
update leader CommitIndex=99
leader log:
[{snapshot 20 99}]
------------------------------------------------------
client write log 6217642089756778068 (index 100) to leader 2
flag 74413 term 20 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
flag 30765 term 20 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
flag 92824 term 21 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 21 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
flag 8947 term 21 leader 2 nextIndex[1]: 100  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 20 99} {6217642089756778068 21 100}]
------------------------------------------------------
flag 85721 term 20 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
flag 55312 term 20 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
flag 92572 term 21 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 21 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 21 leaderCommit: 100 
------------------------------------------------------
flag 31290 term 21 leader 2 nextIndex[1]: 100  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 100 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=101
update matchIndex[0]=100
update leader CommitIndex=100
leader log:
[{snapshot 20 99} {6217642089756778068 21 100}]
------------------------------------------------------
client write log 8528043035110799528 (index 101) to leader 2
client write log 6920262792965433253 (index 102) to leader 2
client write log 7831826110073436356 (index 103) to leader 2
client write log 7628585828320359501 (index 104) to leader 2
client write log 6029954864986321340 (index 105) to leader 2
client write log 2878131752148952439 (index 106) to leader 2
client write log 2490586130020397631 (index 107) to leader 2
client write log 4373080316285288200 (index 108) to leader 2
client write log 7432644342079771041 (index 109) to leader 2
client write log 240170179374407676 (index 110) to leader 2
client write log 7303101485261556191 (index 111) to leader 2
client write log 7059004044191456315 (index 112) to leader 2
client write log 3920035369773149608 (index 113) to leader 2
client write log 6788007670556017091 (index 114) to leader 2
client write log 9210048955682594516 (index 115) to leader 2
flag 10583 term 20 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
flag 33234 term 20 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
flag 88489 term 21 leader 2 nextIndex[0]: 101  matchIndex[0]: 100
term 21 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 21 leaderCommit: 100 
------------------------------------------------------
flag 8256 term 21 leader 2 nextIndex[1]: 100  matchIndex[1]: 0
term 21 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 100 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 20 99} {6217642089756778068 21 100} {8528043035110799528 21 101} {6920262792965433253 21 102} {7831826110073436356 21 103} {7628585828320359501 21 104} {6029954864986321340 21 105} {2878131752148952439 21 106} {2490586130020397631 21 107} {4373080316285288200 21 108} {7432644342079771041 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
term 21 Server2 start snapshot! index=109
term 21 server2 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=115
-------------------------------------------------------------
flag 21594 term 20 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
flag 66762 term 20 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
flag 98939 term 21 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 leader 2 nextIndex[1]: 100  matchIndex[1]: 0
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
term 21 Server0 start snapshot! index=109
term 21 server0 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=115
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8312124734170056778 (index 100) to leader 1
flag 3315 term 20 leader 1 nextIndex[0]: 100  matchIndex[0]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
flag 17326 term 20 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 20 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 20 leaderCommit: 99 
------------------------------------------------------
term 21 server 2 AppendEntries false 领导者任期过期 args.Term 20
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 21 server 0 AppendEntries false 领导者任期过期 args.Term 20
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31049 term 21 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 leader 2 nextIndex[1]: 100  matchIndex[1]: 0
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 1 InstallSnapshot success
------------------------------------------------------
term 21 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 21 rf.commitIndex 109 rf.lastApplied 109
flag 94304 term 21 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 54097 term 21 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 21 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
flag 50044 term 21 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 69563 term 21 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
flag 34793 term 21 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 83119 term 21 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
flag 69212 term 21 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 94335 term 21 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7794 term 21 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 20453 term 21 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 2 not vote for server 0, 任期不够新
term 21 server 0 get outdate rpc reply from server 2
flag 29197 term 21 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 63938 term 21 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57197 term 21 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 49090 term 21 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
flag 18249 term 21 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 31200 term 21 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
flag 83043 term 21 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 42316 term 21 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
term 21 server 1 not vote for server 2, 日志不够新
term 21 server 2 get outdate rpc reply from server 1
flag 55701 term 21 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 63482 term 21 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
flag 24796 term 21 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 23173 term 21 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59710 term 21 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 51157 term 21 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
flag 69978 term 21 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 64497 term 21 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 116->115
------------------------------------------------------
flag 37037 term 21 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 leader 2 nextIndex[1]: 0  matchIndex[1]: 115
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 1 InstallSnapshot fail
rf.commitIndex 115 args.LastIncludedIndex 109
------------------------------------------------------
term 21 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
flag 28848 term 21 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 83373 term 21 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 21 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
flag 86604 term 21 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 32793 term 21 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1187 term 21 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 1034 term 21 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88859 term 21 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 84378 term 21 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
flag 16419 term 21 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 36197 term 21 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115}]
------------------------------------------------------
client write log 8312124734170056778 (index 116) to leader 2
flag 45473 term 21 leader 2 nextIndex[0]: 116  matchIndex[0]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 49803 term 21 leader 2 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 2 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115} {8312124734170056778 21 116}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115} {8312124734170056778 21 116}]
------------------------------------------------------
flag 13544 term 21 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 95106 term 21 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115} {8312124734170056778 21 116}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115} {8312124734170056778 21 116}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8168 term 21 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 90282 term 21 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115} {8312124734170056778 21 116}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115} {8312124734170056778 21 116}]
------------------------------------------------------
flag 42890 term 21 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 23406 term 21 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115} {8312124734170056778 21 116}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115} {8312124734170056778 21 116}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8918 term 21 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 27428 term 21 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115} {8312124734170056778 21 116}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115} {8312124734170056778 21 116}]
------------------------------------------------------
flag 91948 term 21 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 53902 term 21 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=117
update matchIndex[0]=116
update leader CommitIndex=116
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115} {8312124734170056778 21 116}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115} {8312124734170056778 21 116}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7649097136160244905 (index 117) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32096 term 21 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 70775 term 21 leader 2 nextIndex[1]: 117  matchIndex[1]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115} {8312124734170056778 21 116} {7649097136160244905 21 117}]
------------------------------------------------------
flag 43600 term 21 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 117 
------------------------------------------------------
flag 68486 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 21 leaderCommit: 117 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115} {8312124734170056778 21 116} {7649097136160244905 21 117}]
------------------------------------------------------
client write log 1495619523330502143 (index 118) to leader 2
client write log 1411638258665232754 (index 119) to leader 2
client write log 1782232735767330111 (index 120) to leader 2
client write log 4565991373538331855 (index 121) to leader 2
client write log 3953738659659420025 (index 122) to leader 2
client write log 5082575973151925294 (index 123) to leader 2
client write log 4231902689772737521 (index 124) to leader 2
client write log 5744534733421152866 (index 125) to leader 2
client write log 4514444229241913959 (index 126) to leader 2
client write log 5013681776746626841 (index 127) to leader 2
flag 74181 term 21 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 21 leader 2 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 117 
------------------------------------------------------
flag 15540 term 21 leader 2 nextIndex[1]: 118  matchIndex[1]: 117
term 21 leader 2 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 21 leaderCommit: 117 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 109} {240170179374407676 21 110} {7303101485261556191 21 111} {7059004044191456315 21 112} {3920035369773149608 21 113} {6788007670556017091 21 114} {9210048955682594516 21 115} {8312124734170056778 21 116} {7649097136160244905 21 117} {1495619523330502143 21 118} {1411638258665232754 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127}]
------------------------------------------------------
term 21 Server2 start snapshot! index=119
term 21 server2 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=127
-------------------------------------------------------------
term 21 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 2 nextIndex[0]: 117  matchIndex[0]: 116
term 21 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 94977 term 21 leader 2 nextIndex[1]: 120  matchIndex[1]: 119
term 21 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127}]
------------------------------------------------------
term 21 Server1 start snapshot! index=119
term 21 server1 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=127
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3510047792289733912 (index 128) to leader 2
term 21 server 2 not vote for server 0, 日志不够新
term 21 server 1 not vote for server 0, 日志不够新
term 23 server 1 vote for server 2
term 23 server 2 get vote from server 1
term 23 server 2 become leader
------------------------------------------------------
term 23 server 0 vote for server 2
term 23 server 2 get outdate rpc reply from server 0
flag 54616 term 23 leader 2 nextIndex[0]: 129  matchIndex[0]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 97768 term 23 leader 2 nextIndex[1]: 129  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 129->128
------------------------------------------------------
term 23 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 129->128
------------------------------------------------------
term 23 leader 2 nextIndex[0]: 117  matchIndex[0]: 0
term 23 leader 2 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 81375 term 23 leader 2 nextIndex[1]: 128  matchIndex[1]: 0
term 23 leader 2 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 0 InstallSnapshot success
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
Server0 get CondInstallSnapshot!
term 23 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 120 matchIndex[0] 119 
------------------------------------------------------------------------
rf.lastIncludedIndex 119 rf.lastIncludedTerm 21 rf.commitIndex 119 rf.lastApplied 119
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
flag 993 term 23 leader 2 nextIndex[0]: 120  matchIndex[0]: 119
term 23 leader 2 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 90900 term 23 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60510 term 23 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 74113 term 23 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
flag 57419 term 23 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 55915 term 23 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9918 term 23 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 94871 term 23 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
flag 28365 term 23 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 53522 term 23 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
flag 60111 term 23 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 97182 term 23 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
flag 87999 term 23 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 24216 term 23 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92559 term 23 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 39994 term 23 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
flag 13326 term 23 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 65287 term 23 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
flag 54234 term 23 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 98277 term 23 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37049 term 23 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 51601 term 23 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
flag 35679 term 23 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 31560 term 23 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
flag 34524 term 23 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 91640 term 23 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
flag 82093 term 23 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 52241 term 23 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16745 term 23 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 52195 term 23 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
flag 4088 term 23 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 67617 term 23 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
flag 73982 term 23 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 87867 term 23 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
term 23 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
flag 66136 term 23 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 51546 term 23 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=129
update matchIndex[0]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128}]
------------------------------------------------------
client write log 3510047792289733912 (index 129) to leader 2
flag 11773 term 23 leader 2 nextIndex[0]: 129  matchIndex[0]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 92960 term 23 leader 2 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 2 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128} {3510047792289733912 23 129}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 21 119} {1782232735767330111 21 120} {4565991373538331855 21 121} {3953738659659420025 21 122} {5082575973151925294 21 123} {4231902689772737521 21 124} {5744534733421152866 21 125} {4514444229241913959 21 126} {5013681776746626841 21 127} {3510047792289733912 21 128} {3510047792289733912 23 129}]
------------------------------------------------------
term 23 Server2 start snapshot! index=129
term 23 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60255 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 129 
------------------------------------------------------
flag 55213 term 23 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 129 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 23 129}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 23 129}]
------------------------------------------------------
term 23 Server1 start snapshot! index=129
term 23 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
term 23 Server0 start snapshot! index=129
term 23 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
flag 84219 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 129 
------------------------------------------------------
flag 91851 term 23 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 129 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 23 129}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 23 129}]
------------------------------------------------------
flag 50991 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 129 
------------------------------------------------------
flag 24738 term 23 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 129 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 23 129}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 23 129}]
------------------------------------------------------
flag 23286 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 129 
------------------------------------------------------
flag 7286 term 23 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 129 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 23 129}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 23 129}]
------------------------------------------------------
flag 14159 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 129 
------------------------------------------------------
flag 38121 term 23 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 129 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 23 129}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 23 129}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34009 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 129 
------------------------------------------------------
flag 28074 term 23 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 129 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=130
update matchIndex[0]=129
update leader CommitIndex=129
leader log:
[{snapshot 23 129}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 23 129}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5064630774458255546 (index 130) to leader 2
term 23 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41102 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 129 
------------------------------------------------------
flag 58773 term 23 leader 2 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 129 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 23 129} {5064630774458255546 23 130}]
------------------------------------------------------
flag 31630 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
flag 35887 term 23 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 23 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=131
update matchIndex[1]=130
update leader CommitIndex=130
leader log:
[{snapshot 23 129} {5064630774458255546 23 130}]
------------------------------------------------------
client write log 7315147658603037262 (index 131) to leader 2
client write log 2769835451621302395 (index 132) to leader 2
client write log 2633361271529197496 (index 133) to leader 2
client write log 4326057262984548956 (index 134) to leader 2
client write log 4516118481519624585 (index 135) to leader 2
client write log 5719308531146248458 (index 136) to leader 2
client write log 5529995291558689549 (index 137) to leader 2
flag 19425 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
flag 44805 term 23 leader 2 nextIndex[1]: 131  matchIndex[1]: 130
term 23 leader 2 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 23 129} {5064630774458255546 23 130} {7315147658603037262 23 131} {2769835451621302395 23 132} {2633361271529197496 23 133} {4326057262984548956 23 134} {4516118481519624585 23 135} {5719308531146248458 23 136} {5529995291558689549 23 137}]
------------------------------------------------------
flag 63544 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
flag 79642 term 23 leader 2 nextIndex[1]: 138  matchIndex[1]: 137
term 23 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 23 129} {5064630774458255546 23 130} {7315147658603037262 23 131} {2769835451621302395 23 132} {2633361271529197496 23 133} {4326057262984548956 23 134} {4516118481519624585 23 135} {5719308531146248458 23 136} {5529995291558689549 23 137}]
------------------------------------------------------
!!!!!!connect server 0
client write log 8047774579838294202 (index 138) to leader 2
flag 10451 term 23 leader 2 nextIndex[0]: 130  matchIndex[0]: 129
term 23 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
flag 72578 term 23 leader 2 nextIndex[1]: 138  matchIndex[1]: 137
term 23 leader 2 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 23 leaderCommit: 137 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 24 server 0 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
update nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 23 129} {5064630774458255546 23 130} {7315147658603037262 23 131} {2769835451621302395 23 132} {2633361271529197496 23 133} {4326057262984548956 23 134} {4516118481519624585 23 135} {5719308531146248458 23 136} {5529995291558689549 23 137} {8047774579838294202 23 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 server 2 not vote for server 0, 日志不够新
term 23 server 1 not vote for server 0, 日志不够新
term 26 server 1 vote for server 2
term 26 server 0 vote for server 2
term 26 server 2 get vote from server 1
term 26 server 2 become leader
------------------------------------------------------
term 26 server 2 get outdate rpc reply from server 0
flag 6709 term 26 leader 2 nextIndex[0]: 139  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 87141 term 26 leader 2 nextIndex[1]: 139  matchIndex[1]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 26 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 139->138
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 23 129} {5064630774458255546 23 130} {7315147658603037262 23 131} {2769835451621302395 23 132} {2633361271529197496 23 133} {4326057262984548956 23 134} {4516118481519624585 23 135} {5719308531146248458 23 136} {5529995291558689549 23 137} {8047774579838294202 23 138}]
------------------------------------------------------
flag 56843 term 26 leader 2 nextIndex[0]: 130  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 67290 term 26 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 26 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 23 129} {5064630774458255546 23 130} {7315147658603037262 23 131} {2769835451621302395 23 132} {2633361271529197496 23 133} {4326057262984548956 23 134} {4516118481519624585 23 135} {5719308531146248458 23 136} {5529995291558689549 23 137} {8047774579838294202 23 138}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=138
leader log:
[{snapshot 23 129} {5064630774458255546 23 130} {7315147658603037262 23 131} {2769835451621302395 23 132} {2633361271529197496 23 133} {4326057262984548956 23 134} {4516118481519624585 23 135} {5719308531146248458 23 136} {5529995291558689549 23 137} {8047774579838294202 23 138}]
------------------------------------------------------
flag 88750 term 26 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 26 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 50962 term 26 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 26 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 23 129} {5064630774458255546 23 130} {7315147658603037262 23 131} {2769835451621302395 23 132} {2633361271529197496 23 133} {4326057262984548956 23 134} {4516118481519624585 23 135} {5719308531146248458 23 136} {5529995291558689549 23 137} {8047774579838294202 23 138}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=138
leader log:
[{snapshot 23 129} {5064630774458255546 23 130} {7315147658603037262 23 131} {2769835451621302395 23 132} {2633361271529197496 23 133} {4326057262984548956 23 134} {4516118481519624585 23 135} {5719308531146248458 23 136} {5529995291558689549 23 137} {8047774579838294202 23 138}]
------------------------------------------------------
flag 77005 term 26 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 26 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 6633 term 26 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 26 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 23 129} {5064630774458255546 23 130} {7315147658603037262 23 131} {2769835451621302395 23 132} {2633361271529197496 23 133} {4326057262984548956 23 134} {4516118481519624585 23 135} {5719308531146248458 23 136} {5529995291558689549 23 137} {8047774579838294202 23 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=138
leader log:
[{snapshot 23 129} {5064630774458255546 23 130} {7315147658603037262 23 131} {2769835451621302395 23 132} {2633361271529197496 23 133} {4326057262984548956 23 134} {4516118481519624585 23 135} {5719308531146248458 23 136} {5529995291558689549 23 137} {8047774579838294202 23 138}]
------------------------------------------------------
flag 33718 term 26 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 26 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 93995 term 26 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 26 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 23 129} {5064630774458255546 23 130} {7315147658603037262 23 131} {2769835451621302395 23 132} {2633361271529197496 23 133} {4326057262984548956 23 134} {4516118481519624585 23 135} {5719308531146248458 23 136} {5529995291558689549 23 137} {8047774579838294202 23 138}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=138
leader log:
[{snapshot 23 129} {5064630774458255546 23 130} {7315147658603037262 23 131} {2769835451621302395 23 132} {2633361271529197496 23 133} {4326057262984548956 23 134} {4516118481519624585 23 135} {5719308531146248458 23 136} {5529995291558689549 23 137} {8047774579838294202 23 138}]
------------------------------------------------------
flag 15188 term 26 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 26 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 17772 term 26 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 26 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 23 129} {5064630774458255546 23 130} {7315147658603037262 23 131} {2769835451621302395 23 132} {2633361271529197496 23 133} {4326057262984548956 23 134} {4516118481519624585 23 135} {5719308531146248458 23 136} {5529995291558689549 23 137} {8047774579838294202 23 138}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=138
leader log:
[{snapshot 23 129} {5064630774458255546 23 130} {7315147658603037262 23 131} {2769835451621302395 23 132} {2633361271529197496 23 133} {4326057262984548956 23 134} {4516118481519624585 23 135} {5719308531146248458 23 136} {5529995291558689549 23 137} {8047774579838294202 23 138}]
------------------------------------------------------
flag 25551 term 26 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 26 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 77018 term 26 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 26 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=138
leader log:
[{snapshot 23 129} {5064630774458255546 23 130} {7315147658603037262 23 131} {2769835451621302395 23 132} {2633361271529197496 23 133} {4326057262984548956 23 134} {4516118481519624585 23 135} {5719308531146248458 23 136} {5529995291558689549 23 137} {8047774579838294202 23 138}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=139
update matchIndex[1]=138
update leader CommitIndex=138
leader log:
[{snapshot 23 129} {5064630774458255546 23 130} {7315147658603037262 23 131} {2769835451621302395 23 132} {2633361271529197496 23 133} {4326057262984548956 23 134} {4516118481519624585 23 135} {5719308531146248458 23 136} {5529995291558689549 23 137} {8047774579838294202 23 138}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 12137 term 26 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 26 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 1546 term 26 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 26 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 59960 term 26 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 26 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 84000 term 26 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 26 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 78520 term 26 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 26 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 4776 term 26 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 26 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 27 server 0 vote for server 1
term 27 server 1 get vote from server 0
term 27 server 1 become leader
------------------------------------------------------
flag 1922 term 27 leader 1 nextIndex[0]: 139  matchIndex[0]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 1143 term 27 leader 1 nextIndex[2]: 139  matchIndex[2]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=139
update matchIndex[0]=138
update leader CommitIndex=138
leader log:
[{snapshot 23 129} {5064630774458255546 23 130} {7315147658603037262 23 131} {2769835451621302395 23 132} {2633361271529197496 23 133} {4326057262984548956 23 134} {4516118481519624585 23 135} {5719308531146248458 23 136} {5529995291558689549 23 137} {8047774579838294202 23 138}]
------------------------------------------------------
client write log 7710820227673172634 (index 139) to leader 1
flag 52448 term 26 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 26 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 89096 term 26 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 26 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 91970 term 27 leader 1 nextIndex[0]: 139  matchIndex[0]: 138
term 27 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 13085 term 27 leader 1 nextIndex[2]: 139  matchIndex[2]: 0
term 27 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 23 129} {5064630774458255546 23 130} {7315147658603037262 23 131} {2769835451621302395 23 132} {2633361271529197496 23 133} {4326057262984548956 23 134} {4516118481519624585 23 135} {5719308531146248458 23 136} {5529995291558689549 23 137} {8047774579838294202 23 138} {7710820227673172634 27 139}]
------------------------------------------------------
term 27 Server1 start snapshot! index=139
term 27 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
flag 12820 term 26 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 26 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 93593 term 26 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 26 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 1484 term 27 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 27 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 27 leaderCommit: 139 
------------------------------------------------------
term 27 leader 1 nextIndex[2]: 139  matchIndex[2]: 0
term 27 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 27
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 27 139}]
------------------------------------------------------
term 27 Server0 start snapshot! index=139
term 27 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
client write log 1117662303226404315 (index 140) to leader 1
flag 7133 term 26 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 26 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
flag 41277 term 26 leader 2 nextIndex[1]: 139  matchIndex[1]: 138
term 26 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 139->138
------------------------------------------------------
flag 94321 term 27 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 27 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 27 leaderCommit: 139 
------------------------------------------------------
term 27 leader 1 nextIndex[2]: 139  matchIndex[2]: 0
term 27 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 27
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 27 139} {1117662303226404315 27 140}]
------------------------------------------------------
flag 47207 term 26 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 26 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 26 leader 2 nextIndex[1]: 0  matchIndex[1]: 138
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
flag 85337 term 27 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 27 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 27 leaderCommit: 140 
------------------------------------------------------
term 27 leader 1 nextIndex[2]: 139  matchIndex[2]: 0
term 27 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 27
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=140
leader log:
[{snapshot 27 139} {1117662303226404315 27 140}]
------------------------------------------------------
!!!!!!connect server 2
client write log 4733098627462179954 (index 141) to leader 1
flag 14809 term 26 leader 2 nextIndex[0]: 139  matchIndex[0]: 138
term 26 leader 2 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 23 leaderCommit: 138 
------------------------------------------------------
term 26 leader 2 nextIndex[1]: 0  matchIndex[1]: 138
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
term 27 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 27 server 0 AppendEntries false 领导者任期过期 args.Term 26
term 26 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
flag 43709 term 27 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 27 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 27 leaderCommit: 140 
------------------------------------------------------
flag 56898 term 27 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 27 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 27 leaderCommit: 140 
------------------------------------------------------
term 27 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 140->139
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:140 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 27 139} {1117662303226404315 27 140} {4733098627462179954 27 141}]
------------------------------------------------------
flag 44018 term 27 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 27 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 27 leaderCommit: 141 
------------------------------------------------------
term 27 leader 1 nextIndex[2]: 139  matchIndex[2]: 139
term 27 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 27
------------------------------------------------------
term 27 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 27 rf.commitIndex 139 rf.lastApplied 139
term 27 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
term 27 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 27 139} {1117662303226404315 27 140} {4733098627462179954 27 141}]
------------------------------------------------------
flag 5985 term 27 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 27 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 27 leaderCommit: 141 
------------------------------------------------------
flag 38971 term 27 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 27 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 27 leaderCommit: 141 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:139 
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 27 139} {1117662303226404315 27 140} {4733098627462179954 27 141}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 27 139} {1117662303226404315 27 140} {4733098627462179954 27 141}]
------------------------------------------------------
flag 12555 term 27 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 27 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 27 leaderCommit: 141 
------------------------------------------------------
flag 14875 term 27 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 27 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 27 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 27 139} {1117662303226404315 27 140} {4733098627462179954 27 141}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 27 139} {1117662303226404315 27 140} {4733098627462179954 27 141}]
------------------------------------------------------
flag 9050 term 27 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 27 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 27 leaderCommit: 141 
------------------------------------------------------
flag 40839 term 27 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 27 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 27 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 27 139} {1117662303226404315 27 140} {4733098627462179954 27 141}]
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 27 139} {1117662303226404315 27 140} {4733098627462179954 27 141}]
------------------------------------------------------
flag 16211 term 27 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 27 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 27 leaderCommit: 141 
------------------------------------------------------
flag 85207 term 27 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 27 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 27 leaderCommit: 141 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 27 139} {1117662303226404315 27 140} {4733098627462179954 27 141}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 27 139} {1117662303226404315 27 140} {4733098627462179954 27 141}]
------------------------------------------------------
flag 31987 term 27 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 27 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 27 leaderCommit: 141 
------------------------------------------------------
flag 41616 term 27 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 27 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 27 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 27 139} {1117662303226404315 27 140} {4733098627462179954 27 141}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 27 139} {1117662303226404315 27 140} {4733098627462179954 27 141}]
------------------------------------------------------
flag 24288 term 27 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 27 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 27 leaderCommit: 141 
------------------------------------------------------
flag 80836 term 27 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 27 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 27 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 27 139} {1117662303226404315 27 140} {4733098627462179954 27 141}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 27 139} {1117662303226404315 27 140} {4733098627462179954 27 141}]
------------------------------------------------------
term 27 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
flag 48428 term 27 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 27 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 27 leaderCommit: 141 
------------------------------------------------------
flag 85952 term 27 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 27 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 27 leaderCommit: 141 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 27 139} {1117662303226404315 27 140} {4733098627462179954 27 141}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 27 139} {1117662303226404315 27 140} {4733098627462179954 27 141}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7990569185870082169 (index 142) to leader 1
flag 21794 term 27 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 27 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 27 leaderCommit: 141 
------------------------------------------------------
flag 99257 term 27 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 27 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 27 leaderCommit: 141 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 27 139} {1117662303226404315 27 140} {4733098627462179954 27 141} {7990569185870082169 27 142}]
------------------------------------------------------
flag 5 term 27 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 27 leaderCommit: 142 
------------------------------------------------------
flag 24195 term 27 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 27 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 27 leaderCommit: 142 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 27 139} {1117662303226404315 27 140} {4733098627462179954 27 141} {7990569185870082169 27 142}]
------------------------------------------------------
client write log 1595171400535483666 (index 143) to leader 1
client write log 7277687610210857065 (index 144) to leader 1
client write log 4065430682064363857 (index 145) to leader 1
client write log 840293237854229423 (index 146) to leader 1
client write log 7145804403555628358 (index 147) to leader 1
client write log 3321629357172983494 (index 148) to leader 1
client write log 8015419692971654043 (index 149) to leader 1
client write log 2980151963855559257 (index 150) to leader 1
client write log 3941365622697590887 (index 151) to leader 1
client write log 6391942860507722912 (index 152) to leader 1
client write log 4384089729186595268 (index 153) to leader 1
flag 73907 term 27 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 27 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 27 leaderCommit: 142 
------------------------------------------------------
flag 21241 term 27 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 27 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 27 leaderCommit: 142 
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=153
leader log:
[{snapshot 27 139} {1117662303226404315 27 140} {4733098627462179954 27 141} {7990569185870082169 27 142} {1595171400535483666 27 143} {7277687610210857065 27 144} {4065430682064363857 27 145} {840293237854229423 27 146} {7145804403555628358 27 147} {3321629357172983494 27 148} {8015419692971654043 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153}]
------------------------------------------------------
term 27 Server1 start snapshot! index=149
term 27 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=153
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45331 term 27 leader 1 nextIndex[0]: 154  matchIndex[0]: 153
term 27 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
term 27 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 27 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 27
------------------------------------------------------
term 27 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=154
update matchIndex[0]=153
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153}]
------------------------------------------------------
term 27 Server0 start snapshot! index=149
term 27 server0 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=153
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7948295468482090180 (index 154) to leader 1
term 27 server 1 not vote for server 2, 日志不够新
term 27 server 0 not vote for server 2, 日志不够新
term 29 server 2 vote for server 1
term 29 server 1 get vote from server 2
term 29 server 0 vote for server 1
term 29 server 1 become leader
------------------------------------------------------
term 29 server 1 get outdate rpc reply from server 0
flag 42993 term 29 leader 1 nextIndex[0]: 155  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
flag 5040 term 29 leader 1 nextIndex[2]: 155  matchIndex[2]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
term 29 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 155->154
------------------------------------------------------
term 29 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 155->154
------------------------------------------------------
flag 19956 term 29 leader 1 nextIndex[0]: 154  matchIndex[0]: 0
term 29 leader 1 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 142  matchIndex[2]: 0
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 27
------------------------------------------------------
term 29 server 2 InstallSnapshot success
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
term 29 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 27 rf.commitIndex 149 rf.lastApplied 149
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83528 term 29 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
flag 63323 term 29 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 29 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
flag 11518 term 29 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
flag 20340 term 29 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
flag 22799 term 29 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
flag 42920 term 29 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
flag 92114 term 29 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
flag 38888 term 29 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
flag 96949 term 29 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
flag 8684 term 29 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77696 term 29 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
flag 69374 term 29 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
flag 92621 term 29 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
flag 33316 term 29 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
flag 11214 term 29 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
flag 22740 term 29 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
flag 25772 term 29 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
flag 8246 term 29 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
flag 70989 term 29 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
flag 42204 term 29 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43306 term 29 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
flag 55529 term 29 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
flag 40215 term 29 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
flag 49442 term 29 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32158 term 29 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
flag 36937 term 29 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
flag 12741 term 29 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
flag 54021 term 29 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
flag 51649 term 29 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
flag 79334 term 29 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
flag 18914 term 29 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
flag 55359 term 29 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
flag 91686 term 29 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
flag 94694 term 29 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
term 29 server 2 not vote for server 0, 任期不够新
term 29 server 0 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29056 term 29 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
flag 68885 term 29 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=153
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154}]
------------------------------------------------------
client write log 7948295468482090180 (index 155) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 29 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89229 term 29 leader 1 nextIndex[0]: 155  matchIndex[0]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
flag 56259 term 29 leader 1 nextIndex[2]: 155  matchIndex[2]: 154
term 29 leader 1 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 27 leaderCommit: 153 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154} {7948295468482090180 29 155}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154} {7948295468482090180 29 155}]
------------------------------------------------------
term 29 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 7839 term 29 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 29 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 29 leaderCommit: 155 
------------------------------------------------------
flag 19009 term 29 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 29 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 29 leaderCommit: 155 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154} {7948295468482090180 29 155}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154} {7948295468482090180 29 155}]
------------------------------------------------------
flag 17014 term 29 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 29 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 29 leaderCommit: 155 
------------------------------------------------------
flag 54771 term 29 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 29 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 29 leaderCommit: 155 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154} {7948295468482090180 29 155}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154} {7948295468482090180 29 155}]
------------------------------------------------------
flag 1076 term 29 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 29 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 29 leaderCommit: 155 
------------------------------------------------------
flag 38304 term 29 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 29 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 29 leaderCommit: 155 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154} {7948295468482090180 29 155}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154} {7948295468482090180 29 155}]
------------------------------------------------------
flag 54489 term 29 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 29 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 29 leaderCommit: 155 
------------------------------------------------------
flag 21081 term 29 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 29 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 29 leaderCommit: 155 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154} {7948295468482090180 29 155}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154} {7948295468482090180 29 155}]
------------------------------------------------------
flag 3370 term 29 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 29 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 29 leaderCommit: 155 
------------------------------------------------------
flag 23615 term 29 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 29 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 29 leaderCommit: 155 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=155
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154} {7948295468482090180 29 155}]
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=156
update matchIndex[0]=155
update leader CommitIndex=155
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154} {7948295468482090180 29 155}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3684826560548040935 (index 156) to leader 1
flag 76522 term 29 leader 1 nextIndex[0]: 156  matchIndex[0]: 155
term 29 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 29 leaderCommit: 155 
------------------------------------------------------
flag 40580 term 29 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 29 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 29 leaderCommit: 155 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154} {7948295468482090180 29 155} {3684826560548040935 29 156}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35112 term 29 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 29 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 29 leaderCommit: 156 
------------------------------------------------------
flag 74773 term 29 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 29 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 29 leaderCommit: 156 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154} {7948295468482090180 29 155} {3684826560548040935 29 156}]
------------------------------------------------------
client write log 4822842482083424966 (index 157) to leader 1
client write log 4360986132059003932 (index 158) to leader 1
client write log 7077972618233797437 (index 159) to leader 1
client write log 827560718701342315 (index 160) to leader 1
client write log 7575202424191527914 (index 161) to leader 1
client write log 6687339765051508963 (index 162) to leader 1
client write log 5639473690301769830 (index 163) to leader 1
client write log 2611686276101516678 (index 164) to leader 1
client write log 8708806191296561379 (index 165) to leader 1
client write log 217139456613269721 (index 166) to leader 1
flag 20022 term 29 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 29 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 29 leaderCommit: 156 
------------------------------------------------------
flag 74402 term 29 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 29 leader 1 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 29 leaderCommit: 156 
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=166
leader log:
[{snapshot 27 149} {2980151963855559257 27 150} {3941365622697590887 27 151} {6391942860507722912 27 152} {4384089729186595268 27 153} {7948295468482090180 27 154} {7948295468482090180 29 155} {3684826560548040935 29 156} {4822842482083424966 29 157} {4360986132059003932 29 158} {7077972618233797437 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166}]
------------------------------------------------------
term 29 Server1 start snapshot! index=159
term 29 server1 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=166
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53723 term 29 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 29 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=167
update matchIndex[0]=166
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166}]
------------------------------------------------------
term 29 Server0 start snapshot! index=159
term 29 server0 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=166
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1746576039135212433 (index 167) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6587 term 29 leader 1 nextIndex[0]: 167  matchIndex[0]: 166
term 29 leader 1 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
term 29 leader 1 nextIndex[2]: 156  matchIndex[2]: 155
term 29 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 29
------------------------------------------------------
term 30 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 29 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 29 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 2 vote for server 1
term 31 server 1 get vote from server 2
term 31 server 1 become leader
------------------------------------------------------
term 31 server 0 vote for server 1
term 31 server 1 get outdate rpc reply from server 0
flag 14665 term 31 leader 1 nextIndex[0]: 168  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
flag 61918 term 31 leader 1 nextIndex[2]: 168  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
term 31 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 168->167
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16360 term 31 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 156  matchIndex[2]: 0
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 29
------------------------------------------------------
term 31 server 2 InstallSnapshot success
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 29 rf.commitIndex 159 rf.lastApplied 159
term 31 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 1 not vote for server 0, 任期不够新
term 31 server 0 get outdate rpc reply from server 1
flag 65265 term 31 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
flag 69345 term 31 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 31 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
flag 4710 term 31 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
flag 65831 term 31 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38011 term 31 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
flag 69977 term 31 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
term 31 server 0 not vote for server 2, 任期不够新
term 31 server 2 get outdate rpc reply from server 0
flag 43038 term 31 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
flag 62621 term 31 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
flag 93980 term 31 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
flag 9460 term 31 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
flag 71218 term 31 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
flag 73741 term 31 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64502 term 31 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
flag 6349 term 31 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
flag 80203 term 31 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
flag 34648 term 31 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
flag 71327 term 31 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
flag 87139 term 31 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21405 term 31 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
flag 99600 term 31 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93503 term 31 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
flag 56432 term 31 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33828 term 31 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
flag 27586 term 31 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
flag 46148 term 31 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
flag 58259 term 31 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
flag 20756 term 31 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
flag 20069 term 31 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
term 31 server 2 not vote for server 1, 任期不够新
term 31 server 1 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34894 term 31 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
flag 86307 term 31 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 43104 term 31 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
flag 99215 term 31 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
flag 16072 term 31 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
flag 14400 term 31 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=168
update matchIndex[2]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=168
update matchIndex[0]=167
update leader CommitIndex=166
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167}]
------------------------------------------------------
client write log 1746576039135212433 (index 168) to leader 1
flag 20779 term 31 leader 1 nextIndex[0]: 168  matchIndex[0]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
flag 26359 term 31 leader 1 nextIndex[2]: 168  matchIndex[2]: 167
term 31 leader 1 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 29 leaderCommit: 166 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167} {1746576039135212433 31 168}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167} {1746576039135212433 31 168}]
------------------------------------------------------
flag 74215 term 31 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 31 leaderCommit: 168 
------------------------------------------------------
flag 15516 term 31 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 31 leaderCommit: 168 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167} {1746576039135212433 31 168}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167} {1746576039135212433 31 168}]
------------------------------------------------------
flag 13832 term 31 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 31 leaderCommit: 168 
------------------------------------------------------
flag 52603 term 31 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 31 leaderCommit: 168 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167} {1746576039135212433 31 168}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167} {1746576039135212433 31 168}]
------------------------------------------------------
flag 99487 term 31 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 31 leaderCommit: 168 
------------------------------------------------------
flag 48557 term 31 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 31 leaderCommit: 168 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167} {1746576039135212433 31 168}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167} {1746576039135212433 31 168}]
------------------------------------------------------
flag 46746 term 31 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 31 leaderCommit: 168 
------------------------------------------------------
flag 6278 term 31 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 31 leaderCommit: 168 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167} {1746576039135212433 31 168}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167} {1746576039135212433 31 168}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58466 term 31 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 31 leaderCommit: 168 
------------------------------------------------------
flag 35039 term 31 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 31 leaderCommit: 168 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167} {1746576039135212433 31 168}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167} {1746576039135212433 31 168}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
flag 68088 term 31 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 31 leaderCommit: 168 
------------------------------------------------------
flag 50097 term 31 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 31 leaderCommit: 168 
------------------------------------------------------
flag 37716 term 31 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 31 leaderCommit: 168 
------------------------------------------------------
flag 92652 term 31 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 31 leaderCommit: 168 
------------------------------------------------------
flag 3546 term 31 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 31 leaderCommit: 168 
------------------------------------------------------
flag 53029 term 31 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 31 leaderCommit: 168 
------------------------------------------------------
term 32 server 2 vote for server 0
term 32 server 0 get vote from server 2
term 32 server 0 become leader
------------------------------------------------------
flag 35035 term 32 leader 0 nextIndex[1]: 169  matchIndex[1]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 31 leaderCommit: 168 
------------------------------------------------------
flag 27827 term 32 leader 0 nextIndex[2]: 169  matchIndex[2]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 31 leaderCommit: 168 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=169
update matchIndex[2]=168
update leader CommitIndex=168
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167} {1746576039135212433 31 168}]
------------------------------------------------------
flag 57352 term 31 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 31 leaderCommit: 168 
------------------------------------------------------
flag 82237 term 31 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 31 leaderCommit: 168 
------------------------------------------------------
client write log 6329000558866198005 (index 169) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52633 term 32 leader 0 nextIndex[1]: 169  matchIndex[1]: 0
term 32 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 31 leaderCommit: 168 
------------------------------------------------------
flag 94429 term 32 leader 0 nextIndex[2]: 169  matchIndex[2]: 168
term 32 leader 0 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 31 leaderCommit: 168 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 29 159} {827560718701342315 29 160} {7575202424191527914 29 161} {6687339765051508963 29 162} {5639473690301769830 29 163} {2611686276101516678 29 164} {8708806191296561379 29 165} {217139456613269721 29 166} {1746576039135212433 29 167} {1746576039135212433 31 168} {6329000558866198005 32 169}]
------------------------------------------------------
term 32 Server0 start snapshot! index=169
term 32 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
flag 56888 term 31 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 31 leaderCommit: 168 
------------------------------------------------------
flag 15050 term 31 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 31 leaderCommit: 168 
------------------------------------------------------
term 32 leader 0 nextIndex[1]: 169  matchIndex[1]: 0
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 32
------------------------------------------------------
flag 9003 term 32 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=170
update matchIndex[2]=169
update leader CommitIndex=169
leader log:
[{snapshot 32 169}]
------------------------------------------------------
term 32 Server2 start snapshot! index=169
term 32 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
client write log 57815579599127292 (index 170) to leader 0
flag 2234 term 31 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 31 leaderCommit: 168 
------------------------------------------------------
flag 59547 term 31 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 31 leaderCommit: 168 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 169->168
------------------------------------------------------
term 32 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 32
------------------------------------------------------
flag 47221 term 32 leader 0 nextIndex[2]: 170  matchIndex[2]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 169 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
flag 82910 term 31 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 31 leaderCommit: 168 
------------------------------------------------------
flag 41472 term 31 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 31 leaderCommit: 168 
------------------------------------------------------
term 32 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 32
------------------------------------------------------
flag 33423 term 32 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
!!!!!!connect server 1
client write log 1909194643358773265 (index 169) to leader 1
flag 49781 term 31 leader 1 nextIndex[0]: 169  matchIndex[0]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 31 leaderCommit: 168 
------------------------------------------------------
flag 93366 term 31 leader 1 nextIndex[2]: 169  matchIndex[2]: 168
term 31 leader 1 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 31 leaderCommit: 168 
------------------------------------------------------
term 32 server 0 AppendEntries false 领导者任期过期 args.Term 31
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 32 server 2 AppendEntries false 领导者任期过期 args.Term 31
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 32
------------------------------------------------------
flag 23257 term 32 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
term 32 server 1 InstallSnapshot success
------------------------------------------------------
term 32 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 32 rf.commitIndex 169 rf.lastApplied 169
flag 64194 term 32 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 20467 term 32 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
flag 16673 term 32 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 97629 term 32 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61455 term 32 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 71137 term 32 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
term 32 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
flag 99221 term 32 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 11980 term 32 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35087 term 32 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 58495 term 32 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
flag 85681 term 32 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 30240 term 32 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
flag 9924 term 32 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 25438 term 32 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
flag 92218 term 32 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 53374 term 32 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
flag 75260 term 32 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 57714 term 32 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
flag 73325 term 32 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 45003 term 32 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43686 term 32 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 38440 term 32 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
flag 40830 term 32 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 63747 term 32 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39399 term 32 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 4370 term 32 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
flag 62622 term 32 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 46487 term 32 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
flag 21091 term 32 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 3030 term 32 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65229 term 32 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 96578 term 32 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
flag 70027 term 32 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 18015 term 32 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
flag 9107 term 32 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 48640 term 32 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
flag 90362 term 32 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 74191 term 32 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=171
update matchIndex[2]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 32 169} {57815579599127292 32 170}]
------------------------------------------------------
client write log 1909194643358773265 (index 171) to leader 0
flag 44630 term 32 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
flag 23933 term 32 leader 0 nextIndex[2]: 171  matchIndex[2]: 170
term 32 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 32 leaderCommit: 170 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=171
leader log:
[{snapshot 32 169} {57815579599127292 32 170} {1909194643358773265 32 171}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 32 169} {57815579599127292 32 170} {1909194643358773265 32 171}]
------------------------------------------------------
flag 42773 term 32 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 32 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 32 leaderCommit: 171 
------------------------------------------------------
flag 66727 term 32 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 32 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 32 leaderCommit: 171 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=171
leader log:
[{snapshot 32 169} {57815579599127292 32 170} {1909194643358773265 32 171}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 32 169} {57815579599127292 32 170} {1909194643358773265 32 171}]
------------------------------------------------------
flag 34140 term 32 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 32 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 32 leaderCommit: 171 
------------------------------------------------------
flag 29180 term 32 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 32 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 32 leaderCommit: 171 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=171
leader log:
[{snapshot 32 169} {57815579599127292 32 170} {1909194643358773265 32 171}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 32 169} {57815579599127292 32 170} {1909194643358773265 32 171}]
------------------------------------------------------
flag 61113 term 32 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 32 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 32 leaderCommit: 171 
------------------------------------------------------
flag 50132 term 32 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 32 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 32 leaderCommit: 171 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=171
leader log:
[{snapshot 32 169} {57815579599127292 32 170} {1909194643358773265 32 171}]
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 32 169} {57815579599127292 32 170} {1909194643358773265 32 171}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 server 1 not vote for server 2, 任期不够新
term 32 server 2 get outdate rpc reply from server 1
flag 33251 term 32 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 32 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 32 leaderCommit: 171 
------------------------------------------------------
flag 53277 term 32 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 32 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 32 leaderCommit: 171 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 32 169} {57815579599127292 32 170} {1909194643358773265 32 171}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=171
leader log:
[{snapshot 32 169} {57815579599127292 32 170} {1909194643358773265 32 171}]
------------------------------------------------------
flag 76687 term 32 leader 0 nextIndex[1]: 172  matchIndex[1]: 171
term 32 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 32 leaderCommit: 171 
------------------------------------------------------
flag 70512 term 32 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 32 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 32 leaderCommit: 171 
------------------------------------------------------
term 32 server 1 AppendEntries true commitIndex:171 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=172
update matchIndex[1]=171
update leader CommitIndex=171
leader log:
[{snapshot 32 169} {57815579599127292 32 170} {1909194643358773265 32 171}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=172
update matchIndex[2]=171
update leader CommitIndex=171
leader log:
[{snapshot 32 169} {57815579599127292 32 170} {1909194643358773265 32 171}]
------------------------------------------------------
term 32 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
!!!!!!diconnect server 1
client write log 8117854427459639524 (index 172) to leader 0
flag 24004 term 32 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 171 
------------------------------------------------------
flag 59725 term 32 leader 0 nextIndex[2]: 172  matchIndex[2]: 171
term 32 leader 0 sendAppendEntries PrevLogIndex: 171  PrevLogTerm: 32 leaderCommit: 171 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:171 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 32 169} {57815579599127292 32 170} {1909194643358773265 32 171} {8117854427459639524 32 172}]
------------------------------------------------------
flag 51495 term 32 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 172 
------------------------------------------------------
flag 6064 term 32 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 32 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 32 leaderCommit: 172 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=173
update matchIndex[2]=172
update leader CommitIndex=172
leader log:
[{snapshot 32 169} {57815579599127292 32 170} {1909194643358773265 32 171} {8117854427459639524 32 172}]
------------------------------------------------------
client write log 5475193442780149175 (index 173) to leader 0
client write log 5009764650384560446 (index 174) to leader 0
client write log 4719892708886653286 (index 175) to leader 0
client write log 3463063406130677648 (index 176) to leader 0
client write log 2491550829422696015 (index 177) to leader 0
client write log 757329075792352166 (index 178) to leader 0
client write log 5676642077426239630 (index 179) to leader 0
client write log 4128256636719050201 (index 180) to leader 0
client write log 4237580916562413072 (index 181) to leader 0
client write log 400517487734108870 (index 182) to leader 0
client write log 8024695459296641852 (index 183) to leader 0
client write log 4966728141009942588 (index 184) to leader 0
flag 52067 term 32 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 32 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 32 leaderCommit: 172 
------------------------------------------------------
flag 96731 term 32 leader 0 nextIndex[2]: 173  matchIndex[2]: 172
term 32 leader 0 sendAppendEntries PrevLogIndex: 172  PrevLogTerm: 32 leaderCommit: 172 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:172 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 169} {57815579599127292 32 170} {1909194643358773265 32 171} {8117854427459639524 32 172} {5475193442780149175 32 173} {5009764650384560446 32 174} {4719892708886653286 32 175} {3463063406130677648 32 176} {2491550829422696015 32 177} {757329075792352166 32 178} {5676642077426239630 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184}]
------------------------------------------------------
term 32 Server0 start snapshot! index=179
term 32 server0 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=184
-------------------------------------------------------------
term 32 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 32 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 32
------------------------------------------------------
flag 89357 term 32 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 32 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184}]
------------------------------------------------------
term 32 Server2 start snapshot! index=179
term 32 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=184
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3840996661325662962 (index 185) to leader 0
term 32 server 2 not vote for server 1, 日志不够新
term 32 server 0 not vote for server 1, 日志不够新
term 34 server 2 vote for server 0
term 34 server 1 vote for server 0
term 34 server 0 get vote from server 2
term 34 server 0 become leader
------------------------------------------------------
term 34 server 0 get outdate rpc reply from server 1
flag 5128 term 34 leader 0 nextIndex[1]: 186  matchIndex[1]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 79935 term 34 leader 0 nextIndex[2]: 186  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 34 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 34 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 186->185
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 186->185
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 leader 0 nextIndex[1]: 172  matchIndex[1]: 0
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 32
------------------------------------------------------
flag 99945 term 34 leader 0 nextIndex[2]: 185  matchIndex[2]: 0
term 34 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 34 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 32 rf.commitIndex 179 rf.lastApplied 179
term 34 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 180 matchIndex[1] 179 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28109 term 34 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 34 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 91888 term 34 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
term 34 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
flag 5629 term 34 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 27589 term 34 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
term 34 server 1 not vote for server 0, 任期不够新
term 34 server 0 get outdate rpc reply from server 1
flag 75007 term 34 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 91432 term 34 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
flag 38390 term 34 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 40461 term 34 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
flag 3631 term 34 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 56496 term 34 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
flag 61121 term 34 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 38529 term 34 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
flag 64405 term 34 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 11913 term 34 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
flag 76917 term 34 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 55241 term 34 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
flag 92915 term 34 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 92384 term 34 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93802 term 34 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 99299 term 34 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75541 term 34 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 35929 term 34 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61676 term 34 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 11961 term 34 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
term 34 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
flag 77103 term 34 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 44045 term 34 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
flag 7331 term 34 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 44237 term 34 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
flag 86254 term 34 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 64883 term 34 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50947 term 34 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 40680 term 34 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
flag 36350 term 34 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 39772 term 34 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
flag 68567 term 34 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 62989 term 34 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=184
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185}]
------------------------------------------------------
client write log 3840996661325662962 (index 186) to leader 0
flag 5718 term 34 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
flag 74936 term 34 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 34 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 32 leaderCommit: 184 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185} {3840996661325662962 34 186}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185} {3840996661325662962 34 186}]
------------------------------------------------------
flag 93225 term 34 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 34 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 34 leaderCommit: 186 
------------------------------------------------------
flag 41256 term 34 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 34 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 34 leaderCommit: 186 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185} {3840996661325662962 34 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185} {3840996661325662962 34 186}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78536 term 34 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 34 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 34 leaderCommit: 186 
------------------------------------------------------
flag 4559 term 34 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 34 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 34 leaderCommit: 186 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185} {3840996661325662962 34 186}]
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185} {3840996661325662962 34 186}]
------------------------------------------------------
flag 82651 term 34 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 34 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 34 leaderCommit: 186 
------------------------------------------------------
flag 8475 term 34 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 34 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 34 leaderCommit: 186 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185} {3840996661325662962 34 186}]
term 34 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185} {3840996661325662962 34 186}]
------------------------------------------------------
flag 3921 term 34 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 34 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 34 leaderCommit: 186 
------------------------------------------------------
flag 94565 term 34 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 34 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 34 leaderCommit: 186 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185} {3840996661325662962 34 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185} {3840996661325662962 34 186}]
------------------------------------------------------
flag 88842 term 34 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 34 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 34 leaderCommit: 186 
------------------------------------------------------
flag 52019 term 34 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 34 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 34 leaderCommit: 186 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
term 34 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185} {3840996661325662962 34 186}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=187
update matchIndex[1]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185} {3840996661325662962 34 186}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14061 term 34 leader 0 nextIndex[1]: 187  matchIndex[1]: 186
term 34 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 34 leaderCommit: 186 
------------------------------------------------------
flag 71797 term 34 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 34 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 34 leaderCommit: 186 
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4029386841797711002 (index 187) to leader 0
term 34 server 1 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 187->186
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185} {3840996661325662962 34 186} {4029386841797711002 34 187}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 leader 0 nextIndex[1]: 0  matchIndex[1]: 186
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 32
------------------------------------------------------
flag 86315 term 34 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 34 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 34 leaderCommit: 186 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185} {3840996661325662962 34 186} {4029386841797711002 34 187}]
------------------------------------------------------
term 34 leader 0 nextIndex[1]: 0  matchIndex[1]: 186
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 32
------------------------------------------------------
flag 98854 term 34 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 34 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 34 leaderCommit: 187 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=188
update matchIndex[2]=187
update leader CommitIndex=187
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185} {3840996661325662962 34 186} {4029386841797711002 34 187}]
------------------------------------------------------
client write log 4770614827075860598 (index 188) to leader 0
client write log 8134867542092364024 (index 189) to leader 0
client write log 3618796602179680361 (index 190) to leader 0
client write log 3803533942743143570 (index 191) to leader 0
client write log 3673467108092919030 (index 192) to leader 0
client write log 9187434868755584733 (index 193) to leader 0
client write log 557965563121927244 (index 194) to leader 0
client write log 6640230302846803639 (index 195) to leader 0
client write log 7139753474949964350 (index 196) to leader 0
client write log 2125493837663991865 (index 197) to leader 0
term 34 leader 0 nextIndex[1]: 0  matchIndex[1]: 186
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 32
------------------------------------------------------
flag 40455 term 34 leader 0 nextIndex[2]: 188  matchIndex[2]: 187
term 34 leader 0 sendAppendEntries PrevLogIndex: 187  PrevLogTerm: 34 leaderCommit: 187 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:187 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 32 179} {4128256636719050201 32 180} {4237580916562413072 32 181} {400517487734108870 32 182} {8024695459296641852 32 183} {4966728141009942588 32 184} {3840996661325662962 32 185} {3840996661325662962 34 186} {4029386841797711002 34 187} {4770614827075860598 34 188} {8134867542092364024 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197}]
------------------------------------------------------
term 34 Server0 start snapshot! index=189
term 34 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=197
-------------------------------------------------------------
term 34 leader 0 nextIndex[1]: 0  matchIndex[1]: 186
term 34 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 34
------------------------------------------------------
flag 35728 term 34 leader 0 nextIndex[2]: 198  matchIndex[2]: 197
term 34 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=198
update matchIndex[2]=197
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197}]
------------------------------------------------------
term 34 Server2 start snapshot! index=189
term 34 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=197
-------------------------------------------------------------
!!!!!!connect server 1
client write log 676391792374079626 (index 198) to leader 0
term 34 server 0 not vote for server 1, 日志不够新
term 34 server 2 not vote for server 1, 日志不够新
term 36 server 2 vote for server 0
term 36 server 1 vote for server 0
term 36 server 0 get vote from server 2
term 36 server 0 become leader
------------------------------------------------------
term 36 server 0 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22151 term 36 leader 0 nextIndex[1]: 199  matchIndex[1]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 88389 term 36 leader 0 nextIndex[2]: 199  matchIndex[2]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 36 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 199->198
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 199->198
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 187  matchIndex[1]: 0
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 34
------------------------------------------------------
flag 48833 term 36 leader 0 nextIndex[2]: 198  matchIndex[2]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 197  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
term 36 server 1 InstallSnapshot success
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 190 matchIndex[1] 189 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 34 rf.commitIndex 189 rf.lastApplied 189
flag 82671 term 36 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 36 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 89798 term 36 leader 0 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
flag 64590 term 36 leader 0 nextIndex[1]: 199  matchIndex[1]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 50591 term 36 leader 0 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52150 term 36 leader 0 nextIndex[1]: 199  matchIndex[1]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 68874 term 36 leader 0 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
flag 40357 term 36 leader 0 nextIndex[1]: 199  matchIndex[1]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 98772 term 36 leader 0 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
flag 60767 term 36 leader 0 nextIndex[1]: 199  matchIndex[1]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 84532 term 36 leader 0 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
flag 40026 term 36 leader 0 nextIndex[1]: 199  matchIndex[1]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 32992 term 36 leader 0 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
flag 69952 term 36 leader 0 nextIndex[1]: 199  matchIndex[1]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 41027 term 36 leader 0 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
flag 41243 term 36 leader 0 nextIndex[1]: 199  matchIndex[1]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 77721 term 36 leader 0 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
flag 56521 term 36 leader 0 nextIndex[1]: 199  matchIndex[1]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 14122 term 36 leader 0 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
flag 61240 term 36 leader 0 nextIndex[1]: 199  matchIndex[1]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 81090 term 36 leader 0 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
flag 55862 term 36 leader 0 nextIndex[1]: 199  matchIndex[1]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 57158 term 36 leader 0 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
flag 1320 term 36 leader 0 nextIndex[1]: 199  matchIndex[1]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 35895 term 36 leader 0 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
flag 40535 term 36 leader 0 nextIndex[1]: 199  matchIndex[1]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 64432 term 36 leader 0 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12004 term 36 leader 0 nextIndex[1]: 199  matchIndex[1]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 46224 term 36 leader 0 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
flag 24144 term 36 leader 0 nextIndex[1]: 199  matchIndex[1]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 58540 term 36 leader 0 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
flag 43788 term 36 leader 0 nextIndex[1]: 199  matchIndex[1]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 55987 term 36 leader 0 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
term 36 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
flag 35981 term 36 leader 0 nextIndex[1]: 199  matchIndex[1]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 52427 term 36 leader 0 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=199
update matchIndex[2]=198
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=199
update matchIndex[1]=198
update leader CommitIndex=197
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198}]
------------------------------------------------------
client write log 676391792374079626 (index 199) to leader 0
flag 33849 term 36 leader 0 nextIndex[1]: 199  matchIndex[1]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
flag 44129 term 36 leader 0 nextIndex[2]: 199  matchIndex[2]: 198
term 36 leader 0 sendAppendEntries PrevLogIndex: 198  PrevLogTerm: 34 leaderCommit: 197 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:197 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:197 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198} {676391792374079626 36 199}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 34 189} {3618796602179680361 34 190} {3803533942743143570 34 191} {3673467108092919030 34 192} {9187434868755584733 34 193} {557965563121927244 34 194} {6640230302846803639 34 195} {7139753474949964350 34 196} {2125493837663991865 34 197} {676391792374079626 34 198} {676391792374079626 36 199}]
------------------------------------------------------
term 36 Server0 start snapshot! index=199
term 36 server0 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
flag 64148 term 36 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 36 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
flag 53676 term 36 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 36 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 36 199}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 36 199}]
------------------------------------------------------
term 36 Server2 start snapshot! index=199
term 36 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
term 36 Server1 start snapshot! index=199
term 36 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=199
-------------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29164 term 36 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 36 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
flag 57735 term 36 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 36 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 36 199}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 36 199}]
------------------------------------------------------
flag 99554 term 36 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 36 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
flag 12893 term 36 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 36 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 36 199}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 36 199}]
------------------------------------------------------
flag 29466 term 36 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 36 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
flag 45577 term 36 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 36 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 36 199}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 36 199}]
------------------------------------------------------
flag 8637 term 36 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 36 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
flag 384 term 36 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 36 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 36 199}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 36 199}]
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65206 term 36 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 36 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
flag 14301 term 36 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 36 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=200
update matchIndex[2]=199
update leader CommitIndex=199
leader log:
[{snapshot 36 199}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 36 199}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 12818 term 36 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 36 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
flag 75569 term 36 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 36 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
flag 62899 term 36 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 36 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
flag 54232 term 36 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 36 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 200->199
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 0  matchIndex[1]: 199
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 36
------------------------------------------------------
flag 38404 term 36 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 36 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
term 37 server 1 vote for server 2
term 37 server 2 get vote from server 1
term 37 server 2 become leader
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 98266 term 37 leader 2 nextIndex[0]: 200  matchIndex[0]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
flag 97305 term 37 leader 2 nextIndex[1]: 200  matchIndex[1]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=200
update matchIndex[1]=199
update leader CommitIndex=199
leader log:
[{snapshot 36 199}]
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 0  matchIndex[1]: 199
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 36
------------------------------------------------------
flag 82129 term 36 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 36 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
client write log 504198627308138904 (index 200) to leader 2
flag 93907 term 37 leader 2 nextIndex[0]: 200  matchIndex[0]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
flag 99140 term 37 leader 2 nextIndex[1]: 200  matchIndex[1]: 199
term 37 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 36 199} {504198627308138904 37 200}]
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 0  matchIndex[1]: 199
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 36
------------------------------------------------------
flag 25481 term 36 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 36 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
flag 94599 term 37 leader 2 nextIndex[0]: 200  matchIndex[0]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 200 
------------------------------------------------------
flag 15560 term 37 leader 2 nextIndex[1]: 201  matchIndex[1]: 200
term 37 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 37 leaderCommit: 200 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=201
update matchIndex[1]=200
update leader CommitIndex=200
leader log:
[{snapshot 36 199} {504198627308138904 37 200}]
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 0  matchIndex[1]: 199
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 36
------------------------------------------------------
flag 78792 term 36 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 36 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
client write log 2606532869210862666 (index 201) to leader 2
flag 11382 term 37 leader 2 nextIndex[0]: 200  matchIndex[0]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 200 
------------------------------------------------------
flag 82187 term 37 leader 2 nextIndex[1]: 201  matchIndex[1]: 200
term 37 leader 2 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 37 leaderCommit: 200 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 36 199} {504198627308138904 37 200} {2606532869210862666 37 201}]
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 0  matchIndex[1]: 199
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 36
------------------------------------------------------
flag 64355 term 36 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 36 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 200->199
------------------------------------------------------
flag 39558 term 37 leader 2 nextIndex[0]: 200  matchIndex[0]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 201 
------------------------------------------------------
flag 42197 term 37 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 37 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 36 199} {504198627308138904 37 200} {2606532869210862666 37 201}]
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 0  matchIndex[1]: 199
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 36
------------------------------------------------------
term 36 leader 0 nextIndex[2]: 0  matchIndex[2]: 199
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 36
------------------------------------------------------
!!!!!!connect server 0
client write log 235808709580891093 (index 202) to leader 2
flag 25398 term 37 leader 2 nextIndex[0]: 200  matchIndex[0]: 0
term 37 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 36 leaderCommit: 201 
------------------------------------------------------
flag 65183 term 37 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 37 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 37 leaderCommit: 201 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 36 199} {504198627308138904 37 200} {2606532869210862666 37 201} {235808709580891093 37 202}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 36 199} {504198627308138904 37 200} {2606532869210862666 37 201} {235808709580891093 37 202}]
------------------------------------------------------
flag 35433 term 37 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 37 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 37 leaderCommit: 202 
------------------------------------------------------
flag 43889 term 37 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 37 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 37 leaderCommit: 202 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
term 37 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
update leader CommitIndex=202
leader log:
[{snapshot 36 199} {504198627308138904 37 200} {2606532869210862666 37 201} {235808709580891093 37 202}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 36 199} {504198627308138904 37 200} {2606532869210862666 37 201} {235808709580891093 37 202}]
------------------------------------------------------
flag 57753 term 37 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 37 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 37 leaderCommit: 202 
------------------------------------------------------
flag 36879 term 37 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 37 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 37 leaderCommit: 202 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 36 199} {504198627308138904 37 200} {2606532869210862666 37 201} {235808709580891093 37 202}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 36 199} {504198627308138904 37 200} {2606532869210862666 37 201} {235808709580891093 37 202}]
------------------------------------------------------
flag 8402 term 37 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 37 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 37 leaderCommit: 202 
------------------------------------------------------
flag 84521 term 37 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 37 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 37 leaderCommit: 202 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 36 199} {504198627308138904 37 200} {2606532869210862666 37 201} {235808709580891093 37 202}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 36 199} {504198627308138904 37 200} {2606532869210862666 37 201} {235808709580891093 37 202}]
------------------------------------------------------
flag 85413 term 37 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 37 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 37 leaderCommit: 202 
------------------------------------------------------
flag 92508 term 37 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 37 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 37 leaderCommit: 202 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 36 199} {504198627308138904 37 200} {2606532869210862666 37 201} {235808709580891093 37 202}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 36 199} {504198627308138904 37 200} {2606532869210862666 37 201} {235808709580891093 37 202}]
------------------------------------------------------
flag 77171 term 37 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 37 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 37 leaderCommit: 202 
------------------------------------------------------
flag 7585 term 37 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 37 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 37 leaderCommit: 202 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 36 199} {504198627308138904 37 200} {2606532869210862666 37 201} {235808709580891093 37 202}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 36 199} {504198627308138904 37 200} {2606532869210862666 37 201} {235808709580891093 37 202}]
------------------------------------------------------
flag 95469 term 37 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 37 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 37 leaderCommit: 202 
------------------------------------------------------
flag 86959 term 37 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 37 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 37 leaderCommit: 202 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 36 199} {504198627308138904 37 200} {2606532869210862666 37 201} {235808709580891093 37 202}]
------------------------------------------------------
term 37 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 36 199} {504198627308138904 37 200} {2606532869210862666 37 201} {235808709580891093 37 202}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6173001180508523090 (index 203) to leader 2
flag 33006 term 37 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 37 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 37 leaderCommit: 202 
------------------------------------------------------
flag 60638 term 37 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 37 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 37 leaderCommit: 202 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 36 199} {504198627308138904 37 200} {2606532869210862666 37 201} {235808709580891093 37 202} {6173001180508523090 37 203}]
------------------------------------------------------
flag 46476 term 37 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 37 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 37 leaderCommit: 203 
------------------------------------------------------
flag 224 term 37 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 37 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 37 leaderCommit: 203 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 36 199} {504198627308138904 37 200} {2606532869210862666 37 201} {235808709580891093 37 202} {6173001180508523090 37 203}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 203->202
------------------------------------------------------
client write log 3258083373860771696 (index 204) to leader 2
client write log 8004435564430187177 (index 205) to leader 2
client write log 7917655407609502921 (index 206) to leader 2
client write log 3388088631764584769 (index 207) to leader 2
client write log 6684163591490652281 (index 208) to leader 2
client write log 6530298084857910036 (index 209) to leader 2
client write log 4381097705601894336 (index 210) to leader 2
client write log 3198908063901906447 (index 211) to leader 2
client write log 1005825658432243996 (index 212) to leader 2
client write log 7629740380293260801 (index 213) to leader 2
client write log 4087255923395729759 (index 214) to leader 2
client write log 3399161199658777775 (index 215) to leader 2
client write log 5995930346764221413 (index 216) to leader 2
client write log 8480927054383610252 (index 217) to leader 2
term 37 leader 2 nextIndex[0]: 0  matchIndex[0]: 202
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 36
------------------------------------------------------
flag 49659 term 37 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 37 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 37 leaderCommit: 203 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 36 199} {504198627308138904 37 200} {2606532869210862666 37 201} {235808709580891093 37 202} {6173001180508523090 37 203} {3258083373860771696 37 204} {8004435564430187177 37 205} {7917655407609502921 37 206} {3388088631764584769 37 207} {6684163591490652281 37 208} {6530298084857910036 37 209} {4381097705601894336 37 210} {3198908063901906447 37 211} {1005825658432243996 37 212} {7629740380293260801 37 213} {4087255923395729759 37 214} {3399161199658777775 37 215} {5995930346764221413 37 216} {8480927054383610252 37 217}]
------------------------------------------------------
term 37 Server2 start snapshot! index=209
term 37 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=217
-------------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 37 leader 2 nextIndex[0]: 0  matchIndex[0]: 202
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 37
------------------------------------------------------
flag 24468 term 37 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 37 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 217 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=217
leader log:
[{snapshot 37 209} {4381097705601894336 37 210} {3198908063901906447 37 211} {1005825658432243996 37 212} {7629740380293260801 37 213} {4087255923395729759 37 214} {3399161199658777775 37 215} {5995930346764221413 37 216} {8480927054383610252 37 217}]
------------------------------------------------------
term 37 Server1 start snapshot! index=209
term 37 server1 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=217
-------------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!connect server 0
client write log 8554097364626288569 (index 218) to leader 2
term 37 leader 2 nextIndex[0]: 0  matchIndex[0]: 202
term 37 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 37
------------------------------------------------------
flag 21505 term 37 leader 2 nextIndex[1]: 218  matchIndex[1]: 217
term 37 leader 2 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 37 leaderCommit: 217 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {4381097705601894336 37 210} {3198908063901906447 37 211} {1005825658432243996 37 212} {7629740380293260801 37 213} {4087255923395729759 37 214} {3399161199658777775 37 215} {5995930346764221413 37 216} {8480927054383610252 37 217} {8554097364626288569 37 218}]
------------------------------------------------------
term 38 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 37 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 39 server 1 vote for server 2
term 39 server 2 get vote from server 1
term 39 server 2 become leader
------------------------------------------------------
term 39 server 0 vote for server 2
term 39 server 2 get outdate rpc reply from server 0
flag 54021 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 29353 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 0
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {4381097705601894336 37 210} {3198908063901906447 37 211} {1005825658432243996 37 212} {7629740380293260801 37 213} {4087255923395729759 37 214} {3399161199658777775 37 215} {5995930346764221413 37 216} {8480927054383610252 37 217} {8554097364626288569 37 218}]
------------------------------------------------------
term 39 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 219->218
------------------------------------------------------
term 39 leader 2 nextIndex[0]: 203  matchIndex[0]: 0
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 37
------------------------------------------------------
flag 84444 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {4381097705601894336 37 210} {3198908063901906447 37 211} {1005825658432243996 37 212} {7629740380293260801 37 213} {4087255923395729759 37 214} {3399161199658777775 37 215} {5995930346764221413 37 216} {8480927054383610252 37 217} {8554097364626288569 37 218}]
------------------------------------------------------
term 39 server 0 InstallSnapshot success
------------------------------------------------------
term 39 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 210 matchIndex[0] 209 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 37 rf.commitIndex 209 rf.lastApplied 209
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29495 term 39 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 39 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 47827 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {4381097705601894336 37 210} {3198908063901906447 37 211} {1005825658432243996 37 212} {7629740380293260801 37 213} {4087255923395729759 37 214} {3399161199658777775 37 215} {5995930346764221413 37 216} {8480927054383610252 37 217} {8554097364626288569 37 218}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {4381097705601894336 37 210} {3198908063901906447 37 211} {1005825658432243996 37 212} {7629740380293260801 37 213} {4087255923395729759 37 214} {3399161199658777775 37 215} {5995930346764221413 37 216} {8480927054383610252 37 217} {8554097364626288569 37 218}]
------------------------------------------------------
flag 55844 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 54387 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {4381097705601894336 37 210} {3198908063901906447 37 211} {1005825658432243996 37 212} {7629740380293260801 37 213} {4087255923395729759 37 214} {3399161199658777775 37 215} {5995930346764221413 37 216} {8480927054383610252 37 217} {8554097364626288569 37 218}]
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {4381097705601894336 37 210} {3198908063901906447 37 211} {1005825658432243996 37 212} {7629740380293260801 37 213} {4087255923395729759 37 214} {3399161199658777775 37 215} {5995930346764221413 37 216} {8480927054383610252 37 217} {8554097364626288569 37 218}]
------------------------------------------------------
term 39 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58608 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 12325 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {4381097705601894336 37 210} {3198908063901906447 37 211} {1005825658432243996 37 212} {7629740380293260801 37 213} {4087255923395729759 37 214} {3399161199658777775 37 215} {5995930346764221413 37 216} {8480927054383610252 37 217} {8554097364626288569 37 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {4381097705601894336 37 210} {3198908063901906447 37 211} {1005825658432243996 37 212} {7629740380293260801 37 213} {4087255923395729759 37 214} {3399161199658777775 37 215} {5995930346764221413 37 216} {8480927054383610252 37 217} {8554097364626288569 37 218}]
------------------------------------------------------
flag 69975 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 1394 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {4381097705601894336 37 210} {3198908063901906447 37 211} {1005825658432243996 37 212} {7629740380293260801 37 213} {4087255923395729759 37 214} {3399161199658777775 37 215} {5995930346764221413 37 216} {8480927054383610252 37 217} {8554097364626288569 37 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {4381097705601894336 37 210} {3198908063901906447 37 211} {1005825658432243996 37 212} {7629740380293260801 37 213} {4087255923395729759 37 214} {3399161199658777775 37 215} {5995930346764221413 37 216} {8480927054383610252 37 217} {8554097364626288569 37 218}]
------------------------------------------------------
flag 27424 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 47525 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {4381097705601894336 37 210} {3198908063901906447 37 211} {1005825658432243996 37 212} {7629740380293260801 37 213} {4087255923395729759 37 214} {3399161199658777775 37 215} {5995930346764221413 37 216} {8480927054383610252 37 217} {8554097364626288569 37 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {4381097705601894336 37 210} {3198908063901906447 37 211} {1005825658432243996 37 212} {7629740380293260801 37 213} {4087255923395729759 37 214} {3399161199658777775 37 215} {5995930346764221413 37 216} {8480927054383610252 37 217} {8554097364626288569 37 218}]
------------------------------------------------------
flag 43183 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 51388 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
term 39 server 0 AppendEntries true commitIndex:218 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {4381097705601894336 37 210} {3198908063901906447 37 211} {1005825658432243996 37 212} {7629740380293260801 37 213} {4087255923395729759 37 214} {3399161199658777775 37 215} {5995930346764221413 37 216} {8480927054383610252 37 217} {8554097364626288569 37 218}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=219
update matchIndex[0]=218
update leader CommitIndex=218
leader log:
[{snapshot 37 209} {4381097705601894336 37 210} {3198908063901906447 37 211} {1005825658432243996 37 212} {7629740380293260801 37 213} {4087255923395729759 37 214} {3399161199658777775 37 215} {5995930346764221413 37 216} {8480927054383610252 37 217} {8554097364626288569 37 218}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8694504746205274264 (index 219) to leader 2
flag 78451 term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
flag 47182 term 39 leader 2 nextIndex[1]: 219  matchIndex[1]: 218
term 39 leader 2 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 37 leaderCommit: 218 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 37 209} {4381097705601894336 37 210} {3198908063901906447 37 211} {1005825658432243996 37 212} {7629740380293260801 37 213} {4087255923395729759 37 214} {3399161199658777775 37 215} {5995930346764221413 37 216} {8480927054383610252 37 217} {8554097364626288569 37 218} {8694504746205274264 39 219}]
------------------------------------------------------
term 39 Server2 start snapshot! index=219
term 39 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 39
------------------------------------------------------
flag 29720 term 39 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 39 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 39 leaderCommit: 219 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 39 219}]
------------------------------------------------------
term 39 Server1 start snapshot! index=219
term 39 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
client write log 622876882049912738 (index 220) to leader 2
client write log 7120590233763206262 (index 221) to leader 2
client write log 3893381154646330741 (index 222) to leader 2
client write log 6326093329678052469 (index 223) to leader 2
client write log 8137967530399877386 (index 224) to leader 2
client write log 629632120981527126 (index 225) to leader 2
client write log 3233170889661593116 (index 226) to leader 2
client write log 6408270508962764003 (index 227) to leader 2
client write log 6696054206622100566 (index 228) to leader 2
client write log 7823175907243545577 (index 229) to leader 2
client write log 6554946524150536441 (index 230) to leader 2
client write log 4630019578003002428 (index 231) to leader 2
term 39 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 39
------------------------------------------------------
flag 95645 term 39 leader 2 nextIndex[1]: 220  matchIndex[1]: 219
term 39 leader 2 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 39 leaderCommit: 219 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 39 219} {622876882049912738 39 220} {7120590233763206262 39 221} {3893381154646330741 39 222} {6326093329678052469 39 223} {8137967530399877386 39 224} {629632120981527126 39 225} {3233170889661593116 39 226} {6408270508962764003 39 227} {6696054206622100566 39 228} {7823175907243545577 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231}]
------------------------------------------------------
term 39 Server2 start snapshot! index=229
term 39 server2 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=231
-------------------------------------------------------------
term 39 leader 2 nextIndex[0]: 219  matchIndex[0]: 218
term 39 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 39
------------------------------------------------------
flag 78550 term 39 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 39 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231}]
------------------------------------------------------
term 39 Server1 start snapshot! index=229
term 39 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=231
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6132394430100408640 (index 232) to leader 2
term 39 server 2 not vote for server 0, 日志不够新
term 39 server 1 not vote for server 0, 日志不够新
term 41 server 1 vote for server 2
term 41 server 0 vote for server 2
term 41 server 2 get vote from server 1
term 41 server 2 become leader
------------------------------------------------------
term 41 server 2 get outdate rpc reply from server 0
flag 99583 term 41 leader 2 nextIndex[0]: 233  matchIndex[0]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
flag 78542 term 41 leader 2 nextIndex[1]: 233  matchIndex[1]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
term 41 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 233->232
------------------------------------------------------
term 41 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 233->232
------------------------------------------------------
term 41 leader 2 nextIndex[0]: 219  matchIndex[0]: 0
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 39
------------------------------------------------------
flag 39920 term 41 leader 2 nextIndex[1]: 232  matchIndex[1]: 0
term 41 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
term 41 server 0 InstallSnapshot success
------------------------------------------------------
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 230 matchIndex[0] 229 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 39 rf.commitIndex 229 rf.lastApplied 229
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89425 term 41 leader 2 nextIndex[0]: 230  matchIndex[0]: 229
term 41 leader 2 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
flag 47850 term 41 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
flag 50396 term 41 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
flag 4948 term 41 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68605 term 41 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
flag 40684 term 41 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
flag 98294 term 41 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
flag 79826 term 41 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
term 41 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5741 term 41 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
flag 3084 term 41 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84162 term 41 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
flag 42792 term 41 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
term 41 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
flag 83919 term 41 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
flag 81270 term 41 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
term 41 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
flag 7211 term 41 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
flag 5371 term 41 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55964 term 41 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
flag 4691 term 41 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
flag 45195 term 41 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
flag 76813 term 41 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
flag 16818 term 41 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
flag 13789 term 41 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
flag 28166 term 41 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
flag 33071 term 41 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
flag 82664 term 41 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
flag 15587 term 41 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6107 term 41 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
flag 919 term 41 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
flag 74387 term 41 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
flag 89511 term 41 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
flag 12415 term 41 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
flag 21333 term 41 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
flag 97639 term 41 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
flag 27426 term 41 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
flag 3295 term 41 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
flag 58052 term 41 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=231
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232}]
------------------------------------------------------
client write log 6132394430100408640 (index 233) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39415 term 41 leader 2 nextIndex[0]: 233  matchIndex[0]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
flag 74366 term 41 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 41 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 39 leaderCommit: 231 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232} {6132394430100408640 41 233}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232} {6132394430100408640 41 233}]
------------------------------------------------------
flag 27681 term 41 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 41 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 18532 term 41 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 41 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232} {6132394430100408640 41 233}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232} {6132394430100408640 41 233}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11581 term 41 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 41 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 74861 term 41 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 41 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
term 41 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232} {6132394430100408640 41 233}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232} {6132394430100408640 41 233}]
------------------------------------------------------
term 41 server 0 not vote for server 2, 任期不够新
term 41 server 2 get outdate rpc reply from server 0
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60332 term 41 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 41 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 15511 term 41 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 41 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232} {6132394430100408640 41 233}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232} {6132394430100408640 41 233}]
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35709 term 41 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 41 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 16687 term 41 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 41 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232} {6132394430100408640 41 233}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232} {6132394430100408640 41 233}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63711 term 41 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 41 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 62428 term 41 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 41 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232} {6132394430100408640 41 233}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232} {6132394430100408640 41 233}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 84600 term 41 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 41 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 74498 term 41 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 41 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95309 term 41 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 41 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 88470 term 41 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 41 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65568 term 41 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 41 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 83743 term 41 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 41 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
term 42 server 1 vote for server 0
term 42 server 0 get vote from server 1
term 42 server 0 become leader
------------------------------------------------------
flag 37907 term 42 leader 0 nextIndex[1]: 234  matchIndex[1]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 96461 term 42 leader 0 nextIndex[2]: 234  matchIndex[2]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232} {6132394430100408640 41 233}]
------------------------------------------------------
flag 7164 term 41 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 41 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 14762 term 41 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 41 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
client write log 3203553916403490426 (index 234) to leader 0
flag 4789 term 42 leader 0 nextIndex[1]: 234  matchIndex[1]: 233
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 72496 term 42 leader 0 nextIndex[2]: 234  matchIndex[2]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232} {6132394430100408640 41 233} {3203553916403490426 42 234}]
------------------------------------------------------
flag 55768 term 41 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 41 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 97607 term 41 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 41 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 23793 term 42 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 42 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 42 leaderCommit: 234 
------------------------------------------------------
flag 18885 term 42 leader 0 nextIndex[2]: 234  matchIndex[2]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 234 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232} {6132394430100408640 41 233} {3203553916403490426 42 234}]
------------------------------------------------------
client write log 2062528943795149417 (index 235) to leader 0
client write log 432191815456678364 (index 236) to leader 0
client write log 5071933215570998005 (index 237) to leader 0
client write log 3315895323106789600 (index 238) to leader 0
client write log 2356938651640314963 (index 239) to leader 0
client write log 7492976429676897795 (index 240) to leader 0
client write log 2842852943653676628 (index 241) to leader 0
client write log 637657926274117238 (index 242) to leader 0
client write log 5762805104275727058 (index 243) to leader 0
client write log 5338669971944989022 (index 244) to leader 0
client write log 5322211955281824923 (index 245) to leader 0
client write log 1419774107843002153 (index 246) to leader 0
client write log 5863333048051666610 (index 247) to leader 0
client write log 2949238773509371679 (index 248) to leader 0
flag 26746 term 41 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 41 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 17785 term 41 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 41 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86501 term 42 leader 0 nextIndex[1]: 235  matchIndex[1]: 234
term 42 leader 0 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 42 leaderCommit: 234 
------------------------------------------------------
flag 40457 term 42 leader 0 nextIndex[2]: 234  matchIndex[2]: 0
term 42 leader 0 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 234 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 39 229} {6554946524150536441 39 230} {4630019578003002428 39 231} {6132394430100408640 39 232} {6132394430100408640 41 233} {3203553916403490426 42 234} {2062528943795149417 42 235} {432191815456678364 42 236} {5071933215570998005 42 237} {3315895323106789600 42 238} {2356938651640314963 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
flag 16199 term 41 leader 2 nextIndex[0]: 234  matchIndex[0]: 233
term 41 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
flag 45591 term 41 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 41 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
term 42 Server0 start snapshot! index=239
term 42 server0 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=248
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 234->233
------------------------------------------------------
flag 70875 term 42 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
term 42 leader 0 nextIndex[2]: 234  matchIndex[2]: 0
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 42
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
term 42 Server1 start snapshot! index=239
term 42 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=248
-------------------------------------------------------------
term 41 leader 2 nextIndex[0]: 0  matchIndex[0]: 233
term 41 leader 2 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 39
------------------------------------------------------
flag 21859 term 41 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 41 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 41 leaderCommit: 233 
------------------------------------------------------
!!!!!!connect server 2
client write log 1257504078934333547 (index 234) to leader 2
flag 82322 term 42 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
term 42 leader 0 nextIndex[2]: 234  matchIndex[2]: 0
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 42
------------------------------------------------------
term 42 server 2 InstallSnapshot success
------------------------------------------------------
term 42 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 42 rf.commitIndex 239 rf.lastApplied 239
term 42 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42764 term 42 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
flag 1884 term 42 leader 0 nextIndex[2]: 240  matchIndex[2]: 239
term 42 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59385 term 42 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
flag 26110 term 42 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
term 42 server 1 not vote for server 0, 任期不够新
term 42 server 0 get outdate rpc reply from server 1
flag 22206 term 42 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
flag 92 term 42 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
term 42 server 2 not vote for server 0, 日志不够新
term 42 server 0 get outdate rpc reply from server 2
flag 27829 term 42 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
flag 62043 term 42 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 99425 term 42 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
flag 91064 term 42 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
flag 87266 term 42 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
flag 14801 term 42 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57236 term 42 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
flag 85590 term 42 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
flag 78267 term 42 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
flag 2263 term 42 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
flag 71648 term 42 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
flag 42520 term 42 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
flag 81140 term 42 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
flag 65585 term 42 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
term 42 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 55714 term 42 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
flag 57982 term 42 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
flag 71280 term 42 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
flag 29929 term 42 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
flag 90231 term 42 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
flag 20285 term 42 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
flag 89281 term 42 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
flag 63431 term 42 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34262 term 42 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
flag 51108 term 42 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
flag 14348 term 42 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
flag 29438 term 42 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
flag 4495 term 42 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
flag 14435 term 42 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
flag 21998 term 42 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
flag 71184 term 42 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
term 42 server 2 not vote for server 0, 任期不够新
term 42 server 0 get outdate rpc reply from server 2
flag 1144 term 42 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
flag 57285 term 42 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=249
update matchIndex[1]=248
update leader CommitIndex=248
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248}]
------------------------------------------------------
client write log 1257504078934333547 (index 249) to leader 0
flag 80435 term 42 leader 0 nextIndex[1]: 249  matchIndex[1]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
flag 30452 term 42 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 42 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 42 leaderCommit: 248 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248} {1257504078934333547 42 249}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 42 239} {7492976429676897795 42 240} {2842852943653676628 42 241} {637657926274117238 42 242} {5762805104275727058 42 243} {5338669971944989022 42 244} {5322211955281824923 42 245} {1419774107843002153 42 246} {5863333048051666610 42 247} {2949238773509371679 42 248} {1257504078934333547 42 249}]
------------------------------------------------------
term 42 Server0 start snapshot! index=249
term 42 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
flag 86980 term 42 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 42 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 42 leaderCommit: 249 
------------------------------------------------------
flag 51325 term 42 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 42 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 42 leaderCommit: 249 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 42 249}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 42 249}]
------------------------------------------------------
term 42 Server2 start snapshot! index=249
term 42 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
term 42 Server1 start snapshot! index=249
term 42 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 250->249
------------------------------------------------------
term 42 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
flag 37555 term 42 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 42 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 42 leaderCommit: 249 
------------------------------------------------------
flag 74182 term 42 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 42 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 42 leaderCommit: 249 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 42 249}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 42 249}]
------------------------------------------------------
flag 22296 term 42 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 42 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 42 leaderCommit: 249 
------------------------------------------------------
flag 10554 term 42 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 42 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 42 leaderCommit: 249 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 42 249}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 42 249}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30735 term 42 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 42 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 42 leaderCommit: 249 
------------------------------------------------------
flag 566 term 42 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 42 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 42 leaderCommit: 249 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 42 249}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 42 249}]
------------------------------------------------------
flag 86977 term 42 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 42 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 42 leaderCommit: 249 
------------------------------------------------------
flag 83737 term 42 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 42 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 42 leaderCommit: 249 
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 42 249}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 42 249}]
------------------------------------------------------
flag 52833 term 42 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 42 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 42 leaderCommit: 249 
------------------------------------------------------
flag 44848 term 42 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 42 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 42 leaderCommit: 249 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 42 249}]
------------------------------------------------------
term 42 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=250
update matchIndex[1]=249
update leader CommitIndex=249
leader log:
[{snapshot 42 249}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 617740239468741560 (index 250) to leader 0
flag 87148 term 42 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 42 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 42 leaderCommit: 249 
------------------------------------------------------
flag 53063 term 42 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 42 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 42 leaderCommit: 249 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {617740239468741560 42 250}]
------------------------------------------------------
flag 29404 term 42 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 42 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
flag 70112 term 42 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 42 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 42 249} {617740239468741560 42 250}]
------------------------------------------------------
client write log 4672757311637059287 (index 251) to leader 0
client write log 7535720133101970608 (index 252) to leader 0
client write log 5791919076392468585 (index 253) to leader 0
client write log 6263658116800115262 (index 254) to leader 0
client write log 3244583513679942862 (index 255) to leader 0
client write log 8208174558778051596 (index 256) to leader 0
client write log 8681211357441114670 (index 257) to leader 0
client write log 4124300624438488992 (index 258) to leader 0
client write log 2589711782271114740 (index 259) to leader 0
client write log 647679353163351005 (index 260) to leader 0
client write log 5214062057073945171 (index 261) to leader 0
client write log 6060708326018984694 (index 262) to leader 0
client write log 1152853611286144686 (index 263) to leader 0
flag 26827 term 42 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 42 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
flag 72637 term 42 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 42 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 42 leaderCommit: 250 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 42 249} {617740239468741560 42 250} {4672757311637059287 42 251} {7535720133101970608 42 252} {5791919076392468585 42 253} {6263658116800115262 42 254} {3244583513679942862 42 255} {8208174558778051596 42 256} {8681211357441114670 42 257} {4124300624438488992 42 258} {2589711782271114740 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263}]
------------------------------------------------------
term 42 Server0 start snapshot! index=259
term 42 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=263
-------------------------------------------------------------
term 42 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 42 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 42
------------------------------------------------------
flag 14347 term 42 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 42 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263}]
------------------------------------------------------
term 42 Server2 start snapshot! index=259
term 42 server2 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=263
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6097471079601742564 (index 264) to leader 0
term 42 server 2 not vote for server 1, 日志不够新
term 42 server 0 not vote for server 1, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 server 2 vote for server 0
term 44 server 0 get vote from server 2
term 44 server 0 become leader
------------------------------------------------------
term 44 server 1 vote for server 0
term 44 server 0 get outdate rpc reply from server 1
flag 98270 term 44 leader 0 nextIndex[1]: 265  matchIndex[1]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
flag 36289 term 44 leader 0 nextIndex[2]: 265  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
term 44 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 44 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 265->264
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 265->264
------------------------------------------------------
term 44 leader 0 nextIndex[1]: 250  matchIndex[1]: 0
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 42
------------------------------------------------------
flag 53835 term 44 leader 0 nextIndex[2]: 264  matchIndex[2]: 0
term 44 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
term 44 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 42 rf.commitIndex 259 rf.lastApplied 259
term 44 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
flag 76568 term 44 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 44 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
flag 62830 term 44 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44713 term 44 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
flag 96900 term 44 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:263 
term 44 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
flag 7090 term 44 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
flag 13640 term 44 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
flag 20050 term 44 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
flag 98960 term 44 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
flag 48864 term 44 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
flag 68112 term 44 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
flag 36927 term 44 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
flag 10093 term 44 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8855 term 44 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
flag 27688 term 44 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
flag 22207 term 44 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
flag 25988 term 44 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
flag 48431 term 44 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
flag 39797 term 44 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54680 term 44 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
flag 19144 term 44 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
flag 1511 term 44 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
flag 78275 term 44 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
flag 54248 term 44 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
flag 706 term 44 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14791 term 44 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
flag 14981 term 44 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
flag 38283 term 44 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
flag 9498 term 44 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
flag 30486 term 44 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
flag 99585 term 44 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
flag 40898 term 44 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
flag 65692 term 44 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27872 term 44 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
flag 40198 term 44 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
flag 33740 term 44 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
flag 66296 term 44 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=265
update matchIndex[2]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=265
update matchIndex[1]=264
update leader CommitIndex=263
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 6097471079601742564 (index 265) to leader 0
flag 27477 term 44 leader 0 nextIndex[1]: 265  matchIndex[1]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
flag 71402 term 44 leader 0 nextIndex[2]: 265  matchIndex[2]: 264
term 44 leader 0 sendAppendEntries PrevLogIndex: 264  PrevLogTerm: 42 leaderCommit: 263 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264} {6097471079601742564 44 265}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264} {6097471079601742564 44 265}]
------------------------------------------------------
flag 69624 term 44 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 44 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
flag 53361 term 44 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 44 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264} {6097471079601742564 44 265}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264} {6097471079601742564 44 265}]
------------------------------------------------------
flag 59156 term 44 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 44 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
flag 9966 term 44 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 44 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264} {6097471079601742564 44 265}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264} {6097471079601742564 44 265}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43709 term 44 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 44 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
flag 19072 term 44 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 44 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264} {6097471079601742564 44 265}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264} {6097471079601742564 44 265}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63835 term 44 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 44 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
flag 2348 term 44 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 44 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264} {6097471079601742564 44 265}]
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264} {6097471079601742564 44 265}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14293 term 44 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 44 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
flag 17611 term 44 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 44 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264} {6097471079601742564 44 265}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264} {6097471079601742564 44 265}]
------------------------------------------------------
flag 66179 term 44 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 44 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
flag 20538 term 44 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 44 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=266
update matchIndex[2]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264} {6097471079601742564 44 265}]
------------------------------------------------------
term 44 server 1 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=266
update matchIndex[1]=265
update leader CommitIndex=265
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264} {6097471079601742564 44 265}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1421757833046607868 (index 266) to leader 0
flag 57526 term 44 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 44 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
flag 61317 term 44 leader 0 nextIndex[2]: 266  matchIndex[2]: 265
term 44 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 44 leaderCommit: 265 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:265 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264} {6097471079601742564 44 265} {1421757833046607868 44 266}]
------------------------------------------------------
flag 22080 term 44 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 44 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
flag 28556 term 44 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 44 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=267
update matchIndex[2]=266
update leader CommitIndex=266
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264} {6097471079601742564 44 265} {1421757833046607868 44 266}]
------------------------------------------------------
client write log 1738290875047343230 (index 267) to leader 0
client write log 160474343181873764 (index 268) to leader 0
client write log 8059482588214298 (index 269) to leader 0
client write log 2188955211349661550 (index 270) to leader 0
client write log 130722320177575911 (index 271) to leader 0
client write log 4987233785149325514 (index 272) to leader 0
client write log 9137103261970496578 (index 273) to leader 0
client write log 6369480771241993425 (index 274) to leader 0
client write log 4562059263269844048 (index 275) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68528 term 44 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 44 leader 0 sendAppendEntries PrevLogIndex: 265  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
flag 78443 term 44 leader 0 nextIndex[2]: 267  matchIndex[2]: 266
term 44 leader 0 sendAppendEntries PrevLogIndex: 266  PrevLogTerm: 44 leaderCommit: 266 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:266 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 42 259} {647679353163351005 42 260} {5214062057073945171 42 261} {6060708326018984694 42 262} {1152853611286144686 42 263} {6097471079601742564 42 264} {6097471079601742564 44 265} {1421757833046607868 44 266} {1738290875047343230 44 267} {160474343181873764 44 268} {8059482588214298 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275}]
------------------------------------------------------
term 44 Server0 start snapshot! index=269
term 44 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=275
-------------------------------------------------------------
term 44 leader 0 nextIndex[1]: 266  matchIndex[1]: 265
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 44
------------------------------------------------------
flag 90722 term 44 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275}]
------------------------------------------------------
term 44 Server2 start snapshot! index=269
term 44 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=275
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 266->265
------------------------------------------------------
!!!!!!connect server 1
client write log 1559023105376156338 (index 276) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 44 leader 0 nextIndex[1]: 0  matchIndex[1]: 265
term 44 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 44
------------------------------------------------------
flag 54518 term 44 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 44 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 45 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 44 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 server 2 vote for server 0
term 46 server 0 get vote from server 2
term 46 server 0 become leader
------------------------------------------------------
term 46 server 1 vote for server 0
term 46 server 0 get outdate rpc reply from server 1
flag 64362 term 46 leader 0 nextIndex[1]: 277  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 21985 term 46 leader 0 nextIndex[2]: 277  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 277->276
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 266  matchIndex[1]: 0
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 44
------------------------------------------------------
flag 89777 term 46 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 1 InstallSnapshot success
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 44 rf.commitIndex 269 rf.lastApplied 269
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11774 term 46 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 46 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 84582 term 46 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73143 term 46 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 26824 term 46 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
flag 19967 term 46 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 39747 term 46 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67422 term 46 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 59802 term 46 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
flag 35744 term 46 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 15537 term 46 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
flag 28846 term 46 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 55246 term 46 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
flag 41244 term 46 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 64116 term 46 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
flag 40432 term 46 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 73045 term 46 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
flag 19921 term 46 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 83755 term 46 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
flag 5170 term 46 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 84750 term 46 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
flag 59248 term 46 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 98100 term 46 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
flag 43278 term 46 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 63320 term 46 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
flag 84207 term 46 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 71086 term 46 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
flag 47976 term 46 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 11155 term 46 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
flag 40071 term 46 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 71294 term 46 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
flag 89183 term 46 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 18862 term 46 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
flag 19585 term 46 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 36639 term 46 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=277
update matchIndex[1]=276
update leader CommitIndex=275
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276}]
------------------------------------------------------
client write log 1559023105376156338 (index 277) to leader 0
flag 41557 term 46 leader 0 nextIndex[1]: 277  matchIndex[1]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
flag 27678 term 46 leader 0 nextIndex[2]: 277  matchIndex[2]: 276
term 46 leader 0 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 275 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276} {1559023105376156338 46 277}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276} {1559023105376156338 46 277}]
------------------------------------------------------
flag 6199 term 46 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 46 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
flag 26297 term 46 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 46 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276} {1559023105376156338 46 277}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276} {1559023105376156338 46 277}]
------------------------------------------------------
flag 43836 term 46 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 46 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
flag 76688 term 46 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 46 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276} {1559023105376156338 46 277}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276} {1559023105376156338 46 277}]
------------------------------------------------------
flag 9852 term 46 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 46 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
flag 96060 term 46 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 46 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276} {1559023105376156338 46 277}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276} {1559023105376156338 46 277}]
------------------------------------------------------
flag 32330 term 46 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 46 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
flag 82329 term 46 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 46 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276} {1559023105376156338 46 277}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276} {1559023105376156338 46 277}]
------------------------------------------------------
flag 20025 term 46 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 46 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
flag 1054 term 46 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 46 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276} {1559023105376156338 46 277}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276} {1559023105376156338 46 277}]
------------------------------------------------------
flag 76594 term 46 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 46 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
flag 8009 term 46 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 46 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:277 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=278
update matchIndex[2]=277
update leader CommitIndex=277
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276} {1559023105376156338 46 277}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276} {1559023105376156338 46 277}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 63684 term 46 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 46 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
flag 62487 term 46 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 46 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
flag 98975 term 46 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 46 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
flag 2345 term 46 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 46 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
flag 6752 term 46 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 46 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
flag 15649 term 46 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 46 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
term 47 server 1 vote for server 2
term 47 server 2 get vote from server 1
term 47 server 2 become leader
------------------------------------------------------
flag 8970 term 47 leader 2 nextIndex[0]: 278  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
flag 74347 term 47 leader 2 nextIndex[1]: 278  matchIndex[1]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=278
update matchIndex[1]=277
update leader CommitIndex=277
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276} {1559023105376156338 46 277}]
------------------------------------------------------
client write log 5300292737210352157 (index 278) to leader 2
flag 39390 term 46 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 46 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
flag 73024 term 46 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 46 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
flag 72342 term 47 leader 2 nextIndex[0]: 278  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
flag 52817 term 47 leader 2 nextIndex[1]: 278  matchIndex[1]: 277
term 47 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:277 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276} {1559023105376156338 46 277} {5300292737210352157 47 278}]
------------------------------------------------------
flag 33900 term 46 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 46 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
flag 12148 term 46 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 46 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
flag 96926 term 47 leader 2 nextIndex[0]: 278  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
flag 87007 term 47 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 47 leaderCommit: 278 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=279
update matchIndex[1]=278
update leader CommitIndex=278
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276} {1559023105376156338 46 277} {5300292737210352157 47 278}]
------------------------------------------------------
client write log 2512675136351263833 (index 279) to leader 2
flag 63105 term 46 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 46 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
flag 88784 term 46 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 46 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
flag 16996 term 47 leader 2 nextIndex[0]: 278  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 278 
------------------------------------------------------
flag 57416 term 47 leader 2 nextIndex[1]: 279  matchIndex[1]: 278
term 47 leader 2 sendAppendEntries PrevLogIndex: 278  PrevLogTerm: 47 leaderCommit: 278 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:278 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 44 269} {2188955211349661550 44 270} {130722320177575911 44 271} {4987233785149325514 44 272} {9137103261970496578 44 273} {6369480771241993425 44 274} {4562059263269844048 44 275} {1559023105376156338 44 276} {1559023105376156338 46 277} {5300292737210352157 47 278} {2512675136351263833 47 279}]
------------------------------------------------------
term 47 Server2 start snapshot! index=279
term 47 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
flag 28896 term 46 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 46 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
flag 6388 term 46 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 46 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
term 47 leader 2 nextIndex[0]: 278  matchIndex[0]: 0
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 47
------------------------------------------------------
flag 23767 term 47 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 47 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 279 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=280
update matchIndex[1]=279
update leader CommitIndex=279
leader log:
[{snapshot 47 279}]
------------------------------------------------------
term 47 Server1 start snapshot! index=279
term 47 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=279
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4443255634207226636 (index 280) to leader 2
flag 88750 term 46 leader 0 nextIndex[1]: 278  matchIndex[1]: 277
term 46 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
flag 5422 term 46 leader 0 nextIndex[2]: 278  matchIndex[2]: 277
term 46 leader 0 sendAppendEntries PrevLogIndex: 277  PrevLogTerm: 46 leaderCommit: 277 
------------------------------------------------------
term 47 server 2 AppendEntries false 领导者任期过期 args.Term 46
------------------------------------------------------
term 47 server 1 AppendEntries false 领导者任期过期 args.Term 46
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 leader 2 nextIndex[0]: 278  matchIndex[0]: 0
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 47
------------------------------------------------------
flag 55259 term 47 leader 2 nextIndex[1]: 280  matchIndex[1]: 279
term 47 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 279 
------------------------------------------------------
term 47 server 0 InstallSnapshot success
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
term 47 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 280 matchIndex[0] 279 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 47 rf.commitIndex 279 rf.lastApplied 279
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {4443255634207226636 47 280}]
------------------------------------------------------
flag 57612 term 47 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 47 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
flag 12964 term 47 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:279 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {4443255634207226636 47 280}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {4443255634207226636 47 280}]
------------------------------------------------------
flag 57421 term 47 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
flag 15574 term 47 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {4443255634207226636 47 280}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {4443255634207226636 47 280}]
------------------------------------------------------
flag 71835 term 47 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
flag 350 term 47 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {4443255634207226636 47 280}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {4443255634207226636 47 280}]
------------------------------------------------------
flag 19576 term 47 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
flag 53494 term 47 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {4443255634207226636 47 280}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {4443255634207226636 47 280}]
------------------------------------------------------
flag 14934 term 47 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
flag 12358 term 47 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {4443255634207226636 47 280}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {4443255634207226636 47 280}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80188 term 47 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
flag 27548 term 47 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {4443255634207226636 47 280}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {4443255634207226636 47 280}]
------------------------------------------------------
flag 91669 term 47 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
flag 6728 term 47 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=281
update matchIndex[1]=280
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {4443255634207226636 47 280}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=281
update matchIndex[0]=280
update leader CommitIndex=280
leader log:
[{snapshot 47 279} {4443255634207226636 47 280}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 9187792686869098354 (index 281) to leader 2
flag 66645 term 47 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
flag 64363 term 47 leader 2 nextIndex[1]: 281  matchIndex[1]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 47 leaderCommit: 280 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 47 279} {4443255634207226636 47 280} {9187792686869098354 47 281}]
------------------------------------------------------
flag 20624 term 47 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 47 leaderCommit: 281 
------------------------------------------------------
flag 12618 term 47 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 281 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=282
update matchIndex[1]=281
update leader CommitIndex=281
leader log:
[{snapshot 47 279} {4443255634207226636 47 280} {9187792686869098354 47 281}]
------------------------------------------------------
client write log 8210119934208514794 (index 282) to leader 2
client write log 4978773202425026606 (index 283) to leader 2
client write log 3914301049454989034 (index 284) to leader 2
client write log 4824749881735492394 (index 285) to leader 2
client write log 1266684403038595875 (index 286) to leader 2
client write log 7586103374845990274 (index 287) to leader 2
client write log 2150297095571927779 (index 288) to leader 2
client write log 2547877496348777413 (index 289) to leader 2
client write log 7479657851669235797 (index 290) to leader 2
client write log 8804226781999134929 (index 291) to leader 2
client write log 7510860532580806504 (index 292) to leader 2
client write log 570108457556887406 (index 293) to leader 2
client write log 2400362802920275670 (index 294) to leader 2
client write log 8681081086257472044 (index 295) to leader 2
term 47 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 71920 term 47 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 47 leader 2 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 47 leaderCommit: 281 
------------------------------------------------------
flag 41763 term 47 leader 2 nextIndex[1]: 282  matchIndex[1]: 281
term 47 leader 2 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 47 leaderCommit: 281 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 47 279} {4443255634207226636 47 280} {9187792686869098354 47 281} {8210119934208514794 47 282} {4978773202425026606 47 283} {3914301049454989034 47 284} {4824749881735492394 47 285} {1266684403038595875 47 286} {7586103374845990274 47 287} {2150297095571927779 47 288} {2547877496348777413 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295}]
------------------------------------------------------
term 47 Server2 start snapshot! index=289
term 47 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=295
-------------------------------------------------------------
term 47 leader 2 nextIndex[0]: 281  matchIndex[0]: 280
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 47
------------------------------------------------------
flag 81634 term 47 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 47 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295}]
------------------------------------------------------
term 47 Server1 start snapshot! index=289
term 47 server1 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=295
-------------------------------------------------------------
!!!!!!connect server 0
client write log 418592806761543384 (index 296) to leader 2
term 47 server 2 not vote for server 0, 日志不够新
term 47 server 1 not vote for server 0, 日志不够新
term 49 server 1 vote for server 2
term 49 server 0 vote for server 2
term 49 server 2 get vote from server 1
term 49 server 2 become leader
------------------------------------------------------
term 49 server 2 get outdate rpc reply from server 0
flag 94406 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 64099 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 297->296
------------------------------------------------------
term 49 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 297->296
------------------------------------------------------
term 49 leader 2 nextIndex[0]: 281  matchIndex[0]: 0
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 47
------------------------------------------------------
flag 94967 term 49 leader 2 nextIndex[1]: 296  matchIndex[1]: 0
term 49 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
term 49 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 47 rf.commitIndex 289 rf.lastApplied 289
term 49 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
flag 64266 term 49 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 49 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 64032 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
term 49 server 0 not vote for server 1, 任期不够新
term 49 server 1 get outdate rpc reply from server 0
flag 91094 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 25773 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
flag 21682 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 81805 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
flag 23392 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 63838 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42081 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 39268 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99662 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 30854 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
flag 92425 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 35953 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
flag 34693 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 79125 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29696 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 62273 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
flag 56703 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 53027 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
flag 66970 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 92237 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
flag 62854 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 23849 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
term 49 server 2 not vote for server 1, 任期不够新
term 49 server 1 get outdate rpc reply from server 2
flag 18197 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 65230 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81843 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 26124 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22165 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 82424 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98254 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 72794 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
flag 13503 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 67691 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
flag 29346 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 64892 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=297
update matchIndex[1]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=297
update matchIndex[0]=296
update leader CommitIndex=295
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296}]
------------------------------------------------------
client write log 418592806761543384 (index 297) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85929 term 49 leader 2 nextIndex[0]: 297  matchIndex[0]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
flag 43199 term 49 leader 2 nextIndex[1]: 297  matchIndex[1]: 296
term 49 leader 2 sendAppendEntries PrevLogIndex: 296  PrevLogTerm: 47 leaderCommit: 295 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296} {418592806761543384 49 297}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296} {418592806761543384 49 297}]
------------------------------------------------------
flag 53270 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
flag 85950 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
term 49 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296} {418592806761543384 49 297}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296} {418592806761543384 49 297}]
------------------------------------------------------
flag 35031 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
flag 18381 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296} {418592806761543384 49 297}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296} {418592806761543384 49 297}]
------------------------------------------------------
flag 58336 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
flag 43243 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296} {418592806761543384 49 297}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296} {418592806761543384 49 297}]
------------------------------------------------------
flag 60599 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
flag 80401 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296} {418592806761543384 49 297}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296} {418592806761543384 49 297}]
------------------------------------------------------
flag 5290 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
flag 53245 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296} {418592806761543384 49 297}]
------------------------------------------------------
term 49 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=298
update matchIndex[0]=297
update leader CommitIndex=297
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296} {418592806761543384 49 297}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8478947344656025323 (index 298) to leader 2
flag 3245 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
flag 12456 term 49 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 297 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296} {418592806761543384 49 297} {8478947344656025323 49 298}]
------------------------------------------------------
flag 30190 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 298 
------------------------------------------------------
flag 96189 term 49 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 49 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 49 leaderCommit: 298 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=298
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296} {418592806761543384 49 297} {8478947344656025323 49 298}]
------------------------------------------------------
client write log 5332572969223198632 (index 299) to leader 2
client write log 8150782647075377430 (index 300) to leader 2
client write log 3196268548001513526 (index 301) to leader 2
client write log 1606964916356674507 (index 302) to leader 2
client write log 6063364460143588570 (index 303) to leader 2
client write log 2452615936972133757 (index 304) to leader 2
client write log 5376647665550914119 (index 305) to leader 2
client write log 4714693155025306844 (index 306) to leader 2
client write log 9221487872468528196 (index 307) to leader 2
client write log 1801551177112631982 (index 308) to leader 2
client write log 6216507973391007118 (index 309) to leader 2
client write log 8875644375845151645 (index 310) to leader 2
client write log 140672095817582344 (index 311) to leader 2
client write log 7021644941838304078 (index 312) to leader 2
client write log 4186967749014482258 (index 313) to leader 2
flag 50657 term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 49 leaderCommit: 298 
------------------------------------------------------
flag 78380 term 49 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 49 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 49 leaderCommit: 298 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:298 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 47 289} {7479657851669235797 47 290} {8804226781999134929 47 291} {7510860532580806504 47 292} {570108457556887406 47 293} {2400362802920275670 47 294} {8681081086257472044 47 295} {418592806761543384 47 296} {418592806761543384 49 297} {8478947344656025323 49 298} {5332572969223198632 49 299} {8150782647075377430 49 300} {3196268548001513526 49 301} {1606964916356674507 49 302} {6063364460143588570 49 303} {2452615936972133757 49 304} {5376647665550914119 49 305} {4714693155025306844 49 306} {9221487872468528196 49 307} {1801551177112631982 49 308} {6216507973391007118 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313}]
------------------------------------------------------
term 49 Server2 start snapshot! index=299
term 49 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=313
-------------------------------------------------------------
term 49 Server2 start snapshot! index=309
term 49 server2 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=313
-------------------------------------------------------------
term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 49
------------------------------------------------------
flag 14592 term 49 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 49 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313}]
------------------------------------------------------
term 49 Server1 start snapshot! index=299
term 49 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=313
-------------------------------------------------------------
term 49 Server1 start snapshot! index=309
term 49 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=313
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5640614936662017398 (index 314) to leader 2
term 49 leader 2 nextIndex[0]: 298  matchIndex[0]: 297
term 49 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 49
------------------------------------------------------
flag 1487 term 49 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 49 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
term 50 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 49 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 49 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 server 1 vote for server 2
term 51 server 2 get vote from server 1
term 51 server 0 vote for server 2
term 51 server 2 become leader
------------------------------------------------------
term 51 server 2 get outdate rpc reply from server 0
flag 66435 term 51 leader 2 nextIndex[0]: 315  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
flag 94109 term 51 leader 2 nextIndex[1]: 315  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
term 51 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 315->314
------------------------------------------------------
term 51 leader 2 nextIndex[0]: 298  matchIndex[0]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 49
------------------------------------------------------
flag 52543 term 51 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
term 51 server 0 InstallSnapshot success
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 310 matchIndex[0] 309 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 49 rf.commitIndex 309 rf.lastApplied 309
flag 74513 term 51 leader 2 nextIndex[0]: 310  matchIndex[0]: 309
term 51 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
flag 3178 term 51 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 44101 term 51 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
flag 30969 term 51 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39024 term 51 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
flag 56886 term 51 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
term 51 server 2 not vote for server 0, 任期不够新
term 51 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52859 term 51 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
flag 69129 term 51 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95802 term 51 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
flag 20880 term 51 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
flag 88690 term 51 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
flag 44197 term 51 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 server 1 not vote for server 0, 任期不够新
term 51 server 0 get outdate rpc reply from server 1
flag 43843 term 51 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
flag 12013 term 51 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
flag 74823 term 51 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
flag 28010 term 51 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73244 term 51 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
flag 67384 term 51 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
flag 19270 term 51 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
flag 4761 term 51 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
flag 85593 term 51 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
flag 45930 term 51 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
flag 42176 term 51 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
flag 78261 term 51 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
flag 21059 term 51 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
flag 30654 term 51 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
flag 87161 term 51 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
flag 51671 term 51 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
flag 93727 term 51 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
flag 63268 term 51 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:313 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61258 term 51 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
flag 34927 term 51 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 server 0 not vote for server 2, 任期不够新
term 51 server 2 get outdate rpc reply from server 0
flag 14395 term 51 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
flag 80496 term 51 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=313
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314}]
------------------------------------------------------
client write log 5640614936662017398 (index 315) to leader 2
flag 95489 term 51 leader 2 nextIndex[0]: 315  matchIndex[0]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
flag 64763 term 51 leader 2 nextIndex[1]: 315  matchIndex[1]: 314
term 51 leader 2 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 49 leaderCommit: 313 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314} {5640614936662017398 51 315}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314} {5640614936662017398 51 315}]
------------------------------------------------------
flag 47962 term 51 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 51 leaderCommit: 315 
------------------------------------------------------
flag 17049 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 51 leaderCommit: 315 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314} {5640614936662017398 51 315}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314} {5640614936662017398 51 315}]
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36176 term 51 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 51 leaderCommit: 315 
------------------------------------------------------
flag 36744 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 51 leaderCommit: 315 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314} {5640614936662017398 51 315}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314} {5640614936662017398 51 315}]
------------------------------------------------------
flag 31620 term 51 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 51 leaderCommit: 315 
------------------------------------------------------
flag 85324 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 51 leaderCommit: 315 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314} {5640614936662017398 51 315}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314} {5640614936662017398 51 315}]
------------------------------------------------------
flag 84533 term 51 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 51 leaderCommit: 315 
------------------------------------------------------
flag 41298 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 51 leaderCommit: 315 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314} {5640614936662017398 51 315}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314} {5640614936662017398 51 315}]
------------------------------------------------------
flag 52631 term 51 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 51 leaderCommit: 315 
------------------------------------------------------
flag 31146 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 51 leaderCommit: 315 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314} {5640614936662017398 51 315}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=315
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314} {5640614936662017398 51 315}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 56111 term 51 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 51 leaderCommit: 315 
------------------------------------------------------
flag 43323 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 51 leaderCommit: 315 
------------------------------------------------------
flag 8692 term 51 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 51 leaderCommit: 315 
------------------------------------------------------
flag 18096 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 51 leaderCommit: 315 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62829 term 51 leader 2 nextIndex[0]: 316  matchIndex[0]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 51 leaderCommit: 315 
------------------------------------------------------
flag 91984 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 51 leaderCommit: 315 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 316->315
------------------------------------------------------
term 52 server 1 vote for server 0
term 52 server 0 get vote from server 1
term 52 server 0 become leader
------------------------------------------------------
flag 44005 term 52 leader 0 nextIndex[1]: 316  matchIndex[1]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 51 leaderCommit: 315 
------------------------------------------------------
flag 21132 term 52 leader 0 nextIndex[2]: 316  matchIndex[2]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 51 leaderCommit: 315 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314} {5640614936662017398 51 315}]
------------------------------------------------------
client write log 5275722168525397048 (index 316) to leader 0
term 51 leader 2 nextIndex[0]: 0  matchIndex[0]: 315
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 49
------------------------------------------------------
flag 52762 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 51 leaderCommit: 315 
------------------------------------------------------
flag 1442 term 52 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 52 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 51 leaderCommit: 315 
------------------------------------------------------
flag 13295 term 52 leader 0 nextIndex[2]: 316  matchIndex[2]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 51 leaderCommit: 315 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314} {5640614936662017398 51 315} {5275722168525397048 52 316}]
------------------------------------------------------
term 51 leader 2 nextIndex[0]: 0  matchIndex[0]: 315
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 49
------------------------------------------------------
flag 77763 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 51 leaderCommit: 315 
------------------------------------------------------
flag 95917 term 52 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 52 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 316 
------------------------------------------------------
flag 58726 term 52 leader 0 nextIndex[2]: 316  matchIndex[2]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314} {5640614936662017398 51 315} {5275722168525397048 52 316}]
------------------------------------------------------
client write log 5871237839654681974 (index 317) to leader 0
client write log 3961065395010465273 (index 318) to leader 0
client write log 9134505199852649281 (index 319) to leader 0
client write log 861110085486510828 (index 320) to leader 0
client write log 6944749632695773210 (index 321) to leader 0
client write log 6005603912463838609 (index 322) to leader 0
client write log 3414692491857343067 (index 323) to leader 0
client write log 934631582110494087 (index 324) to leader 0
client write log 4495705005447086548 (index 325) to leader 0
client write log 5457067305846883238 (index 326) to leader 0
client write log 1937573762536758215 (index 327) to leader 0
client write log 5952906149291852115 (index 328) to leader 0
client write log 2883547348818198850 (index 329) to leader 0
term 51 leader 2 nextIndex[0]: 0  matchIndex[0]: 315
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 49
------------------------------------------------------
flag 34122 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 51 leaderCommit: 315 
------------------------------------------------------
flag 58700 term 52 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 52 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 52 leaderCommit: 316 
------------------------------------------------------
flag 20643 term 52 leader 0 nextIndex[2]: 316  matchIndex[2]: 0
term 52 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 51 leaderCommit: 316 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 49 309} {8875644375845151645 49 310} {140672095817582344 49 311} {7021644941838304078 49 312} {4186967749014482258 49 313} {5640614936662017398 49 314} {5640614936662017398 51 315} {5275722168525397048 52 316} {5871237839654681974 52 317} {3961065395010465273 52 318} {9134505199852649281 52 319} {861110085486510828 52 320} {6944749632695773210 52 321} {6005603912463838609 52 322} {3414692491857343067 52 323} {934631582110494087 52 324} {4495705005447086548 52 325} {5457067305846883238 52 326} {1937573762536758215 52 327} {5952906149291852115 52 328} {2883547348818198850 52 329}]
------------------------------------------------------
term 52 Server0 start snapshot! index=319
term 52 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=329
-------------------------------------------------------------
term 52 Server0 start snapshot! index=329
term 52 server0 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=329
-------------------------------------------------------------
term 51 leader 2 nextIndex[0]: 0  matchIndex[0]: 315
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 49
------------------------------------------------------
flag 6059 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 51 leaderCommit: 315 
------------------------------------------------------
flag 30521 term 52 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
term 52 leader 0 nextIndex[2]: 316  matchIndex[2]: 0
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
term 52 Server1 start snapshot! index=319
term 52 server1 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=329
-------------------------------------------------------------
term 52 Server1 start snapshot! index=329
term 52 server1 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=329
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4701475869668881906 (index 316) to leader 2
term 51 leader 2 nextIndex[0]: 0  matchIndex[0]: 315
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 49
------------------------------------------------------
flag 85298 term 51 leader 2 nextIndex[1]: 316  matchIndex[1]: 315
term 51 leader 2 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 51 leaderCommit: 315 
------------------------------------------------------
term 52 server 1 AppendEntries false 领导者任期过期 args.Term 51
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 52 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 52 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40796 term 52 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
term 52 leader 0 nextIndex[2]: 316  matchIndex[2]: 0
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 2 InstallSnapshot success
------------------------------------------------------
term 52 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 330 matchIndex[2] 329 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 52 rf.commitIndex 329 rf.lastApplied 329
term 52 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
flag 61679 term 52 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
flag 81559 term 52 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
term 52 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70497 term 52 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
flag 17214 term 52 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
flag 88274 term 52 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
flag 43827 term 52 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
flag 71817 term 52 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
flag 33337 term 52 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
flag 31578 term 52 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
flag 99543 term 52 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60526 term 52 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
flag 21557 term 52 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
flag 95226 term 52 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
flag 31673 term 52 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
flag 29681 term 52 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
flag 89495 term 52 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
flag 94016 term 52 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
flag 52742 term 52 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
flag 59783 term 52 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
flag 28967 term 52 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
flag 3162 term 52 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
flag 90032 term 52 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
flag 613 term 52 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
flag 37886 term 52 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
flag 41127 term 52 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
flag 91686 term 52 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
flag 80961 term 52 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
flag 90867 term 52 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
flag 82735 term 52 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
flag 9960 term 52 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
flag 44763 term 52 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
flag 75855 term 52 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
flag 43023 term 52 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
flag 94371 term 52 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58665 term 52 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
flag 54495 term 52 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=330
update matchIndex[2]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 330->329
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87189 term 52 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
term 52 leader 0 nextIndex[2]: 0  matchIndex[2]: 329
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 52
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=330
update matchIndex[1]=329
update leader CommitIndex=329
leader log:
[{snapshot 52 329}]
------------------------------------------------------
term 52 server 2 InstallSnapshot fail
rf.commitIndex 329 args.LastIncludedIndex 329
------------------------------------------------------
term 52 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 330 matchIndex[2] 329 
------------------------------------------------------------------------
client write log 4701475869668881906 (index 330) to leader 0
flag 44150 term 52 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
flag 64908 term 52 leader 0 nextIndex[2]: 330  matchIndex[2]: 329
term 52 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 52 leaderCommit: 329 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:329 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {4701475869668881906 52 330}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {4701475869668881906 52 330}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35744 term 52 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 52 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
flag 65417 term 52 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 52 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {4701475869668881906 52 330}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {4701475869668881906 52 330}]
------------------------------------------------------
flag 80226 term 52 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 52 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
flag 93545 term 52 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 52 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {4701475869668881906 52 330}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {4701475869668881906 52 330}]
------------------------------------------------------
term 52 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65150 term 52 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 52 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
flag 40809 term 52 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 52 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {4701475869668881906 52 330}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {4701475869668881906 52 330}]
------------------------------------------------------
term 52 server 2 not vote for server 0, 日志不够新
term 52 server 0 get outdate rpc reply from server 2
flag 34864 term 52 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 52 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
flag 9513 term 52 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 52 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {4701475869668881906 52 330}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {4701475869668881906 52 330}]
------------------------------------------------------
flag 45381 term 52 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 52 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
flag 26608 term 52 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 52 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {4701475869668881906 52 330}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {4701475869668881906 52 330}]
------------------------------------------------------
flag 98347 term 52 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 52 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
flag 68873 term 52 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 52 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=331
update matchIndex[1]=330
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {4701475869668881906 52 330}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 52 329} {4701475869668881906 52 330}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3106131474907382594 (index 331) to leader 0
flag 10210 term 52 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 52 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
flag 18152 term 52 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 52 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 52 leaderCommit: 330 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 52 329} {4701475869668881906 52 330} {3106131474907382594 52 331}]
------------------------------------------------------
flag 50549 term 52 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 52 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
flag 79215 term 52 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 52 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=331
leader log:
[{snapshot 52 329} {4701475869668881906 52 330} {3106131474907382594 52 331}]
------------------------------------------------------
client write log 6351246329381673411 (index 332) to leader 0
client write log 740345301152156691 (index 333) to leader 0
client write log 4550907046436414251 (index 334) to leader 0
client write log 180010016545685524 (index 335) to leader 0
client write log 1137095667221293781 (index 336) to leader 0
client write log 5470036321965300811 (index 337) to leader 0
client write log 6646213319963161560 (index 338) to leader 0
client write log 1672461456510547334 (index 339) to leader 0
client write log 6060949022060626653 (index 340) to leader 0
client write log 5215289003121499651 (index 341) to leader 0
client write log 8849901152000379879 (index 342) to leader 0
flag 7770 term 52 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 52 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
flag 81959 term 52 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 52 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 52 leaderCommit: 331 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:331 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 329} {4701475869668881906 52 330} {3106131474907382594 52 331} {6351246329381673411 52 332} {740345301152156691 52 333} {4550907046436414251 52 334} {180010016545685524 52 335} {1137095667221293781 52 336} {5470036321965300811 52 337} {6646213319963161560 52 338} {1672461456510547334 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342}]
------------------------------------------------------
term 52 Server0 start snapshot! index=339
term 52 server0 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=342
-------------------------------------------------------------
term 52 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 52
------------------------------------------------------
flag 75315 term 52 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 52 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342}]
------------------------------------------------------
term 52 Server2 start snapshot! index=339
term 52 server2 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=342
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6083951087442911514 (index 343) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 leader 0 nextIndex[1]: 331  matchIndex[1]: 330
term 52 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 52
------------------------------------------------------
flag 88228 term 52 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 52 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
term 53 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 52 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 server 2 vote for server 0
term 54 server 0 get vote from server 2
term 54 server 0 become leader
------------------------------------------------------
term 54 server 1 vote for server 0
term 54 server 0 get outdate rpc reply from server 1
flag 56556 term 54 leader 0 nextIndex[1]: 344  matchIndex[1]: 0
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
flag 67418 term 54 leader 0 nextIndex[2]: 344  matchIndex[2]: 0
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
term 54 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 344->343
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 leader 0 nextIndex[1]: 331  matchIndex[1]: 0
term 54 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 52
------------------------------------------------------
flag 40420 term 54 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
term 54 server 1 InstallSnapshot success
------------------------------------------------------
term 54 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 340 matchIndex[1] 339 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 52 rf.commitIndex 339 rf.lastApplied 339
flag 8937 term 54 leader 0 nextIndex[1]: 340  matchIndex[1]: 339
term 54 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
flag 77236 term 54 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
flag 95216 term 54 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
flag 53443 term 54 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
flag 39393 term 54 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
flag 65956 term 54 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 54 server 2 not vote for server 1, 任期不够新
term 54 server 1 get outdate rpc reply from server 2
flag 88474 term 54 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
flag 54855 term 54 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19850 term 54 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
flag 17576 term 54 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66000 term 54 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
flag 97174 term 54 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96072 term 54 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
flag 52414 term 54 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
flag 76908 term 54 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
flag 49802 term 54 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12495 term 54 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
flag 54505 term 54 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
flag 20349 term 54 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
flag 33574 term 54 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
flag 67256 term 54 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
flag 18089 term 54 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
term 54 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
flag 17690 term 54 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
flag 48451 term 54 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
flag 750 term 54 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
flag 76890 term 54 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
flag 28034 term 54 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
flag 80196 term 54 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
term 54 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 71998 term 54 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
flag 21763 term 54 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
term 54 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 77253 term 54 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
flag 57712 term 54 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
flag 89659 term 54 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
flag 16269 term 54 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=342
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343}]
------------------------------------------------------
client write log 6083951087442911514 (index 344) to leader 0
flag 32985 term 54 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
flag 65906 term 54 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 54 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 52 leaderCommit: 342 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343} {6083951087442911514 54 344}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343} {6083951087442911514 54 344}]
------------------------------------------------------
flag 52859 term 54 leader 0 nextIndex[1]: 345  matchIndex[1]: 344
term 54 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 344 
------------------------------------------------------
flag 21380 term 54 leader 0 nextIndex[2]: 345  matchIndex[2]: 344
term 54 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 344 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343} {6083951087442911514 54 344}]
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343} {6083951087442911514 54 344}]
------------------------------------------------------
flag 94952 term 54 leader 0 nextIndex[1]: 345  matchIndex[1]: 344
term 54 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 344 
------------------------------------------------------
flag 44899 term 54 leader 0 nextIndex[2]: 345  matchIndex[2]: 344
term 54 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 344 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343} {6083951087442911514 54 344}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343} {6083951087442911514 54 344}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78832 term 54 leader 0 nextIndex[1]: 345  matchIndex[1]: 344
term 54 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 344 
------------------------------------------------------
flag 49395 term 54 leader 0 nextIndex[2]: 345  matchIndex[2]: 344
term 54 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 344 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343} {6083951087442911514 54 344}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343} {6083951087442911514 54 344}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68554 term 54 leader 0 nextIndex[1]: 345  matchIndex[1]: 344
term 54 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 344 
------------------------------------------------------
flag 22850 term 54 leader 0 nextIndex[2]: 345  matchIndex[2]: 344
term 54 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 344 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343} {6083951087442911514 54 344}]
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343} {6083951087442911514 54 344}]
------------------------------------------------------
term 54 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67570 term 54 leader 0 nextIndex[1]: 345  matchIndex[1]: 344
term 54 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 344 
------------------------------------------------------
flag 79179 term 54 leader 0 nextIndex[2]: 345  matchIndex[2]: 344
term 54 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 344 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
term 54 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343} {6083951087442911514 54 344}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343} {6083951087442911514 54 344}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43577 term 54 leader 0 nextIndex[1]: 345  matchIndex[1]: 344
term 54 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 344 
------------------------------------------------------
flag 67413 term 54 leader 0 nextIndex[2]: 345  matchIndex[2]: 344
term 54 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 54 leaderCommit: 344 
------------------------------------------------------
term 54 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343} {6083951087442911514 54 344}]
term 54 server 1 AppendEntries true commitIndex:344 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=345
update matchIndex[1]=344
update leader CommitIndex=344
leader log:
[{snapshot 52 339} {6060949022060626653 52 340} {5215289003121499651 52 341} {8849901152000379879 52 342} {6083951087442911514 52 343} {6083951087442911514 54 344}]
------------------------------------------------------
term 54 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
  ... Passed --  86.0  3 1928  822869  344
--- PASS: TestSnapshotInstall2D (85.98s)
PASS
