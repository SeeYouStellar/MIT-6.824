=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 1
term 1 server 1 get vote from server 2
term 1 server 1 become leader
------------------------------------------------------
term 1 server 0 vote for server 1
term 1 server 1 get outdate rpc reply from server 0
flag 36818 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 671 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 2706548622078131476 (index 1) to leader 1
flag 69127 term 1 leader 1 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 13908 term 1 leader 1 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 1 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2706548622078131476 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2706548622078131476 1 1}]
------------------------------------------------------
flag 32018 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 42859 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2706548622078131476 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2706548622078131476 1 1}]
------------------------------------------------------
flag 70375 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 10259 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2706548622078131476 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2706548622078131476 1 1}]
------------------------------------------------------
flag 84510 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 24244 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2706548622078131476 1 1}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2706548622078131476 1 1}]
------------------------------------------------------
flag 84250 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 90978 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2706548622078131476 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2706548622078131476 1 1}]
------------------------------------------------------
flag 52246 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 22798 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2706548622078131476 1 1}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2706548622078131476 1 1}]
------------------------------------------------------
flag 36953 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 37117 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2706548622078131476 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {2706548622078131476 1 1}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4800337879181635449 (index 2) to leader 1
flag 26613 term 1 leader 1 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 28492 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2706548622078131476 1 1} {4800337879181635449 1 2}]
------------------------------------------------------
flag 11633 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 92231 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=3
update matchIndex[0]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {2706548622078131476 1 1} {4800337879181635449 1 2}]
------------------------------------------------------
client write log 4970242850289487253 (index 3) to leader 1
client write log 5086917436295049749 (index 4) to leader 1
client write log 3411584254268034200 (index 5) to leader 1
client write log 7155938505935000497 (index 6) to leader 1
client write log 5401474905075988797 (index 7) to leader 1
client write log 1061720689229731721 (index 8) to leader 1
client write log 3454713681889607358 (index 9) to leader 1
client write log 909111266942445137 (index 10) to leader 1
client write log 2599752605765562989 (index 11) to leader 1
client write log 4421772887996152277 (index 12) to leader 1
flag 28692 term 1 leader 1 nextIndex[0]: 3  matchIndex[0]: 2
term 1 leader 1 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 42465 term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{<nil> 0 0} {2706548622078131476 1 1} {4800337879181635449 1 2} {4970242850289487253 1 3} {5086917436295049749 1 4} {3411584254268034200 1 5} {7155938505935000497 1 6} {5401474905075988797 1 7} {1061720689229731721 1 8} {3454713681889607358 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=12
-------------------------------------------------------------
flag 85281 term 1 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 1 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 1 leader 1 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12}]
------------------------------------------------------
term 1 Server0 start snapshot! index=9
term 1 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=12
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6909035397668252766 (index 13) to leader 1
term 1 server 1 not vote for server 2, 日志不够新
term 1 server 0 not vote for server 2, 日志不够新
term 3 server 2 vote for server 1
term 3 server 0 vote for server 1
term 3 server 1 get vote from server 2
term 3 server 1 become leader
------------------------------------------------------
term 3 server 1 get outdate rpc reply from server 0
flag 70433 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 32767 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 14->13
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 14->13
------------------------------------------------------
flag 86359 term 3 leader 1 nextIndex[0]: 13  matchIndex[0]: 0
term 3 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 leader 1 nextIndex[2]: 2  matchIndex[2]: 0
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 server 2 InstallSnapshot success
------------------------------------------------------
term 3 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
flag 65175 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 1998 term 3 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
flag 28956 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 37366 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
flag 42006 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 9294 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
flag 81652 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 7890 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
flag 90984 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 1673 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
flag 7109 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 92877 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
flag 5744 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 99278 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
flag 38355 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 16585 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
flag 73845 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 60582 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27056 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 79662 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
flag 62342 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 9128 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
flag 96594 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 4179 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
flag 77771 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 86156 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
flag 2196 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 38271 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
flag 34928 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 77457 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
flag 29428 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 52551 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
flag 94910 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 2169 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13}]
------------------------------------------------------
client write log 6909035397668252766 (index 14) to leader 1
flag 81639 term 3 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 90813 term 3 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 3 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13} {6909035397668252766 3 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13} {6909035397668252766 3 14}]
------------------------------------------------------
flag 48204 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 66575 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13} {6909035397668252766 3 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13} {6909035397668252766 3 14}]
------------------------------------------------------
flag 19198 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 95796 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13} {6909035397668252766 3 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13} {6909035397668252766 3 14}]
------------------------------------------------------
flag 55021 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 10403 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13} {6909035397668252766 3 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13} {6909035397668252766 3 14}]
------------------------------------------------------
flag 14128 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 37158 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13} {6909035397668252766 3 14}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13} {6909035397668252766 3 14}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92183 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 88637 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13} {6909035397668252766 3 14}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13} {6909035397668252766 3 14}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 85505 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 56151 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 19404 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 30340 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 9555 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 61749 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 54937 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 8626 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 vote for server 2
term 4 server 2 get vote from server 0
term 4 server 2 become leader
------------------------------------------------------
flag 24256 term 4 leader 2 nextIndex[0]: 15  matchIndex[0]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 75498 term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13} {6909035397668252766 3 14}]
------------------------------------------------------
client write log 7925121932097497168 (index 15) to leader 2
flag 82833 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 19585 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 49403 term 4 leader 2 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 83934 term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13} {6909035397668252766 3 14} {7925121932097497168 4 15}]
------------------------------------------------------
flag 40567 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 47937 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 32274 term 4 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 59131 term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13} {6909035397668252766 3 14} {7925121932097497168 4 15}]
------------------------------------------------------
client write log 8216585385689286347 (index 16) to leader 2
client write log 914301175753608733 (index 17) to leader 2
client write log 3951195800702030884 (index 18) to leader 2
client write log 2720417541306914536 (index 19) to leader 2
client write log 8121456236067865452 (index 20) to leader 2
client write log 3052689918431425498 (index 21) to leader 2
client write log 6860316799873954797 (index 22) to leader 2
client write log 1635665194631628428 (index 23) to leader 2
client write log 4922470673465506438 (index 24) to leader 2
flag 2613 term 3 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 8688 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 15->14
------------------------------------------------------
flag 72805 term 4 leader 2 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 2 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 5577 term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 0
term 4 leader 2 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 15 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 1 9} {909111266942445137 1 10} {2599752605765562989 1 11} {4421772887996152277 1 12} {6909035397668252766 1 13} {6909035397668252766 3 14} {7925121932097497168 4 15} {8216585385689286347 4 16} {914301175753608733 4 17} {3951195800702030884 4 18} {2720417541306914536 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=24
-------------------------------------------------------------
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 14
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 81903 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
flag 18529 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=24
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2669238437186278198 (index 15) to leader 1
term 3 leader 1 nextIndex[0]: 0  matchIndex[0]: 14
term 3 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 42178 term 3 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 3 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 4 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92607 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 15  matchIndex[1]: 0
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot success
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86670 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 60575 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
flag 58015 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 87280 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64974 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 63810 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
flag 83868 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 63263 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
flag 158 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 10084 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 25->24
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21327 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 24
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 24 args.LastIncludedIndex 19
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
flag 23990 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 14358 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
flag 75984 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 5025 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64844 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 93354 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45920 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 72305 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
flag 58477 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 41634 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
flag 72048 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 91664 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
flag 39103 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 74703 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
flag 26517 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 68457 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
flag 49104 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 3112 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
flag 49724 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 63536 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 25->24
------------------------------------------------------
flag 48040 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 leader 2 nextIndex[1]: 0  matchIndex[1]: 24
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 InstallSnapshot fail
rf.commitIndex 24 args.LastIncludedIndex 19
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
flag 52912 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 1477 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
flag 63452 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 80085 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=25
update matchIndex[1]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24}]
------------------------------------------------------
client write log 2669238437186278198 (index 25) to leader 2
flag 205 term 4 leader 2 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 99592 term 4 leader 2 nextIndex[1]: 25  matchIndex[1]: 24
term 4 leader 2 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24} {2669238437186278198 4 25}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24} {2669238437186278198 4 25}]
------------------------------------------------------
flag 56076 term 4 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 53008 term 4 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24} {2669238437186278198 4 25}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24} {2669238437186278198 4 25}]
------------------------------------------------------
flag 87384 term 4 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 37325 term 4 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24} {2669238437186278198 4 25}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24} {2669238437186278198 4 25}]
------------------------------------------------------
term 4 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 20 matchIndex[1] 19 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61646 term 4 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 4370 term 4 leader 2 nextIndex[1]: 20  matchIndex[1]: 19
term 4 leader 2 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24} {2669238437186278198 4 25}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24} {2669238437186278198 4 25}]
------------------------------------------------------
flag 20273 term 4 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 88284 term 4 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24} {2669238437186278198 4 25}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24} {2669238437186278198 4 25}]
------------------------------------------------------
flag 17177 term 4 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 26493 term 4 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24} {2669238437186278198 4 25}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24} {2669238437186278198 4 25}]
------------------------------------------------------
term 4 server 1 not vote for server 2, 日志不够新
term 4 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2859 term 4 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 69130 term 4 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24} {2669238437186278198 4 25}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24} {2669238437186278198 4 25}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4787969291730013946 (index 26) to leader 2
flag 38054 term 4 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 14375 term 4 leader 2 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24} {2669238437186278198 4 25} {4787969291730013946 4 26}]
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13577 term 4 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 11520 term 4 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24} {2669238437186278198 4 25} {4787969291730013946 4 26}]
------------------------------------------------------
client write log 1549302581321198459 (index 27) to leader 2
client write log 7798191099034128048 (index 28) to leader 2
client write log 1186217983607384362 (index 29) to leader 2
client write log 6366257299994760410 (index 30) to leader 2
client write log 2435102920134755876 (index 31) to leader 2
client write log 4691884192727494585 (index 32) to leader 2
client write log 5019274102778000417 (index 33) to leader 2
client write log 8322588334760162123 (index 34) to leader 2
client write log 7234051505107587663 (index 35) to leader 2
client write log 5621945644576057521 (index 36) to leader 2
client write log 6987652484018799904 (index 37) to leader 2
client write log 6547896200965546726 (index 38) to leader 2
client write log 2639613201783490856 (index 39) to leader 2
client write log 6515726957366812328 (index 40) to leader 2
flag 55454 term 4 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 4 leader 2 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
flag 33613 term 4 leader 2 nextIndex[1]: 27  matchIndex[1]: 26
term 4 leader 2 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 19} {8121456236067865452 4 20} {3052689918431425498 4 21} {6860316799873954797 4 22} {1635665194631628428 4 23} {4922470673465506438 4 24} {2669238437186278198 4 25} {4787969291730013946 4 26} {1549302581321198459 4 27} {7798191099034128048 4 28} {1186217983607384362 4 29} {6366257299994760410 4 30} {2435102920134755876 4 31} {4691884192727494585 4 32} {5019274102778000417 4 33} {8322588334760162123 4 34} {7234051505107587663 4 35} {5621945644576057521 4 36} {6987652484018799904 4 37} {6547896200965546726 4 38} {2639613201783490856 4 39} {6515726957366812328 4 40}]
------------------------------------------------------
term 4 Server2 start snapshot! index=29
term 4 server2 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=40
-------------------------------------------------------------
term 4 Server2 start snapshot! index=39
term 4 server2 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 4
------------------------------------------------------
flag 28787 term 4 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 4 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=41
update matchIndex[1]=40
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40}]
------------------------------------------------------
term 4 Server1 start snapshot! index=29
term 4 server1 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=40
-------------------------------------------------------------
term 4 Server1 start snapshot! index=39
term 4 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=40
-------------------------------------------------------------
!!!!!!connect server 0
client write log 721492337932334765 (index 41) to leader 2
term 4 leader 2 nextIndex[0]: 26  matchIndex[0]: 25
term 4 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 4
------------------------------------------------------
flag 17529 term 4 leader 2 nextIndex[1]: 41  matchIndex[1]: 40
term 4 leader 2 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 5 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 server 1 not vote for server 0, 日志不够新
term 5 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 6 server 1 vote for server 2
term 6 server 0 vote for server 2
term 6 server 2 get vote from server 1
term 6 server 2 become leader
------------------------------------------------------
term 6 server 2 get outdate rpc reply from server 0
flag 62929 term 6 leader 2 nextIndex[0]: 42  matchIndex[0]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 6829 term 6 leader 2 nextIndex[1]: 42  matchIndex[1]: 0
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 42->41
------------------------------------------------------
term 6 leader 2 nextIndex[0]: 26  matchIndex[0]: 0
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 4
------------------------------------------------------
flag 28740 term 6 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
term 6 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 4 rf.commitIndex 39 rf.lastApplied 39
term 6 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 40 matchIndex[0] 39 
------------------------------------------------------------------------
flag 16177 term 6 leader 2 nextIndex[0]: 40  matchIndex[0]: 39
term 6 leader 2 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 76568 term 6 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
flag 39069 term 6 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 70953 term 6 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
flag 23569 term 6 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 89145 term 6 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
flag 89893 term 6 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 68924 term 6 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
flag 86119 term 6 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 55920 term 6 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:40 
term 6 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
flag 17017 term 6 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 42508 term 6 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
flag 59719 term 6 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 52516 term 6 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8269 term 6 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 82309 term 6 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
flag 73166 term 6 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 19328 term 6 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
flag 10332 term 6 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 34369 term 6 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5431 term 6 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 59580 term 6 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
flag 93237 term 6 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 79387 term 6 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 6 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
update nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
flag 13692 term 6 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 95912 term 6 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
flag 18533 term 6 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 8186 term 6 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
flag 4672 term 6 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 26508 term 6 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
flag 16055 term 6 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 27026 term 6 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
flag 8938 term 6 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 39191 term 6 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=42
update matchIndex[1]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=40
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41}]
------------------------------------------------------
client write log 721492337932334765 (index 42) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46603 term 6 leader 2 nextIndex[0]: 42  matchIndex[0]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
flag 18642 term 6 leader 2 nextIndex[1]: 42  matchIndex[1]: 41
term 6 leader 2 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 4 leaderCommit: 40 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:40 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41} {721492337932334765 6 42}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41} {721492337932334765 6 42}]
------------------------------------------------------
flag 14947 term 6 leader 2 nextIndex[0]: 43  matchIndex[0]: 42
term 6 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 62287 term 6 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
term 6 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41} {721492337932334765 6 42}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41} {721492337932334765 6 42}]
------------------------------------------------------
flag 75682 term 6 leader 2 nextIndex[0]: 43  matchIndex[0]: 42
term 6 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 2348 term 6 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
term 6 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41} {721492337932334765 6 42}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41} {721492337932334765 6 42}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18977 term 6 leader 2 nextIndex[0]: 43  matchIndex[0]: 42
term 6 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 73176 term 6 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
term 6 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41} {721492337932334765 6 42}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41} {721492337932334765 6 42}]
------------------------------------------------------
flag 33880 term 6 leader 2 nextIndex[0]: 43  matchIndex[0]: 42
term 6 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 48096 term 6 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
term 6 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41} {721492337932334765 6 42}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41} {721492337932334765 6 42}]
------------------------------------------------------
flag 45454 term 6 leader 2 nextIndex[0]: 43  matchIndex[0]: 42
term 6 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 29959 term 6 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
term 6 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41} {721492337932334765 6 42}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41} {721492337932334765 6 42}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18163 term 6 leader 2 nextIndex[0]: 43  matchIndex[0]: 42
term 6 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 29407 term 6 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
term 6 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=43
update matchIndex[1]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41} {721492337932334765 6 42}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41} {721492337932334765 6 42}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7223218727035456570 (index 43) to leader 2
flag 21905 term 6 leader 2 nextIndex[0]: 43  matchIndex[0]: 42
term 6 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 9746 term 6 leader 2 nextIndex[1]: 43  matchIndex[1]: 42
term 6 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41} {721492337932334765 6 42} {7223218727035456570 6 43}]
------------------------------------------------------
flag 43732 term 6 leader 2 nextIndex[0]: 43  matchIndex[0]: 42
term 6 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 66391 term 6 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=44
update matchIndex[1]=43
update leader CommitIndex=43
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41} {721492337932334765 6 42} {7223218727035456570 6 43}]
------------------------------------------------------
client write log 1536044250305138422 (index 44) to leader 2
client write log 4961982130098370459 (index 45) to leader 2
client write log 6182235707656150622 (index 46) to leader 2
client write log 1180148086808671400 (index 47) to leader 2
client write log 4504768799955759832 (index 48) to leader 2
client write log 5868663493256887202 (index 49) to leader 2
client write log 4005588390224328107 (index 50) to leader 2
client write log 1646616108288048107 (index 51) to leader 2
flag 26711 term 6 leader 2 nextIndex[0]: 43  matchIndex[0]: 42
term 6 leader 2 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
flag 77160 term 6 leader 2 nextIndex[1]: 44  matchIndex[1]: 43
term 6 leader 2 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 43 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 4 39} {6515726957366812328 4 40} {721492337932334765 4 41} {721492337932334765 6 42} {7223218727035456570 6 43} {1536044250305138422 6 44} {4961982130098370459 6 45} {6182235707656150622 6 46} {1180148086808671400 6 47} {4504768799955759832 6 48} {5868663493256887202 6 49} {4005588390224328107 6 50} {1646616108288048107 6 51}]
------------------------------------------------------
term 6 Server2 start snapshot! index=49
term 6 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=51
-------------------------------------------------------------
term 6 leader 2 nextIndex[0]: 43  matchIndex[0]: 42
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 84183 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=52
update matchIndex[1]=51
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {4005588390224328107 6 50} {1646616108288048107 6 51}]
------------------------------------------------------
term 6 Server1 start snapshot! index=49
term 6 server1 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=51
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1813616169367930613 (index 52) to leader 2
term 6 leader 2 nextIndex[0]: 43  matchIndex[0]: 42
term 6 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 81065 term 6 leader 2 nextIndex[1]: 52  matchIndex[1]: 51
term 6 leader 2 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 6 leaderCommit: 51 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {4005588390224328107 6 50} {1646616108288048107 6 51} {1813616169367930613 6 52}]
------------------------------------------------------
term 7 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 server 1 vote for server 2
term 8 server 2 get vote from server 1
term 8 server 2 become leader
------------------------------------------------------
term 8 server 0 vote for server 2
term 8 server 2 get outdate rpc reply from server 0
flag 34175 term 8 leader 2 nextIndex[0]: 53  matchIndex[0]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
flag 46651 term 8 leader 2 nextIndex[1]: 53  matchIndex[1]: 0
term 8 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 53->52
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {4005588390224328107 6 50} {1646616108288048107 6 51} {1813616169367930613 6 52}]
------------------------------------------------------
term 8 leader 2 nextIndex[0]: 43  matchIndex[0]: 0
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 96106 term 8 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 8 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {4005588390224328107 6 50} {1646616108288048107 6 51} {1813616169367930613 6 52}]
------------------------------------------------------
term 8 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 6 rf.commitIndex 49 rf.lastApplied 49
term 8 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 50 matchIndex[0] 49 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44253 term 8 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
flag 19065 term 8 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 8 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {4005588390224328107 6 50} {1646616108288048107 6 51} {1813616169367930613 6 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {4005588390224328107 6 50} {1646616108288048107 6 51} {1813616169367930613 6 52}]
------------------------------------------------------
flag 31817 term 8 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 8 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
flag 74153 term 8 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 8 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {4005588390224328107 6 50} {1646616108288048107 6 51} {1813616169367930613 6 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {4005588390224328107 6 50} {1646616108288048107 6 51} {1813616169367930613 6 52}]
------------------------------------------------------
flag 85484 term 8 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 8 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
flag 42597 term 8 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 8 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {4005588390224328107 6 50} {1646616108288048107 6 51} {1813616169367930613 6 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {4005588390224328107 6 50} {1646616108288048107 6 51} {1813616169367930613 6 52}]
------------------------------------------------------
flag 19196 term 8 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 8 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
flag 12 term 8 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 8 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:52 
term 8 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {4005588390224328107 6 50} {1646616108288048107 6 51} {1813616169367930613 6 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {4005588390224328107 6 50} {1646616108288048107 6 51} {1813616169367930613 6 52}]
------------------------------------------------------
term 8 server 2 not vote for server 0, 任期不够新
term 8 server 0 get outdate rpc reply from server 2
flag 65855 term 8 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 8 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
flag 35229 term 8 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 8 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
term 8 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
[{snapshot 6 49} {4005588390224328107 6 50} {1646616108288048107 6 51} {1813616169367930613 6 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {4005588390224328107 6 50} {1646616108288048107 6 51} {1813616169367930613 6 52}]
------------------------------------------------------
term 8 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14576 term 8 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 8 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
flag 29628 term 8 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 8 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {4005588390224328107 6 50} {1646616108288048107 6 51} {1813616169367930613 6 52}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {4005588390224328107 6 50} {1646616108288048107 6 51} {1813616169367930613 6 52}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95825 term 8 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 8 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
flag 41250 term 8 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 8 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {4005588390224328107 6 50} {1646616108288048107 6 51} {1813616169367930613 6 52}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=53
update matchIndex[0]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {4005588390224328107 6 50} {1646616108288048107 6 51} {1813616169367930613 6 52}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 31610 term 8 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 8 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
flag 23660 term 8 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 8 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
flag 34590 term 8 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 8 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
flag 24487 term 8 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 8 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
flag 18634 term 8 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 8 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
flag 27352 term 8 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 8 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
flag 27419 term 8 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 8 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
flag 85642 term 8 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 8 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 vote for server 0
term 9 server 0 get vote from server 1
term 9 server 0 become leader
------------------------------------------------------
flag 53701 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
flag 88835 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {4005588390224328107 6 50} {1646616108288048107 6 51} {1813616169367930613 6 52}]
------------------------------------------------------
flag 28287 term 8 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 8 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
flag 17927 term 8 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 8 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
client write log 8878112932316277272 (index 53) to leader 0
flag 58836 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
flag 72859 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {4005588390224328107 6 50} {1646616108288048107 6 51} {1813616169367930613 6 52} {8878112932316277272 9 53}]
------------------------------------------------------
flag 62049 term 8 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 8 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
flag 11287 term 8 leader 2 nextIndex[1]: 53  matchIndex[1]: 52
term 8 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 53->52
------------------------------------------------------
flag 40185 term 9 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 36663 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {4005588390224328107 6 50} {1646616108288048107 6 51} {1813616169367930613 6 52} {8878112932316277272 9 53}]
------------------------------------------------------
client write log 4383124547127630158 (index 54) to leader 0
client write log 7373474038831547697 (index 55) to leader 0
client write log 4671550489257393137 (index 56) to leader 0
client write log 4590300594084712572 (index 57) to leader 0
client write log 5120496824130676634 (index 58) to leader 0
client write log 1512214941055916657 (index 59) to leader 0
client write log 2418224886725041451 (index 60) to leader 0
client write log 3423782667114138693 (index 61) to leader 0
client write log 4370585536250336433 (index 62) to leader 0
client write log 8867723492838461490 (index 63) to leader 0
client write log 66702830122482347 (index 64) to leader 0
client write log 7188219204621765468 (index 65) to leader 0
flag 41924 term 8 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 8 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 52
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 79248 term 9 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 96526 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 6 49} {4005588390224328107 6 50} {1646616108288048107 6 51} {1813616169367930613 6 52} {8878112932316277272 9 53} {4383124547127630158 9 54} {7373474038831547697 9 55} {4671550489257393137 9 56} {4590300594084712572 9 57} {5120496824130676634 9 58} {1512214941055916657 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
term 9 Server0 start snapshot! index=59
term 9 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=65
-------------------------------------------------------------
flag 35362 term 8 leader 2 nextIndex[0]: 53  matchIndex[0]: 52
term 8 leader 2 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 6 leaderCommit: 52 
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 52
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 53->52
------------------------------------------------------
flag 55785 term 9 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 9 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
term 9 Server1 start snapshot! index=59
term 9 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=65
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3853992208630112152 (index 53) to leader 2
term 8 leader 2 nextIndex[0]: 0  matchIndex[0]: 52
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
term 8 leader 2 nextIndex[1]: 0  matchIndex[1]: 52
term 8 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 8 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 53229 term 9 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 9 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 2 InstallSnapshot success
------------------------------------------------------
term 9 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 60 matchIndex[2] 59 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
term 9 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
term 9 server 1 not vote for server 2, 日志不够新
term 9 server 0 not vote for server 2, 日志不够新
term 11 server 2 vote for server 0
term 11 server 0 get vote from server 2
term 11 server 0 become leader
------------------------------------------------------
term 11 server 1 vote for server 0
term 11 server 0 get outdate rpc reply from server 1
flag 19518 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 30160 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 11 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 66->65
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
term 11 server 2 not vote for server 0, 任期不够新
term 11 server 0 get outdate rpc reply from server 2
flag 179 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 54460 term 11 leader 0 nextIndex[2]: 60  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
flag 50197 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 51489 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
flag 12686 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 2212 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
flag 16947 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 94399 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
flag 31903 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 44843 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
flag 13302 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 72078 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14677 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 50351 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
flag 19001 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 43638 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
term 11 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
flag 73748 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 54241 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37481 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 63514 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
term 11 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64817 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 79020 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
term 11 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15975 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 69966 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
flag 3024 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 91431 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
flag 46925 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 2769 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53042 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 19820 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
flag 65491 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 58452 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
flag 66041 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 98135 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
flag 68139 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 86078 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=66
update matchIndex[2]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65}]
------------------------------------------------------
client write log 3853992208630112152 (index 66) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99182 term 11 leader 0 nextIndex[1]: 66  matchIndex[1]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 5991 term 11 leader 0 nextIndex[2]: 66  matchIndex[2]: 65
term 11 leader 0 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65} {3853992208630112152 11 66}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65} {3853992208630112152 11 66}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83968 term 11 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 11 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 14722 term 11 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 11 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65} {3853992208630112152 11 66}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65} {3853992208630112152 11 66}]
------------------------------------------------------
term 11 server 1 not vote for server 0, 任期不够新
term 11 server 0 get outdate rpc reply from server 1
flag 10441 term 11 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 11 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 34408 term 11 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 11 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
term 11 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65} {3853992208630112152 11 66}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65} {3853992208630112152 11 66}]
------------------------------------------------------
flag 19714 term 11 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 11 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 37697 term 11 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 11 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65} {3853992208630112152 11 66}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65} {3853992208630112152 11 66}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12129 term 11 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 11 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 38710 term 11 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 11 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65} {3853992208630112152 11 66}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65} {3853992208630112152 11 66}]
------------------------------------------------------
term 11 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65972 term 11 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 11 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 26201 term 11 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 11 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=67
update matchIndex[2]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65} {3853992208630112152 11 66}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65} {3853992208630112152 11 66}]
------------------------------------------------------
term 11 server 2 not vote for server 0, 任期不够新
term 11 server 0 get outdate rpc reply from server 2
!!!!!!diconnect server 1
client write log 8155418206570972219 (index 67) to leader 0
flag 35875 term 11 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 11 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 15237 term 11 leader 0 nextIndex[2]: 67  matchIndex[2]: 66
term 11 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65} {3853992208630112152 11 66} {8155418206570972219 11 67}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41303 term 11 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 11 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 56411 term 11 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=68
update matchIndex[2]=67
update leader CommitIndex=67
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65} {3853992208630112152 11 66} {8155418206570972219 11 67}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 589244733347401081 (index 68) to leader 0
client write log 7911504220147857603 (index 69) to leader 0
client write log 1785496959321921836 (index 70) to leader 0
client write log 2334662270579904837 (index 71) to leader 0
client write log 1443840262818691712 (index 72) to leader 0
client write log 5350028737695662057 (index 73) to leader 0
client write log 3910014933436253816 (index 74) to leader 0
client write log 5588010267519318034 (index 75) to leader 0
client write log 1417681348834232490 (index 76) to leader 0
client write log 8556866125340341419 (index 77) to leader 0
client write log 7160428518718828805 (index 78) to leader 0
client write log 8397444666529434570 (index 79) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40364 term 11 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 11 leader 0 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
flag 32128 term 11 leader 0 nextIndex[2]: 68  matchIndex[2]: 67
term 11 leader 0 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 67 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:67 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 9 59} {2418224886725041451 9 60} {3423782667114138693 9 61} {4370585536250336433 9 62} {8867723492838461490 9 63} {66702830122482347 9 64} {7188219204621765468 9 65} {3853992208630112152 11 66} {8155418206570972219 11 67} {589244733347401081 11 68} {7911504220147857603 11 69} {1785496959321921836 11 70} {2334662270579904837 11 71} {1443840262818691712 11 72} {5350028737695662057 11 73} {3910014933436253816 11 74} {5588010267519318034 11 75} {1417681348834232490 11 76} {8556866125340341419 11 77} {7160428518718828805 11 78} {8397444666529434570 11 79}]
------------------------------------------------------
term 11 Server0 start snapshot! index=69
term 11 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=79
-------------------------------------------------------------
term 11 Server0 start snapshot! index=79
term 11 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
term 11 leader 0 nextIndex[1]: 67  matchIndex[1]: 66
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 99802 term 11 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 11 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 11 79}]
------------------------------------------------------
term 11 Server2 start snapshot! index=69
term 11 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=79
-------------------------------------------------------------
term 11 Server2 start snapshot! index=79
term 11 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2662250199516229622 (index 80) to leader 0
term 11 server 2 not vote for server 1, 日志不够新
term 11 server 0 not vote for server 1, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 server 2 vote for server 0
term 13 server 0 get vote from server 2
term 13 server 0 become leader
------------------------------------------------------
term 13 server 1 vote for server 0
term 13 server 0 get outdate rpc reply from server 1
flag 66194 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 62930 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 81->80
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 81->80
------------------------------------------------------
term 13 leader 0 nextIndex[1]: 67  matchIndex[1]: 0
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 32639 term 13 leader 0 nextIndex[2]: 80  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 1 InstallSnapshot success
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 11 rf.commitIndex 79 rf.lastApplied 79
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48575 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 47582 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
flag 1729 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 13795 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
flag 15349 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 72029 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37377 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 2348 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
flag 19586 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 32955 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
flag 75112 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 66911 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
flag 89112 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 55278 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76518 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 78509 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90670 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 77516 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
flag 94050 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 39702 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
flag 26532 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 70973 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47950 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 81589 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
flag 10712 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 21056 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18844 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 4707 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
flag 81485 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 60808 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
flag 33625 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 42625 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87493 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 13645 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
flag 34436 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 9255 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2662250199516229622 11 80}]
------------------------------------------------------
client write log 2662250199516229622 (index 81) to leader 0
flag 45949 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 59291 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2662250199516229622 11 80} {2662250199516229622 13 81}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2662250199516229622 11 80} {2662250199516229622 13 81}]
------------------------------------------------------
flag 35932 term 13 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 18689 term 13 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2662250199516229622 11 80} {2662250199516229622 13 81}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2662250199516229622 11 80} {2662250199516229622 13 81}]
------------------------------------------------------
flag 56349 term 13 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 91011 term 13 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2662250199516229622 11 80} {2662250199516229622 13 81}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2662250199516229622 11 80} {2662250199516229622 13 81}]
------------------------------------------------------
flag 51729 term 13 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 24002 term 13 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2662250199516229622 11 80} {2662250199516229622 13 81}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2662250199516229622 11 80} {2662250199516229622 13 81}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41081 term 13 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 5694 term 13 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2662250199516229622 11 80} {2662250199516229622 13 81}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2662250199516229622 11 80} {2662250199516229622 13 81}]
------------------------------------------------------
flag 83413 term 13 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 51910 term 13 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2662250199516229622 11 80} {2662250199516229622 13 81}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2662250199516229622 11 80} {2662250199516229622 13 81}]
------------------------------------------------------
flag 9555 term 13 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 94038 term 13 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2662250199516229622 11 80} {2662250199516229622 13 81}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2662250199516229622 11 80} {2662250199516229622 13 81}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5750248579585041066 (index 82) to leader 0
flag 20450 term 13 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 93352 term 13 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {2662250199516229622 11 80} {2662250199516229622 13 81} {5750248579585041066 13 82}]
------------------------------------------------------
flag 12841 term 13 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 82899 term 13 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=83
update matchIndex[2]=82
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {2662250199516229622 11 80} {2662250199516229622 13 81} {5750248579585041066 13 82}]
------------------------------------------------------
client write log 5289455852089593782 (index 83) to leader 0
client write log 1325168822017179047 (index 84) to leader 0
client write log 4913722042080116043 (index 85) to leader 0
client write log 3949702025043888731 (index 86) to leader 0
client write log 4334272920866008840 (index 87) to leader 0
client write log 8689897863892123324 (index 88) to leader 0
client write log 2779908485892799589 (index 89) to leader 0
client write log 3730205651334629170 (index 90) to leader 0
client write log 870131808673514669 (index 91) to leader 0
client write log 7001638381997794050 (index 92) to leader 0
client write log 6926821290264831333 (index 93) to leader 0
flag 27834 term 13 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 70666 term 13 leader 0 nextIndex[2]: 83  matchIndex[2]: 82
term 13 leader 0 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 11 79} {2662250199516229622 11 80} {2662250199516229622 13 81} {5750248579585041066 13 82} {5289455852089593782 13 83} {1325168822017179047 13 84} {4913722042080116043 13 85} {3949702025043888731 13 86} {4334272920866008840 13 87} {8689897863892123324 13 88} {2779908485892799589 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93}]
------------------------------------------------------
term 13 Server0 start snapshot! index=89
term 13 server0 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=93
-------------------------------------------------------------
term 13 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 13 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 13
------------------------------------------------------
flag 92333 term 13 leader 0 nextIndex[2]: 94  matchIndex[2]: 93
term 13 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=94
update matchIndex[2]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 Server2 start snapshot! index=89
term 13 server2 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=93
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8002262733824510381 (index 94) to leader 0
term 13 server 2 not vote for server 1, 日志不够新
term 13 server 0 not vote for server 1, 日志不够新
term 15 server 2 vote for server 0
term 15 server 1 vote for server 0
term 15 server 0 get vote from server 2
term 15 server 0 become leader
------------------------------------------------------
term 15 server 0 get outdate rpc reply from server 1
flag 42295 term 15 leader 0 nextIndex[1]: 95  matchIndex[1]: 0
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
flag 10994 term 15 leader 0 nextIndex[2]: 95  matchIndex[2]: 0
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
term 15 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 95->94
------------------------------------------------------
term 15 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 95->94
------------------------------------------------------
term 15 leader 0 nextIndex[1]: 82  matchIndex[1]: 0
term 15 leader 0 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 13
------------------------------------------------------
flag 99188 term 15 leader 0 nextIndex[2]: 94  matchIndex[2]: 0
term 15 leader 0 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
term 15 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
term 15 leader 0 -> server 1 sendInstallSnapshot success
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 13 rf.commitIndex 89 rf.lastApplied 89
nextIndex[1] 90 matchIndex[1] 89 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14429 term 15 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 15 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
flag 2309 term 15 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
flag 65599 term 15 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
flag 20042 term 15 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80400 term 15 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
flag 74484 term 15 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
flag 48461 term 15 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
flag 60787 term 15 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69379 term 15 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
flag 25086 term 15 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
flag 53615 term 15 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
flag 54088 term 15 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
term 15 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 53181 term 15 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
flag 5285 term 15 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
flag 48073 term 15 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
flag 90866 term 15 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
flag 53568 term 15 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
flag 97044 term 15 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
flag 30648 term 15 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
flag 98231 term 15 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
flag 85101 term 15 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
flag 72290 term 15 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
flag 55093 term 15 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
flag 86109 term 15 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
flag 63013 term 15 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
flag 72699 term 15 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
flag 27247 term 15 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
flag 7717 term 15 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
flag 79908 term 15 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
flag 99272 term 15 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
flag 43616 term 15 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
flag 54112 term 15 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=93
term 15 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
flag 45393 term 15 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
flag 57884 term 15 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
flag 65194 term 15 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
flag 72807 term 15 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=95
update matchIndex[1]=94
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94}]
------------------------------------------------------
client write log 8002262733824510381 (index 95) to leader 0
flag 29108 term 15 leader 0 nextIndex[1]: 95  matchIndex[1]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
flag 48809 term 15 leader 0 nextIndex[2]: 95  matchIndex[2]: 94
term 15 leader 0 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 13 leaderCommit: 93 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=95
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94} {8002262733824510381 15 95}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94} {8002262733824510381 15 95}]
------------------------------------------------------
flag 12656 term 15 leader 0 nextIndex[1]: 96  matchIndex[1]: 95
term 15 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 95 
------------------------------------------------------
flag 32959 term 15 leader 0 nextIndex[2]: 96  matchIndex[2]: 95
term 15 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 95 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=95
leader log:
term 15 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94} {8002262733824510381 15 95}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94} {8002262733824510381 15 95}]
------------------------------------------------------
flag 82643 term 15 leader 0 nextIndex[1]: 96  matchIndex[1]: 95
term 15 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 95 
------------------------------------------------------
flag 44527 term 15 leader 0 nextIndex[2]: 96  matchIndex[2]: 95
term 15 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 95 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=95
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94} {8002262733824510381 15 95}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94} {8002262733824510381 15 95}]
------------------------------------------------------
flag 40870 term 15 leader 0 nextIndex[1]: 96  matchIndex[1]: 95
term 15 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 95 
------------------------------------------------------
flag 60990 term 15 leader 0 nextIndex[2]: 96  matchIndex[2]: 95
term 15 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 95 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=95
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94} {8002262733824510381 15 95}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94} {8002262733824510381 15 95}]
------------------------------------------------------
flag 54961 term 15 leader 0 nextIndex[1]: 96  matchIndex[1]: 95
term 15 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 95 
------------------------------------------------------
flag 33584 term 15 leader 0 nextIndex[2]: 96  matchIndex[2]: 95
term 15 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 95 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=95
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94} {8002262733824510381 15 95}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94} {8002262733824510381 15 95}]
------------------------------------------------------
term 15 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 44524 term 15 leader 0 nextIndex[1]: 96  matchIndex[1]: 95
term 15 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 95 
------------------------------------------------------
flag 70697 term 15 leader 0 nextIndex[2]: 96  matchIndex[2]: 95
term 15 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 95 
------------------------------------------------------
term 15 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=95
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94} {8002262733824510381 15 95}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94} {8002262733824510381 15 95}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 51394 term 15 leader 0 nextIndex[1]: 96  matchIndex[1]: 95
term 15 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 95 
------------------------------------------------------
flag 62656 term 15 leader 0 nextIndex[2]: 96  matchIndex[2]: 95
term 15 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 95 
------------------------------------------------------
flag 93542 term 15 leader 0 nextIndex[1]: 96  matchIndex[1]: 95
term 15 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 95 
------------------------------------------------------
flag 80350 term 15 leader 0 nextIndex[2]: 96  matchIndex[2]: 95
term 15 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 95 
------------------------------------------------------
flag 1916 term 15 leader 0 nextIndex[1]: 96  matchIndex[1]: 95
term 15 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 95 
------------------------------------------------------
flag 87275 term 15 leader 0 nextIndex[2]: 96  matchIndex[2]: 95
term 15 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 95 
------------------------------------------------------
flag 76437 term 15 leader 0 nextIndex[1]: 96  matchIndex[1]: 95
term 15 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 95 
------------------------------------------------------
flag 69515 term 15 leader 0 nextIndex[2]: 96  matchIndex[2]: 95
term 15 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 95 
------------------------------------------------------
term 16 server 2 vote for server 1
term 16 server 1 get vote from server 2
term 16 server 1 become leader
------------------------------------------------------
flag 78429 term 16 leader 1 nextIndex[0]: 96  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 95 
------------------------------------------------------
flag 67265 term 16 leader 1 nextIndex[2]: 96  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 95 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=96
update matchIndex[2]=95
update leader CommitIndex=95
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94} {8002262733824510381 15 95}]
------------------------------------------------------
client write log 663068149372393122 (index 96) to leader 1
flag 29165 term 15 leader 0 nextIndex[1]: 96  matchIndex[1]: 95
term 15 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 95 
------------------------------------------------------
flag 10238 term 15 leader 0 nextIndex[2]: 96  matchIndex[2]: 95
term 15 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 95 
------------------------------------------------------
flag 70940 term 16 leader 1 nextIndex[0]: 96  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 95 
------------------------------------------------------
flag 87289 term 16 leader 1 nextIndex[2]: 96  matchIndex[2]: 95
term 16 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 95 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94} {8002262733824510381 15 95} {663068149372393122 16 96}]
------------------------------------------------------
flag 59697 term 15 leader 0 nextIndex[1]: 96  matchIndex[1]: 95
term 15 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 95 
------------------------------------------------------
flag 30545 term 15 leader 0 nextIndex[2]: 96  matchIndex[2]: 95
term 15 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 95 
------------------------------------------------------
flag 23314 term 16 leader 1 nextIndex[0]: 96  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 96 
------------------------------------------------------
flag 55171 term 16 leader 1 nextIndex[2]: 97  matchIndex[2]: 96
term 16 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=97
update matchIndex[2]=96
update leader CommitIndex=96
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94} {8002262733824510381 15 95} {663068149372393122 16 96}]
------------------------------------------------------
client write log 737973646855374669 (index 97) to leader 1
client write log 1584370781277532842 (index 98) to leader 1
client write log 1485626654344294120 (index 99) to leader 1
client write log 2586533732129588728 (index 100) to leader 1
client write log 8311792309938755480 (index 101) to leader 1
client write log 82215569110455253 (index 102) to leader 1
client write log 4827432635057152487 (index 103) to leader 1
client write log 5631301466482210776 (index 104) to leader 1
client write log 1709251358706264234 (index 105) to leader 1
client write log 6705794926487476509 (index 106) to leader 1
client write log 2036206279486410114 (index 107) to leader 1
client write log 1609677325414795615 (index 108) to leader 1
client write log 4049108987714802623 (index 109) to leader 1
flag 68859 term 15 leader 0 nextIndex[1]: 96  matchIndex[1]: 95
term 15 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 95 
------------------------------------------------------
flag 5353 term 15 leader 0 nextIndex[2]: 96  matchIndex[2]: 95
term 15 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 95 
------------------------------------------------------
flag 40744 term 16 leader 1 nextIndex[0]: 96  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 96 
------------------------------------------------------
flag 39170 term 16 leader 1 nextIndex[2]: 97  matchIndex[2]: 96
term 16 leader 1 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 96 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:96 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 13 89} {3730205651334629170 13 90} {870131808673514669 13 91} {7001638381997794050 13 92} {6926821290264831333 13 93} {8002262733824510381 13 94} {8002262733824510381 15 95} {663068149372393122 16 96} {737973646855374669 16 97} {1584370781277532842 16 98} {1485626654344294120 16 99} {2586533732129588728 16 100} {8311792309938755480 16 101} {82215569110455253 16 102} {4827432635057152487 16 103} {5631301466482210776 16 104} {1709251358706264234 16 105} {6705794926487476509 16 106} {2036206279486410114 16 107} {1609677325414795615 16 108} {4049108987714802623 16 109}]
------------------------------------------------------
term 16 Server1 start snapshot! index=99
term 16 server1 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=109
-------------------------------------------------------------
term 16 Server1 start snapshot! index=109
term 16 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
flag 72111 term 15 leader 0 nextIndex[1]: 96  matchIndex[1]: 95
term 15 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 95 
------------------------------------------------------
flag 80508 term 15 leader 0 nextIndex[2]: 96  matchIndex[2]: 95
term 15 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 95 
------------------------------------------------------
term 16 leader 1 nextIndex[0]: 96  matchIndex[0]: 0
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 18709 term 16 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 16 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=110
update matchIndex[2]=109
update leader CommitIndex=109
leader log:
[{snapshot 16 109}]
------------------------------------------------------
term 16 Server2 start snapshot! index=99
term 16 server2 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=109
-------------------------------------------------------------
term 16 Server2 start snapshot! index=109
term 16 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7054761597957703199 (index 110) to leader 1
flag 53340 term 15 leader 0 nextIndex[1]: 96  matchIndex[1]: 95
term 15 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 95 
------------------------------------------------------
flag 92316 term 15 leader 0 nextIndex[2]: 96  matchIndex[2]: 95
term 15 leader 0 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 15 leaderCommit: 95 
------------------------------------------------------
term 16 server 2 AppendEntries false 领导者任期过期 args.Term 15
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 16 server 1 AppendEntries false 领导者任期过期 args.Term 15
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 leader 1 nextIndex[0]: 96  matchIndex[0]: 0
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 58228 term 16 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 16 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 16 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {7054761597957703199 16 110}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 16 rf.commitIndex 109 rf.lastApplied 109
term 16 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
flag 85120 term 16 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 16 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 90980 term 16 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 16 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {7054761597957703199 16 110}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {7054761597957703199 16 110}]
------------------------------------------------------
flag 21569 term 16 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 16 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 77909 term 16 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 16 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {7054761597957703199 16 110}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {7054761597957703199 16 110}]
------------------------------------------------------
flag 56472 term 16 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 16 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 17095 term 16 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 16 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {7054761597957703199 16 110}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {7054761597957703199 16 110}]
------------------------------------------------------
flag 57102 term 16 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 16 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 14453 term 16 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 16 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {7054761597957703199 16 110}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {7054761597957703199 16 110}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 111->110
------------------------------------------------------
term 16 leader 1 nextIndex[0]: 0  matchIndex[0]: 110
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 25217 term 16 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 16 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {7054761597957703199 16 110}]
------------------------------------------------------
term 16 server 0 InstallSnapshot fail
rf.commitIndex 110 args.LastIncludedIndex 109
------------------------------------------------------
term 16 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45423 term 16 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 16 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 81709 term 16 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 16 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {7054761597957703199 16 110}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 109} {7054761597957703199 16 110}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 111->110
------------------------------------------------------
!!!!!!diconnect server 2
client write log 683937129098094149 (index 111) to leader 1
term 16 leader 1 nextIndex[0]: 0  matchIndex[0]: 110
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 89797 term 16 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 16 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 16 server 0 InstallSnapshot fail
rf.commitIndex 110 args.LastIncludedIndex 109
------------------------------------------------------
term 16 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
flag 61864 term 16 leader 1 nextIndex[0]: 110  matchIndex[0]: 109
term 16 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
flag 95051 term 16 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 16 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 110 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 16 109} {7054761597957703199 16 110} {683937129098094149 16 111}]
------------------------------------------------------
flag 52319 term 16 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 16 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 111 
------------------------------------------------------
flag 30801 term 16 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 16 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 111 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 16 109} {7054761597957703199 16 110} {683937129098094149 16 111}]
------------------------------------------------------
client write log 5686054044233125627 (index 112) to leader 1
client write log 5812322048076436391 (index 113) to leader 1
client write log 5733008742685219303 (index 114) to leader 1
client write log 8029951910097322530 (index 115) to leader 1
client write log 2432731474109941371 (index 116) to leader 1
client write log 7904330831027194393 (index 117) to leader 1
client write log 7507486544100337438 (index 118) to leader 1
client write log 4553618415450269621 (index 119) to leader 1
client write log 7774733367516937281 (index 120) to leader 1
client write log 609513225388038594 (index 121) to leader 1
client write log 7021188825825484162 (index 122) to leader 1
client write log 3807857466036192753 (index 123) to leader 1
client write log 7420288956820016021 (index 124) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89168 term 16 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 16 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 16 leaderCommit: 111 
------------------------------------------------------
flag 21229 term 16 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 16 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 111 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 16 109} {7054761597957703199 16 110} {683937129098094149 16 111} {5686054044233125627 16 112} {5812322048076436391 16 113} {5733008742685219303 16 114} {8029951910097322530 16 115} {2432731474109941371 16 116} {7904330831027194393 16 117} {7507486544100337438 16 118} {4553618415450269621 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124}]
------------------------------------------------------
term 16 Server1 start snapshot! index=119
term 16 server1 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=124
-------------------------------------------------------------
flag 53446 term 16 leader 1 nextIndex[0]: 125  matchIndex[0]: 124
term 16 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124}]
------------------------------------------------------
term 16 Server0 start snapshot! index=119
term 16 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=124
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2732030299160071334 (index 125) to leader 1
term 16 server 0 not vote for server 2, 日志不够新
flag 84966 term 16 leader 1 nextIndex[0]: 125  matchIndex[0]: 124
term 16 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 111  matchIndex[2]: 110
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
term 17 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 17 server 0 AppendEntries false 领导者任期过期 args.Term 16
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 2 vote for server 1
term 18 server 0 vote for server 1
term 18 server 1 get vote from server 0
term 18 server 1 become leader
------------------------------------------------------
term 18 server 1 get outdate rpc reply from server 2
flag 31214 term 18 leader 1 nextIndex[0]: 126  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
flag 44610 term 18 leader 1 nextIndex[2]: 126  matchIndex[2]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 126->125
------------------------------------------------------
term 18 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 126->125
------------------------------------------------------
term 18 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8545 term 18 leader 1 nextIndex[0]: 125  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 111  matchIndex[2]: 0
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
term 18 server 2 InstallSnapshot success
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 16 rf.commitIndex 119 rf.lastApplied 119
term 18 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
flag 67922 term 18 leader 1 nextIndex[0]: 126  matchIndex[0]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
flag 42870 term 18 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 18 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54486 term 18 leader 1 nextIndex[0]: 126  matchIndex[0]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
flag 11046 term 18 leader 1 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
flag 86690 term 18 leader 1 nextIndex[0]: 126  matchIndex[0]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
flag 89132 term 18 leader 1 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
flag 9071 term 18 leader 1 nextIndex[0]: 126  matchIndex[0]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
flag 7869 term 18 leader 1 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
flag 19941 term 18 leader 1 nextIndex[0]: 126  matchIndex[0]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
flag 48397 term 18 leader 1 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97664 term 18 leader 1 nextIndex[0]: 126  matchIndex[0]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
flag 90617 term 18 leader 1 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
flag 95223 term 18 leader 1 nextIndex[0]: 126  matchIndex[0]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
flag 69331 term 18 leader 1 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
flag 69406 term 18 leader 1 nextIndex[0]: 126  matchIndex[0]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
flag 35038 term 18 leader 1 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
flag 68130 term 18 leader 1 nextIndex[0]: 126  matchIndex[0]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
flag 91145 term 18 leader 1 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
flag 10238 term 18 leader 1 nextIndex[0]: 126  matchIndex[0]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
flag 37970 term 18 leader 1 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55588 term 18 leader 1 nextIndex[0]: 126  matchIndex[0]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
flag 47344 term 18 leader 1 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
term 18 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
flag 10511 term 18 leader 1 nextIndex[0]: 126  matchIndex[0]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
flag 88427 term 18 leader 1 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9564 term 18 leader 1 nextIndex[0]: 126  matchIndex[0]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
flag 78102 term 18 leader 1 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
flag 85277 term 18 leader 1 nextIndex[0]: 126  matchIndex[0]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
flag 79797 term 18 leader 1 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
flag 15822 term 18 leader 1 nextIndex[0]: 126  matchIndex[0]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
flag 30208 term 18 leader 1 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
flag 25948 term 18 leader 1 nextIndex[0]: 126  matchIndex[0]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
flag 97110 term 18 leader 1 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7624 term 18 leader 1 nextIndex[0]: 126  matchIndex[0]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
flag 55320 term 18 leader 1 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=124
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125}]
------------------------------------------------------
client write log 2732030299160071334 (index 126) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26249 term 18 leader 1 nextIndex[0]: 126  matchIndex[0]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
flag 11109 term 18 leader 1 nextIndex[2]: 126  matchIndex[2]: 125
term 18 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 124 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125} {2732030299160071334 18 126}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125} {2732030299160071334 18 126}]
------------------------------------------------------
flag 36815 term 18 leader 1 nextIndex[0]: 127  matchIndex[0]: 126
term 18 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 18 leaderCommit: 126 
------------------------------------------------------
flag 11432 term 18 leader 1 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 18 leaderCommit: 126 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125} {2732030299160071334 18 126}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125} {2732030299160071334 18 126}]
------------------------------------------------------
flag 49914 term 18 leader 1 nextIndex[0]: 127  matchIndex[0]: 126
term 18 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 18 leaderCommit: 126 
------------------------------------------------------
flag 7201 term 18 leader 1 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 18 leaderCommit: 126 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125} {2732030299160071334 18 126}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125} {2732030299160071334 18 126}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91000 term 18 leader 1 nextIndex[0]: 127  matchIndex[0]: 126
term 18 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 18 leaderCommit: 126 
------------------------------------------------------
flag 66135 term 18 leader 1 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 18 leaderCommit: 126 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125} {2732030299160071334 18 126}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125} {2732030299160071334 18 126}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43587 term 18 leader 1 nextIndex[0]: 127  matchIndex[0]: 126
term 18 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 18 leaderCommit: 126 
------------------------------------------------------
flag 98884 term 18 leader 1 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 18 leaderCommit: 126 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125} {2732030299160071334 18 126}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125} {2732030299160071334 18 126}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15804 term 18 leader 1 nextIndex[0]: 127  matchIndex[0]: 126
term 18 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 18 leaderCommit: 126 
------------------------------------------------------
flag 35719 term 18 leader 1 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 18 leaderCommit: 126 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125} {2732030299160071334 18 126}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=127
update matchIndex[0]=126
update leader CommitIndex=126
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125} {2732030299160071334 18 126}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1052355731011509788 (index 127) to leader 1
flag 27577 term 18 leader 1 nextIndex[0]: 127  matchIndex[0]: 126
term 18 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 18 leaderCommit: 126 
------------------------------------------------------
flag 89033 term 18 leader 1 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 18 leaderCommit: 126 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:126 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125} {2732030299160071334 18 126} {1052355731011509788 18 127}]
------------------------------------------------------
flag 66775 term 18 leader 1 nextIndex[0]: 128  matchIndex[0]: 127
term 18 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 93499 term 18 leader 1 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=128
update matchIndex[0]=127
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125} {2732030299160071334 18 126} {1052355731011509788 18 127}]
------------------------------------------------------
client write log 2145593659781695652 (index 128) to leader 1
client write log 3601497208313162950 (index 129) to leader 1
client write log 2388848205048443954 (index 130) to leader 1
client write log 4388396385093230766 (index 131) to leader 1
client write log 7265433998193751476 (index 132) to leader 1
client write log 3792348877566942823 (index 133) to leader 1
client write log 6938288864427596738 (index 134) to leader 1
client write log 459111765808127959 (index 135) to leader 1
client write log 6270723537943508402 (index 136) to leader 1
client write log 7641125872447760568 (index 137) to leader 1
client write log 1377025242012530568 (index 138) to leader 1
client write log 1258903148746850513 (index 139) to leader 1
flag 20828 term 18 leader 1 nextIndex[0]: 128  matchIndex[0]: 127
term 18 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 42645 term 18 leader 1 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 1 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 16 119} {7774733367516937281 16 120} {609513225388038594 16 121} {7021188825825484162 16 122} {3807857466036192753 16 123} {7420288956820016021 16 124} {2732030299160071334 16 125} {2732030299160071334 18 126} {1052355731011509788 18 127} {2145593659781695652 18 128} {3601497208313162950 18 129} {2388848205048443954 18 130} {4388396385093230766 18 131} {7265433998193751476 18 132} {3792348877566942823 18 133} {6938288864427596738 18 134} {459111765808127959 18 135} {6270723537943508402 18 136} {7641125872447760568 18 137} {1377025242012530568 18 138} {1258903148746850513 18 139}]
------------------------------------------------------
term 18 Server1 start snapshot! index=129
term 18 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=139
-------------------------------------------------------------
term 18 Server1 start snapshot! index=139
term 18 server1 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
flag 40911 term 18 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 18 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 18
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=140
update matchIndex[0]=139
update leader CommitIndex=139
leader log:
[{snapshot 18 139}]
------------------------------------------------------
term 18 Server0 start snapshot! index=129
term 18 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=139
-------------------------------------------------------------
term 18 Server0 start snapshot! index=139
term 18 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=139
-------------------------------------------------------------
!!!!!!connect server 2
client write log 502958613553990826 (index 140) to leader 1
term 18 server 1 not vote for server 2, 日志不够新
term 18 server 0 not vote for server 2, 日志不够新
term 20 server 2 vote for server 1
term 20 server 1 get vote from server 2
term 20 server 1 become leader
------------------------------------------------------
term 20 server 0 vote for server 1
term 20 server 1 get outdate rpc reply from server 0
flag 21194 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 92428 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 20 server 0 AppendEntries false prev日志不匹配
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 141->140
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 141->140
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52553 term 20 leader 1 nextIndex[0]: 140  matchIndex[0]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 127  matchIndex[2]: 0
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 18
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
term 20 server 2 InstallSnapshot success
------------------------------------------------------
term 20 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 140 matchIndex[2] 139 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 18 rf.commitIndex 139 rf.lastApplied 139
flag 86640 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 63509 term 20 leader 1 nextIndex[2]: 140  matchIndex[2]: 139
term 20 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
flag 54452 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 93348 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
flag 84729 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 79206 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87619 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 16498 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 server 0 not vote for server 1, 任期不够新
term 20 server 1 get outdate rpc reply from server 0
flag 60273 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 25718 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
flag 11559 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 24725 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
flag 55432 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 73367 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
flag 75232 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 52889 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7283 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 69893 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
flag 76352 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 49672 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
flag 49863 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 76019 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18647 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 78223 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40843 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 22623 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85216 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 43606 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
term 20 server 1 not vote for server 2, 任期不够新
term 20 server 2 get outdate rpc reply from server 1
flag 21898 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 81597 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
flag 74660 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 91833 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
flag 66342 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 83089 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
flag 50566 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 45874 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=141
update matchIndex[2]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=141
update matchIndex[0]=140
update leader CommitIndex=139
leader log:
[{snapshot 18 139} {502958613553990826 18 140}]
------------------------------------------------------
client write log 502958613553990826 (index 141) to leader 1
flag 7980 term 20 leader 1 nextIndex[0]: 141  matchIndex[0]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
flag 7106 term 20 leader 1 nextIndex[2]: 141  matchIndex[2]: 140
term 20 leader 1 sendAppendEntries PrevLogIndex: 140  PrevLogTerm: 18 leaderCommit: 139 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:139 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141}]
------------------------------------------------------
flag 26389 term 20 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 29207 term 20 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141}]
------------------------------------------------------
flag 89514 term 20 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 34537 term 20 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141}]
------------------------------------------------------
flag 41497 term 20 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 41940 term 20 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141}]
------------------------------------------------------
flag 5739 term 20 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 13590 term 20 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141}]
------------------------------------------------------
flag 45723 term 20 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 89104 term 20 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141}]
------------------------------------------------------
flag 63594 term 20 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 25198 term 20 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=142
update matchIndex[0]=141
update leader CommitIndex=141
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 19183 term 20 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 65402 term 20 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 6323 term 20 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 85177 term 20 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 47390 term 20 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 46708 term 20 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
term 21 server 2 vote for server 0
term 21 server 0 get vote from server 2
term 21 server 0 become leader
------------------------------------------------------
client write log 1087846587038782463 (index 142) to leader 0
flag 75017 term 21 leader 0 nextIndex[1]: 142  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 42283 term 21 leader 0 nextIndex[2]: 142  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142}]
------------------------------------------------------
flag 30058 term 20 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 67677 term 20 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 5607 term 21 leader 0 nextIndex[1]: 142  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 47315 term 21 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 21 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142}]
------------------------------------------------------
client write log 7982926585630664451 (index 143) to leader 0
flag 19338 term 20 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 35899 term 20 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 60100 term 21 leader 0 nextIndex[1]: 142  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 142 
------------------------------------------------------
flag 8361 term 21 leader 0 nextIndex[2]: 143  matchIndex[2]: 142
term 21 leader 0 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 21 leaderCommit: 142 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
flag 68041 term 20 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 15576 term 20 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 10472 term 21 leader 0 nextIndex[1]: 142  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 143 
------------------------------------------------------
flag 25683 term 21 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
!!!!!!connect server 1
client write log 756544822154230047 (index 142) to leader 1
flag 95956 term 20 leader 1 nextIndex[0]: 142  matchIndex[0]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
flag 50957 term 20 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 20 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 141 
------------------------------------------------------
term 21 server 2 AppendEntries false 领导者任期过期 args.Term 20
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 21 server 0 AppendEntries false 领导者任期过期 args.Term 20
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25704 term 21 leader 0 nextIndex[1]: 142  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 20 leaderCommit: 143 
------------------------------------------------------
flag 67146 term 21 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
flag 3581 term 21 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 39801 term 21 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18090 term 21 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 36669 term 21 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
flag 90333 term 21 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 37053 term 21 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
flag 36804 term 21 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 79912 term 21 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
flag 25911 term 21 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 96594 term 21 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3712 term 21 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 96444 term 21 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63682 term 21 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 76669 term 21 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
flag 16920 term 21 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 25493 term 21 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
flag 14293 term 21 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 62598 term 21 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98076 term 21 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 70125 term 21 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
flag 87408 term 21 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 4866 term 21 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
flag 64676 term 21 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 24015 term 21 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
flag 21621 term 21 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 33340 term 21 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21008 term 21 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 53208 term 21 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
flag 38118 term 21 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 94483 term 21 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
flag 40796 term 21 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 29684 term 21 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
flag 77005 term 21 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 51561 term 21 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
flag 29887 term 21 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 27244 term 21 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
flag 3170 term 21 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 30477 term 21 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143}]
------------------------------------------------------
client write log 756544822154230047 (index 144) to leader 0
flag 66653 term 21 leader 0 nextIndex[1]: 144  matchIndex[1]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 83863 term 21 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 21 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
term 21 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143} {756544822154230047 21 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143} {756544822154230047 21 144}]
------------------------------------------------------
flag 13942 term 21 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 15823 term 21 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 21 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143} {756544822154230047 21 144}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143} {756544822154230047 21 144}]
------------------------------------------------------
flag 71253 term 21 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 4537 term 21 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 21 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143} {756544822154230047 21 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143} {756544822154230047 21 144}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16612 term 21 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 67582 term 21 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 21 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143} {756544822154230047 21 144}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143} {756544822154230047 21 144}]
------------------------------------------------------
flag 83228 term 21 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 53550 term 21 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 21 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143} {756544822154230047 21 144}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143} {756544822154230047 21 144}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 77654 term 21 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 22478 term 21 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 21 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143} {756544822154230047 21 144}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143} {756544822154230047 21 144}]
------------------------------------------------------
flag 46426 term 21 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 19885 term 21 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 21 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143} {756544822154230047 21 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143} {756544822154230047 21 144}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4697455469500941254 (index 145) to leader 0
flag 88093 term 21 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
flag 52151 term 21 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 21 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 144 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143} {756544822154230047 21 144} {4697455469500941254 21 145}]
------------------------------------------------------
flag 25897 term 21 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 21 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 21 leaderCommit: 145 
------------------------------------------------------
flag 79457 term 21 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 21 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 145 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143} {756544822154230047 21 144} {4697455469500941254 21 145}]
------------------------------------------------------
client write log 8051998126094276637 (index 146) to leader 0
client write log 6907455128529130738 (index 147) to leader 0
client write log 2493497899963927335 (index 148) to leader 0
client write log 5058676331900002082 (index 149) to leader 0
client write log 7751231482642847178 (index 150) to leader 0
client write log 2451680278806022548 (index 151) to leader 0
client write log 6938605139925068048 (index 152) to leader 0
client write log 1396107181345046133 (index 153) to leader 0
client write log 3659919201429572933 (index 154) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 145->144
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 0  matchIndex[1]: 144
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 18
------------------------------------------------------
flag 81888 term 21 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 21 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 21 leaderCommit: 145 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 18 139} {502958613553990826 18 140} {502958613553990826 20 141} {1087846587038782463 21 142} {7982926585630664451 21 143} {756544822154230047 21 144} {4697455469500941254 21 145} {8051998126094276637 21 146} {6907455128529130738 21 147} {2493497899963927335 21 148} {5058676331900002082 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154}]
------------------------------------------------------
term 21 Server0 start snapshot! index=149
term 21 server0 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=154
-------------------------------------------------------------
term 21 leader 0 nextIndex[1]: 0  matchIndex[1]: 144
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 21
------------------------------------------------------
flag 825 term 21 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 21 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=155
update matchIndex[2]=154
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154}]
------------------------------------------------------
term 21 Server2 start snapshot! index=149
term 21 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=154
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4226782927995623514 (index 155) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 0  matchIndex[1]: 144
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 21
------------------------------------------------------
flag 56778 term 21 leader 0 nextIndex[2]: 155  matchIndex[2]: 154
term 21 leader 0 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 22 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 server 2 vote for server 0
term 23 server 1 vote for server 0
term 23 server 0 get vote from server 2
term 23 server 0 become leader
------------------------------------------------------
term 23 server 0 get outdate rpc reply from server 1
flag 18702 term 23 leader 0 nextIndex[1]: 156  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 86160 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 156->155
------------------------------------------------------
term 23 leader 0 nextIndex[1]: 145  matchIndex[1]: 0
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 21
------------------------------------------------------
flag 82631 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 1 InstallSnapshot success
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 150 matchIndex[1] 149 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 21 rf.commitIndex 149 rf.lastApplied 149
flag 79881 term 23 leader 0 nextIndex[1]: 150  matchIndex[1]: 149
term 23 leader 0 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 2473 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69675 term 23 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 67100 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
flag 48267 term 23 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 76046 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
flag 96548 term 23 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 90313 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
flag 9566 term 23 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 37702 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
flag 99576 term 23 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 10261 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
flag 26288 term 23 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 79234 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
flag 49848 term 23 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 60061 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
term 23 server 0 not vote for server 1, 任期不够新
term 23 server 1 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20513 term 23 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 93847 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
flag 43273 term 23 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 73531 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
flag 38121 term 23 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 48949 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
flag 8466 term 23 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 1138 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
flag 3329 term 23 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 43363 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
flag 56578 term 23 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 77323 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
flag 22405 term 23 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 68283 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
flag 38620 term 23 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 7759 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
flag 7706 term 23 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 88082 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=156
update matchIndex[2]=155
update leader CommitIndex=154
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155}]
------------------------------------------------------
client write log 4226782927995623514 (index 156) to leader 0
flag 16078 term 23 leader 0 nextIndex[1]: 156  matchIndex[1]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
flag 75526 term 23 leader 0 nextIndex[2]: 156  matchIndex[2]: 155
term 23 leader 0 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 21 leaderCommit: 154 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:154 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155} {4226782927995623514 23 156}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155} {4226782927995623514 23 156}]
------------------------------------------------------
flag 31919 term 23 leader 0 nextIndex[1]: 157  matchIndex[1]: 156
term 23 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
flag 60792 term 23 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155} {4226782927995623514 23 156}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155} {4226782927995623514 23 156}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23963 term 23 leader 0 nextIndex[1]: 157  matchIndex[1]: 156
term 23 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
flag 86609 term 23 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155} {4226782927995623514 23 156}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155} {4226782927995623514 23 156}]
------------------------------------------------------
flag 45277 term 23 leader 0 nextIndex[1]: 157  matchIndex[1]: 156
term 23 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
flag 54393 term 23 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155} {4226782927995623514 23 156}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155} {4226782927995623514 23 156}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41956 term 23 leader 0 nextIndex[1]: 157  matchIndex[1]: 156
term 23 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
flag 14978 term 23 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155} {4226782927995623514 23 156}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155} {4226782927995623514 23 156}]
------------------------------------------------------
flag 9334 term 23 leader 0 nextIndex[1]: 157  matchIndex[1]: 156
term 23 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
flag 94355 term 23 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=157
update matchIndex[2]=156
update leader CommitIndex=156
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155} {4226782927995623514 23 156}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=157
update matchIndex[1]=156
update leader CommitIndex=156
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155} {4226782927995623514 23 156}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1603318102401939760 (index 157) to leader 0
flag 26892 term 23 leader 0 nextIndex[1]: 157  matchIndex[1]: 156
term 23 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
flag 42114 term 23 leader 0 nextIndex[2]: 157  matchIndex[2]: 156
term 23 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 156 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155} {4226782927995623514 23 156} {1603318102401939760 23 157}]
------------------------------------------------------
flag 24221 term 23 leader 0 nextIndex[1]: 157  matchIndex[1]: 156
term 23 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
flag 69037 term 23 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 23 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=157
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155} {4226782927995623514 23 156} {1603318102401939760 23 157}]
------------------------------------------------------
client write log 5515753484915743786 (index 158) to leader 0
client write log 7286914569577735136 (index 159) to leader 0
client write log 5920366956662868273 (index 160) to leader 0
client write log 1538901154794698496 (index 161) to leader 0
client write log 4378250604201817835 (index 162) to leader 0
client write log 1245075839028552164 (index 163) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28240 term 23 leader 0 nextIndex[1]: 157  matchIndex[1]: 156
term 23 leader 0 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
flag 12187 term 23 leader 0 nextIndex[2]: 158  matchIndex[2]: 157
term 23 leader 0 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 23 leaderCommit: 157 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:157 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 21 149} {7751231482642847178 21 150} {2451680278806022548 21 151} {6938605139925068048 21 152} {1396107181345046133 21 153} {3659919201429572933 21 154} {4226782927995623514 21 155} {4226782927995623514 23 156} {1603318102401939760 23 157} {5515753484915743786 23 158} {7286914569577735136 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163}]
------------------------------------------------------
term 23 Server0 start snapshot! index=159
term 23 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=163
-------------------------------------------------------------
term 23 leader 0 nextIndex[1]: 157  matchIndex[1]: 156
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 23
------------------------------------------------------
flag 67205 term 23 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 23 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163}]
------------------------------------------------------
term 23 Server2 start snapshot! index=159
term 23 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=163
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7582372554379194060 (index 164) to leader 0
term 23 leader 0 nextIndex[1]: 157  matchIndex[1]: 156
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 23
------------------------------------------------------
flag 7359 term 23 leader 0 nextIndex[2]: 164  matchIndex[2]: 163
term 23 leader 0 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
term 24 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 server 2 vote for server 0
term 25 server 1 vote for server 0
term 25 server 0 get vote from server 2
term 25 server 0 become leader
------------------------------------------------------
term 25 server 0 get outdate rpc reply from server 1
flag 27917 term 25 leader 0 nextIndex[1]: 165  matchIndex[1]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
flag 81375 term 25 leader 0 nextIndex[2]: 165  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
term 25 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 165->164
------------------------------------------------------
term 25 leader 0 nextIndex[1]: 157  matchIndex[1]: 0
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 23
------------------------------------------------------
flag 80959 term 25 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
term 25 server 1 InstallSnapshot success
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 160 matchIndex[1] 159 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 23 rf.commitIndex 159 rf.lastApplied 159
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
flag 53313 term 25 leader 0 nextIndex[1]: 160  matchIndex[1]: 159
term 25 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
flag 51104 term 25 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
flag 28592 term 25 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
flag 49579 term 25 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
flag 22709 term 25 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
flag 66918 term 25 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
flag 79451 term 25 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
flag 2114 term 25 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
term 25 server 1 not vote for server 0, 任期不够新
term 25 server 0 get outdate rpc reply from server 1
flag 18650 term 25 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
flag 66243 term 25 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
flag 64055 term 25 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
flag 61636 term 25 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
flag 9947 term 25 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
flag 73060 term 25 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
flag 79951 term 25 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
flag 71143 term 25 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
flag 57298 term 25 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
flag 52055 term 25 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
flag 98455 term 25 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
flag 60259 term 25 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 server 0 not vote for server 1, 任期不够新
term 25 server 1 get outdate rpc reply from server 0
flag 70160 term 25 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
flag 31248 term 25 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45842 term 25 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
flag 1187 term 25 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
flag 69405 term 25 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
flag 86381 term 25 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
flag 45088 term 25 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
flag 27283 term 25 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10127 term 25 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
flag 73975 term 25 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28395 term 25 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
flag 50961 term 25 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
flag 37385 term 25 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
flag 61229 term 25 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=165
update matchIndex[1]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=165
update matchIndex[2]=164
update leader CommitIndex=163
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164}]
------------------------------------------------------
client write log 7582372554379194060 (index 165) to leader 0
flag 57492 term 25 leader 0 nextIndex[1]: 165  matchIndex[1]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
flag 15553 term 25 leader 0 nextIndex[2]: 165  matchIndex[2]: 164
term 25 leader 0 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 23 leaderCommit: 163 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164} {7582372554379194060 25 165}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164} {7582372554379194060 25 165}]
------------------------------------------------------
flag 30349 term 25 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 25 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
flag 68694 term 25 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 25 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164} {7582372554379194060 25 165}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164} {7582372554379194060 25 165}]
------------------------------------------------------
flag 36122 term 25 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 25 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
flag 90097 term 25 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 25 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164} {7582372554379194060 25 165}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164} {7582372554379194060 25 165}]
------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9028 term 25 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 25 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
flag 87168 term 25 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 25 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164} {7582372554379194060 25 165}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164} {7582372554379194060 25 165}]
------------------------------------------------------
flag 99454 term 25 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 25 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
flag 88977 term 25 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 25 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164} {7582372554379194060 25 165}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164} {7582372554379194060 25 165}]
------------------------------------------------------
flag 31875 term 25 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 25 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
flag 3307 term 25 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 25 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164} {7582372554379194060 25 165}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164} {7582372554379194060 25 165}]
------------------------------------------------------
flag 68090 term 25 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 25 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
flag 97296 term 25 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 25 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:165 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=166
update matchIndex[2]=165
update leader CommitIndex=165
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164} {7582372554379194060 25 165}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164} {7582372554379194060 25 165}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 29439 term 25 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 25 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
flag 20651 term 25 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 25 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
flag 92078 term 25 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 25 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
flag 24909 term 25 leader 0 nextIndex[2]: 166  matchIndex[2]: 165
term 25 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 166->165
------------------------------------------------------
flag 3463 term 25 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 25 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 25 leader 0 nextIndex[2]: 0  matchIndex[2]: 165
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 23
------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 server 1 vote for server 2
term 26 server 2 get vote from server 1
term 26 server 2 become leader
------------------------------------------------------
flag 42907 term 25 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 25 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 25 leader 0 nextIndex[2]: 0  matchIndex[2]: 165
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 23
------------------------------------------------------
flag 51768 term 26 leader 2 nextIndex[0]: 166  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
flag 84155 term 26 leader 2 nextIndex[1]: 166  matchIndex[1]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=166
update matchIndex[1]=165
update leader CommitIndex=165
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164} {7582372554379194060 25 165}]
------------------------------------------------------
client write log 5883900832470404292 (index 166) to leader 2
term 26 server 2 not vote for server 1, 任期不够新
term 26 server 1 get outdate rpc reply from server 2
flag 60675 term 25 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 25 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 25 leader 0 nextIndex[2]: 0  matchIndex[2]: 165
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 23
------------------------------------------------------
flag 56165 term 26 leader 2 nextIndex[0]: 166  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
flag 40893 term 26 leader 2 nextIndex[1]: 166  matchIndex[1]: 165
term 26 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164} {7582372554379194060 25 165} {5883900832470404292 26 166}]
------------------------------------------------------
flag 92177 term 25 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 25 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 25 leader 0 nextIndex[2]: 0  matchIndex[2]: 165
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 23
------------------------------------------------------
flag 50267 term 26 leader 2 nextIndex[0]: 166  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 166 
------------------------------------------------------
flag 34441 term 26 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 26 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=167
update matchIndex[1]=166
update leader CommitIndex=166
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164} {7582372554379194060 25 165} {5883900832470404292 26 166}]
------------------------------------------------------
client write log 7621890823859072114 (index 167) to leader 2
flag 11671 term 25 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 25 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 25 leader 0 nextIndex[2]: 0  matchIndex[2]: 165
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 23
------------------------------------------------------
flag 33049 term 26 leader 2 nextIndex[0]: 166  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 166 
------------------------------------------------------
flag 38998 term 26 leader 2 nextIndex[1]: 167  matchIndex[1]: 166
term 26 leader 2 sendAppendEntries PrevLogIndex: 166  PrevLogTerm: 26 leaderCommit: 166 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:166 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164} {7582372554379194060 25 165} {5883900832470404292 26 166} {7621890823859072114 26 167}]
------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84789 term 25 leader 0 nextIndex[1]: 166  matchIndex[1]: 165
term 25 leader 0 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 165 
------------------------------------------------------
term 25 leader 0 nextIndex[2]: 0  matchIndex[2]: 165
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 23
------------------------------------------------------
flag 47112 term 26 leader 2 nextIndex[0]: 166  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
flag 46482 term 26 leader 2 nextIndex[1]: 168  matchIndex[1]: 167
term 26 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=168
update matchIndex[1]=167
update leader CommitIndex=167
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164} {7582372554379194060 25 165} {5883900832470404292 26 166} {7621890823859072114 26 167}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 166->165
------------------------------------------------------
!!!!!!connect server 0
client write log 301371334236839608 (index 168) to leader 2
term 25 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
term 25 leader 0 nextIndex[1]: 0  matchIndex[1]: 165
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 23
------------------------------------------------------
flag 98029 term 25 leader 0 nextIndex[2]: 160  matchIndex[2]: 159
term 25 leader 0 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 23 leaderCommit: 165 
------------------------------------------------------
term 26 server 2 AppendEntries false 领导者任期过期 args.Term 25
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 26 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 26 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79268 term 26 leader 2 nextIndex[0]: 166  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 165  PrevLogTerm: 25 leaderCommit: 167 
------------------------------------------------------
flag 42516 term 26 leader 2 nextIndex[1]: 168  matchIndex[1]: 167
term 26 leader 2 sendAppendEntries PrevLogIndex: 167  PrevLogTerm: 26 leaderCommit: 167 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:167 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164} {7582372554379194060 25 165} {5883900832470404292 26 166} {7621890823859072114 26 167} {301371334236839608 26 168}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:165 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164} {7582372554379194060 25 165} {5883900832470404292 26 166} {7621890823859072114 26 167} {301371334236839608 26 168}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45876 term 26 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 26 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 19613 term 26 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 26 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164} {7582372554379194060 25 165} {5883900832470404292 26 166} {7621890823859072114 26 167} {301371334236839608 26 168}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164} {7582372554379194060 25 165} {5883900832470404292 26 166} {7621890823859072114 26 167} {301371334236839608 26 168}]
------------------------------------------------------
term 26 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 87049 term 26 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 26 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 97407 term 26 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 26 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164} {7582372554379194060 25 165} {5883900832470404292 26 166} {7621890823859072114 26 167} {301371334236839608 26 168}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164} {7582372554379194060 25 165} {5883900832470404292 26 166} {7621890823859072114 26 167} {301371334236839608 26 168}]
------------------------------------------------------
flag 17198 term 26 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 26 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 15586 term 26 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 26 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164} {7582372554379194060 25 165} {5883900832470404292 26 166} {7621890823859072114 26 167} {301371334236839608 26 168}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164} {7582372554379194060 25 165} {5883900832470404292 26 166} {7621890823859072114 26 167} {301371334236839608 26 168}]
------------------------------------------------------
flag 38750 term 26 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 26 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 82538 term 26 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 26 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164} {7582372554379194060 25 165} {5883900832470404292 26 166} {7621890823859072114 26 167} {301371334236839608 26 168}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164} {7582372554379194060 25 165} {5883900832470404292 26 166} {7621890823859072114 26 167} {301371334236839608 26 168}]
------------------------------------------------------
flag 11574 term 26 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 26 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 89067 term 26 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 26 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
term 26 server 0 AppendEntries true commitIndex:168 
------------------------------------------------------
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164} {7582372554379194060 25 165} {5883900832470404292 26 166} {7621890823859072114 26 167} {301371334236839608 26 168}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=169
update matchIndex[0]=168
update leader CommitIndex=168
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164} {7582372554379194060 25 165} {5883900832470404292 26 166} {7621890823859072114 26 167} {301371334236839608 26 168}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 442906722996766973 (index 169) to leader 2
flag 65496 term 26 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 26 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
flag 73373 term 26 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 26 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 23 159} {5920366956662868273 23 160} {1538901154794698496 23 161} {4378250604201817835 23 162} {1245075839028552164 23 163} {7582372554379194060 23 164} {7582372554379194060 25 165} {5883900832470404292 26 166} {7621890823859072114 26 167} {301371334236839608 26 168} {442906722996766973 26 169}]
------------------------------------------------------
term 26 Server2 start snapshot! index=169
term 26 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
term 26 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 49021 term 26 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 26 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 169}]
------------------------------------------------------
term 26 Server1 start snapshot! index=169
term 26 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
client write log 2636625985273180746 (index 170) to leader 2
client write log 4999143835673673672 (index 171) to leader 2
client write log 3527446975825251328 (index 172) to leader 2
client write log 304424922780106278 (index 173) to leader 2
client write log 6285985558938962825 (index 174) to leader 2
client write log 4240671170337888474 (index 175) to leader 2
client write log 4554604546535380350 (index 176) to leader 2
client write log 6549772331961403016 (index 177) to leader 2
client write log 8146603929695782711 (index 178) to leader 2
term 26 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 23085 term 26 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 26 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178}]
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 169  matchIndex[0]: 168
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 53532 term 26 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 26 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178}]
------------------------------------------------------
!!!!!!connect server 0
client write log 5975414848123400621 (index 179) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 server 2 not vote for server 0, 日志不够新
term 26 server 1 not vote for server 0, 日志不够新
term 28 server 1 vote for server 2
term 28 server 2 get vote from server 1
term 28 server 0 vote for server 2
term 28 server 2 become leader
------------------------------------------------------
term 28 server 2 get outdate rpc reply from server 0
flag 94723 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 8507 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 180->179
------------------------------------------------------
term 28 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 180->179
------------------------------------------------------
term 28 leader 2 nextIndex[0]: 169  matchIndex[0]: 0
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 98549 term 28 leader 2 nextIndex[1]: 179  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 0 InstallSnapshot success
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 170 matchIndex[0] 169 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 26 rf.commitIndex 169 rf.lastApplied 169
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61497 term 28 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 68822 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
flag 27792 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 18296 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
flag 61476 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 58787 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49221 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 68166 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
flag 98245 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 34326 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
flag 42300 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 67899 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
flag 32403 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 33749 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
flag 17333 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 7294 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69697 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 56310 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
term 28 server 2 not vote for server 1, 任期不够新
term 28 server 1 get outdate rpc reply from server 2
flag 88628 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 32557 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
flag 78396 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 33483 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79637 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 50099 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
flag 8124 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 14846 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
flag 41963 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 29017 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14078 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 25554 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 9510 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 69792 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 24258 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 29910 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=178
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179}]
------------------------------------------------------
client write log 5975414848123400621 (index 180) to leader 2
flag 74831 term 28 leader 2 nextIndex[0]: 180  matchIndex[0]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 19009 term 28 leader 2 nextIndex[1]: 180  matchIndex[1]: 179
term 28 leader 2 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179} {5975414848123400621 28 180}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 26 169} {2636625985273180746 26 170} {4999143835673673672 26 171} {3527446975825251328 26 172} {304424922780106278 26 173} {6285985558938962825 26 174} {4240671170337888474 26 175} {4554604546535380350 26 176} {6549772331961403016 26 177} {8146603929695782711 26 178} {5975414848123400621 26 179} {5975414848123400621 28 180}]
------------------------------------------------------
term 28 Server2 start snapshot! index=179
term 28 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=180
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45859 term 28 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 75249 term 28 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {5975414848123400621 28 180}]
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {5975414848123400621 28 180}]
------------------------------------------------------
term 28 Server0 start snapshot! index=179
term 28 server0 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=180
-------------------------------------------------------------
term 28 Server1 start snapshot! index=179
term 28 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=180
-------------------------------------------------------------
flag 61279 term 28 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 89862 term 28 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {5975414848123400621 28 180}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {5975414848123400621 28 180}]
------------------------------------------------------
flag 87745 term 28 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 38295 term 28 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {5975414848123400621 28 180}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {5975414848123400621 28 180}]
------------------------------------------------------
flag 36711 term 28 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 2744 term 28 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {5975414848123400621 28 180}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {5975414848123400621 28 180}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15642 term 28 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 20567 term 28 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {5975414848123400621 28 180}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {5975414848123400621 28 180}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 28012 term 28 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 26962 term 28 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
client write log 7915334611911760115 (index 181) to leader 2
term 28 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=181
update matchIndex[1]=180
update leader CommitIndex=180
leader log:
[{snapshot 26 179} {5975414848123400621 28 180} {7915334611911760115 28 181}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31526 term 28 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
flag 69854 term 28 leader 2 nextIndex[1]: 181  matchIndex[1]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 180 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {5975414848123400621 28 180} {7915334611911760115 28 181}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95667 term 28 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
flag 65142 term 28 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=182
update matchIndex[1]=181
update leader CommitIndex=181
leader log:
[{snapshot 26 179} {5975414848123400621 28 180} {7915334611911760115 28 181}]
------------------------------------------------------
client write log 2602410365381033794 (index 182) to leader 2
client write log 4418300368576466416 (index 183) to leader 2
client write log 3831407404864140759 (index 184) to leader 2
client write log 8974131754888952416 (index 185) to leader 2
client write log 4044539432732286256 (index 186) to leader 2
client write log 675756159200359038 (index 187) to leader 2
client write log 5730637058068559567 (index 188) to leader 2
client write log 6252540678890391332 (index 189) to leader 2
client write log 7204513086516156802 (index 190) to leader 2
client write log 834959295468965891 (index 191) to leader 2
flag 52357 term 28 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 2 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
flag 64150 term 28 leader 2 nextIndex[1]: 182  matchIndex[1]: 181
term 28 leader 2 sendAppendEntries PrevLogIndex: 181  PrevLogTerm: 28 leaderCommit: 181 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:181 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 26 179} {5975414848123400621 28 180} {7915334611911760115 28 181} {2602410365381033794 28 182} {4418300368576466416 28 183} {3831407404864140759 28 184} {8974131754888952416 28 185} {4044539432732286256 28 186} {675756159200359038 28 187} {5730637058068559567 28 188} {6252540678890391332 28 189} {7204513086516156802 28 190} {834959295468965891 28 191}]
------------------------------------------------------
term 28 Server2 start snapshot! index=189
term 28 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=191
-------------------------------------------------------------
term 28 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 28
------------------------------------------------------
flag 18656 term 28 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 28 leaderCommit: 191 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 28 189} {7204513086516156802 28 190} {834959295468965891 28 191}]
------------------------------------------------------
term 28 Server1 start snapshot! index=189
term 28 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=191
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6448077201726538591 (index 192) to leader 2
term 28 leader 2 nextIndex[0]: 181  matchIndex[0]: 180
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 28
------------------------------------------------------
flag 46105 term 28 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 28 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 28 leaderCommit: 191 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {7204513086516156802 28 190} {834959295468965891 28 191} {6448077201726538591 28 192}]
------------------------------------------------------
term 29 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 30 server 1 vote for server 2
term 30 server 2 get vote from server 1
term 30 server 0 vote for server 2
term 30 server 2 become leader
------------------------------------------------------
term 30 server 2 get outdate rpc reply from server 0
flag 32727 term 30 leader 2 nextIndex[0]: 193  matchIndex[0]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 30823 term 30 leader 2 nextIndex[1]: 193  matchIndex[1]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 30 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 193->192
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {7204513086516156802 28 190} {834959295468965891 28 191} {6448077201726538591 28 192}]
------------------------------------------------------
term 30 leader 2 nextIndex[0]: 181  matchIndex[0]: 0
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 28
------------------------------------------------------
flag 62520 term 30 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 30 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 30 server 0 InstallSnapshot success
------------------------------------------------------
term 30 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 190 matchIndex[0] 189 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {7204513086516156802 28 190} {834959295468965891 28 191} {6448077201726538591 28 192}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 28 rf.commitIndex 189 rf.lastApplied 189
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44282 term 30 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 30 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 7685 term 30 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 30 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {7204513086516156802 28 190} {834959295468965891 28 191} {6448077201726538591 28 192}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {7204513086516156802 28 190} {834959295468965891 28 191} {6448077201726538591 28 192}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30937 term 30 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 30 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 81807 term 30 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 30 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {7204513086516156802 28 190} {834959295468965891 28 191} {6448077201726538591 28 192}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {7204513086516156802 28 190} {834959295468965891 28 191} {6448077201726538591 28 192}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90786 term 30 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 30 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 9402 term 30 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 30 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {7204513086516156802 28 190} {834959295468965891 28 191} {6448077201726538591 28 192}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {7204513086516156802 28 190} {834959295468965891 28 191} {6448077201726538591 28 192}]
------------------------------------------------------
flag 87338 term 30 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 30 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 73493 term 30 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 30 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {7204513086516156802 28 190} {834959295468965891 28 191} {6448077201726538591 28 192}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {7204513086516156802 28 190} {834959295468965891 28 191} {6448077201726538591 28 192}]
------------------------------------------------------
flag 24220 term 30 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 30 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 77689 term 30 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 30 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {7204513086516156802 28 190} {834959295468965891 28 191} {6448077201726538591 28 192}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {7204513086516156802 28 190} {834959295468965891 28 191} {6448077201726538591 28 192}]
------------------------------------------------------
flag 64140 term 30 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 30 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 87829 term 30 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 30 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {7204513086516156802 28 190} {834959295468965891 28 191} {6448077201726538591 28 192}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=193
update matchIndex[0]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {7204513086516156802 28 190} {834959295468965891 28 191} {6448077201726538591 28 192}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 82329 term 30 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 30 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 36974 term 30 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 30 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 10965 term 30 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 30 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 24078 term 30 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 30 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 35773 term 30 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 30 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 75664 term 30 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 30 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 31 server 1 vote for server 0
term 31 server 0 get vote from server 1
term 31 server 0 become leader
------------------------------------------------------
flag 39143 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 70180 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 28 189} {7204513086516156802 28 190} {834959295468965891 28 191} {6448077201726538591 28 192}]
------------------------------------------------------
flag 69610 term 30 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 30 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 70426 term 30 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 30 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
client write log 657361611606897566 (index 193) to leader 0
flag 79701 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 84085 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {7204513086516156802 28 190} {834959295468965891 28 191} {6448077201726538591 28 192} {657361611606897566 31 193}]
------------------------------------------------------
flag 17429 term 30 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 30 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 23468 term 30 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 30 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 88759 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 2951 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 193 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 28 189} {7204513086516156802 28 190} {834959295468965891 28 191} {6448077201726538591 28 192} {657361611606897566 31 193}]
------------------------------------------------------
flag 39190 term 30 leader 2 nextIndex[0]: 193  matchIndex[0]: 192
term 30 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
flag 23619 term 30 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 30 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
client write log 9002107007965518836 (index 194) to leader 0
client write log 5732159289935894775 (index 195) to leader 0
client write log 3408440003716188321 (index 196) to leader 0
client write log 4998826803737780862 (index 197) to leader 0
client write log 2971209529656504205 (index 198) to leader 0
client write log 1661523494302553953 (index 199) to leader 0
client write log 5771282502038961353 (index 200) to leader 0
client write log 8078185061412886883 (index 201) to leader 0
client write log 5185063964832318014 (index 202) to leader 0
client write log 4579068950009457507 (index 203) to leader 0
client write log 616936343128704344 (index 204) to leader 0
client write log 2543276654537021916 (index 205) to leader 0
client write log 2325993644755542300 (index 206) to leader 0
client write log 1787845448242014092 (index 207) to leader 0
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 193->192
------------------------------------------------------
flag 81138 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 70624 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 193 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 28 189} {7204513086516156802 28 190} {834959295468965891 28 191} {6448077201726538591 28 192} {657361611606897566 31 193} {9002107007965518836 31 194} {5732159289935894775 31 195} {3408440003716188321 31 196} {4998826803737780862 31 197} {2971209529656504205 31 198} {1661523494302553953 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
term 30 leader 2 nextIndex[0]: 0  matchIndex[0]: 192
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 28
------------------------------------------------------
flag 89424 term 30 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 30 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
term 31 Server0 start snapshot! index=199
term 31 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=207
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40796 term 31 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 0
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
term 31 Server1 start snapshot! index=199
term 31 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=207
-------------------------------------------------------------
term 30 leader 2 nextIndex[0]: 0  matchIndex[0]: 192
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 28
------------------------------------------------------
flag 2684 term 30 leader 2 nextIndex[1]: 193  matchIndex[1]: 192
term 30 leader 2 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 28 leaderCommit: 192 
------------------------------------------------------
!!!!!!connect server 2
client write log 3078163421994498700 (index 193) to leader 2
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 0->-1
------------------------------------------------------
flag 75858 term 31 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 0
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 2 InstallSnapshot success
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 31 rf.commitIndex 199 rf.lastApplied 199
term 31 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89397 term 31 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 90086 term 31 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
flag 19452 term 31 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 75384 term 31 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 208->207
------------------------------------------------------
term 31 server 0 not vote for server 2, 任期不够新
term 31 server 2 get outdate rpc reply from server 0
flag 19119 term 31 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 31 leader 0 nextIndex[2]: 0  matchIndex[2]: 207
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 2 InstallSnapshot fail
rf.commitIndex 207 args.LastIncludedIndex 199
------------------------------------------------------
term 31 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59237 term 31 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 96733 term 31 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
flag 77023 term 31 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 26523 term 31 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
flag 90186 term 31 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 86087 term 31 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
flag 53908 term 31 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 53306 term 31 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89029 term 31 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 39862 term 31 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46209 term 31 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 71749 term 31 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
flag 55667 term 31 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 40347 term 31 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
flag 93259 term 31 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 78662 term 31 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
term 31 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 200 matchIndex[2] 199 
------------------------------------------------------------------------
flag 4983 term 31 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 61506 term 31 leader 0 nextIndex[2]: 200  matchIndex[2]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
flag 45072 term 31 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 90904 term 31 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
term 31 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
flag 40494 term 31 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 22234 term 31 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
flag 1107 term 31 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 77332 term 31 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
flag 82773 term 31 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 77545 term 31 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
term 31 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 2 not vote for server 0, 日志不够新
term 31 server 0 get outdate rpc reply from server 2
flag 76403 term 31 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 15475 term 31 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
term 31 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 11710 term 31 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 55087 term 31 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
term 31 server 2 not vote for server 0, 任期不够新
term 31 server 0 get outdate rpc reply from server 2
flag 33559 term 31 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 66152 term 31 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207}]
------------------------------------------------------
client write log 3078163421994498700 (index 208) to leader 0
flag 23695 term 31 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
flag 86731 term 31 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 31 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 31 leaderCommit: 207 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207} {3078163421994498700 31 208}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207} {3078163421994498700 31 208}]
------------------------------------------------------
flag 83293 term 31 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 31 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 208 
------------------------------------------------------
flag 84075 term 31 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 31 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 208 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207} {3078163421994498700 31 208}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207} {3078163421994498700 31 208}]
------------------------------------------------------
flag 45143 term 31 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 31 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 208 
------------------------------------------------------
flag 35240 term 31 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 31 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 208 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207} {3078163421994498700 31 208}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207} {3078163421994498700 31 208}]
------------------------------------------------------
flag 39110 term 31 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 31 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 208 
------------------------------------------------------
flag 4439 term 31 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 31 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 208 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207} {3078163421994498700 31 208}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207} {3078163421994498700 31 208}]
------------------------------------------------------
flag 688 term 31 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 31 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 208 
------------------------------------------------------
flag 51525 term 31 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 31 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 208 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207} {3078163421994498700 31 208}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207} {3078163421994498700 31 208}]
------------------------------------------------------
flag 80255 term 31 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 31 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 208 
------------------------------------------------------
flag 39455 term 31 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 31 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 208 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207} {3078163421994498700 31 208}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=209
update matchIndex[1]=208
update leader CommitIndex=208
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207} {3078163421994498700 31 208}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8168407554205031353 (index 209) to leader 0
flag 58261 term 31 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 31 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 208 
------------------------------------------------------
flag 8391 term 31 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 31 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 31 leaderCommit: 208 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 31 199} {5771282502038961353 31 200} {8078185061412886883 31 201} {5185063964832318014 31 202} {4579068950009457507 31 203} {616936343128704344 31 204} {2543276654537021916 31 205} {2325993644755542300 31 206} {1787845448242014092 31 207} {3078163421994498700 31 208} {8168407554205031353 31 209}]
------------------------------------------------------
term 31 Server0 start snapshot! index=209
term 31 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
term 31 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
flag 16336 term 31 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 31 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 31 209}]
------------------------------------------------------
term 31 Server2 start snapshot! index=209
term 31 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
client write log 7406523017805352342 (index 210) to leader 0
client write log 1032084609898278678 (index 211) to leader 0
client write log 1081330336137601661 (index 212) to leader 0
client write log 650028994278558637 (index 213) to leader 0
client write log 2787954348663912395 (index 214) to leader 0
client write log 7662069421166569077 (index 215) to leader 0
client write log 8811496261396366258 (index 216) to leader 0
client write log 8184164034779503659 (index 217) to leader 0
client write log 7665465664185759098 (index 218) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
flag 72429 term 31 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 31 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 31 leaderCommit: 209 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218}]
------------------------------------------------------
term 31 leader 0 nextIndex[1]: 209  matchIndex[1]: 208
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
flag 94553 term 31 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 31 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 209->208
------------------------------------------------------
!!!!!!connect server 1
client write log 3907678224533487872 (index 219) to leader 0
term 31 server 2 not vote for server 1, 日志不够新
term 31 server 0 not vote for server 1, 日志不够新
term 33 server 2 vote for server 0
term 33 server 0 get vote from server 2
term 33 server 0 become leader
------------------------------------------------------
term 33 server 1 vote for server 0
term 33 server 0 get outdate rpc reply from server 1
flag 99658 term 33 leader 0 nextIndex[1]: 220  matchIndex[1]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 28931 term 33 leader 0 nextIndex[2]: 220  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 33 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 220->219
------------------------------------------------------
term 33 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 220->219
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 209  matchIndex[1]: 0
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
flag 38885 term 33 leader 0 nextIndex[2]: 219  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 33 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 31 rf.commitIndex 209 rf.lastApplied 209
flag 94083 term 33 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 33 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 63715 term 33 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
term 33 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 39487 term 33 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 8653 term 33 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
flag 39509 term 33 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 22366 term 33 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
term 33 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
flag 9022 term 33 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 96507 term 33 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
term 33 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98641 term 33 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 91418 term 33 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
term 33 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 29013 term 33 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 90409 term 33 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
term 33 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 98222 term 33 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 74837 term 33 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
flag 37413 term 33 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 36766 term 33 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13065 term 33 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 59027 term 33 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
term 33 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 1 not vote for server 0, 任期不够新
term 33 server 0 get outdate rpc reply from server 1
flag 40582 term 33 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 58824 term 33 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
flag 91138 term 33 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 39818 term 33 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
flag 47876 term 33 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 54634 term 33 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
flag 95802 term 33 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 79563 term 33 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36517 term 33 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 19336 term 33 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
flag 55362 term 33 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 47094 term 33 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
flag 66685 term 33 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 49270 term 33 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18923 term 33 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 92457 term 33 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40950 term 33 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 39361 term 33 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
client write log 3907678224533487872 (index 220) to leader 0
term 33 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219} {3907678224533487872 33 220}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=218
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219} {3907678224533487872 33 220}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54165 term 33 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
flag 90398 term 33 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 33 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 218 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219} {3907678224533487872 33 220}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 31 209} {7406523017805352342 31 210} {1032084609898278678 31 211} {1081330336137601661 31 212} {650028994278558637 31 213} {2787954348663912395 31 214} {7662069421166569077 31 215} {8811496261396366258 31 216} {8184164034779503659 31 217} {7665465664185759098 31 218} {3907678224533487872 31 219} {3907678224533487872 33 220}]
------------------------------------------------------
term 33 Server0 start snapshot! index=219
term 33 server0 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=220
-------------------------------------------------------------
flag 66161 term 33 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 33 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 33 leaderCommit: 220 
------------------------------------------------------
flag 10930 term 33 leader 0 nextIndex[2]: 221  matchIndex[2]: 220
term 33 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 33 leaderCommit: 220 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {3907678224533487872 33 220}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {3907678224533487872 33 220}]
------------------------------------------------------
term 33 Server2 start snapshot! index=219
term 33 server2 snapshot success
term 33 Server1 start snapshot! index=219
term 33 server1 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=220
-------------------------------------------------------------
lastIncludedIndex=219 lastApplied=220 lastIndex=220
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85845 term 33 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 33 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 33 leaderCommit: 220 
------------------------------------------------------
flag 55226 term 33 leader 0 nextIndex[2]: 221  matchIndex[2]: 220
term 33 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 33 leaderCommit: 220 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {3907678224533487872 33 220}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {3907678224533487872 33 220}]
------------------------------------------------------
flag 88331 term 33 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 33 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 33 leaderCommit: 220 
------------------------------------------------------
flag 22900 term 33 leader 0 nextIndex[2]: 221  matchIndex[2]: 220
term 33 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 33 leaderCommit: 220 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {3907678224533487872 33 220}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {3907678224533487872 33 220}]
------------------------------------------------------
flag 94531 term 33 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 33 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 33 leaderCommit: 220 
------------------------------------------------------
flag 9465 term 33 leader 0 nextIndex[2]: 221  matchIndex[2]: 220
term 33 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 33 leaderCommit: 220 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
term 33 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
[{snapshot 31 219} {3907678224533487872 33 220}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {3907678224533487872 33 220}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62545 term 33 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 33 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 33 leaderCommit: 220 
------------------------------------------------------
flag 22923 term 33 leader 0 nextIndex[2]: 221  matchIndex[2]: 220
term 33 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 33 leaderCommit: 220 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {3907678224533487872 33 220}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=221
update matchIndex[1]=220
update leader CommitIndex=220
leader log:
[{snapshot 31 219} {3907678224533487872 33 220}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1470525424069479424 (index 221) to leader 0
flag 36987 term 33 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 33 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 33 leaderCommit: 220 
------------------------------------------------------
flag 22611 term 33 leader 0 nextIndex[2]: 221  matchIndex[2]: 220
term 33 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 33 leaderCommit: 220 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 31 219} {3907678224533487872 33 220} {1470525424069479424 33 221}]
------------------------------------------------------
flag 23632 term 33 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 33 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 33 leaderCommit: 221 
------------------------------------------------------
flag 37268 term 33 leader 0 nextIndex[2]: 222  matchIndex[2]: 221
term 33 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 33 leaderCommit: 221 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=222
update matchIndex[2]=221
update leader CommitIndex=221
leader log:
[{snapshot 31 219} {3907678224533487872 33 220} {1470525424069479424 33 221}]
------------------------------------------------------
client write log 77361640092535730 (index 222) to leader 0
client write log 4641396527090185433 (index 223) to leader 0
client write log 8235435463651901192 (index 224) to leader 0
client write log 3661136589940300411 (index 225) to leader 0
client write log 6214305312156019174 (index 226) to leader 0
client write log 6684594730795097433 (index 227) to leader 0
client write log 1599924086531731591 (index 228) to leader 0
client write log 4974864485083491696 (index 229) to leader 0
flag 61595 term 33 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 33 leader 0 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 33 leaderCommit: 221 
------------------------------------------------------
flag 23916 term 33 leader 0 nextIndex[2]: 222  matchIndex[2]: 221
term 33 leader 0 sendAppendEntries PrevLogIndex: 221  PrevLogTerm: 33 leaderCommit: 221 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:221 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 31 219} {3907678224533487872 33 220} {1470525424069479424 33 221} {77361640092535730 33 222} {4641396527090185433 33 223} {8235435463651901192 33 224} {3661136589940300411 33 225} {6214305312156019174 33 226} {6684594730795097433 33 227} {1599924086531731591 33 228} {4974864485083491696 33 229}]
------------------------------------------------------
term 33 Server0 start snapshot! index=229
term 33 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 33
------------------------------------------------------
flag 36739 term 33 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 33 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=230
update matchIndex[2]=229
update leader CommitIndex=229
leader log:
[{snapshot 33 229}]
------------------------------------------------------
term 33 Server2 start snapshot! index=229
term 33 server2 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=229
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7450366292874030665 (index 230) to leader 0
term 33 leader 0 nextIndex[1]: 221  matchIndex[1]: 220
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 33
------------------------------------------------------
flag 85029 term 33 leader 0 nextIndex[2]: 230  matchIndex[2]: 229
term 33 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
term 34 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 server 2 vote for server 0
term 35 server 0 get vote from server 2
term 35 server 0 become leader
------------------------------------------------------
term 35 server 1 vote for server 0
term 35 server 0 get outdate rpc reply from server 1
flag 75202 term 35 leader 0 nextIndex[1]: 231  matchIndex[1]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
flag 75365 term 35 leader 0 nextIndex[2]: 231  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 35 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 231->230
------------------------------------------------------
term 35 leader 0 nextIndex[1]: 221  matchIndex[1]: 0
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 33
------------------------------------------------------
flag 84387 term 35 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
term 35 server 1 InstallSnapshot success
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 230 matchIndex[1] 229 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 33 rf.commitIndex 229 rf.lastApplied 229
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
flag 68375 term 35 leader 0 nextIndex[1]: 230  matchIndex[1]: 229
term 35 leader 0 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
flag 56016 term 35 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3581 term 35 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
flag 91942 term 35 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
flag 81342 term 35 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
flag 74787 term 35 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
flag 41979 term 35 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
flag 86464 term 35 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
flag 15212 term 35 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
flag 80699 term 35 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
flag 97758 term 35 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
flag 67876 term 35 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
flag 92305 term 35 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
flag 2914 term 35 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 35 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
update nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
flag 59054 term 35 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
flag 2762 term 35 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
flag 99684 term 35 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
flag 61309 term 35 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
flag 5838 term 35 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
flag 80202 term 35 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
flag 16687 term 35 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
flag 33053 term 35 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
flag 62618 term 35 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
flag 5340 term 35 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
flag 36559 term 35 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
flag 82086 term 35 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
flag 22849 term 35 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
flag 65950 term 35 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23924 term 35 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
flag 98528 term 35 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
flag 78120 term 35 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
flag 81929 term 35 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=231
update matchIndex[2]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=231
update matchIndex[1]=230
update leader CommitIndex=229
leader log:
[{snapshot 33 229} {7450366292874030665 33 230}]
------------------------------------------------------
term 35 server 2 not vote for server 1, 任期不够新
term 35 server 1 get outdate rpc reply from server 2
client write log 7450366292874030665 (index 231) to leader 0
flag 5200 term 35 leader 0 nextIndex[1]: 231  matchIndex[1]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
flag 97513 term 35 leader 0 nextIndex[2]: 231  matchIndex[2]: 230
term 35 leader 0 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 33 leaderCommit: 229 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231}]
------------------------------------------------------
flag 64113 term 35 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 35 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 31107 term 35 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 35 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231}]
------------------------------------------------------
flag 78385 term 35 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 35 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 10950 term 35 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 35 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231}]
------------------------------------------------------
flag 76831 term 35 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 35 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 5085 term 35 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 35 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231}]
------------------------------------------------------
flag 89509 term 35 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 35 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 84257 term 35 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 35 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10962 term 35 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 35 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 30950 term 35 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 35 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231}]
------------------------------------------------------
flag 56171 term 35 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 35 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 62614 term 35 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 35 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 67418 term 35 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 35 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 22082 term 35 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 35 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 17447 term 35 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 35 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 32369 term 35 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 35 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 43040 term 35 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 35 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 22271 term 35 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 35 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
term 36 server 1 vote for server 2
term 36 server 2 get vote from server 1
term 36 server 2 become leader
------------------------------------------------------
flag 82936 term 36 leader 2 nextIndex[0]: 232  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 50039 term 36 leader 2 nextIndex[1]: 232  matchIndex[1]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=232
update matchIndex[1]=231
update leader CommitIndex=231
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231}]
------------------------------------------------------
flag 44914 term 35 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 35 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 71884 term 35 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 35 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
client write log 7034551243203937952 (index 232) to leader 2
flag 66480 term 36 leader 2 nextIndex[0]: 232  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 23203 term 36 leader 2 nextIndex[1]: 232  matchIndex[1]: 231
term 36 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:231 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=232
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231} {7034551243203937952 36 232}]
------------------------------------------------------
flag 76373 term 35 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 35 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 28303 term 35 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 35 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 60922 term 36 leader 2 nextIndex[0]: 232  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 232 
------------------------------------------------------
flag 21566 term 36 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 36 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 36 leaderCommit: 232 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=233
update matchIndex[1]=232
update leader CommitIndex=232
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231} {7034551243203937952 36 232}]
------------------------------------------------------
client write log 6062735925089844226 (index 233) to leader 2
flag 10020 term 35 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 35 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 42112 term 35 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 35 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 34697 term 36 leader 2 nextIndex[0]: 232  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 232 
------------------------------------------------------
flag 88290 term 36 leader 2 nextIndex[1]: 233  matchIndex[1]: 232
term 36 leader 2 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 36 leaderCommit: 232 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231} {7034551243203937952 36 232} {6062735925089844226 36 233}]
------------------------------------------------------
flag 47607 term 35 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 35 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 30490 term 35 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 35 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 36741 term 36 leader 2 nextIndex[0]: 232  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 54822 term 36 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=234
update matchIndex[1]=233
update leader CommitIndex=233
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231} {7034551243203937952 36 232} {6062735925089844226 36 233}]
------------------------------------------------------
!!!!!!connect server 0
client write log 5575702140839655086 (index 234) to leader 2
flag 5497 term 35 leader 0 nextIndex[1]: 232  matchIndex[1]: 231
term 35 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
flag 56623 term 35 leader 0 nextIndex[2]: 232  matchIndex[2]: 231
term 35 leader 0 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 231 
------------------------------------------------------
term 36 server 2 AppendEntries false 领导者任期过期 args.Term 35
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 36 server 1 AppendEntries false 领导者任期过期 args.Term 35
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90916 term 36 leader 2 nextIndex[0]: 232  matchIndex[0]: 0
term 36 leader 2 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 35 leaderCommit: 233 
------------------------------------------------------
flag 99919 term 36 leader 2 nextIndex[1]: 234  matchIndex[1]: 233
term 36 leader 2 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 36 leaderCommit: 233 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
term 36 server 0 AppendEntries true commitIndex:231 
------------------------------------------------------
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231} {7034551243203937952 36 232} {6062735925089844226 36 233} {5575702140839655086 36 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231} {7034551243203937952 36 232} {6062735925089844226 36 233} {5575702140839655086 36 234}]
------------------------------------------------------
flag 68036 term 36 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 15447 term 36 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231} {7034551243203937952 36 232} {6062735925089844226 36 233} {5575702140839655086 36 234}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231} {7034551243203937952 36 232} {6062735925089844226 36 233} {5575702140839655086 36 234}]
------------------------------------------------------
flag 27949 term 36 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 60835 term 36 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231} {7034551243203937952 36 232} {6062735925089844226 36 233} {5575702140839655086 36 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231} {7034551243203937952 36 232} {6062735925089844226 36 233} {5575702140839655086 36 234}]
------------------------------------------------------
flag 4886 term 36 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 95485 term 36 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231} {7034551243203937952 36 232} {6062735925089844226 36 233} {5575702140839655086 36 234}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231} {7034551243203937952 36 232} {6062735925089844226 36 233} {5575702140839655086 36 234}]
------------------------------------------------------
flag 85088 term 36 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 47384 term 36 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231} {7034551243203937952 36 232} {6062735925089844226 36 233} {5575702140839655086 36 234}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231} {7034551243203937952 36 232} {6062735925089844226 36 233} {5575702140839655086 36 234}]
------------------------------------------------------
flag 99756 term 36 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 39928 term 36 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231} {7034551243203937952 36 232} {6062735925089844226 36 233} {5575702140839655086 36 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231} {7034551243203937952 36 232} {6062735925089844226 36 233} {5575702140839655086 36 234}]
------------------------------------------------------
flag 99333 term 36 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 63980 term 36 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=235
update matchIndex[1]=234
update leader CommitIndex=234
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231} {7034551243203937952 36 232} {6062735925089844226 36 233} {5575702140839655086 36 234}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231} {7034551243203937952 36 232} {6062735925089844226 36 233} {5575702140839655086 36 234}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5621840290365532512 (index 235) to leader 2
flag 79335 term 36 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
flag 80632 term 36 leader 2 nextIndex[1]: 235  matchIndex[1]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 234 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231} {7034551243203937952 36 232} {6062735925089844226 36 233} {5575702140839655086 36 234} {5621840290365532512 36 235}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98707 term 36 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
flag 53031 term 36 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 36 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=236
update matchIndex[1]=235
update leader CommitIndex=235
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231} {7034551243203937952 36 232} {6062735925089844226 36 233} {5575702140839655086 36 234} {5621840290365532512 36 235}]
------------------------------------------------------
client write log 7668317730348699729 (index 236) to leader 2
client write log 8305335199083982742 (index 237) to leader 2
client write log 4186169201905426873 (index 238) to leader 2
client write log 9057122097121138509 (index 239) to leader 2
client write log 4119404821702931731 (index 240) to leader 2
client write log 1342608569967725101 (index 241) to leader 2
client write log 3113209485354754189 (index 242) to leader 2
client write log 8726894684692872018 (index 243) to leader 2
flag 75340 term 36 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 36 leader 2 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
flag 61830 term 36 leader 2 nextIndex[1]: 236  matchIndex[1]: 235
term 36 leader 2 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 229} {7450366292874030665 33 230} {7450366292874030665 35 231} {7034551243203937952 36 232} {6062735925089844226 36 233} {5575702140839655086 36 234} {5621840290365532512 36 235} {7668317730348699729 36 236} {8305335199083982742 36 237} {4186169201905426873 36 238} {9057122097121138509 36 239} {4119404821702931731 36 240} {1342608569967725101 36 241} {3113209485354754189 36 242} {8726894684692872018 36 243}]
------------------------------------------------------
term 36 Server2 start snapshot! index=239
term 36 server2 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=243
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
flag 81269 term 36 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 36 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=244
update matchIndex[1]=243
update leader CommitIndex=243
leader log:
[{snapshot 36 239} {4119404821702931731 36 240} {1342608569967725101 36 241} {3113209485354754189 36 242} {8726894684692872018 36 243}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 Server1 start snapshot! index=239
term 36 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=243
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7453980340130390359 (index 244) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 2 nextIndex[0]: 235  matchIndex[0]: 234
term 36 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
flag 65534 term 36 leader 2 nextIndex[1]: 244  matchIndex[1]: 243
term 36 leader 2 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 36 leaderCommit: 243 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
term 37 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
[{snapshot 36 239} {4119404821702931731 36 240} {1342608569967725101 36 241} {3113209485354754189 36 242} {8726894684692872018 36 243} {7453980340130390359 36 244}]
------------------------------------------------------
term 36 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 38 server 1 vote for server 2
term 38 server 2 get vote from server 1
term 38 server 0 vote for server 2
term 38 server 2 become leader
------------------------------------------------------
term 38 server 2 get outdate rpc reply from server 0
flag 64413 term 38 leader 2 nextIndex[0]: 245  matchIndex[0]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 58967 term 38 leader 2 nextIndex[1]: 245  matchIndex[1]: 0
term 38 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
term 38 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {4119404821702931731 36 240} {1342608569967725101 36 241} {3113209485354754189 36 242} {8726894684692872018 36 243} {7453980340130390359 36 244}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 245->244
------------------------------------------------------
term 38 leader 2 nextIndex[0]: 235  matchIndex[0]: 0
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
flag 35298 term 38 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 38 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 38 server 0 InstallSnapshot success
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
Server0 get CondInstallSnapshot!
[{snapshot 36 239} {4119404821702931731 36 240} {1342608569967725101 36 241} {3113209485354754189 36 242} {8726894684692872018 36 243} {7453980340130390359 36 244}]
------------------------------------------------------
term 38 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 240 matchIndex[0] 239 
------------------------------------------------------------------------
rf.lastIncludedIndex 239 rf.lastIncludedTerm 36 rf.commitIndex 239 rf.lastApplied 239
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40636 term 38 leader 2 nextIndex[0]: 240  matchIndex[0]: 239
term 38 leader 2 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 82176 term 38 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 38 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {4119404821702931731 36 240} {1342608569967725101 36 241} {3113209485354754189 36 242} {8726894684692872018 36 243} {7453980340130390359 36 244}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {4119404821702931731 36 240} {1342608569967725101 36 241} {3113209485354754189 36 242} {8726894684692872018 36 243} {7453980340130390359 36 244}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83552 term 38 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 38 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 72002 term 38 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 38 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {4119404821702931731 36 240} {1342608569967725101 36 241} {3113209485354754189 36 242} {8726894684692872018 36 243} {7453980340130390359 36 244}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {4119404821702931731 36 240} {1342608569967725101 36 241} {3113209485354754189 36 242} {8726894684692872018 36 243} {7453980340130390359 36 244}]
------------------------------------------------------
flag 99507 term 38 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 38 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 4868 term 38 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 38 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {4119404821702931731 36 240} {1342608569967725101 36 241} {3113209485354754189 36 242} {8726894684692872018 36 243} {7453980340130390359 36 244}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {4119404821702931731 36 240} {1342608569967725101 36 241} {3113209485354754189 36 242} {8726894684692872018 36 243} {7453980340130390359 36 244}]
------------------------------------------------------
flag 6152 term 38 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 38 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 4691 term 38 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 38 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
term 38 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
[{snapshot 36 239} {4119404821702931731 36 240} {1342608569967725101 36 241} {3113209485354754189 36 242} {8726894684692872018 36 243} {7453980340130390359 36 244}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {4119404821702931731 36 240} {1342608569967725101 36 241} {3113209485354754189 36 242} {8726894684692872018 36 243} {7453980340130390359 36 244}]
------------------------------------------------------
flag 18488 term 38 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 38 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 46466 term 38 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 38 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
term 38 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
[{snapshot 36 239} {4119404821702931731 36 240} {1342608569967725101 36 241} {3113209485354754189 36 242} {8726894684692872018 36 243} {7453980340130390359 36 244}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {4119404821702931731 36 240} {1342608569967725101 36 241} {3113209485354754189 36 242} {8726894684692872018 36 243} {7453980340130390359 36 244}]
------------------------------------------------------
flag 34191 term 38 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 38 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 13151 term 38 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 38 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {4119404821702931731 36 240} {1342608569967725101 36 241} {3113209485354754189 36 242} {8726894684692872018 36 243} {7453980340130390359 36 244}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {4119404821702931731 36 240} {1342608569967725101 36 241} {3113209485354754189 36 242} {8726894684692872018 36 243} {7453980340130390359 36 244}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74393 term 38 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 38 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 14751 term 38 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 38 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=245
update matchIndex[1]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {4119404821702931731 36 240} {1342608569967725101 36 241} {3113209485354754189 36 242} {8726894684692872018 36 243} {7453980340130390359 36 244}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 36 239} {4119404821702931731 36 240} {1342608569967725101 36 241} {3113209485354754189 36 242} {8726894684692872018 36 243} {7453980340130390359 36 244}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2209705315288106115 (index 245) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64090 term 38 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 38 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
flag 7047 term 38 leader 2 nextIndex[1]: 245  matchIndex[1]: 244
term 38 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4119404821702931731 36 240} {1342608569967725101 36 241} {3113209485354754189 36 242} {8726894684692872018 36 243} {7453980340130390359 36 244} {2209705315288106115 38 245}]
------------------------------------------------------
flag 39885 term 38 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 38 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 95426 term 38 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 38 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 36 239} {4119404821702931731 36 240} {1342608569967725101 36 241} {3113209485354754189 36 242} {8726894684692872018 36 243} {7453980340130390359 36 244} {2209705315288106115 38 245}]
------------------------------------------------------
client write log 5690374838208247681 (index 246) to leader 2
client write log 1705350520572197270 (index 247) to leader 2
client write log 4417655463526950807 (index 248) to leader 2
client write log 409377525142953784 (index 249) to leader 2
client write log 998682821592083332 (index 250) to leader 2
client write log 2451273073441642064 (index 251) to leader 2
client write log 3333611496410972260 (index 252) to leader 2
flag 20161 term 38 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 38 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 52754 term 38 leader 2 nextIndex[1]: 246  matchIndex[1]: 245
term 38 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 38 leaderCommit: 245 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 36 239} {4119404821702931731 36 240} {1342608569967725101 36 241} {3113209485354754189 36 242} {8726894684692872018 36 243} {7453980340130390359 36 244} {2209705315288106115 38 245} {5690374838208247681 38 246} {1705350520572197270 38 247} {4417655463526950807 38 248} {409377525142953784 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252}]
------------------------------------------------------
term 38 Server2 start snapshot! index=249
term 38 server2 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=252
-------------------------------------------------------------
term 38 leader 2 nextIndex[0]: 245  matchIndex[0]: 244
term 38 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
flag 47438 term 38 leader 2 nextIndex[1]: 253  matchIndex[1]: 252
term 38 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=253
update matchIndex[1]=252
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252}]
------------------------------------------------------
term 38 Server1 start snapshot! index=249
term 38 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=252
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1875506308639954048 (index 253) to leader 2
term 38 server 2 not vote for server 0, 日志不够新
term 40 server 1 vote for server 2
term 40 server 0 vote for server 2
term 40 server 2 get vote from server 1
term 40 server 2 become leader
------------------------------------------------------
term 40 server 2 get outdate rpc reply from server 0
flag 35570 term 40 leader 2 nextIndex[0]: 254  matchIndex[0]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 66165 term 40 leader 2 nextIndex[1]: 254  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 40 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 254->253
------------------------------------------------------
term 40 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 254->253
------------------------------------------------------
term 40 server 0 not vote for server 1, 任期不够新
term 40 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 245  matchIndex[0]: 0
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
flag 87542 term 40 leader 2 nextIndex[1]: 253  matchIndex[1]: 0
term 40 leader 2 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
term 40 server 0 InstallSnapshot success
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 250 matchIndex[0] 249 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 38 rf.commitIndex 249 rf.lastApplied 249
flag 79036 term 40 leader 2 nextIndex[0]: 250  matchIndex[0]: 249
term 40 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 26317 term 40 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
flag 96089 term 40 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 6262 term 40 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
flag 97658 term 40 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 13790 term 40 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93997 term 40 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 91765 term 40 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
flag 63021 term 40 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 58675 term 40 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
flag 38431 term 40 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 78862 term 40 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
flag 26814 term 40 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 33263 term 40 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 server 1 not vote for server 0, 任期不够新
term 40 server 0 get outdate rpc reply from server 1
flag 93610 term 40 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 18960 term 40 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
flag 66670 term 40 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 7920 term 40 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
term 40 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 77711 term 40 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 2683 term 40 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
flag 33276 term 40 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 64050 term 40 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
flag 74927 term 40 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 48338 term 40 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
flag 15428 term 40 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 52467 term 40 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33885 term 40 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 30785 term 40 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
flag 38087 term 40 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 76409 term 40 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
flag 50026 term 40 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 43746 term 40 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
flag 549 term 40 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 55308 term 40 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=252
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253}]
------------------------------------------------------
term 40 server 1 not vote for server 0, 任期不够新
term 40 server 0 get outdate rpc reply from server 1
term 40 server 2 not vote for server 0, 任期不够新
term 40 server 0 get outdate rpc reply from server 2
client write log 1875506308639954048 (index 254) to leader 2
flag 68337 term 40 leader 2 nextIndex[0]: 254  matchIndex[0]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
flag 69476 term 40 leader 2 nextIndex[1]: 254  matchIndex[1]: 253
term 40 leader 2 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 252 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253} {1875506308639954048 40 254}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253} {1875506308639954048 40 254}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83847 term 40 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 40 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 254 
------------------------------------------------------
flag 67708 term 40 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 40 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 254 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253} {1875506308639954048 40 254}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253} {1875506308639954048 40 254}]
------------------------------------------------------
flag 36560 term 40 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 40 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 254 
------------------------------------------------------
flag 81328 term 40 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 40 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 254 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253} {1875506308639954048 40 254}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253} {1875506308639954048 40 254}]
------------------------------------------------------
flag 62904 term 40 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 40 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 254 
------------------------------------------------------
flag 62872 term 40 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 40 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 254 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253} {1875506308639954048 40 254}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253} {1875506308639954048 40 254}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76731 term 40 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 40 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 254 
------------------------------------------------------
flag 51797 term 40 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 40 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 254 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253} {1875506308639954048 40 254}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253} {1875506308639954048 40 254}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12414 term 40 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 40 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 254 
------------------------------------------------------
flag 85399 term 40 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 40 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 254 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253} {1875506308639954048 40 254}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253} {1875506308639954048 40 254}]
------------------------------------------------------
term 40 server 0 not vote for server 2, 任期不够新
term 40 server 2 get outdate rpc reply from server 0
!!!!!!diconnect server 2
flag 90648 term 40 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 40 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 254 
------------------------------------------------------
flag 83500 term 40 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 40 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 254 
------------------------------------------------------
flag 72316 term 40 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 40 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 254 
------------------------------------------------------
flag 43813 term 40 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 40 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 254 
------------------------------------------------------
flag 12453 term 40 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 40 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 254 
------------------------------------------------------
flag 70271 term 40 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 40 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 254 
------------------------------------------------------
flag 78761 term 40 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 40 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 254 
------------------------------------------------------
flag 76397 term 40 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 40 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 254 
------------------------------------------------------
term 41 server 0 vote for server 1
term 41 server 1 get vote from server 0
term 41 server 1 become leader
------------------------------------------------------
flag 86491 term 41 leader 1 nextIndex[0]: 255  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 254 
------------------------------------------------------
flag 2154 term 41 leader 1 nextIndex[2]: 255  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 254 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=254
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253} {1875506308639954048 40 254}]
------------------------------------------------------
client write log 5237800871681660887 (index 255) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22207 term 40 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 40 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 254 
------------------------------------------------------
flag 33716 term 40 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 40 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 254 
------------------------------------------------------
flag 36461 term 41 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 41 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 254 
------------------------------------------------------
flag 34342 term 41 leader 1 nextIndex[2]: 255  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 254 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253} {1875506308639954048 40 254} {5237800871681660887 41 255}]
------------------------------------------------------
flag 99247 term 40 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 40 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 254 
------------------------------------------------------
flag 31231 term 40 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 40 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 254 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79613 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
flag 41604 term 41 leader 1 nextIndex[2]: 255  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253} {1875506308639954048 40 254} {5237800871681660887 41 255}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 8973955343116521355 (index 256) to leader 1
flag 57978 term 40 leader 2 nextIndex[0]: 255  matchIndex[0]: 254
term 40 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 254 
------------------------------------------------------
flag 31701 term 40 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 40 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 254 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 255->254
------------------------------------------------------
flag 72156 term 41 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 41 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 41 leaderCommit: 255 
------------------------------------------------------
flag 90717 term 41 leader 1 nextIndex[2]: 255  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253} {1875506308639954048 40 254} {5237800871681660887 41 255} {8973955343116521355 41 256}]
------------------------------------------------------
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 254
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
flag 10007 term 40 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 40 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 254 
------------------------------------------------------
flag 64108 term 41 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 26932 term 41 leader 1 nextIndex[2]: 255  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=257
update matchIndex[0]=256
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253} {1875506308639954048 40 254} {5237800871681660887 41 255} {8973955343116521355 41 256}]
------------------------------------------------------
!!!!!!connect server 2
client write log 501686328162754957 (index 257) to leader 1
term 40 leader 2 nextIndex[0]: 0  matchIndex[0]: 254
term 40 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
flag 22840 term 40 leader 2 nextIndex[1]: 255  matchIndex[1]: 254
term 40 leader 2 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 254 
------------------------------------------------------
term 41 server 1 AppendEntries false 领导者任期过期 args.Term 40
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 41 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 41 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6010 term 41 leader 1 nextIndex[0]: 257  matchIndex[0]: 256
term 41 leader 1 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
flag 22923 term 41 leader 1 nextIndex[2]: 255  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253} {1875506308639954048 40 254} {5237800871681660887 41 255} {8973955343116521355 41 256} {501686328162754957 41 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253} {1875506308639954048 40 254} {5237800871681660887 41 255} {8973955343116521355 41 256} {501686328162754957 41 257}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68981 term 41 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 50692 term 41 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 41 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253} {1875506308639954048 40 254} {5237800871681660887 41 255} {8973955343116521355 41 256} {501686328162754957 41 257}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253} {1875506308639954048 40 254} {5237800871681660887 41 255} {8973955343116521355 41 256} {501686328162754957 41 257}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37868 term 41 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 74590 term 41 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 41 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253} {1875506308639954048 40 254} {5237800871681660887 41 255} {8973955343116521355 41 256} {501686328162754957 41 257}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253} {1875506308639954048 40 254} {5237800871681660887 41 255} {8973955343116521355 41 256} {501686328162754957 41 257}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55635 term 41 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 49995 term 41 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 41 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253} {1875506308639954048 40 254} {5237800871681660887 41 255} {8973955343116521355 41 256} {501686328162754957 41 257}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253} {1875506308639954048 40 254} {5237800871681660887 41 255} {8973955343116521355 41 256} {501686328162754957 41 257}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13511 term 41 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 5133 term 41 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 41 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253} {1875506308639954048 40 254} {5237800871681660887 41 255} {8973955343116521355 41 256} {501686328162754957 41 257}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253} {1875506308639954048 40 254} {5237800871681660887 41 255} {8973955343116521355 41 256} {501686328162754957 41 257}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82810 term 41 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 70707 term 41 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 41 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253} {1875506308639954048 40 254} {5237800871681660887 41 255} {8973955343116521355 41 256} {501686328162754957 41 257}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253} {1875506308639954048 40 254} {5237800871681660887 41 255} {8973955343116521355 41 256} {501686328162754957 41 257}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4985572819833515009 (index 258) to leader 1
flag 70107 term 41 leader 1 nextIndex[0]: 258  matchIndex[0]: 257
term 41 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 27366 term 41 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 41 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253} {1875506308639954048 40 254} {5237800871681660887 41 255} {8973955343116521355 41 256} {501686328162754957 41 257} {4985572819833515009 41 258}]
------------------------------------------------------
flag 78309 term 41 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 43346 term 41 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 41 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253} {1875506308639954048 40 254} {5237800871681660887 41 255} {8973955343116521355 41 256} {501686328162754957 41 257} {4985572819833515009 41 258}]
------------------------------------------------------
client write log 1238208868663500970 (index 259) to leader 1
client write log 7034390050347912179 (index 260) to leader 1
client write log 7526373030732599365 (index 261) to leader 1
client write log 4502932997922814882 (index 262) to leader 1
client write log 519822033362273171 (index 263) to leader 1
client write log 7490398921916279625 (index 264) to leader 1
client write log 7930808705014455152 (index 265) to leader 1
client write log 3853604240550777747 (index 266) to leader 1
client write log 2715211813036568637 (index 267) to leader 1
client write log 2732443668046817775 (index 268) to leader 1
client write log 549030090600220824 (index 269) to leader 1
client write log 3096456974797069701 (index 270) to leader 1
client write log 6352817808542511950 (index 271) to leader 1
client write log 1164271929445443701 (index 272) to leader 1
client write log 7787885237424120724 (index 273) to leader 1
flag 74622 term 41 leader 1 nextIndex[0]: 259  matchIndex[0]: 258
term 41 leader 1 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 43496 term 41 leader 1 nextIndex[2]: 258  matchIndex[2]: 257
term 41 leader 1 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=273
leader log:
[{snapshot 38 249} {998682821592083332 38 250} {2451273073441642064 38 251} {3333611496410972260 38 252} {1875506308639954048 38 253} {1875506308639954048 40 254} {5237800871681660887 41 255} {8973955343116521355 41 256} {501686328162754957 41 257} {4985572819833515009 41 258} {1238208868663500970 41 259} {7034390050347912179 41 260} {7526373030732599365 41 261} {4502932997922814882 41 262} {519822033362273171 41 263} {7490398921916279625 41 264} {7930808705014455152 41 265} {3853604240550777747 41 266} {2715211813036568637 41 267} {2732443668046817775 41 268} {549030090600220824 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273}]
------------------------------------------------------
term 41 Server1 start snapshot! index=259
term 41 server1 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=273
-------------------------------------------------------------
term 41 Server1 start snapshot! index=269
term 41 server1 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=273
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 258->257
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56873 term 41 leader 1 nextIndex[0]: 274  matchIndex[0]: 273
term 41 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 0  matchIndex[2]: 257
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=274
update matchIndex[0]=273
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273}]
------------------------------------------------------
term 41 Server0 start snapshot! index=259
term 41 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=273
-------------------------------------------------------------
term 41 Server0 start snapshot! index=269
term 41 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=273
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4027275398540827147 (index 274) to leader 1
term 41 server 1 not vote for server 2, 日志不够新
term 41 server 0 not vote for server 2, 日志不够新
term 43 server 0 vote for server 1
term 43 server 1 get vote from server 0
term 43 server 1 become leader
------------------------------------------------------
term 43 server 2 vote for server 1
term 43 server 1 get outdate rpc reply from server 2
flag 76844 term 43 leader 1 nextIndex[0]: 275  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 26336 term 43 leader 1 nextIndex[2]: 275  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 43 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 275->274
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 275->274
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69094 term 43 leader 1 nextIndex[0]: 274  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 258  matchIndex[2]: 0
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
term 43 server 2 InstallSnapshot success
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 270 matchIndex[2] 269 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 41 rf.commitIndex 269 rf.lastApplied 269
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
flag 83344 term 43 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 34205 term 43 leader 1 nextIndex[2]: 270  matchIndex[2]: 269
term 43 leader 1 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
flag 87575 term 43 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 73788 term 43 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62781 term 43 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 76168 term 43 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
flag 98809 term 43 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 21278 term 43 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85653 term 43 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 73660 term 43 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37938 term 43 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 36736 term 43 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
flag 47705 term 43 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 49635 term 43 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
flag 41728 term 43 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 49081 term 43 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87073 term 43 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 77048 term 43 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
flag 28790 term 43 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 77026 term 43 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
term 43 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
term 43 server 2 not vote for server 1, 任期不够新
term 43 server 1 get outdate rpc reply from server 2
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57844 term 43 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 61811 term 43 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
flag 41065 term 43 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 65270 term 43 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
flag 77193 term 43 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 96669 term 43 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
flag 97713 term 43 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 28680 term 43 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54269 term 43 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 39328 term 43 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
flag 88174 term 43 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 62149 term 43 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
flag 98968 term 43 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 26877 term 43 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=275
update matchIndex[0]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274}]
------------------------------------------------------
client write log 4027275398540827147 (index 275) to leader 1
flag 25722 term 43 leader 1 nextIndex[0]: 275  matchIndex[0]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 61441 term 43 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274} {4027275398540827147 43 275}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274} {4027275398540827147 43 275}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97821 term 43 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 43 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
flag 79478 term 43 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 43 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274} {4027275398540827147 43 275}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274} {4027275398540827147 43 275}]
------------------------------------------------------
flag 60114 term 43 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 43 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
flag 47173 term 43 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 43 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274} {4027275398540827147 43 275}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274} {4027275398540827147 43 275}]
------------------------------------------------------
flag 33211 term 43 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 43 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
flag 47296 term 43 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 43 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274} {4027275398540827147 43 275}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274} {4027275398540827147 43 275}]
------------------------------------------------------
flag 72872 term 43 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 43 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
flag 23723 term 43 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 43 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274} {4027275398540827147 43 275}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274} {4027275398540827147 43 275}]
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61673 term 43 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 43 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
flag 25025 term 43 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 43 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274} {4027275398540827147 43 275}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274} {4027275398540827147 43 275}]
------------------------------------------------------
flag 33449 term 43 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 43 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
flag 40903 term 43 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 43 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=276
update matchIndex[0]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274} {4027275398540827147 43 275}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274} {4027275398540827147 43 275}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2609342613981852188 (index 276) to leader 1
flag 47078 term 43 leader 1 nextIndex[0]: 276  matchIndex[0]: 275
term 43 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
flag 15666 term 43 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 43 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274} {4027275398540827147 43 275} {2609342613981852188 43 276}]
------------------------------------------------------
flag 84777 term 43 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 43 leaderCommit: 276 
------------------------------------------------------
flag 62639 term 43 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 43 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 276 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=277
update matchIndex[0]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274} {4027275398540827147 43 275} {2609342613981852188 43 276}]
------------------------------------------------------
client write log 7084239079429627170 (index 277) to leader 1
client write log 8993305147366347345 (index 278) to leader 1
client write log 773830445363905890 (index 279) to leader 1
client write log 272313650885464437 (index 280) to leader 1
client write log 5160196253412111949 (index 281) to leader 1
client write log 3829310385606730710 (index 282) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63231 term 43 leader 1 nextIndex[0]: 277  matchIndex[0]: 276
term 43 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 43 leaderCommit: 276 
------------------------------------------------------
flag 62107 term 43 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 43 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 276 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 41 269} {3096456974797069701 41 270} {6352817808542511950 41 271} {1164271929445443701 41 272} {7787885237424120724 41 273} {4027275398540827147 41 274} {4027275398540827147 43 275} {2609342613981852188 43 276} {7084239079429627170 43 277} {8993305147366347345 43 278} {773830445363905890 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282}]
------------------------------------------------------
term 43 Server1 start snapshot! index=279
term 43 server1 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=282
-------------------------------------------------------------
flag 99954 term 43 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 43 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282}]
------------------------------------------------------
term 43 Server0 start snapshot! index=279
term 43 server0 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=282
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4868563639731652558 (index 283) to leader 1
flag 38815 term 43 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 43 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
term 44 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 server 2 vote for server 1
term 45 server 0 vote for server 1
term 45 server 1 get vote from server 2
term 45 server 1 become leader
------------------------------------------------------
term 45 server 1 get outdate rpc reply from server 0
flag 10400 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 65354 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 284->283
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
flag 22701 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 276  matchIndex[2]: 0
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
term 45 server 2 InstallSnapshot success
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 280 matchIndex[2] 279 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 43 rf.commitIndex 279 rf.lastApplied 279
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
flag 3798 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 72315 term 45 leader 1 nextIndex[2]: 280  matchIndex[2]: 279
term 45 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51980 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 84293 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
flag 53792 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 37013 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
flag 94281 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 52783 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
flag 17609 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 39390 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33157 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 43827 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
flag 57899 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 29376 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99856 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 84740 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
flag 10563 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 14148 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3313 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 61025 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52513 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 36531 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
flag 69387 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 44880 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
flag 61170 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 2021 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
flag 49454 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 40882 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
flag 38547 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 37993 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
flag 81891 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 66307 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
flag 66487 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 44780 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=284
update matchIndex[2]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=284
update matchIndex[0]=283
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283}]
------------------------------------------------------
client write log 4868563639731652558 (index 284) to leader 1
flag 51144 term 45 leader 1 nextIndex[0]: 284  matchIndex[0]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 11693 term 45 leader 1 nextIndex[2]: 284  matchIndex[2]: 283
term 45 leader 1 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16470 term 45 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
flag 5260 term 45 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284}]
------------------------------------------------------
flag 48645 term 45 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
flag 57010 term 45 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284}]
------------------------------------------------------
flag 57781 term 45 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
flag 88925 term 45 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284}]
------------------------------------------------------
flag 28912 term 45 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
flag 41104 term 45 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
term 45 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284}]
------------------------------------------------------
flag 97054 term 45 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
flag 58548 term 45 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284}]
------------------------------------------------------
flag 24237 term 45 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
flag 5607 term 45 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=285
update matchIndex[0]=284
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 40704 term 45 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
flag 78803 term 45 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
flag 70358 term 45 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
flag 72865 term 45 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
flag 5952 term 45 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
flag 2076 term 45 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
term 46 server 2 vote for server 0
term 46 server 0 get vote from server 2
term 46 server 0 become leader
------------------------------------------------------
flag 9804 term 46 leader 0 nextIndex[1]: 285  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
flag 18208 term 46 leader 0 nextIndex[2]: 285  matchIndex[2]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=285
update matchIndex[2]=284
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284}]
------------------------------------------------------
client write log 1111238232523733176 (index 285) to leader 0
flag 37294 term 45 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
flag 67976 term 45 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
flag 32297 term 46 leader 0 nextIndex[1]: 285  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
flag 57604 term 46 leader 0 nextIndex[2]: 285  matchIndex[2]: 284
term 46 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285}]
------------------------------------------------------
flag 66566 term 45 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
flag 71910 term 45 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27977 term 46 leader 0 nextIndex[1]: 285  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
flag 9991 term 46 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 46 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285}]
------------------------------------------------------
flag 23321 term 45 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
flag 25114 term 45 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
client write log 6081574872429841214 (index 286) to leader 0
flag 67470 term 46 leader 0 nextIndex[1]: 285  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
flag 22791 term 46 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 46 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
flag 31137 term 45 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
flag 28245 term 45 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 84510 term 46 leader 0 nextIndex[1]: 285  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 62562 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
!!!!!!connect server 1
client write log 888139090548518353 (index 285) to leader 1
flag 19119 term 45 leader 1 nextIndex[0]: 285  matchIndex[0]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
flag 17048 term 45 leader 1 nextIndex[2]: 285  matchIndex[2]: 284
term 45 leader 1 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 284 
------------------------------------------------------
term 46 server 2 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
term 46 server 0 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85974 term 46 leader 0 nextIndex[1]: 285  matchIndex[1]: 0
term 46 leader 0 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 82342 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
flag 87560 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 38894 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
flag 90314 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 71513 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
flag 48937 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 50094 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
flag 43795 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 72102 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 287->286
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 0  matchIndex[1]: 286
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
flag 91148 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
term 46 server 1 InstallSnapshot fail
rf.commitIndex 286 args.LastIncludedIndex 279
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
flag 4566 term 46 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 46 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 286 
------------------------------------------------------
flag 97558 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
flag 4188 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 54374 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
flag 25901 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 90131 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
flag 6016 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 31415 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37501 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 5300 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
flag 91457 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 37338 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
term 46 server 0 not vote for server 2, 任期不够新
term 46 server 2 get outdate rpc reply from server 0
flag 41374 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 91602 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
flag 25717 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 4987 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
flag 17316 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 11116 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32784 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 37014 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
flag 82591 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 69020 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67189 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 22462 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
flag 72652 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 61245 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
flag 2837 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 30070 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286}]
------------------------------------------------------
client write log 888139090548518353 (index 287) to leader 0
flag 47168 term 46 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 1613 term 46 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 46 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286} {888139090548518353 46 287}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286} {888139090548518353 46 287}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72567 term 46 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 46 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 46 leaderCommit: 287 
------------------------------------------------------
flag 1604 term 46 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 46 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 46 leaderCommit: 287 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286} {888139090548518353 46 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286} {888139090548518353 46 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 288->287
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 0  matchIndex[1]: 287
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
flag 22916 term 46 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 46 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 46 leaderCommit: 287 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
term 46 server 1 InstallSnapshot fail
rf.commitIndex 287 args.LastIncludedIndex 279
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286} {888139090548518353 46 287}]
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
flag 90740 term 46 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 46 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 287 
------------------------------------------------------
flag 95169 term 46 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 46 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 46 leaderCommit: 287 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286} {888139090548518353 46 287}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286} {888139090548518353 46 287}]
------------------------------------------------------
flag 93972 term 46 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 46 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 46 leaderCommit: 287 
------------------------------------------------------
flag 88431 term 46 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 46 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 46 leaderCommit: 287 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286} {888139090548518353 46 287}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286} {888139090548518353 46 287}]
------------------------------------------------------
flag 29010 term 46 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 46 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 46 leaderCommit: 287 
------------------------------------------------------
flag 63192 term 46 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 46 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 46 leaderCommit: 287 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286} {888139090548518353 46 287}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286} {888139090548518353 46 287}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10394 term 46 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 46 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 46 leaderCommit: 287 
------------------------------------------------------
flag 71002 term 46 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 46 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 46 leaderCommit: 287 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:287 
term 46 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=288
update matchIndex[2]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286} {888139090548518353 46 287}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286} {888139090548518353 46 287}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7630359484022513079 (index 288) to leader 0
flag 91350 term 46 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 46 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 46 leaderCommit: 287 
------------------------------------------------------
flag 26135 term 46 leader 0 nextIndex[2]: 288  matchIndex[2]: 287
term 46 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 46 leaderCommit: 287 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286} {888139090548518353 46 287} {7630359484022513079 46 288}]
------------------------------------------------------
flag 48344 term 46 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 46 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
flag 44264 term 46 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 46 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=289
update matchIndex[2]=288
update leader CommitIndex=288
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286} {888139090548518353 46 287} {7630359484022513079 46 288}]
------------------------------------------------------
client write log 1693289371834436759 (index 289) to leader 0
client write log 2449731257706403488 (index 290) to leader 0
client write log 7155886719253488875 (index 291) to leader 0
client write log 3673078585345118167 (index 292) to leader 0
client write log 8888362314321082837 (index 293) to leader 0
client write log 9185579318616007893 (index 294) to leader 0
client write log 7827799064531340721 (index 295) to leader 0
client write log 2201971872703022307 (index 296) to leader 0
client write log 4489433624362827180 (index 297) to leader 0
flag 54637 term 46 leader 0 nextIndex[1]: 288  matchIndex[1]: 287
term 46 leader 0 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
flag 87597 term 46 leader 0 nextIndex[2]: 289  matchIndex[2]: 288
term 46 leader 0 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 46 leaderCommit: 288 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 43 279} {272313650885464437 43 280} {5160196253412111949 43 281} {3829310385606730710 43 282} {4868563639731652558 43 283} {4868563639731652558 45 284} {1111238232523733176 46 285} {6081574872429841214 46 286} {888139090548518353 46 287} {7630359484022513079 46 288} {1693289371834436759 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297}]
------------------------------------------------------
term 46 Server0 start snapshot! index=289
term 46 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=297
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 288->287
------------------------------------------------------
term 46 leader 0 nextIndex[1]: 0  matchIndex[1]: 287
term 46 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
flag 81665 term 46 leader 0 nextIndex[2]: 298  matchIndex[2]: 297
term 46 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=298
update matchIndex[2]=297
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297}]
------------------------------------------------------
term 46 Server2 start snapshot! index=289
term 46 server2 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=297
-------------------------------------------------------------
!!!!!!connect server 1
client write log 315861692186584892 (index 298) to leader 0
term 46 server 2 not vote for server 1, 日志不够新
term 46 server 0 not vote for server 1, 日志不够新
term 48 server 2 vote for server 0
term 48 server 1 vote for server 0
term 48 server 0 get vote from server 2
term 48 server 0 become leader
------------------------------------------------------
term 48 server 0 get outdate rpc reply from server 1
flag 94705 term 48 leader 0 nextIndex[1]: 299  matchIndex[1]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 95253 term 48 leader 0 nextIndex[2]: 299  matchIndex[2]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 299->298
------------------------------------------------------
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 299->298
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 leader 0 nextIndex[1]: 288  matchIndex[1]: 0
term 48 leader 0 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
flag 51016 term 48 leader 0 nextIndex[2]: 298  matchIndex[2]: 0
term 48 leader 0 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
term 48 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 46 rf.commitIndex 289 rf.lastApplied 289
term 48 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 290 matchIndex[1] 289 
------------------------------------------------------------------------
flag 28734 term 48 leader 0 nextIndex[1]: 290  matchIndex[1]: 289
term 48 leader 0 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 19843 term 48 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:297 
term 48 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73091 term 48 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 3516 term 48 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7785 term 48 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 36225 term 48 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
flag 95105 term 48 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 28451 term 48 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53297 term 48 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 36069 term 48 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58541 term 48 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 92729 term 48 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
flag 13033 term 48 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 29627 term 48 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
term 48 server 1 not vote for server 2, 任期不够新
term 48 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37902 term 48 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 5865 term 48 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96307 term 48 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 3482 term 48 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
flag 19918 term 48 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 25023 term 48 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
flag 51488 term 48 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 75516 term 48 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
flag 96340 term 48 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 22641 term 48 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65374 term 48 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 91799 term 48 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
flag 96302 term 48 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 6132 term 48 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
flag 3851 term 48 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 47212 term 48 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
flag 54660 term 48 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 71014 term 48 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
flag 49279 term 48 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 84807 term 48 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
flag 31871 term 48 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 34815 term 48 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=299
update matchIndex[2]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298}]
------------------------------------------------------
client write log 315861692186584892 (index 299) to leader 0
term 48 server 1 not vote for server 0, 任期不够新
term 48 server 0 get outdate rpc reply from server 1
flag 42013 term 48 leader 0 nextIndex[1]: 299  matchIndex[1]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
flag 52594 term 48 leader 0 nextIndex[2]: 299  matchIndex[2]: 298
term 48 leader 0 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 46 leaderCommit: 297 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=299
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298} {315861692186584892 48 299}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 46 289} {2449731257706403488 46 290} {7155886719253488875 46 291} {3673078585345118167 46 292} {8888362314321082837 46 293} {9185579318616007893 46 294} {7827799064531340721 46 295} {2201971872703022307 46 296} {4489433624362827180 46 297} {315861692186584892 46 298} {315861692186584892 48 299}]
------------------------------------------------------
term 48 Server0 start snapshot! index=299
term 48 server0 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84134 term 48 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 66261 term 48 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 48 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=299
leader log:
[{snapshot 48 299}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 48 299}]
------------------------------------------------------
term 48 Server1 start snapshot! index=299
term 48 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
term 48 Server2 start snapshot! index=299
term 48 server2 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75046 term 48 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 28052 term 48 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 48 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 48 299}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=299
leader log:
[{snapshot 48 299}]
------------------------------------------------------
flag 95507 term 48 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 64533 term 48 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 48 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:299 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=299
leader log:
[{snapshot 48 299}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 48 299}]
------------------------------------------------------
flag 38148 term 48 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 52540 term 48 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 48 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=299
leader log:
[{snapshot 48 299}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 48 299}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 345 term 48 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 5514 term 48 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 48 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=299
leader log:
[{snapshot 48 299}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 48 299}]
------------------------------------------------------
flag 72563 term 48 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 34793 term 48 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 48 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 48 299}]
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=300
update matchIndex[2]=299
update leader CommitIndex=299
leader log:
[{snapshot 48 299}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 9113672921316882012 (index 300) to leader 0
flag 91363 term 48 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
flag 44382 term 48 leader 0 nextIndex[2]: 300  matchIndex[2]: 299
term 48 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 299 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {9113672921316882012 48 300}]
------------------------------------------------------
flag 37515 term 48 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
flag 10020 term 48 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 48 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=301
update matchIndex[2]=300
update leader CommitIndex=300
leader log:
[{snapshot 48 299} {9113672921316882012 48 300}]
------------------------------------------------------
client write log 2844306772226278979 (index 301) to leader 0
client write log 1131348031508359785 (index 302) to leader 0
client write log 5044324697684581163 (index 303) to leader 0
client write log 8131677266283982731 (index 304) to leader 0
client write log 1912405626549476297 (index 305) to leader 0
client write log 1764414877806186217 (index 306) to leader 0
flag 81131 term 48 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
flag 69667 term 48 leader 0 nextIndex[2]: 301  matchIndex[2]: 300
term 48 leader 0 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 48 leaderCommit: 300 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306}]
------------------------------------------------------
flag 95589 term 48 leader 0 nextIndex[1]: 300  matchIndex[1]: 299
term 48 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 14515 term 48 leader 0 nextIndex[2]: 307  matchIndex[2]: 306
term 48 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=307
update matchIndex[2]=306
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306}]
------------------------------------------------------
!!!!!!connect server 1
client write log 3435852382923282629 (index 307) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 server 2 not vote for server 1, 日志不够新
term 48 server 0 not vote for server 1, 日志不够新
term 50 server 2 vote for server 0
term 50 server 1 vote for server 0
term 50 server 0 get vote from server 1
term 50 server 0 become leader
------------------------------------------------------
term 50 server 0 get outdate rpc reply from server 2
flag 26688 term 50 leader 0 nextIndex[1]: 308  matchIndex[1]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 56252 term 50 leader 0 nextIndex[2]: 308  matchIndex[2]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 308->307
------------------------------------------------------
term 50 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 308->307
------------------------------------------------------
flag 28440 term 50 leader 0 nextIndex[1]: 300  matchIndex[1]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 39208 term 50 leader 0 nextIndex[2]: 307  matchIndex[2]: 0
term 50 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
flag 57196 term 50 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 21343 term 50 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77593 term 50 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 23621 term 50 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
flag 75347 term 50 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 22469 term 50 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
flag 21348 term 50 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 64271 term 50 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
flag 78591 term 50 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 84812 term 50 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
flag 5936 term 50 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 56511 term 50 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
flag 73475 term 50 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 73904 term 50 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
flag 18990 term 50 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 28605 term 50 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
flag 84433 term 50 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 11580 term 50 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
flag 52499 term 50 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 35506 term 50 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
flag 93607 term 50 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 87745 term 50 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
flag 42925 term 50 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 9840 term 50 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
flag 75174 term 50 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 37149 term 50 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
flag 95095 term 50 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 51208 term 50 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56094 term 50 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 470 term 50 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
flag 51253 term 50 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 38586 term 50 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
flag 19090 term 50 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 57723 term 50 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=308
update matchIndex[2]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307}]
------------------------------------------------------
client write log 3435852382923282629 (index 308) to leader 0
flag 87488 term 50 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
flag 32713 term 50 leader 0 nextIndex[2]: 308  matchIndex[2]: 307
term 50 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 48 leaderCommit: 306 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307} {3435852382923282629 50 308}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307} {3435852382923282629 50 308}]
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95159 term 50 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 64235 term 50 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307} {3435852382923282629 50 308}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307} {3435852382923282629 50 308}]
------------------------------------------------------
flag 57729 term 50 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 3056 term 50 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
term 50 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307} {3435852382923282629 50 308}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307} {3435852382923282629 50 308}]
------------------------------------------------------
flag 65886 term 50 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 62775 term 50 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307} {3435852382923282629 50 308}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307} {3435852382923282629 50 308}]
------------------------------------------------------
flag 16511 term 50 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 30208 term 50 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307} {3435852382923282629 50 308}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307} {3435852382923282629 50 308}]
------------------------------------------------------
flag 51690 term 50 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 42957 term 50 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307} {3435852382923282629 50 308}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307} {3435852382923282629 50 308}]
------------------------------------------------------
flag 31010 term 50 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 62094 term 50 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:308 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=309
update matchIndex[2]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307} {3435852382923282629 50 308}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307} {3435852382923282629 50 308}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 30172 term 50 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 69235 term 50 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 32431 term 50 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 13135 term 50 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 76016 term 50 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 74570 term 50 leader 0 nextIndex[2]: 309  matchIndex[2]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 309->308
------------------------------------------------------
term 51 server 1 vote for server 2
term 51 server 2 get vote from server 1
term 51 server 2 become leader
------------------------------------------------------
client write log 4151545063243413846 (index 309) to leader 2
flag 62370 term 51 leader 2 nextIndex[0]: 309  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
flag 92871 term 51 leader 2 nextIndex[1]: 309  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 48 299} {9113672921316882012 48 300} {2844306772226278979 48 301} {1131348031508359785 48 302} {5044324697684581163 48 303} {8131677266283982731 48 304} {1912405626549476297 48 305} {1764414877806186217 48 306} {3435852382923282629 48 307} {3435852382923282629 50 308} {4151545063243413846 51 309}]
------------------------------------------------------
term 51 Server2 start snapshot! index=309
term 51 server2 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
flag 4439 term 50 leader 0 nextIndex[1]: 309  matchIndex[1]: 308
term 50 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 50 leaderCommit: 308 
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 0  matchIndex[2]: 308
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 309->308
------------------------------------------------------
term 51 leader 2 nextIndex[0]: 309  matchIndex[0]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 51
------------------------------------------------------
flag 99898 term 51 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 51 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 51 309}]
------------------------------------------------------
term 51 Server1 start snapshot! index=309
term 51 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
client write log 7973962652469672587 (index 310) to leader 2
term 50 leader 0 nextIndex[1]: 0  matchIndex[1]: 308
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 0  matchIndex[2]: 308
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
term 51 leader 2 nextIndex[0]: 309  matchIndex[0]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 51
------------------------------------------------------
flag 22456 term 51 leader 2 nextIndex[1]: 310  matchIndex[1]: 309
term 51 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 309 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {7973962652469672587 51 310}]
------------------------------------------------------
term 50 leader 0 nextIndex[1]: 0  matchIndex[1]: 308
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 0  matchIndex[2]: 308
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
term 51 leader 2 nextIndex[0]: 309  matchIndex[0]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 51
------------------------------------------------------
flag 31771 term 51 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 51 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=311
update matchIndex[1]=310
update leader CommitIndex=310
leader log:
[{snapshot 51 309} {7973962652469672587 51 310}]
------------------------------------------------------
!!!!!!connect server 0
client write log 7584968067342254824 (index 311) to leader 2
term 50 leader 0 nextIndex[1]: 0  matchIndex[1]: 308
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
term 50 leader 0 nextIndex[2]: 0  matchIndex[2]: 308
term 50 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
term 51 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 51 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 51 leader 2 nextIndex[0]: 309  matchIndex[0]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 51
------------------------------------------------------
flag 2704 term 51 leader 2 nextIndex[1]: 311  matchIndex[1]: 310
term 51 leader 2 sendAppendEntries PrevLogIndex: 310  PrevLogTerm: 51 leaderCommit: 310 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:310 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 51 309} {7973962652469672587 51 310} {7584968067342254824 51 311}]
------------------------------------------------------
term 51 server 0 InstallSnapshot success
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 310 matchIndex[0] 309 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 51 rf.commitIndex 309 rf.lastApplied 309
term 51 server 2 not vote for server 0, 日志不够新
term 51 server 1 not vote for server 0, 日志不够新
term 53 server 1 vote for server 2
term 53 server 2 get vote from server 1
term 53 server 2 become leader
------------------------------------------------------
term 53 server 0 vote for server 2
term 53 server 2 get outdate rpc reply from server 0
flag 83619 term 53 leader 2 nextIndex[0]: 312  matchIndex[0]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 51 leaderCommit: 311 
------------------------------------------------------
flag 154 term 53 leader 2 nextIndex[1]: 312  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 51 leaderCommit: 311 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 51 309} {7973962652469672587 51 310} {7584968067342254824 51 311}]
------------------------------------------------------
term 53 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 312->311
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63949 term 53 leader 2 nextIndex[0]: 310  matchIndex[0]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 311 
------------------------------------------------------
flag 12731 term 53 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 53 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 51 leaderCommit: 311 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 51 309} {7973962652469672587 51 310} {7584968067342254824 51 311}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 51 309} {7973962652469672587 51 310} {7584968067342254824 51 311}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55811 term 53 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 53 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 51 leaderCommit: 311 
------------------------------------------------------
flag 61523 term 53 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 53 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 51 leaderCommit: 311 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 51 309} {7973962652469672587 51 310} {7584968067342254824 51 311}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 51 309} {7973962652469672587 51 310} {7584968067342254824 51 311}]
------------------------------------------------------
flag 7548 term 53 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 53 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 51 leaderCommit: 311 
------------------------------------------------------
flag 2181 term 53 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 53 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 51 leaderCommit: 311 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 51 309} {7973962652469672587 51 310} {7584968067342254824 51 311}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 51 309} {7973962652469672587 51 310} {7584968067342254824 51 311}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19339 term 53 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 53 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 51 leaderCommit: 311 
------------------------------------------------------
flag 97402 term 53 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 53 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 51 leaderCommit: 311 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 51 309} {7973962652469672587 51 310} {7584968067342254824 51 311}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 51 309} {7973962652469672587 51 310} {7584968067342254824 51 311}]
------------------------------------------------------
flag 58193 term 53 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 53 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 51 leaderCommit: 311 
------------------------------------------------------
flag 25385 term 53 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 53 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 51 leaderCommit: 311 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 51 309} {7973962652469672587 51 310} {7584968067342254824 51 311}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 51 309} {7973962652469672587 51 310} {7584968067342254824 51 311}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6382 term 53 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 53 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 51 leaderCommit: 311 
------------------------------------------------------
flag 50988 term 53 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 53 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 51 leaderCommit: 311 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 51 309} {7973962652469672587 51 310} {7584968067342254824 51 311}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 51 309} {7973962652469672587 51 310} {7584968067342254824 51 311}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5269619509183167560 (index 312) to leader 2
flag 26687 term 53 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 53 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 51 leaderCommit: 311 
------------------------------------------------------
flag 29497 term 53 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 53 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 51 leaderCommit: 311 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {7973962652469672587 51 310} {7584968067342254824 51 311} {5269619509183167560 53 312}]
------------------------------------------------------
flag 89586 term 53 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 53 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
flag 23273 term 53 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 53 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 312 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 51 309} {7973962652469672587 51 310} {7584968067342254824 51 311} {5269619509183167560 53 312}]
------------------------------------------------------
client write log 3767169548741548008 (index 313) to leader 2
client write log 6660596080340294202 (index 314) to leader 2
client write log 7320140321685108153 (index 315) to leader 2
client write log 2213506513027085390 (index 316) to leader 2
client write log 8447903320436117933 (index 317) to leader 2
client write log 2286974362702416710 (index 318) to leader 2
client write log 177913434078164559 (index 319) to leader 2
client write log 7035523945348894225 (index 320) to leader 2
client write log 5163229182194263497 (index 321) to leader 2
client write log 6871226294031062031 (index 322) to leader 2
client write log 4835915967342194541 (index 323) to leader 2
client write log 4429654816660570593 (index 324) to leader 2
client write log 1199662299713268360 (index 325) to leader 2
client write log 7460449842775135311 (index 326) to leader 2
client write log 7351159629990956934 (index 327) to leader 2
flag 80253 term 53 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 53 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 51 leaderCommit: 312 
------------------------------------------------------
flag 1259 term 53 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 53 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 53 leaderCommit: 312 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 309} {7973962652469672587 51 310} {7584968067342254824 51 311} {5269619509183167560 53 312} {3767169548741548008 53 313} {6660596080340294202 53 314} {7320140321685108153 53 315} {2213506513027085390 53 316} {8447903320436117933 53 317} {2286974362702416710 53 318} {177913434078164559 53 319} {7035523945348894225 53 320} {5163229182194263497 53 321} {6871226294031062031 53 322} {4835915967342194541 53 323} {4429654816660570593 53 324} {1199662299713268360 53 325} {7460449842775135311 53 326} {7351159629990956934 53 327}]
------------------------------------------------------
term 53 Server2 start snapshot! index=319
term 53 server2 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=327
-------------------------------------------------------------
term 53 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 53
------------------------------------------------------
flag 86093 term 53 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 53 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 53 319} {7035523945348894225 53 320} {5163229182194263497 53 321} {6871226294031062031 53 322} {4835915967342194541 53 323} {4429654816660570593 53 324} {1199662299713268360 53 325} {7460449842775135311 53 326} {7351159629990956934 53 327}]
------------------------------------------------------
term 53 Server1 start snapshot! index=319
term 53 server1 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=327
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7290737671931820446 (index 328) to leader 2
term 53 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 53
------------------------------------------------------
flag 96927 term 53 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 53 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 53 319} {7035523945348894225 53 320} {5163229182194263497 53 321} {6871226294031062031 53 322} {4835915967342194541 53 323} {4429654816660570593 53 324} {1199662299713268360 53 325} {7460449842775135311 53 326} {7351159629990956934 53 327} {7290737671931820446 53 328}]
------------------------------------------------------
term 54 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 server 1 vote for server 2
term 55 server 0 vote for server 2
term 55 server 2 get vote from server 1
term 55 server 2 become leader
------------------------------------------------------
term 55 server 2 get outdate rpc reply from server 0
flag 71381 term 55 leader 2 nextIndex[0]: 329  matchIndex[0]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 53 leaderCommit: 328 
------------------------------------------------------
flag 40547 term 55 leader 2 nextIndex[1]: 329  matchIndex[1]: 0
term 55 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 53 leaderCommit: 328 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
term 55 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 53 319} {7035523945348894225 53 320} {5163229182194263497 53 321} {6871226294031062031 53 322} {4835915967342194541 53 323} {4429654816660570593 53 324} {1199662299713268360 53 325} {7460449842775135311 53 326} {7351159629990956934 53 327} {7290737671931820446 53 328}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 329->328
------------------------------------------------------
term 55 leader 2 nextIndex[0]: 312  matchIndex[0]: 0
term 55 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 53
------------------------------------------------------
flag 40554 term 55 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 55 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 53 leaderCommit: 328 
------------------------------------------------------
term 55 server 0 InstallSnapshot success
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 53 rf.commitIndex 319 rf.lastApplied 319
term 55 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 320 matchIndex[0] 319 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 53 319} {7035523945348894225 53 320} {5163229182194263497 53 321} {6871226294031062031 53 322} {4835915967342194541 53 323} {4429654816660570593 53 324} {1199662299713268360 53 325} {7460449842775135311 53 326} {7351159629990956934 53 327} {7290737671931820446 53 328}]
------------------------------------------------------
flag 82928 term 55 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 55 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 53 leaderCommit: 328 
------------------------------------------------------
flag 62304 term 55 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 55 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 53 leaderCommit: 328 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 53 319} {7035523945348894225 53 320} {5163229182194263497 53 321} {6871226294031062031 53 322} {4835915967342194541 53 323} {4429654816660570593 53 324} {1199662299713268360 53 325} {7460449842775135311 53 326} {7351159629990956934 53 327} {7290737671931820446 53 328}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 53 319} {7035523945348894225 53 320} {5163229182194263497 53 321} {6871226294031062031 53 322} {4835915967342194541 53 323} {4429654816660570593 53 324} {1199662299713268360 53 325} {7460449842775135311 53 326} {7351159629990956934 53 327} {7290737671931820446 53 328}]
------------------------------------------------------
flag 28391 term 55 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 55 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 53 leaderCommit: 328 
------------------------------------------------------
flag 30235 term 55 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 55 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 53 leaderCommit: 328 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 53 319} {7035523945348894225 53 320} {5163229182194263497 53 321} {6871226294031062031 53 322} {4835915967342194541 53 323} {4429654816660570593 53 324} {1199662299713268360 53 325} {7460449842775135311 53 326} {7351159629990956934 53 327} {7290737671931820446 53 328}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 53 319} {7035523945348894225 53 320} {5163229182194263497 53 321} {6871226294031062031 53 322} {4835915967342194541 53 323} {4429654816660570593 53 324} {1199662299713268360 53 325} {7460449842775135311 53 326} {7351159629990956934 53 327} {7290737671931820446 53 328}]
------------------------------------------------------
flag 84116 term 55 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 55 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 53 leaderCommit: 328 
------------------------------------------------------
flag 7222 term 55 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 55 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 53 leaderCommit: 328 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 53 319} {7035523945348894225 53 320} {5163229182194263497 53 321} {6871226294031062031 53 322} {4835915967342194541 53 323} {4429654816660570593 53 324} {1199662299713268360 53 325} {7460449842775135311 53 326} {7351159629990956934 53 327} {7290737671931820446 53 328}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 53 319} {7035523945348894225 53 320} {5163229182194263497 53 321} {6871226294031062031 53 322} {4835915967342194541 53 323} {4429654816660570593 53 324} {1199662299713268360 53 325} {7460449842775135311 53 326} {7351159629990956934 53 327} {7290737671931820446 53 328}]
------------------------------------------------------
flag 64726 term 55 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 55 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 53 leaderCommit: 328 
------------------------------------------------------
flag 61817 term 55 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 55 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 53 leaderCommit: 328 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 53 319} {7035523945348894225 53 320} {5163229182194263497 53 321} {6871226294031062031 53 322} {4835915967342194541 53 323} {4429654816660570593 53 324} {1199662299713268360 53 325} {7460449842775135311 53 326} {7351159629990956934 53 327} {7290737671931820446 53 328}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 53 319} {7035523945348894225 53 320} {5163229182194263497 53 321} {6871226294031062031 53 322} {4835915967342194541 53 323} {4429654816660570593 53 324} {1199662299713268360 53 325} {7460449842775135311 53 326} {7351159629990956934 53 327} {7290737671931820446 53 328}]
------------------------------------------------------
flag 26440 term 55 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 55 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 53 leaderCommit: 328 
------------------------------------------------------
flag 24119 term 55 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 55 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 53 leaderCommit: 328 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 53 319} {7035523945348894225 53 320} {5163229182194263497 53 321} {6871226294031062031 53 322} {4835915967342194541 53 323} {4429654816660570593 53 324} {1199662299713268360 53 325} {7460449842775135311 53 326} {7351159629990956934 53 327} {7290737671931820446 53 328}]
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 53 319} {7035523945348894225 53 320} {5163229182194263497 53 321} {6871226294031062031 53 322} {4835915967342194541 53 323} {4429654816660570593 53 324} {1199662299713268360 53 325} {7460449842775135311 53 326} {7351159629990956934 53 327} {7290737671931820446 53 328}]
------------------------------------------------------
flag 74249 term 55 leader 2 nextIndex[0]: 329  matchIndex[0]: 328
term 55 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 53 leaderCommit: 328 
------------------------------------------------------
flag 59931 term 55 leader 2 nextIndex[1]: 329  matchIndex[1]: 328
term 55 leader 2 sendAppendEntries PrevLogIndex: 328  PrevLogTerm: 53 leaderCommit: 328 
------------------------------------------------------
term 55 server 0 AppendEntries true commitIndex:328 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:328 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=329
update matchIndex[0]=328
update leader CommitIndex=328
leader log:
[{snapshot 53 319} {7035523945348894225 53 320} {5163229182194263497 53 321} {6871226294031062031 53 322} {4835915967342194541 53 323} {4429654816660570593 53 324} {1199662299713268360 53 325} {7460449842775135311 53 326} {7351159629990956934 53 327} {7290737671931820446 53 328}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=329
update matchIndex[1]=328
update leader CommitIndex=328
leader log:
[{snapshot 53 319} {7035523945348894225 53 320} {5163229182194263497 53 321} {6871226294031062031 53 322} {4835915967342194541 53 323} {4429654816660570593 53 324} {1199662299713268360 53 325} {7460449842775135311 53 326} {7351159629990956934 53 327} {7290737671931820446 53 328}]
------------------------------------------------------
  ... Passed --  80.2  3 1834  798777  328
--- PASS: TestSnapshotInstall2D (80.21s)
PASS
