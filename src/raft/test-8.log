=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 0 vote for server 2
term 1 server 2 get vote from server 0
term 1 server 2 become leader
------------------------------------------------------
term 1 server 1 vote for server 2
term 1 server 2 get outdate rpc reply from server 1
flag 16325 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 38648 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 7099253503074865817 (index 1) to leader 2
flag 58178 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 67932 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7099253503074865817 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7099253503074865817 1 1}]
------------------------------------------------------
flag 38945 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 21619 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7099253503074865817 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7099253503074865817 1 1}]
------------------------------------------------------
flag 93845 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 30142 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7099253503074865817 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7099253503074865817 1 1}]
------------------------------------------------------
flag 91282 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 37236 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7099253503074865817 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7099253503074865817 1 1}]
------------------------------------------------------
flag 16844 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 92425 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7099253503074865817 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7099253503074865817 1 1}]
------------------------------------------------------
flag 63041 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 76001 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7099253503074865817 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7099253503074865817 1 1}]
------------------------------------------------------
flag 45324 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 32744 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7099253503074865817 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {7099253503074865817 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6791990131738096160 (index 2) to leader 2
flag 16020 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 89334 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {7099253503074865817 1 1} {6791990131738096160 1 2}]
------------------------------------------------------
flag 15976 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 96760 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {7099253503074865817 1 1} {6791990131738096160 1 2}]
------------------------------------------------------
client write log 3549074933964527342 (index 3) to leader 2
client write log 7442215256134039587 (index 4) to leader 2
client write log 6998021687178620417 (index 5) to leader 2
client write log 138237800929879447 (index 6) to leader 2
client write log 3508544105370659522 (index 7) to leader 2
client write log 4159670390724057510 (index 8) to leader 2
client write log 4821711154346349627 (index 9) to leader 2
client write log 5152314340901974628 (index 10) to leader 2
flag 78548 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 57112 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {7099253503074865817 1 1} {6791990131738096160 1 2} {3549074933964527342 1 3} {7442215256134039587 1 4} {6998021687178620417 1 5} {138237800929879447 1 6} {3508544105370659522 1 7} {4159670390724057510 1 8} {4821711154346349627 1 9} {5152314340901974628 1 10}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 97747 term 1 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 1 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7171174461042416426 (index 11) to leader 2
term 1 server 2 not vote for server 0, 日志不够新
term 1 server 1 not vote for server 0, 日志不够新
term 2 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 3 server 1 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 0 vote for server 2
term 3 server 2 get outdate rpc reply from server 0
flag 27817 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 79642 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 12->11
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 12->11
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 95266 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 55917 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 31642 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
flag 94596 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 96182 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
flag 54259 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 73513 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
flag 75493 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 66316 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
flag 6633 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 47489 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
flag 85929 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 49765 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
flag 53821 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 30235 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
flag 61572 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 41018 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
flag 8758 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 27872 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
flag 88451 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 55899 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
flag 12853 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 97098 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
flag 44647 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 64816 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
flag 93298 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 2402 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
flag 20025 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 56685 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
flag 41718 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 8981 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
flag 91941 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 62552 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
flag 62719 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 50573 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
flag 88436 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 37075 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11}]
------------------------------------------------------
client write log 7171174461042416426 (index 12) to leader 2
flag 28821 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
flag 91702 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11} {7171174461042416426 3 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11} {7171174461042416426 3 12}]
------------------------------------------------------
flag 58147 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 57457 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11} {7171174461042416426 3 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11} {7171174461042416426 3 12}]
------------------------------------------------------
flag 92308 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 2091 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11} {7171174461042416426 3 12}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11} {7171174461042416426 3 12}]
------------------------------------------------------
flag 3508 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 70785 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11} {7171174461042416426 3 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11} {7171174461042416426 3 12}]
------------------------------------------------------
flag 79834 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 22087 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11} {7171174461042416426 3 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11} {7171174461042416426 3 12}]
------------------------------------------------------
flag 41718 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 82597 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11} {7171174461042416426 3 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11} {7171174461042416426 3 12}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 29779 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 45159 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 55130 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 72663 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 54976 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 27202 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 24086 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 44970 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 0 vote for server 1
term 4 server 1 get vote from server 0
term 4 server 1 become leader
------------------------------------------------------
flag 94582 term 4 leader 1 nextIndex[0]: 13  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 4639 term 4 leader 1 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11} {7171174461042416426 3 12}]
------------------------------------------------------
client write log 3814034256966905409 (index 13) to leader 1
flag 50439 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 76852 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95941 term 4 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 18733 term 4 leader 1 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11} {7171174461042416426 3 12} {3814034256966905409 4 13}]
------------------------------------------------------
flag 7491 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 61282 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 13->12
------------------------------------------------------
flag 76829 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 59828 term 4 leader 1 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11} {7171174461042416426 3 12} {3814034256966905409 4 13}]
------------------------------------------------------
client write log 685506819874944531 (index 14) to leader 1
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 12
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 64060 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 6870 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 44586 term 4 leader 1 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11} {7171174461042416426 3 12} {3814034256966905409 4 13} {685506819874944531 4 14}]
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 12
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 79514 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
flag 44510 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 69948 term 4 leader 1 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11} {7171174461042416426 3 12} {3814034256966905409 4 13} {685506819874944531 4 14}]
------------------------------------------------------
!!!!!!connect server 2
client write log 6993193465886011050 (index 15) to leader 1
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 12
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 55314 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
term 4 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23216 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 45327 term 4 leader 1 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 3 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:12 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11} {7171174461042416426 3 12} {3814034256966905409 4 13} {685506819874944531 4 14} {6993193465886011050 4 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11} {7171174461042416426 3 12} {3814034256966905409 4 13} {685506819874944531 4 14} {6993193465886011050 4 15}]
------------------------------------------------------
flag 96992 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 65022 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11} {7171174461042416426 3 12} {3814034256966905409 4 13} {685506819874944531 4 14} {6993193465886011050 4 15}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11} {7171174461042416426 3 12} {3814034256966905409 4 13} {685506819874944531 4 14} {6993193465886011050 4 15}]
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27310 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 23281 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11} {7171174461042416426 3 12} {3814034256966905409 4 13} {685506819874944531 4 14} {6993193465886011050 4 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11} {7171174461042416426 3 12} {3814034256966905409 4 13} {685506819874944531 4 14} {6993193465886011050 4 15}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1248 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 35948 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11} {7171174461042416426 3 12} {3814034256966905409 4 13} {685506819874944531 4 14} {6993193465886011050 4 15}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11} {7171174461042416426 3 12} {3814034256966905409 4 13} {685506819874944531 4 14} {6993193465886011050 4 15}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 16->15
------------------------------------------------------
flag 7815 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 0  matchIndex[2]: 15
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 2 InstallSnapshot fail
rf.commitIndex 15 args.LastIncludedIndex 9
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11} {7171174461042416426 3 12} {3814034256966905409 4 13} {685506819874944531 4 14} {6993193465886011050 4 15}]
------------------------------------------------------
flag 87347 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 12265 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11} {7171174461042416426 3 12} {3814034256966905409 4 13} {685506819874944531 4 14} {6993193465886011050 4 15}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11} {7171174461042416426 3 12} {3814034256966905409 4 13} {685506819874944531 4 14} {6993193465886011050 4 15}]
------------------------------------------------------
flag 48108 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 55313 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=16
update matchIndex[2]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11} {7171174461042416426 3 12} {3814034256966905409 4 13} {685506819874944531 4 14} {6993193465886011050 4 15}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11} {7171174461042416426 3 12} {3814034256966905409 4 13} {685506819874944531 4 14} {6993193465886011050 4 15}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6658059433209554511 (index 16) to leader 1
flag 36612 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 10666 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11} {7171174461042416426 3 12} {3814034256966905409 4 13} {685506819874944531 4 14} {6993193465886011050 4 15} {6658059433209554511 4 16}]
------------------------------------------------------
flag 46610 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 86452 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=17
update matchIndex[0]=16
update leader CommitIndex=16
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11} {7171174461042416426 3 12} {3814034256966905409 4 13} {685506819874944531 4 14} {6993193465886011050 4 15} {6658059433209554511 4 16}]
------------------------------------------------------
client write log 3236445313840701944 (index 17) to leader 1
client write log 2679605944914039483 (index 18) to leader 1
client write log 407197085702275350 (index 19) to leader 1
client write log 928375792459894437 (index 20) to leader 1
client write log 540694861851024710 (index 21) to leader 1
client write log 7914720687422700833 (index 22) to leader 1
client write log 6244919896547442420 (index 23) to leader 1
client write log 5180354659382761974 (index 24) to leader 1
flag 80160 term 4 leader 1 nextIndex[0]: 17  matchIndex[0]: 16
term 4 leader 1 sendAppendEntries PrevLogIndex: 16  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
flag 57106 term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 16 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:16 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 1 9} {5152314340901974628 1 10} {7171174461042416426 1 11} {7171174461042416426 3 12} {3814034256966905409 4 13} {685506819874944531 4 14} {6993193465886011050 4 15} {6658059433209554511 4 16} {3236445313840701944 4 17} {2679605944914039483 4 18} {407197085702275350 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=24
-------------------------------------------------------------
flag 3872 term 4 leader 1 nextIndex[0]: 25  matchIndex[0]: 24
term 4 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 16  matchIndex[2]: 15
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=25
update matchIndex[0]=24
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=24
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1962564404891162185 (index 25) to leader 1
term 4 server 1 not vote for server 2, 日志不够新
term 4 server 0 not vote for server 2, 日志不够新
term 6 server 2 vote for server 1
term 6 server 0 vote for server 1
term 6 server 1 get vote from server 2
term 6 server 1 become leader
------------------------------------------------------
term 6 server 1 get outdate rpc reply from server 0
flag 64227 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 8449 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 26->25
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 26->25
------------------------------------------------------
flag 88705 term 6 leader 1 nextIndex[0]: 25  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 24  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 16  matchIndex[2]: 0
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 6 server 2 InstallSnapshot success
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot success
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82388 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 91834 term 6 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 6 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18950 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 55259 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
flag 22525 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 92064 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
flag 12908 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 5049 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
flag 48734 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 13894 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98506 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 77999 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
flag 35043 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 99439 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
flag 24305 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 36996 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
flag 59844 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 57455 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
flag 83366 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 62762 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
flag 51823 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 13279 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17512 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 2575 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83550 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 75253 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49363 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 98905 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
flag 67587 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 41805 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69532 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 77715 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
flag 2802 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 96610 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91630 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 40527 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=26
update matchIndex[0]=25
update leader CommitIndex=24
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25}]
------------------------------------------------------
client write log 1962564404891162185 (index 26) to leader 1
flag 67592 term 6 leader 1 nextIndex[0]: 26  matchIndex[0]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
flag 26788 term 6 leader 1 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 1 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 24 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:24 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:24 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25} {1962564404891162185 6 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25} {1962564404891162185 6 26}]
------------------------------------------------------
flag 20788 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 5451 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25} {1962564404891162185 6 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25} {1962564404891162185 6 26}]
------------------------------------------------------
term 6 server 2 not vote for server 1, 任期不够新
term 6 server 1 get outdate rpc reply from server 2
flag 49243 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 10606 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25} {1962564404891162185 6 26}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25} {1962564404891162185 6 26}]
------------------------------------------------------
flag 25586 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 58036 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25} {1962564404891162185 6 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25} {1962564404891162185 6 26}]
------------------------------------------------------
flag 36057 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 57706 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25} {1962564404891162185 6 26}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25} {1962564404891162185 6 26}]
------------------------------------------------------
flag 18180 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 19335 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25} {1962564404891162185 6 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25} {1962564404891162185 6 26}]
------------------------------------------------------
flag 33724 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 87414 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25} {1962564404891162185 6 26}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=27
update matchIndex[0]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25} {1962564404891162185 6 26}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2361290511576419402 (index 27) to leader 1
flag 69587 term 6 leader 1 nextIndex[0]: 27  matchIndex[0]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 2328 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25} {1962564404891162185 6 26} {2361290511576419402 6 27}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54672 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 30538 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25} {1962564404891162185 6 26} {2361290511576419402 6 27}]
------------------------------------------------------
client write log 3965233378833437420 (index 28) to leader 1
client write log 740274047104563670 (index 29) to leader 1
client write log 5034525537646606155 (index 30) to leader 1
client write log 6965987257577683323 (index 31) to leader 1
client write log 4182881092834806872 (index 32) to leader 1
client write log 2024397597796542868 (index 33) to leader 1
client write log 777931950150791146 (index 34) to leader 1
client write log 595946099669108616 (index 35) to leader 1
client write log 8343512797301527490 (index 36) to leader 1
client write log 4510426179897030060 (index 37) to leader 1
client write log 501290154868909147 (index 38) to leader 1
client write log 6045175189795592228 (index 39) to leader 1
client write log 6520637167777023189 (index 40) to leader 1
client write log 3009313106887353147 (index 41) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47987 term 6 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 6 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 60891 term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 19} {928375792459894437 4 20} {540694861851024710 4 21} {7914720687422700833 4 22} {6244919896547442420 4 23} {5180354659382761974 4 24} {1962564404891162185 4 25} {1962564404891162185 6 26} {2361290511576419402 6 27} {3965233378833437420 6 28} {740274047104563670 6 29} {5034525537646606155 6 30} {6965987257577683323 6 31} {4182881092834806872 6 32} {2024397597796542868 6 33} {777931950150791146 6 34} {595946099669108616 6 35} {8343512797301527490 6 36} {4510426179897030060 6 37} {501290154868909147 6 38} {6045175189795592228 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41}]
------------------------------------------------------
term 6 Server1 start snapshot! index=29
term 6 server1 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=41
-------------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=40 lastIndex=41
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39433 term 6 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 6 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41}]
------------------------------------------------------
term 6 Server0 start snapshot! index=29
term 6 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=41
-------------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=41
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3115497308325410675 (index 42) to leader 1
term 6 server 1 not vote for server 2, 日志不够新
term 6 server 0 not vote for server 2, 日志不够新
term 8 server 2 vote for server 1
term 8 server 0 vote for server 1
term 8 server 1 get vote from server 2
term 8 server 1 become leader
------------------------------------------------------
term 8 server 1 get outdate rpc reply from server 0
flag 67418 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 99154 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 43->42
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 43->42
------------------------------------------------------
flag 31779 term 8 leader 1 nextIndex[0]: 42  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 27  matchIndex[2]: 0
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 server 2 InstallSnapshot success
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 40 matchIndex[2] 39 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
flag 97720 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 34878 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
flag 23042 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 82355 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 135 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 87152 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 18311 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 49248 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
flag 78521 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 17922 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
flag 47665 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 50807 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
flag 1169 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 73551 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
flag 99616 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 63386 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
flag 28024 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 1383 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
flag 73937 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 40318 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
flag 26848 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 3199 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95020 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 93454 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38576 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 55599 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86497 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 3424 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85861 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 9307 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
flag 82322 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 18669 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87807 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 39807 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=43
update matchIndex[2]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=41
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42}]
------------------------------------------------------
client write log 3115497308325410675 (index 43) to leader 1
flag 66906 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 81514 term 8 leader 1 nextIndex[2]: 43  matchIndex[2]: 42
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43}]
------------------------------------------------------
flag 269 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 53784 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43}]
------------------------------------------------------
flag 51648 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 53072 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23017 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 89317 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43}]
------------------------------------------------------
flag 50046 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 54338 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43}]
------------------------------------------------------
flag 65669 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 71075 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43}]
------------------------------------------------------
flag 65400 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 14728 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 65675 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 7146 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 10965 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 58080 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 41393 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 44438 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 vote for server 0
term 9 server 0 get vote from server 2
term 9 server 0 become leader
------------------------------------------------------
flag 67885 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 47196 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=43
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43}]
------------------------------------------------------
client write log 5202643300553579216 (index 44) to leader 0
flag 21998 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 80556 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 83662 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 56975 term 9 leader 0 nextIndex[2]: 44  matchIndex[2]: 43
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44}]
------------------------------------------------------
flag 68853 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 40345 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 19328 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 8404 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44}]
------------------------------------------------------
client write log 1485381752835083053 (index 45) to leader 0
flag 1669 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 42328 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 42728 term 9 leader 0 nextIndex[1]: 44  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 91601 term 9 leader 0 nextIndex[2]: 45  matchIndex[2]: 44
term 9 leader 0 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 9 leaderCommit: 44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
flag 92771 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 56798 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 44->43
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 72762 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 1
client write log 5764247880044338122 (index 44) to leader 1
flag 83749 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
flag 7908 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 8 leaderCommit: 43 
------------------------------------------------------
term 9 server 2 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 9 server 0 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 87282 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
term 9 server 1 InstallSnapshot fail
rf.commitIndex 43 args.LastIncludedIndex 39
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
flag 30182 term 9 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 45 
------------------------------------------------------
flag 90377 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:44 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98440 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 19917 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
flag 51928 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 80253 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
flag 70508 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 18250 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
flag 96873 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 38936 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
flag 9102 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 25723 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33087 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 70576 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
flag 94560 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 74900 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59651 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 14897 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85852 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 56380 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10222 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 36469 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
flag 83857 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 82540 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
flag 20550 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 34645 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
flag 95832 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 44032 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
flag 78168 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 74371 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
flag 71318 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 12007 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
flag 4476 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 72932 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
flag 52422 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 91945 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8736 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 10153 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=46
update matchIndex[2]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=46
update matchIndex[1]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45}]
------------------------------------------------------
client write log 5764247880044338122 (index 46) to leader 0
flag 99832 term 9 leader 0 nextIndex[1]: 46  matchIndex[1]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 80507 term 9 leader 0 nextIndex[2]: 46  matchIndex[2]: 45
term 9 leader 0 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45} {5764247880044338122 9 46}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45} {5764247880044338122 9 46}]
------------------------------------------------------
flag 86417 term 9 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
flag 7831 term 9 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45} {5764247880044338122 9 46}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45} {5764247880044338122 9 46}]
------------------------------------------------------
flag 28027 term 9 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
flag 79820 term 9 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45} {5764247880044338122 9 46}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45} {5764247880044338122 9 46}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 47->46
------------------------------------------------------
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 46
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 84698 term 9 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45} {5764247880044338122 9 46}]
------------------------------------------------------
term 9 server 1 InstallSnapshot fail
rf.commitIndex 46 args.LastIncludedIndex 39
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
flag 18685 term 9 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 9 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 70973 term 9 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45} {5764247880044338122 9 46}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45} {5764247880044338122 9 46}]
------------------------------------------------------
flag 46133 term 9 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
flag 41715 term 9 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45} {5764247880044338122 9 46}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45} {5764247880044338122 9 46}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 server 1 not vote for server 0, 日志不够新
term 9 server 0 get outdate rpc reply from server 1
flag 10840 term 9 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
flag 36533 term 9 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=47
update matchIndex[2]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45} {5764247880044338122 9 46}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=47
update matchIndex[1]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45} {5764247880044338122 9 46}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 9194641437861402631 (index 47) to leader 0
flag 28991 term 9 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
flag 56525 term 9 leader 0 nextIndex[2]: 47  matchIndex[2]: 46
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 46 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45} {5764247880044338122 9 46} {9194641437861402631 9 47}]
------------------------------------------------------
flag 56889 term 9 leader 0 nextIndex[1]: 47  matchIndex[1]: 46
term 9 leader 0 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
flag 68408 term 9 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=47
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45} {5764247880044338122 9 46} {9194641437861402631 9 47}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 47->46
------------------------------------------------------
client write log 9026215606104944204 (index 48) to leader 0
client write log 3500210721489213845 (index 49) to leader 0
client write log 1673664512377897409 (index 50) to leader 0
client write log 4180170401572415895 (index 51) to leader 0
client write log 8119343825746118965 (index 52) to leader 0
client write log 8419163600330086390 (index 53) to leader 0
client write log 7748151649691028091 (index 54) to leader 0
client write log 4299029784514724583 (index 55) to leader 0
client write log 7360466443767264394 (index 56) to leader 0
client write log 9193083176944646008 (index 57) to leader 0
client write log 1513921562986531190 (index 58) to leader 0
client write log 8711152034301178291 (index 59) to leader 0
client write log 3539732067076375018 (index 60) to leader 0
client write log 213185040502868915 (index 61) to leader 0
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 46
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 42114 term 9 leader 0 nextIndex[2]: 48  matchIndex[2]: 47
term 9 leader 0 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 9 leaderCommit: 47 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:47 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 6 39} {6520637167777023189 6 40} {3009313106887353147 6 41} {3115497308325410675 6 42} {3115497308325410675 8 43} {5202643300553579216 9 44} {1485381752835083053 9 45} {5764247880044338122 9 46} {9194641437861402631 9 47} {9026215606104944204 9 48} {3500210721489213845 9 49} {1673664512377897409 9 50} {4180170401572415895 9 51} {8119343825746118965 9 52} {8419163600330086390 9 53} {7748151649691028091 9 54} {4299029784514724583 9 55} {7360466443767264394 9 56} {9193083176944646008 9 57} {1513921562986531190 9 58} {8711152034301178291 9 59} {3539732067076375018 9 60} {213185040502868915 9 61}]
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=61
-------------------------------------------------------------
term 9 Server0 start snapshot! index=59
term 9 server0 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=61
-------------------------------------------------------------
term 9 leader 0 nextIndex[1]: 0  matchIndex[1]: 46
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 88390 term 9 leader 0 nextIndex[2]: 62  matchIndex[2]: 61
term 9 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=62
update matchIndex[2]=61
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61}]
------------------------------------------------------
term 9 Server2 start snapshot! index=49
term 9 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=61
-------------------------------------------------------------
term 9 Server2 start snapshot! index=59
term 9 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=61
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6288244227248980680 (index 62) to leader 0
term 9 server 2 not vote for server 1, 日志不够新
term 9 server 0 not vote for server 1, 日志不够新
term 11 server 2 vote for server 0
term 11 server 0 get vote from server 2
term 11 server 0 become leader
------------------------------------------------------
term 11 server 1 vote for server 0
term 11 server 0 get outdate rpc reply from server 1
flag 87915 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 7940 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 63->62
------------------------------------------------------
term 11 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 63->62
------------------------------------------------------
term 11 leader 0 nextIndex[1]: 47  matchIndex[1]: 0
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
flag 75382 term 11 leader 0 nextIndex[2]: 62  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
term 11 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11388 term 11 leader 0 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 0 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 45110 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
flag 85447 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 75419 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
flag 13953 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 71143 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
flag 93510 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 5733 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98761 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 2793 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86180 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 79305 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 99176 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 94108 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
flag 8743 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 60785 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38853 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 47417 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
flag 41352 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 93481 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
flag 46662 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 96721 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14024 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 14028 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
flag 79747 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 21864 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
flag 63245 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 58966 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
flag 68573 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 15781 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
flag 90086 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 8067 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
flag 85648 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 328 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
flag 72723 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 11432 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=63
update matchIndex[2]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=63
update matchIndex[1]=62
update leader CommitIndex=61
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62}]
------------------------------------------------------
client write log 6288244227248980680 (index 63) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22663 term 11 leader 0 nextIndex[1]: 63  matchIndex[1]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
flag 45556 term 11 leader 0 nextIndex[2]: 63  matchIndex[2]: 62
term 11 leader 0 sendAppendEntries PrevLogIndex: 62  PrevLogTerm: 9 leaderCommit: 61 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62} {6288244227248980680 11 63}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62} {6288244227248980680 11 63}]
------------------------------------------------------
flag 19293 term 11 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 36971 term 11 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62} {6288244227248980680 11 63}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62} {6288244227248980680 11 63}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46313 term 11 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 53093 term 11 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62} {6288244227248980680 11 63}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62} {6288244227248980680 11 63}]
------------------------------------------------------
flag 93952 term 11 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 61990 term 11 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62} {6288244227248980680 11 63}]
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62} {6288244227248980680 11 63}]
------------------------------------------------------
flag 81777 term 11 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 42969 term 11 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62} {6288244227248980680 11 63}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62} {6288244227248980680 11 63}]
------------------------------------------------------
flag 65005 term 11 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 87798 term 11 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=64
update matchIndex[2]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62} {6288244227248980680 11 63}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=64
update matchIndex[1]=63
update leader CommitIndex=63
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62} {6288244227248980680 11 63}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6220386771529849728 (index 64) to leader 0
flag 7556 term 11 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
flag 30912 term 11 leader 0 nextIndex[2]: 64  matchIndex[2]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 63 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:63 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62} {6288244227248980680 11 63} {6220386771529849728 11 64}]
------------------------------------------------------
flag 19218 term 11 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 20528 term 11 leader 0 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 0 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=65
update matchIndex[2]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62} {6288244227248980680 11 63} {6220386771529849728 11 64}]
------------------------------------------------------
client write log 7179654754816232688 (index 65) to leader 0
client write log 1466533632555886063 (index 66) to leader 0
client write log 669460523925662313 (index 67) to leader 0
client write log 3584261629178667017 (index 68) to leader 0
client write log 6487197096432697707 (index 69) to leader 0
client write log 7405878594281898522 (index 70) to leader 0
flag 78949 term 11 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 0 sendAppendEntries PrevLogIndex: 63  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
flag 39312 term 11 leader 0 nextIndex[2]: 65  matchIndex[2]: 64
term 11 leader 0 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 11 leaderCommit: 64 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 59} {3539732067076375018 9 60} {213185040502868915 9 61} {6288244227248980680 9 62} {6288244227248980680 11 63} {6220386771529849728 11 64} {7179654754816232688 11 65} {1466533632555886063 11 66} {669460523925662313 11 67} {3584261629178667017 11 68} {6487197096432697707 11 69} {7405878594281898522 11 70}]
------------------------------------------------------
term 11 Server0 start snapshot! index=69
term 11 server0 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
term 11 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 25182 term 11 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 11 69} {7405878594281898522 11 70}]
------------------------------------------------------
term 11 Server2 start snapshot! index=69
term 11 server2 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=70
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4781675407067125553 (index 71) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 0 nextIndex[1]: 64  matchIndex[1]: 63
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 71608 term 11 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 11 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71}]
------------------------------------------------------
term 12 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 13 server 2 vote for server 0
term 13 server 1 vote for server 0
term 13 server 0 get vote from server 2
term 13 server 0 become leader
------------------------------------------------------
term 13 server 0 get outdate rpc reply from server 1
flag 3092 term 13 leader 0 nextIndex[1]: 72  matchIndex[1]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 27684 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71}]
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 72->71
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 0 nextIndex[1]: 64  matchIndex[1]: 0
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 6399 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71}]
------------------------------------------------------
term 13 server 1 InstallSnapshot success
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 70 matchIndex[1] 69 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 11 rf.commitIndex 69 rf.lastApplied 69
flag 78248 term 13 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 74013 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71}]
------------------------------------------------------
flag 14418 term 13 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 49149 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71}]
------------------------------------------------------
term 13 server 0 not vote for server 1, 任期不够新
term 13 server 1 get outdate rpc reply from server 0
flag 76496 term 13 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 9385 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71}]
------------------------------------------------------
flag 43978 term 13 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 23444 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40768 term 13 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 75445 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71}]
------------------------------------------------------
flag 29014 term 13 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 76948 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 94953 term 13 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 86508 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 24729 term 13 leader 0 nextIndex[1]: 72  matchIndex[1]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 48444 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 72->71
------------------------------------------------------
term 13 leader 0 nextIndex[1]: 0  matchIndex[1]: 71
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 39482 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 14 server 1 vote for server 2
term 14 server 2 get vote from server 1
term 14 server 2 become leader
------------------------------------------------------
flag 24563 term 14 leader 2 nextIndex[0]: 72  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 41246 term 14 leader 2 nextIndex[1]: 72  matchIndex[1]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=72
update matchIndex[1]=71
update leader CommitIndex=71
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71}]
------------------------------------------------------
client write log 3437493385571531329 (index 72) to leader 2
term 13 leader 0 nextIndex[1]: 0  matchIndex[1]: 71
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 22238 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 43472 term 14 leader 2 nextIndex[0]: 72  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 90056 term 14 leader 2 nextIndex[1]: 72  matchIndex[1]: 71
term 14 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71} {3437493385571531329 14 72}]
------------------------------------------------------
term 13 leader 0 nextIndex[1]: 0  matchIndex[1]: 71
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 27719 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
flag 31162 term 14 leader 2 nextIndex[0]: 72  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 69462 term 14 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 14 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 14 leaderCommit: 72 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=73
update matchIndex[1]=72
update leader CommitIndex=72
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71} {3437493385571531329 14 72}]
------------------------------------------------------
term 13 leader 0 nextIndex[1]: 0  matchIndex[1]: 71
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 4195 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
client write log 6212035112580540611 (index 73) to leader 2
flag 6736 term 14 leader 2 nextIndex[0]: 72  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 72 
------------------------------------------------------
flag 95500 term 14 leader 2 nextIndex[1]: 73  matchIndex[1]: 72
term 14 leader 2 sendAppendEntries PrevLogIndex: 72  PrevLogTerm: 14 leaderCommit: 72 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:72 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71} {3437493385571531329 14 72} {6212035112580540611 14 73}]
------------------------------------------------------
term 13 leader 0 nextIndex[1]: 0  matchIndex[1]: 71
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 69832 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 77087 term 14 leader 2 nextIndex[0]: 72  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 73 
------------------------------------------------------
flag 62414 term 14 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 14 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 14 leaderCommit: 73 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71} {3437493385571531329 14 72} {6212035112580540611 14 73}]
------------------------------------------------------
term 13 leader 0 nextIndex[1]: 0  matchIndex[1]: 71
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 73775 term 13 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 13 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
!!!!!!connect server 0
client write log 5632257307309847016 (index 74) to leader 2
term 13 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 70 matchIndex[1] 69 
------------------------------------------------------------------------
flag 33345 term 14 leader 2 nextIndex[0]: 72  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 73 
------------------------------------------------------
flag 97020 term 14 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 14 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 14 leaderCommit: 73 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71} {3437493385571531329 14 72} {6212035112580540611 14 73} {5632257307309847016 14 74}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71} {3437493385571531329 14 72} {6212035112580540611 14 73} {5632257307309847016 14 74}]
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 75->74
------------------------------------------------------
term 14 leader 2 nextIndex[0]: 0  matchIndex[0]: 74
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 4126 term 14 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71} {3437493385571531329 14 72} {6212035112580540611 14 73} {5632257307309847016 14 74}]
------------------------------------------------------
term 14 server 0 InstallSnapshot fail
rf.commitIndex 71 args.LastIncludedIndex 69
------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
flag 71948 term 14 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 14 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
flag 45805 term 14 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71} {3437493385571531329 14 72} {6212035112580540611 14 73} {5632257307309847016 14 74}]
term 14 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71} {3437493385571531329 14 72} {6212035112580540611 14 73} {5632257307309847016 14 74}]
------------------------------------------------------
flag 63089 term 14 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 3840 term 14 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
term 14 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71} {3437493385571531329 14 72} {6212035112580540611 14 73} {5632257307309847016 14 74}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71} {3437493385571531329 14 72} {6212035112580540611 14 73} {5632257307309847016 14 74}]
------------------------------------------------------
flag 67727 term 14 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 44860 term 14 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71} {3437493385571531329 14 72} {6212035112580540611 14 73} {5632257307309847016 14 74}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71} {3437493385571531329 14 72} {6212035112580540611 14 73} {5632257307309847016 14 74}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 75->74
------------------------------------------------------
term 14 leader 2 nextIndex[0]: 0  matchIndex[0]: 74
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 35717 term 14 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 0 InstallSnapshot fail
rf.commitIndex 74 args.LastIncludedIndex 69
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71} {3437493385571531329 14 72} {6212035112580540611 14 73} {5632257307309847016 14 74}]
------------------------------------------------------
flag 84458 term 14 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 14 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
flag 13338 term 14 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71} {3437493385571531329 14 72} {6212035112580540611 14 73} {5632257307309847016 14 74}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71} {3437493385571531329 14 72} {6212035112580540611 14 73} {5632257307309847016 14 74}]
------------------------------------------------------
flag 76671 term 14 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 67160 term 14 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71} {3437493385571531329 14 72} {6212035112580540611 14 73} {5632257307309847016 14 74}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71} {3437493385571531329 14 72} {6212035112580540611 14 73} {5632257307309847016 14 74}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 4998018308505956781 (index 75) to leader 2
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23424 term 14 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
flag 83951 term 14 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 74 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71} {3437493385571531329 14 72} {6212035112580540611 14 73} {5632257307309847016 14 74} {4998018308505956781 14 75}]
------------------------------------------------------
flag 74330 term 14 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
flag 61035 term 14 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 14 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71} {3437493385571531329 14 72} {6212035112580540611 14 73} {5632257307309847016 14 74} {4998018308505956781 14 75}]
------------------------------------------------------
client write log 7460748057720236285 (index 76) to leader 2
client write log 6660104923797386318 (index 77) to leader 2
client write log 3168862353976648473 (index 78) to leader 2
client write log 8280425417896795120 (index 79) to leader 2
client write log 5544097462158020632 (index 80) to leader 2
client write log 3376753103627994530 (index 81) to leader 2
client write log 1588017741882500315 (index 82) to leader 2
client write log 828443492021688501 (index 83) to leader 2
flag 23009 term 14 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 14 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
flag 53183 term 14 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 14 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 14 leaderCommit: 75 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 69} {7405878594281898522 11 70} {4781675407067125553 11 71} {3437493385571531329 14 72} {6212035112580540611 14 73} {5632257307309847016 14 74} {4998018308505956781 14 75} {7460748057720236285 14 76} {6660104923797386318 14 77} {3168862353976648473 14 78} {8280425417896795120 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83}]
------------------------------------------------------
term 14 Server2 start snapshot! index=79
term 14 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=83
-------------------------------------------------------------
term 14 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 14184 term 14 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83}]
------------------------------------------------------
term 14 Server1 start snapshot! index=79
term 14 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=83
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1177158849286858327 (index 84) to leader 2
term 14 server 2 not vote for server 0, 日志不够新
term 14 server 1 not vote for server 0, 日志不够新
term 16 server 1 vote for server 2
term 16 server 2 get vote from server 1
term 16 server 2 become leader
------------------------------------------------------
term 16 server 0 vote for server 2
term 16 server 2 get outdate rpc reply from server 0
flag 37750 term 16 leader 2 nextIndex[0]: 85  matchIndex[0]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 71166 term 16 leader 2 nextIndex[1]: 85  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 85->84
------------------------------------------------------
term 16 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 85->84
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 leader 2 nextIndex[0]: 75  matchIndex[0]: 0
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 14
------------------------------------------------------
flag 55602 term 16 leader 2 nextIndex[1]: 84  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
term 16 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 14 rf.commitIndex 79 rf.lastApplied 79
term 16 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
flag 85506 term 16 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 16 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 87174 term 16 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46724 term 16 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 39807 term 16 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
flag 42240 term 16 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 5455 term 16 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
flag 19505 term 16 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 57629 term 16 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
flag 6328 term 16 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 73339 term 16 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
term 16 server 0 not vote for server 2, 任期不够新
term 16 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 server 2 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94705 term 16 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 65273 term 16 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
flag 26558 term 16 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 70226 term 16 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
flag 28523 term 16 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 6551 term 16 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
flag 92395 term 16 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 8145 term 16 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
flag 47865 term 16 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 46899 term 16 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
flag 6177 term 16 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 12561 term 16 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
flag 31019 term 16 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 58502 term 16 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
flag 56954 term 16 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 11629 term 16 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
flag 67238 term 16 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 29672 term 16 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 45474 term 16 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 84948 term 16 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
flag 83783 term 16 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 37176 term 16 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6109 term 16 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 52565 term 16 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=83
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84}]
------------------------------------------------------
client write log 1177158849286858327 (index 85) to leader 2
flag 87975 term 16 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
flag 14380 term 16 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 16 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84} {1177158849286858327 16 85}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84} {1177158849286858327 16 85}]
------------------------------------------------------
flag 49815 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
flag 79704 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84} {1177158849286858327 16 85}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84} {1177158849286858327 16 85}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10280 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
flag 47913 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84} {1177158849286858327 16 85}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84} {1177158849286858327 16 85}]
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 767 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
flag 47534 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
term 16 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84} {1177158849286858327 16 85}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84} {1177158849286858327 16 85}]
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10213 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
flag 10975 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84} {1177158849286858327 16 85}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84} {1177158849286858327 16 85}]
------------------------------------------------------
flag 12834 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
flag 80063 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84} {1177158849286858327 16 85}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84} {1177158849286858327 16 85}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8502116360250383126 (index 86) to leader 2
flag 34812 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
flag 81878 term 16 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84} {1177158849286858327 16 85} {8502116360250383126 16 86}]
------------------------------------------------------
flag 35096 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 78855 term 16 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 16 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=87
update matchIndex[1]=86
update leader CommitIndex=86
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84} {1177158849286858327 16 85} {8502116360250383126 16 86}]
------------------------------------------------------
client write log 8863913058366734182 (index 87) to leader 2
client write log 4396678739646904345 (index 88) to leader 2
client write log 6402222330402658 (index 89) to leader 2
client write log 6935984549700573717 (index 90) to leader 2
client write log 4294206008619892202 (index 91) to leader 2
client write log 7446525544424311364 (index 92) to leader 2
client write log 3044294981759540608 (index 93) to leader 2
client write log 8007716638118765199 (index 94) to leader 2
client write log 8865922774074265729 (index 95) to leader 2
flag 30409 term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 85764 term 16 leader 2 nextIndex[1]: 87  matchIndex[1]: 86
term 16 leader 2 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 14 79} {5544097462158020632 14 80} {3376753103627994530 14 81} {1588017741882500315 14 82} {828443492021688501 14 83} {1177158849286858327 14 84} {1177158849286858327 16 85} {8502116360250383126 16 86} {8863913058366734182 16 87} {4396678739646904345 16 88} {6402222330402658 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95}]
------------------------------------------------------
term 16 Server2 start snapshot! index=89
term 16 server2 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=95
-------------------------------------------------------------
term 16 leader 2 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
flag 64144 term 16 leader 2 nextIndex[1]: 96  matchIndex[1]: 95
term 16 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=96
update matchIndex[1]=95
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95}]
------------------------------------------------------
term 16 Server1 start snapshot! index=89
term 16 server1 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=95
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2407235378549578903 (index 96) to leader 2
term 16 server 2 not vote for server 0, 日志不够新
term 16 server 1 not vote for server 0, 日志不够新
term 18 server 1 vote for server 2
term 18 server 2 get vote from server 1
term 18 server 2 become leader
------------------------------------------------------
term 18 server 0 vote for server 2
term 18 server 2 get outdate rpc reply from server 0
flag 22013 term 18 leader 2 nextIndex[0]: 97  matchIndex[0]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 16065 term 18 leader 2 nextIndex[1]: 97  matchIndex[1]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 97->96
------------------------------------------------------
term 18 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 97->96
------------------------------------------------------
term 18 server 2 not vote for server 1, 任期不够新
term 18 server 1 get outdate rpc reply from server 2
term 18 leader 2 nextIndex[0]: 86  matchIndex[0]: 0
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
flag 89941 term 18 leader 2 nextIndex[1]: 96  matchIndex[1]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
term 18 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 16 rf.commitIndex 89 rf.lastApplied 89
term 18 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
flag 24595 term 18 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 18 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 27640 term 18 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
flag 16456 term 18 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 9621 term 18 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
flag 53672 term 18 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 48342 term 18 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49959 term 18 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 36039 term 18 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
flag 43276 term 18 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 13552 term 18 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17511 term 18 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 9044 term 18 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
flag 86465 term 18 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 26990 term 18 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
flag 51610 term 18 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 14840 term 18 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
term 18 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
flag 11150 term 18 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 14877 term 18 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43501 term 18 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 29495 term 18 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
flag 74995 term 18 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 62927 term 18 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
flag 40941 term 18 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 63750 term 18 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46133 term 18 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 25599 term 18 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
flag 53362 term 18 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 60658 term 18 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
flag 44471 term 18 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 91020 term 18 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
flag 97834 term 18 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 20862 term 18 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
flag 37576 term 18 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 63245 term 18 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=97
update matchIndex[0]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=97
update matchIndex[1]=96
update leader CommitIndex=95
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96}]
------------------------------------------------------
client write log 2407235378549578903 (index 97) to leader 2
flag 83736 term 18 leader 2 nextIndex[0]: 97  matchIndex[0]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
flag 62750 term 18 leader 2 nextIndex[1]: 97  matchIndex[1]: 96
term 18 leader 2 sendAppendEntries PrevLogIndex: 96  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:95 
term 18 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96} {2407235378549578903 18 97}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96} {2407235378549578903 18 97}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68960 term 18 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 18 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 43345 term 18 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96} {2407235378549578903 18 97}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96} {2407235378549578903 18 97}]
------------------------------------------------------
flag 84169 term 18 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 18 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 8775 term 18 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96} {2407235378549578903 18 97}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96} {2407235378549578903 18 97}]
------------------------------------------------------
flag 81641 term 18 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 18 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 10305 term 18 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96} {2407235378549578903 18 97}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96} {2407235378549578903 18 97}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70310 term 18 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 18 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 73745 term 18 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96} {2407235378549578903 18 97}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96} {2407235378549578903 18 97}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13519 term 18 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 18 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 70818 term 18 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96} {2407235378549578903 18 97}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=98
update matchIndex[0]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96} {2407235378549578903 18 97}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 34669 term 18 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 18 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 33712 term 18 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 63202 term 18 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 18 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 78979 term 18 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 18100 term 18 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 18 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 47990 term 18 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 45406 term 18 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 18 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 12648 term 18 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
term 19 server 1 vote for server 0
term 19 server 0 get vote from server 1
term 19 server 0 become leader
------------------------------------------------------
flag 23885 term 19 leader 0 nextIndex[1]: 98  matchIndex[1]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 45337 term 19 leader 0 nextIndex[2]: 98  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=98
update matchIndex[1]=97
update leader CommitIndex=97
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96} {2407235378549578903 18 97}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 8156725254720665870 (index 98) to leader 0
flag 32929 term 18 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 18 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 9891 term 18 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 30488 term 19 leader 0 nextIndex[1]: 98  matchIndex[1]: 97
term 19 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 96424 term 19 leader 0 nextIndex[2]: 98  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:97 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96} {2407235378549578903 18 97} {8156725254720665870 19 98}]
------------------------------------------------------
flag 39281 term 18 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 18 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 64218 term 18 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 10357 term 19 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 19 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 19 leaderCommit: 98 
------------------------------------------------------
flag 63835 term 19 leader 0 nextIndex[2]: 98  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=99
update matchIndex[1]=98
update leader CommitIndex=98
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96} {2407235378549578903 18 97} {8156725254720665870 19 98}]
------------------------------------------------------
client write log 9104870876223883448 (index 99) to leader 0
client write log 6463524014310959840 (index 100) to leader 0
client write log 5948832821064567418 (index 101) to leader 0
client write log 7401851396803825256 (index 102) to leader 0
client write log 3592455180334212816 (index 103) to leader 0
client write log 704388524897329334 (index 104) to leader 0
client write log 5400438347073592712 (index 105) to leader 0
client write log 4905905850662503085 (index 106) to leader 0
client write log 3031427419969814963 (index 107) to leader 0
client write log 8736487637058371501 (index 108) to leader 0
client write log 7259127386811810331 (index 109) to leader 0
client write log 446147086358943218 (index 110) to leader 0
flag 91991 term 18 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 18 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 92067 term 18 leader 2 nextIndex[1]: 98  matchIndex[1]: 97
term 18 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
flag 29739 term 19 leader 0 nextIndex[1]: 99  matchIndex[1]: 98
term 19 leader 0 sendAppendEntries PrevLogIndex: 98  PrevLogTerm: 19 leaderCommit: 98 
------------------------------------------------------
flag 15482 term 19 leader 0 nextIndex[2]: 98  matchIndex[2]: 0
term 19 leader 0 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 98 
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:98 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 89} {6935984549700573717 16 90} {4294206008619892202 16 91} {7446525544424311364 16 92} {3044294981759540608 16 93} {8007716638118765199 16 94} {8865922774074265729 16 95} {2407235378549578903 16 96} {2407235378549578903 18 97} {8156725254720665870 19 98} {9104870876223883448 19 99} {6463524014310959840 19 100} {5948832821064567418 19 101} {7401851396803825256 19 102} {3592455180334212816 19 103} {704388524897329334 19 104} {5400438347073592712 19 105} {4905905850662503085 19 106} {3031427419969814963 19 107} {8736487637058371501 19 108} {7259127386811810331 19 109} {446147086358943218 19 110}]
------------------------------------------------------
term 19 Server0 start snapshot! index=99
term 19 server0 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=110
-------------------------------------------------------------
term 19 Server0 start snapshot! index=109
term 19 server0 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=110
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 98->97
------------------------------------------------------
flag 93238 term 18 leader 2 nextIndex[0]: 98  matchIndex[0]: 97
term 18 leader 2 sendAppendEntries PrevLogIndex: 97  PrevLogTerm: 18 leaderCommit: 97 
------------------------------------------------------
term 18 leader 2 nextIndex[1]: 0  matchIndex[1]: 97
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 98->97
------------------------------------------------------
flag 97028 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 98  matchIndex[2]: 0
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
term 19 Server1 start snapshot! index=99
term 19 server1 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=110
-------------------------------------------------------------
term 19 Server1 start snapshot! index=109
term 19 server1 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=110
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4550611226957464326 (index 98) to leader 2
term 18 leader 2 nextIndex[0]: 0  matchIndex[0]: 97
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
term 18 leader 2 nextIndex[1]: 0  matchIndex[1]: 97
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 16
------------------------------------------------------
term 19 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 18 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 26297 term 19 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 19 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 19 leader 0 nextIndex[2]: 98  matchIndex[2]: 0
term 19 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 19 rf.commitIndex 109 rf.lastApplied 109
term 19 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
term 19 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
term 19 server 1 not vote for server 2, 日志不够新
term 19 server 0 not vote for server 2, 日志不够新
term 21 server 2 vote for server 0
term 21 server 1 vote for server 0
term 21 server 0 get vote from server 2
term 21 server 0 become leader
------------------------------------------------------
term 21 server 0 get outdate rpc reply from server 1
flag 66045 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 28321 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 111->110
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79395 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 99012 term 21 leader 0 nextIndex[2]: 110  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
flag 4644 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 20448 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
flag 45058 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 11246 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
flag 59293 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 59933 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
flag 42407 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 3612 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
flag 58754 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 3401 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
flag 81191 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 816 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
flag 55336 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 90681 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
flag 98897 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 56322 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
flag 92290 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 48222 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87151 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 24841 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
flag 74910 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 40489 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
flag 49008 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 57697 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
flag 97820 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 10601 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
flag 80097 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 6934 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
flag 19744 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 43215 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
flag 39989 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 91441 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
flag 12884 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 6804 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=111
update matchIndex[2]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=110
leader log:
[{snapshot 19 109} {446147086358943218 19 110}]
------------------------------------------------------
client write log 4550611226957464326 (index 111) to leader 0
flag 77260 term 21 leader 0 nextIndex[1]: 111  matchIndex[1]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
flag 12550 term 21 leader 0 nextIndex[2]: 111  matchIndex[2]: 110
term 21 leader 0 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 19 leaderCommit: 110 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {446147086358943218 19 110} {4550611226957464326 21 111}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {446147086358943218 19 110} {4550611226957464326 21 111}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71627 term 21 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 98701 term 21 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {446147086358943218 19 110} {4550611226957464326 21 111}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {446147086358943218 19 110} {4550611226957464326 21 111}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5488 term 21 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 86083 term 21 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {446147086358943218 19 110} {4550611226957464326 21 111}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {446147086358943218 19 110} {4550611226957464326 21 111}]
------------------------------------------------------
flag 13548 term 21 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 49037 term 21 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {446147086358943218 19 110} {4550611226957464326 21 111}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {446147086358943218 19 110} {4550611226957464326 21 111}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80597 term 21 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 89785 term 21 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {446147086358943218 19 110} {4550611226957464326 21 111}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {446147086358943218 19 110} {4550611226957464326 21 111}]
------------------------------------------------------
flag 51797 term 21 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 52763 term 21 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {446147086358943218 19 110} {4550611226957464326 21 111}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {446147086358943218 19 110} {4550611226957464326 21 111}]
------------------------------------------------------
flag 62379 term 21 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 43982 term 21 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {446147086358943218 19 110} {4550611226957464326 21 111}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 19 109} {446147086358943218 19 110} {4550611226957464326 21 111}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1329063934005058247 (index 112) to leader 0
flag 86586 term 21 leader 0 nextIndex[1]: 112  matchIndex[1]: 111
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
flag 72165 term 21 leader 0 nextIndex[2]: 112  matchIndex[2]: 111
term 21 leader 0 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 21 leaderCommit: 111 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {446147086358943218 19 110} {4550611226957464326 21 111} {1329063934005058247 21 112}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 112->111
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 0  matchIndex[1]: 111
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 59426 term 21 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 21 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 21 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 19 109} {446147086358943218 19 110} {4550611226957464326 21 111} {1329063934005058247 21 112}]
------------------------------------------------------
client write log 6973557249732992815 (index 113) to leader 0
client write log 8027419934928977812 (index 114) to leader 0
client write log 2794831209929086271 (index 115) to leader 0
client write log 7503078015605539660 (index 116) to leader 0
client write log 1678360983199415220 (index 117) to leader 0
client write log 9069111002834632700 (index 118) to leader 0
client write log 2109716989680469712 (index 119) to leader 0
client write log 6067621798661372705 (index 120) to leader 0
client write log 3769531710529682839 (index 121) to leader 0
client write log 3259237794152294340 (index 122) to leader 0
client write log 5865744546280765674 (index 123) to leader 0
client write log 787650481210471668 (index 124) to leader 0
client write log 8861038698306052652 (index 125) to leader 0
client write log 8389156390448537396 (index 126) to leader 0
client write log 8863573289074182995 (index 127) to leader 0
term 21 leader 0 nextIndex[1]: 0  matchIndex[1]: 111
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 19
------------------------------------------------------
flag 71123 term 21 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 21 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 21 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 19 109} {446147086358943218 19 110} {4550611226957464326 21 111} {1329063934005058247 21 112} {6973557249732992815 21 113} {8027419934928977812 21 114} {2794831209929086271 21 115} {7503078015605539660 21 116} {1678360983199415220 21 117} {9069111002834632700 21 118} {2109716989680469712 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127}]
------------------------------------------------------
term 21 Server0 start snapshot! index=119
term 21 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=127
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 0  matchIndex[1]: 111
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 23504 term 21 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 21 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127}]
------------------------------------------------------
term 21 Server2 start snapshot! index=119
term 21 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=127
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3586718752350370805 (index 128) to leader 0
term 21 server 2 not vote for server 1, 日志不够新
term 21 server 0 not vote for server 1, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 server 2 vote for server 0
term 23 server 0 get vote from server 2
term 23 server 0 become leader
------------------------------------------------------
term 23 server 1 vote for server 0
term 23 server 0 get outdate rpc reply from server 1
flag 45173 term 23 leader 0 nextIndex[1]: 129  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 76834 term 23 leader 0 nextIndex[2]: 129  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 129->128
------------------------------------------------------
term 23 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 129->128
------------------------------------------------------
term 23 leader 0 nextIndex[1]: 112  matchIndex[1]: 0
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 90536 term 23 leader 0 nextIndex[2]: 128  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
term 23 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 21 rf.commitIndex 119 rf.lastApplied 119
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73008 term 23 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 23 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 53014 term 23 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
flag 68626 term 23 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 56706 term 23 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
term 23 server 2 not vote for server 0, 任期不够新
term 23 server 0 get outdate rpc reply from server 2
flag 20384 term 23 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 3847 term 23 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
flag 95277 term 23 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 91429 term 23 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:127 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
flag 75162 term 23 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 15145 term 23 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14608 term 23 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 9216 term 23 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
flag 53233 term 23 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 58899 term 23 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
flag 41552 term 23 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 68192 term 23 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
term 23 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35696 term 23 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 82742 term 23 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80376 term 23 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 39245 term 23 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
flag 1722 term 23 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 73239 term 23 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
flag 66288 term 23 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 57962 term 23 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
flag 30200 term 23 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 54434 term 23 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5875 term 23 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 74181 term 23 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
flag 18209 term 23 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 94040 term 23 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
flag 31781 term 23 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 25685 term 23 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
flag 64981 term 23 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 39070 term 23 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=129
update matchIndex[1]=128
update leader CommitIndex=127
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 3586718752350370805 (index 129) to leader 0
flag 32051 term 23 leader 0 nextIndex[1]: 129  matchIndex[1]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
flag 16730 term 23 leader 0 nextIndex[2]: 129  matchIndex[2]: 128
term 23 leader 0 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 21 leaderCommit: 127 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128} {3586718752350370805 23 129}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 21 119} {6067621798661372705 21 120} {3769531710529682839 21 121} {3259237794152294340 21 122} {5865744546280765674 21 123} {787650481210471668 21 124} {8861038698306052652 21 125} {8389156390448537396 21 126} {8863573289074182995 21 127} {3586718752350370805 21 128} {3586718752350370805 23 129}]
------------------------------------------------------
term 23 Server0 start snapshot! index=129
term 23 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
flag 4204 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 129 
------------------------------------------------------
flag 96994 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 129 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 23 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 23 129}]
------------------------------------------------------
term 23 Server1 start snapshot! index=129
term 23 Server2 start snapshot! index=129
term 23 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
term 23 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=129
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59150 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 129 
------------------------------------------------------
flag 80659 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 129 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 23 129}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 23 129}]
------------------------------------------------------
flag 89385 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 129 
------------------------------------------------------
flag 38603 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 129 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 23 129}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 23 129}]
------------------------------------------------------
flag 51134 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 129 
------------------------------------------------------
flag 12390 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 129 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 23 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 23 129}]
------------------------------------------------------
flag 23517 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 129 
------------------------------------------------------
flag 26201 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 129 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 23 129}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 23 129}]
------------------------------------------------------
flag 26485 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 129 
------------------------------------------------------
flag 250 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 129 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=130
update matchIndex[2]=129
update leader CommitIndex=129
leader log:
[{snapshot 23 129}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=130
update matchIndex[1]=129
update leader CommitIndex=129
leader log:
[{snapshot 23 129}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 864461584773816834 (index 130) to leader 0
flag 12098 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 129 
------------------------------------------------------
flag 36579 term 23 leader 0 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 129 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 23 129} {864461584773816834 23 130}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76076 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
flag 42518 term 23 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=131
update matchIndex[2]=130
update leader CommitIndex=130
leader log:
[{snapshot 23 129} {864461584773816834 23 130}]
------------------------------------------------------
client write log 484363004731942149 (index 131) to leader 0
client write log 8923903985917003016 (index 132) to leader 0
client write log 2361937117803312961 (index 133) to leader 0
client write log 3411461720587385176 (index 134) to leader 0
client write log 6602306720269422700 (index 135) to leader 0
client write log 2669785463173667850 (index 136) to leader 0
client write log 1924416873178059000 (index 137) to leader 0
client write log 2456553645853155926 (index 138) to leader 0
client write log 3111394093165327438 (index 139) to leader 0
client write log 210846174879560472 (index 140) to leader 0
client write log 288740911186913757 (index 141) to leader 0
client write log 8046851716143947341 (index 142) to leader 0
client write log 415162544394609787 (index 143) to leader 0
flag 6199 term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
flag 55988 term 23 leader 0 nextIndex[2]: 131  matchIndex[2]: 130
term 23 leader 0 sendAppendEntries PrevLogIndex: 130  PrevLogTerm: 23 leaderCommit: 130 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:130 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 129} {864461584773816834 23 130} {484363004731942149 23 131} {8923903985917003016 23 132} {2361937117803312961 23 133} {3411461720587385176 23 134} {6602306720269422700 23 135} {2669785463173667850 23 136} {1924416873178059000 23 137} {2456553645853155926 23 138} {3111394093165327438 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143}]
------------------------------------------------------
term 23 Server0 start snapshot! index=139
term 23 server0 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=143
-------------------------------------------------------------
term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 437 term 23 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=144
update matchIndex[2]=143
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143}]
------------------------------------------------------
term 23 Server2 start snapshot! index=139
term 23 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=143
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3500358475006401501 (index 144) to leader 0
term 23 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 18411 term 23 leader 0 nextIndex[2]: 144  matchIndex[2]: 143
term 23 leader 0 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 24 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 server 2 vote for server 0
term 25 server 0 get vote from server 2
term 25 server 0 become leader
term 25 server 1 vote for server 0
------------------------------------------------------
term 25 server 0 get outdate rpc reply from server 1
flag 21026 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 69056 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
term 25 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 145->144
------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 25 leader 0 nextIndex[1]: 130  matchIndex[1]: 0
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 35859 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 1 InstallSnapshot success
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 23 rf.commitIndex 139 rf.lastApplied 139
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
flag 8385 term 25 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 25 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 87243 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
flag 50944 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 11943 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
term 25 server 0 not vote for server 1, 任期不够新
term 25 server 1 get outdate rpc reply from server 0
flag 45234 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 25984 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
flag 13456 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 55452 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
term 25 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 33620 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 26503 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
flag 32159 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 80901 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
flag 42162 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 73645 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
flag 86736 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 23823 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
flag 57408 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 34884 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
flag 10203 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 86570 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 76058 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 42677 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
flag 61509 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 92360 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
flag 92455 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 68043 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58158 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 3247 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
flag 55650 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 66034 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
flag 18128 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 25571 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
flag 18509 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 79449 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=143
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144}]
------------------------------------------------------
client write log 3500358475006401501 (index 145) to leader 0
flag 22026 term 25 leader 0 nextIndex[1]: 145  matchIndex[1]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
flag 23655 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 23 leaderCommit: 143 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144} {3500358475006401501 25 145}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144} {3500358475006401501 25 145}]
------------------------------------------------------
flag 19831 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 11760 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144} {3500358475006401501 25 145}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144} {3500358475006401501 25 145}]
------------------------------------------------------
flag 2926 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 42423 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144} {3500358475006401501 25 145}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144} {3500358475006401501 25 145}]
------------------------------------------------------
flag 16188 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 51932 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144} {3500358475006401501 25 145}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144} {3500358475006401501 25 145}]
------------------------------------------------------
flag 66276 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 68489 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144} {3500358475006401501 25 145}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144} {3500358475006401501 25 145}]
------------------------------------------------------
flag 84797 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 34787 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144} {3500358475006401501 25 145}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144} {3500358475006401501 25 145}]
------------------------------------------------------
flag 18344 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 59638 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144} {3500358475006401501 25 145}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=145
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144} {3500358475006401501 25 145}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 94605 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 84455 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 19303 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 74635 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 61724 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 72708 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94888 term 25 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 50529 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 146->145
------------------------------------------------------
term 26 server 1 vote for server 2
term 26 server 2 get vote from server 1
term 26 server 2 become leader
------------------------------------------------------
client write log 7158045434701975609 (index 146) to leader 2
flag 5383 term 26 leader 2 nextIndex[0]: 146  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 32977 term 26 leader 2 nextIndex[1]: 146  matchIndex[1]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144} {3500358475006401501 25 145} {7158045434701975609 26 146}]
------------------------------------------------------
term 25 leader 0 nextIndex[1]: 0  matchIndex[1]: 145
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 20222 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 49566 term 26 leader 2 nextIndex[0]: 146  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 52108 term 26 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 26 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 26 leaderCommit: 146 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144} {3500358475006401501 25 145} {7158045434701975609 26 146}]
------------------------------------------------------
client write log 1128401533579399455 (index 147) to leader 2
term 25 leader 0 nextIndex[1]: 0  matchIndex[1]: 145
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 6301 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
flag 91228 term 26 leader 2 nextIndex[0]: 146  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 146 
------------------------------------------------------
flag 6034 term 26 leader 2 nextIndex[1]: 147  matchIndex[1]: 146
term 26 leader 2 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 26 leaderCommit: 146 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144} {3500358475006401501 25 145} {7158045434701975609 26 146} {1128401533579399455 26 147}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 146->145
------------------------------------------------------
term 25 leader 0 nextIndex[1]: 0  matchIndex[1]: 145
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 67466 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 52406 term 26 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=148
update matchIndex[1]=147
update leader CommitIndex=147
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144} {3500358475006401501 25 145} {7158045434701975609 26 146} {1128401533579399455 26 147}]
------------------------------------------------------
!!!!!!connect server 0
client write log 6186244570643636229 (index 148) to leader 2
term 25 leader 0 nextIndex[1]: 0  matchIndex[1]: 145
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 59565 term 25 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 25 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 145 
------------------------------------------------------
term 26 server 2 AppendEntries false 领导者任期过期 args.Term 25
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 26 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 26 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 leader 2 nextIndex[0]: 0  matchIndex[0]: 0
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 23
------------------------------------------------------
flag 38216 term 26 leader 2 nextIndex[1]: 148  matchIndex[1]: 147
term 26 leader 2 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
term 26 server 0 InstallSnapshot fail
rf.commitIndex 145 args.LastIncludedIndex 139
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:147 
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144} {3500358475006401501 25 145} {7158045434701975609 26 146} {1128401533579399455 26 147} {6186244570643636229 26 148}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68334 term 26 leader 2 nextIndex[0]: 140  matchIndex[0]: 139
term 26 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 23 leaderCommit: 148 
------------------------------------------------------
flag 85524 term 26 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 26 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144} {3500358475006401501 25 145} {7158045434701975609 26 146} {1128401533579399455 26 147} {6186244570643636229 26 148}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:145 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144} {3500358475006401501 25 145} {7158045434701975609 26 146} {1128401533579399455 26 147} {6186244570643636229 26 148}]
------------------------------------------------------
flag 20682 term 26 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 26 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
flag 72065 term 26 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 26 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144} {3500358475006401501 25 145} {7158045434701975609 26 146} {1128401533579399455 26 147} {6186244570643636229 26 148}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144} {3500358475006401501 25 145} {7158045434701975609 26 146} {1128401533579399455 26 147} {6186244570643636229 26 148}]
------------------------------------------------------
flag 54595 term 26 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 26 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
flag 90750 term 26 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 26 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144} {3500358475006401501 25 145} {7158045434701975609 26 146} {1128401533579399455 26 147} {6186244570643636229 26 148}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144} {3500358475006401501 25 145} {7158045434701975609 26 146} {1128401533579399455 26 147} {6186244570643636229 26 148}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82839 term 26 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 26 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
flag 60780 term 26 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 26 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
term 26 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
update leader CommitIndex=148
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144} {3500358475006401501 25 145} {7158045434701975609 26 146} {1128401533579399455 26 147} {6186244570643636229 26 148}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144} {3500358475006401501 25 145} {7158045434701975609 26 146} {1128401533579399455 26 147} {6186244570643636229 26 148}]
------------------------------------------------------
flag 34589 term 26 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 26 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
flag 6045 term 26 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 26 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144} {3500358475006401501 25 145} {7158045434701975609 26 146} {1128401533579399455 26 147} {6186244570643636229 26 148}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144} {3500358475006401501 25 145} {7158045434701975609 26 146} {1128401533579399455 26 147} {6186244570643636229 26 148}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8024 term 26 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 26 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
flag 85331 term 26 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 26 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=149
update matchIndex[1]=148
update leader CommitIndex=148
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144} {3500358475006401501 25 145} {7158045434701975609 26 146} {1128401533579399455 26 147} {6186244570643636229 26 148}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144} {3500358475006401501 25 145} {7158045434701975609 26 146} {1128401533579399455 26 147} {6186244570643636229 26 148}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 318378329070431681 (index 149) to leader 2
flag 53893 term 26 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 26 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
flag 45000 term 26 leader 2 nextIndex[1]: 149  matchIndex[1]: 148
term 26 leader 2 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=150
update matchIndex[1]=149
update leader CommitIndex=149
leader log:
[{snapshot 23 139} {210846174879560472 23 140} {288740911186913757 23 141} {8046851716143947341 23 142} {415162544394609787 23 143} {3500358475006401501 23 144} {3500358475006401501 25 145} {7158045434701975609 26 146} {1128401533579399455 26 147} {6186244570643636229 26 148} {318378329070431681 26 149}]
------------------------------------------------------
term 26 Server2 start snapshot! index=149
term 26 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
term 26 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
flag 17033 term 26 leader 2 nextIndex[1]: 150  matchIndex[1]: 149
term 26 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=150
update matchIndex[1]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
term 26 Server1 start snapshot! index=149
term 26 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
client write log 4209052336612005572 (index 150) to leader 2
client write log 8785097691339483320 (index 151) to leader 2
client write log 7673960970890815002 (index 152) to leader 2
client write log 8820069844905726548 (index 153) to leader 2
client write log 6827550012957137729 (index 154) to leader 2
client write log 290769519092556985 (index 155) to leader 2
client write log 1142392904435951407 (index 156) to leader 2
client write log 7513090555926620057 (index 157) to leader 2
client write log 7822280951181462065 (index 158) to leader 2
term 26 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
flag 65101 term 26 leader 2 nextIndex[1]: 150  matchIndex[1]: 149
term 26 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158}]
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
flag 91089 term 26 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 26 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=159
update matchIndex[1]=158
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158}]
------------------------------------------------------
!!!!!!connect server 0
client write log 672520639527372623 (index 159) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 149  matchIndex[0]: 148
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
flag 50141 term 26 leader 2 nextIndex[1]: 159  matchIndex[1]: 158
term 26 leader 2 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 27 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 server 1 vote for server 2
term 28 server 0 vote for server 2
term 28 server 2 get vote from server 1
term 28 server 2 become leader
------------------------------------------------------
term 28 server 2 get outdate rpc reply from server 0
flag 23606 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 5303 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
term 28 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 160->159
------------------------------------------------------
term 28 leader 2 nextIndex[0]: 149  matchIndex[0]: 0
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
flag 95445 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
term 28 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 150 matchIndex[0] 149 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 26 rf.commitIndex 149 rf.lastApplied 149
term 28 server 2 not vote for server 1, 任期不够新
term 28 server 1 get outdate rpc reply from server 2
term 28 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41313 term 28 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 28 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 38320 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45354 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 134 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
flag 69175 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 64058 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
flag 48295 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 36846 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
term 28 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6493 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 62422 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
flag 62558 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 25163 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
flag 25765 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 85178 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
flag 78459 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 48427 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
flag 23932 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 49142 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38829 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 30640 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
flag 47129 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 30340 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
flag 47818 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 43953 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
flag 83667 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 41089 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
flag 76162 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 43635 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
flag 89820 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 9566 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
flag 64751 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 75460 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
flag 76507 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 39081 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=160
update matchIndex[1]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159}]
------------------------------------------------------
client write log 672520639527372623 (index 160) to leader 2
term 28 server 1 not vote for server 0, 任期不够新
term 28 server 0 get outdate rpc reply from server 1
flag 90099 term 28 leader 2 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
flag 80220 term 28 leader 2 nextIndex[1]: 160  matchIndex[1]: 159
term 28 leader 2 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 26 leaderCommit: 158 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159} {672520639527372623 28 160}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 149} {4209052336612005572 26 150} {8785097691339483320 26 151} {7673960970890815002 26 152} {8820069844905726548 26 153} {6827550012957137729 26 154} {290769519092556985 26 155} {1142392904435951407 26 156} {7513090555926620057 26 157} {7822280951181462065 26 158} {672520639527372623 26 159} {672520639527372623 28 160}]
------------------------------------------------------
term 28 Server2 start snapshot! index=159
term 28 server2 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=160
-------------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 81989 term 28 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 19718 term 28 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {672520639527372623 28 160}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {672520639527372623 28 160}]
------------------------------------------------------
term 28 Server0 start snapshot! index=159
term 28 server0 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=160
-------------------------------------------------------------
term 28 Server1 start snapshot! index=159
term 28 server1 snapshot success
lastIncludedIndex=159 lastApplied=160 lastIndex=160
-------------------------------------------------------------
flag 98916 term 28 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 3790 term 28 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {672520639527372623 28 160}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {672520639527372623 28 160}]
------------------------------------------------------
flag 43024 term 28 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 64239 term 28 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {672520639527372623 28 160}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {672520639527372623 28 160}]
------------------------------------------------------
flag 74823 term 28 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 97735 term 28 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {672520639527372623 28 160}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {672520639527372623 28 160}]
------------------------------------------------------
flag 78588 term 28 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 8172 term 28 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {672520639527372623 28 160}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {672520639527372623 28 160}]
------------------------------------------------------
flag 15890 term 28 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 40409 term 28 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=161
update matchIndex[1]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {672520639527372623 28 160}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 26 159} {672520639527372623 28 160}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1377326599156993099 (index 161) to leader 2
flag 72753 term 28 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
flag 19143 term 28 leader 2 nextIndex[1]: 161  matchIndex[1]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 160 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 26 159} {672520639527372623 28 160} {1377326599156993099 28 161}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17286 term 28 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 161 
------------------------------------------------------
flag 39753 term 28 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 28 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 161 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=162
update matchIndex[1]=161
update leader CommitIndex=161
leader log:
[{snapshot 26 159} {672520639527372623 28 160} {1377326599156993099 28 161}]
------------------------------------------------------
client write log 7473887410229468758 (index 162) to leader 2
client write log 1493781793318384214 (index 163) to leader 2
client write log 5531464215842927200 (index 164) to leader 2
client write log 4845630847660461857 (index 165) to leader 2
client write log 7004756087534346757 (index 166) to leader 2
client write log 1094030113696994456 (index 167) to leader 2
client write log 3956903893545737374 (index 168) to leader 2
client write log 5310533928151891897 (index 169) to leader 2
client write log 342310347380966336 (index 170) to leader 2
client write log 7865538335488207377 (index 171) to leader 2
client write log 3190892475146962681 (index 172) to leader 2
client write log 2482925381612353954 (index 173) to leader 2
client write log 3130490803231676253 (index 174) to leader 2
client write log 1538116813774803008 (index 175) to leader 2
client write log 5427816369797092394 (index 176) to leader 2
flag 95879 term 28 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 2 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 28 leaderCommit: 161 
------------------------------------------------------
flag 31439 term 28 leader 2 nextIndex[1]: 162  matchIndex[1]: 161
term 28 leader 2 sendAppendEntries PrevLogIndex: 161  PrevLogTerm: 28 leaderCommit: 161 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:161 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 26 159} {672520639527372623 28 160} {1377326599156993099 28 161} {7473887410229468758 28 162} {1493781793318384214 28 163} {5531464215842927200 28 164} {4845630847660461857 28 165} {7004756087534346757 28 166} {1094030113696994456 28 167} {3956903893545737374 28 168} {5310533928151891897 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176}]
------------------------------------------------------
term 28 Server2 start snapshot! index=169
term 28 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=176
-------------------------------------------------------------
term 28 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 52455 term 28 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=177
update matchIndex[1]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176}]
------------------------------------------------------
term 28 Server1 start snapshot! index=169
term 28 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=176
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3640316062072311045 (index 177) to leader 2
term 29 server 0 not vote for server 2, 任期不够新
term 28 server 2 get outdate rpc reply from server 0
term 28 leader 2 nextIndex[0]: 161  matchIndex[0]: 160
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 61123 term 28 leader 2 nextIndex[1]: 177  matchIndex[1]: 176
term 28 leader 2 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 29 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 28 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 1 vote for server 2
term 30 server 2 get vote from server 1
term 30 server 2 become leader
------------------------------------------------------
term 30 server 0 vote for server 2
term 30 server 2 get outdate rpc reply from server 0
flag 7132 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 37336 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
term 30 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 178->177
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 leader 2 nextIndex[0]: 161  matchIndex[0]: 0
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 80352 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 30 server 0 InstallSnapshot success
------------------------------------------------------
term 30 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 170 matchIndex[0] 169 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 28 rf.commitIndex 169 rf.lastApplied 169
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59966 term 30 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 58504 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33475 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 85236 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
flag 58173 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 79643 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
flag 30985 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 10097 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 30 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 4059 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 89777 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 45862 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 78269 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
flag 9354 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 64696 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
flag 46355 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 39245 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
flag 42663 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 8 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
flag 1687 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 84291 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
flag 24191 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 36022 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81099 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 78252 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
flag 5206 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 69959 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
flag 67380 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 14278 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
flag 8806 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 74750 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
flag 20071 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 61799 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
flag 90683 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 48360 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=178
update matchIndex[1]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177}]
------------------------------------------------------
client write log 3640316062072311045 (index 178) to leader 2
term 30 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27447 term 30 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
flag 16705 term 30 leader 2 nextIndex[1]: 178  matchIndex[1]: 177
term 30 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 176 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:176 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177} {3640316062072311045 30 178}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177} {3640316062072311045 30 178}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70472 term 30 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 43764 term 30 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177} {3640316062072311045 30 178}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177} {3640316062072311045 30 178}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 2 not vote for server 0, 任期不够新
term 30 server 0 get outdate rpc reply from server 2
flag 70315 term 30 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 89540 term 30 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177} {3640316062072311045 30 178}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177} {3640316062072311045 30 178}]
------------------------------------------------------
flag 34279 term 30 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 13320 term 30 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177} {3640316062072311045 30 178}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177} {3640316062072311045 30 178}]
------------------------------------------------------
flag 31431 term 30 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 57059 term 30 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177} {3640316062072311045 30 178}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177} {3640316062072311045 30 178}]
------------------------------------------------------
flag 5066 term 30 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 3804 term 30 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177} {3640316062072311045 30 178}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177} {3640316062072311045 30 178}]
------------------------------------------------------
flag 49400 term 30 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 90041 term 30 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177} {3640316062072311045 30 178}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177} {3640316062072311045 30 178}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 81343 term 30 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 13008 term 30 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 99600 term 30 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 3902 term 30 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 78338 term 30 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 56530 term 30 leader 2 nextIndex[1]: 179  matchIndex[1]: 178
term 30 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 179->178
------------------------------------------------------
flag 11488 term 30 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 leader 2 nextIndex[1]: 0  matchIndex[1]: 178
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
term 31 server 1 vote for server 0
term 31 server 0 get vote from server 1
term 31 server 0 become leader
------------------------------------------------------
flag 16708 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 5776 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177} {3640316062072311045 30 178}]
------------------------------------------------------
flag 84062 term 30 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 30 leader 2 nextIndex[1]: 0  matchIndex[1]: 178
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
term 30 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 3589444918641982998 (index 179) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73495 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 75938 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 28 169} {342310347380966336 28 170} {7865538335488207377 28 171} {3190892475146962681 28 172} {2482925381612353954 28 173} {3130490803231676253 28 174} {1538116813774803008 28 175} {5427816369797092394 28 176} {3640316062072311045 28 177} {3640316062072311045 30 178} {3589444918641982998 31 179}]
------------------------------------------------------
term 31 Server0 start snapshot! index=179
term 31 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
term 30 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
flag 72545 term 30 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 46973 term 30 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
flag 90815 term 31 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 179 
------------------------------------------------------
term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 0
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 31 179}]
------------------------------------------------------
term 31 Server1 start snapshot! index=179
term 31 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
client write log 3991940754824643895 (index 180) to leader 0
client write log 4409856534272450556 (index 181) to leader 0
client write log 6760089857829620382 (index 182) to leader 0
client write log 6638225958278597219 (index 183) to leader 0
client write log 6206393405723811007 (index 184) to leader 0
client write log 4654302852354891134 (index 185) to leader 0
client write log 7886039521902642512 (index 186) to leader 0
client write log 4827015536837668364 (index 187) to leader 0
client write log 2679780033821747941 (index 188) to leader 0
client write log 2024513316397302401 (index 189) to leader 0
client write log 532773401760465301 (index 190) to leader 0
client write log 3271850643038570831 (index 191) to leader 0
client write log 8141349910290265674 (index 192) to leader 0
flag 6104 term 30 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 4326 term 30 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
flag 99335 term 31 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 179 
------------------------------------------------------
term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 0
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 179} {3991940754824643895 31 180} {4409856534272450556 31 181} {6760089857829620382 31 182} {6638225958278597219 31 183} {6206393405723811007 31 184} {4654302852354891134 31 185} {7886039521902642512 31 186} {4827015536837668364 31 187} {2679780033821747941 31 188} {2024513316397302401 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
term 31 Server0 start snapshot! index=189
term 31 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=192
-------------------------------------------------------------
flag 88557 term 30 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 60284 term 30 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
flag 131 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 0
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
term 31 Server1 start snapshot! index=189
term 31 server1 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=192
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 179->178
------------------------------------------------------
!!!!!!connect server 2
client write log 7510670784727748578 (index 179) to leader 2
flag 96932 term 30 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 9615 term 30 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 30 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
term 31 server 1 AppendEntries false 领导者任期过期 args.Term 30
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 31 server 0 AppendEntries false 领导者任期过期 args.Term 30
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20232 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 2 InstallSnapshot success
------------------------------------------------------
term 31 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 31 rf.commitIndex 189 rf.lastApplied 189
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82256 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 37408 term 31 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 31 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68134 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 40762 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
flag 51537 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 3204 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
flag 93099 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 42852 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
flag 18042 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 38479 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
flag 72044 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 72873 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
flag 92013 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 44811 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
flag 39090 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 39184 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
flag 94268 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 43381 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
flag 34591 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 11658 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
flag 87265 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 55690 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
flag 37385 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 3934 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
flag 38947 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 24961 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
term 31 server 1 not vote for server 0, 任期不够新
term 31 server 0 get outdate rpc reply from server 1
flag 94415 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 76903 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
flag 2249 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 77720 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
flag 6625 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 38312 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
flag 70358 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 23265 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
flag 81617 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 26827 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
term 31 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 190 matchIndex[2] 189 
------------------------------------------------------------------------
flag 423 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 46504 term 31 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 31 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192}]
------------------------------------------------------
client write log 7510670784727748578 (index 193) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63533 term 31 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
flag 11997 term 31 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 31 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 31 leaderCommit: 192 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192} {7510670784727748578 31 193}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192} {7510670784727748578 31 193}]
------------------------------------------------------
flag 33783 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 64883 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192} {7510670784727748578 31 193}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192} {7510670784727748578 31 193}]
------------------------------------------------------
flag 33968 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 8821 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192} {7510670784727748578 31 193}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192} {7510670784727748578 31 193}]
------------------------------------------------------
flag 4442 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 21589 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192} {7510670784727748578 31 193}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192} {7510670784727748578 31 193}]
------------------------------------------------------
flag 88774 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 66866 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192} {7510670784727748578 31 193}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192} {7510670784727748578 31 193}]
------------------------------------------------------
flag 58299 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 37059 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192} {7510670784727748578 31 193}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192} {7510670784727748578 31 193}]
------------------------------------------------------
term 31 server 2 not vote for server 0, 任期不够新
term 31 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72319 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 91022 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192} {7510670784727748578 31 193}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192} {7510670784727748578 31 193}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3158256449295775291 (index 194) to leader 0
flag 39561 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
flag 5958 term 31 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 193 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192} {7510670784727748578 31 193} {3158256449295775291 31 194}]
------------------------------------------------------
flag 67082 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
flag 79003 term 31 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 31 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192} {7510670784727748578 31 193} {3158256449295775291 31 194}]
------------------------------------------------------
client write log 8082297319939296088 (index 195) to leader 0
client write log 9098454549096571578 (index 196) to leader 0
client write log 1342239728434885198 (index 197) to leader 0
client write log 185070267824371192 (index 198) to leader 0
client write log 1593711555078589994 (index 199) to leader 0
client write log 3840161642654343932 (index 200) to leader 0
client write log 8257031529185798169 (index 201) to leader 0
client write log 4182431904069557432 (index 202) to leader 0
flag 95566 term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
flag 28248 term 31 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 31 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 31 leaderCommit: 194 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 31 189} {532773401760465301 31 190} {3271850643038570831 31 191} {8141349910290265674 31 192} {7510670784727748578 31 193} {3158256449295775291 31 194} {8082297319939296088 31 195} {9098454549096571578 31 196} {1342239728434885198 31 197} {185070267824371192 31 198} {1593711555078589994 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202}]
------------------------------------------------------
term 31 Server0 start snapshot! index=199
term 31 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=202
-------------------------------------------------------------
term 31 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
flag 45210 term 31 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 31 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202}]
------------------------------------------------------
term 31 Server2 start snapshot! index=199
term 31 server2 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=202
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5417842842080475121 (index 203) to leader 0
term 31 server 2 not vote for server 1, 日志不够新
term 31 server 0 not vote for server 1, 日志不够新
term 33 server 2 vote for server 0
term 33 server 0 get vote from server 2
term 33 server 0 become leader
------------------------------------------------------
term 33 server 1 vote for server 0
term 33 server 0 get outdate rpc reply from server 1
flag 3435 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 82671 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 204->203
------------------------------------------------------
term 33 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 204->203
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 194  matchIndex[1]: 0
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 31
------------------------------------------------------
flag 91571 term 33 leader 0 nextIndex[2]: 203  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 1 InstallSnapshot success
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 31 rf.commitIndex 199 rf.lastApplied 199
term 33 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
flag 65079 term 33 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 33 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 50210 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78446 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 19334 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
flag 46537 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 81710 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38448 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 62917 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
flag 65417 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 70421 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
flag 50741 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 6618 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56404 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 96846 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
term 33 server 2 not vote for server 0, 任期不够新
term 33 server 0 get outdate rpc reply from server 2
flag 84015 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 97557 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
flag 94782 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 34076 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
flag 38652 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 95328 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
flag 34385 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 87876 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
flag 67257 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 68433 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
flag 63526 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 9205 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
term 33 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79793 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 44348 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
flag 27080 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 84561 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14973 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 52086 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
term 33 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
flag 93161 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 71377 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
flag 721 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 4793 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=202
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203}]
------------------------------------------------------
client write log 5417842842080475121 (index 204) to leader 0
flag 43664 term 33 leader 0 nextIndex[1]: 204  matchIndex[1]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 2717 term 33 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 33 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203} {5417842842080475121 33 204}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203} {5417842842080475121 33 204}]
------------------------------------------------------
flag 86830 term 33 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 1999 term 33 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203} {5417842842080475121 33 204}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203} {5417842842080475121 33 204}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23224 term 33 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 42596 term 33 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203} {5417842842080475121 33 204}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203} {5417842842080475121 33 204}]
------------------------------------------------------
term 33 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58859 term 33 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 28064 term 33 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203} {5417842842080475121 33 204}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203} {5417842842080475121 33 204}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49370 term 33 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 8096 term 33 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203} {5417842842080475121 33 204}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203} {5417842842080475121 33 204}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52160 term 33 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 18035 term 33 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203} {5417842842080475121 33 204}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203} {5417842842080475121 33 204}]
------------------------------------------------------
flag 767 term 33 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 54410 term 33 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:204 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=205
update matchIndex[1]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203} {5417842842080475121 33 204}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=205
update matchIndex[2]=204
update leader CommitIndex=204
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203} {5417842842080475121 33 204}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4795997842766240951 (index 205) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59555 term 33 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
flag 88541 term 33 leader 0 nextIndex[2]: 205  matchIndex[2]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 204 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:204 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203} {5417842842080475121 33 204} {4795997842766240951 33 205}]
------------------------------------------------------
flag 99531 term 33 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
flag 94519 term 33 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 33 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203} {5417842842080475121 33 204} {4795997842766240951 33 205}]
------------------------------------------------------
client write log 6831060231891731208 (index 206) to leader 0
client write log 1442350474843681723 (index 207) to leader 0
client write log 9025154612082352362 (index 208) to leader 0
client write log 8975716861562528402 (index 209) to leader 0
client write log 5078310368317984275 (index 210) to leader 0
client write log 7420983740189632348 (index 211) to leader 0
client write log 5713490164746267774 (index 212) to leader 0
client write log 2154302410852197143 (index 213) to leader 0
client write log 8184254445234191965 (index 214) to leader 0
client write log 4155720215777288689 (index 215) to leader 0
client write log 1889376817005237131 (index 216) to leader 0
flag 53461 term 33 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 33 leader 0 sendAppendEntries PrevLogIndex: 204  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
flag 56433 term 33 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 33 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 31 199} {3840161642654343932 31 200} {8257031529185798169 31 201} {4182431904069557432 31 202} {5417842842080475121 31 203} {5417842842080475121 33 204} {4795997842766240951 33 205} {6831060231891731208 33 206} {1442350474843681723 33 207} {9025154612082352362 33 208} {8975716861562528402 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216}]
------------------------------------------------------
term 33 Server0 start snapshot! index=209
term 33 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=216
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 205  matchIndex[1]: 204
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
flag 93529 term 33 leader 0 nextIndex[2]: 217  matchIndex[2]: 216
term 33 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=217
update matchIndex[2]=216
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216}]
------------------------------------------------------
term 33 Server2 start snapshot! index=209
term 33 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=216
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8437532873655150347 (index 217) to leader 0
term 33 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
term 33 server 2 not vote for server 1, 日志不够新
term 33 server 0 not vote for server 1, 日志不够新
term 35 server 2 vote for server 0
term 35 server 0 get vote from server 2
term 35 server 0 become leader
------------------------------------------------------
term 35 server 1 vote for server 0
term 35 server 0 get outdate rpc reply from server 1
flag 65264 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 16509 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 218->217
------------------------------------------------------
term 35 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 218->217
------------------------------------------------------
term 35 leader 0 nextIndex[1]: 205  matchIndex[1]: 0
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
flag 64535 term 35 leader 0 nextIndex[2]: 217  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
term 35 server 1 InstallSnapshot success
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 33 rf.commitIndex 209 rf.lastApplied 209
flag 34950 term 35 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 35 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 53345 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
flag 55830 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 55258 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
flag 45742 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 53924 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
flag 29710 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 11193 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
flag 53719 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 44945 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
flag 8266 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 19595 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
flag 42563 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 96580 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
flag 57437 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 90433 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
flag 49823 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 80854 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
flag 63151 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 5465 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
flag 33759 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 89741 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
flag 18347 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 26045 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41079 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 24713 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53755 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 68653 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
flag 34528 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 83570 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
flag 81637 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 67916 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
flag 92937 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 6492 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=218
update matchIndex[1]=217
update leader CommitIndex=216
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217}]
------------------------------------------------------
client write log 8437532873655150347 (index 218) to leader 0
flag 69706 term 35 leader 0 nextIndex[1]: 218  matchIndex[1]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
flag 21564 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 33 leaderCommit: 216 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:216 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217} {8437532873655150347 35 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217} {8437532873655150347 35 218}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98534 term 35 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 40343 term 35 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217} {8437532873655150347 35 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217} {8437532873655150347 35 218}]
------------------------------------------------------
flag 89402 term 35 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 69075 term 35 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217} {8437532873655150347 35 218}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217} {8437532873655150347 35 218}]
------------------------------------------------------
flag 1015 term 35 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 10204 term 35 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217} {8437532873655150347 35 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217} {8437532873655150347 35 218}]
------------------------------------------------------
flag 8492 term 35 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 35586 term 35 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217} {8437532873655150347 35 218}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217} {8437532873655150347 35 218}]
------------------------------------------------------
flag 73567 term 35 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 40850 term 35 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217} {8437532873655150347 35 218}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217} {8437532873655150347 35 218}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 55262 term 35 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 15603 term 35 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 37296 term 35 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 24666 term 35 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 91606 term 35 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 20340 term 35 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 39414 term 35 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 42797 term 35 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
term 36 server 2 vote for server 1
term 36 server 1 get vote from server 2
term 36 server 1 become leader
------------------------------------------------------
flag 11150 term 36 leader 1 nextIndex[0]: 219  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 31950 term 36 leader 1 nextIndex[2]: 219  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=218
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217} {8437532873655150347 35 218}]
------------------------------------------------------
client write log 5704711694938452742 (index 219) to leader 1
flag 98075 term 35 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 9604 term 35 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 94150 term 36 leader 1 nextIndex[0]: 219  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 67537 term 36 leader 1 nextIndex[2]: 219  matchIndex[2]: 218
term 36 leader 1 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:218 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 33 209} {5078310368317984275 33 210} {7420983740189632348 33 211} {5713490164746267774 33 212} {2154302410852197143 33 213} {8184254445234191965 33 214} {4155720215777288689 33 215} {1889376817005237131 33 216} {8437532873655150347 33 217} {8437532873655150347 35 218} {5704711694938452742 36 219}]
------------------------------------------------------
term 36 Server1 start snapshot! index=219
term 36 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
flag 73799 term 35 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 91879 term 35 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
term 36 leader 1 nextIndex[0]: 219  matchIndex[0]: 0
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
flag 16352 term 36 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 36 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 36 219}]
------------------------------------------------------
term 36 Server2 start snapshot! index=219
term 36 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
client write log 176280103804747781 (index 220) to leader 1
client write log 8146032926282911210 (index 221) to leader 1
client write log 2279301801042403014 (index 222) to leader 1
client write log 144492431947193755 (index 223) to leader 1
client write log 2769792452287603614 (index 224) to leader 1
client write log 1374035005363818509 (index 225) to leader 1
flag 61104 term 35 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 90034 term 35 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
term 36 leader 1 nextIndex[0]: 219  matchIndex[0]: 0
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
flag 44 term 36 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 36 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 219 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 36 219} {176280103804747781 36 220} {8146032926282911210 36 221} {2279301801042403014 36 222} {144492431947193755 36 223} {2769792452287603614 36 224} {1374035005363818509 36 225}]
------------------------------------------------------
flag 40392 term 35 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 90863 term 35 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
term 36 leader 1 nextIndex[0]: 219  matchIndex[0]: 0
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
flag 45286 term 36 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 36 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 36 leaderCommit: 225 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 36 219} {176280103804747781 36 220} {8146032926282911210 36 221} {2279301801042403014 36 222} {144492431947193755 36 223} {2769792452287603614 36 224} {1374035005363818509 36 225}]
------------------------------------------------------
!!!!!!connect server 0
client write log 4703855240387629502 (index 226) to leader 1
flag 18942 term 35 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
flag 12236 term 35 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 35 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 218 
------------------------------------------------------
term 36 server 2 AppendEntries false 领导者任期过期 args.Term 35
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 36 server 1 AppendEntries false 领导者任期过期 args.Term 35
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 219->218
------------------------------------------------------
term 36 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 36
------------------------------------------------------
flag 32722 term 36 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 36 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 36 leaderCommit: 225 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
term 36 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 36 219} {176280103804747781 36 220} {8146032926282911210 36 221} {2279301801042403014 36 222} {144492431947193755 36 223} {2769792452287603614 36 224} {1374035005363818509 36 225} {4703855240387629502 36 226}]
------------------------------------------------------
term 36 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 36 rf.commitIndex 219 rf.lastApplied 219
flag 32170 term 36 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 36 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 61444 term 36 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 36 219} {176280103804747781 36 220} {8146032926282911210 36 221} {2279301801042403014 36 222} {144492431947193755 36 223} {2769792452287603614 36 224} {1374035005363818509 36 225} {4703855240387629502 36 226}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 36 219} {176280103804747781 36 220} {8146032926282911210 36 221} {2279301801042403014 36 222} {144492431947193755 36 223} {2769792452287603614 36 224} {1374035005363818509 36 225} {4703855240387629502 36 226}]
------------------------------------------------------
term 36 server 0 not vote for server 1, 日志不够新
term 36 server 1 get outdate rpc reply from server 0
flag 47736 term 36 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 36 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 16577 term 36 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 36 219} {176280103804747781 36 220} {8146032926282911210 36 221} {2279301801042403014 36 222} {144492431947193755 36 223} {2769792452287603614 36 224} {1374035005363818509 36 225} {4703855240387629502 36 226}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 36 219} {176280103804747781 36 220} {8146032926282911210 36 221} {2279301801042403014 36 222} {144492431947193755 36 223} {2769792452287603614 36 224} {1374035005363818509 36 225} {4703855240387629502 36 226}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13926 term 36 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 36 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 69638 term 36 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 36 219} {176280103804747781 36 220} {8146032926282911210 36 221} {2279301801042403014 36 222} {144492431947193755 36 223} {2769792452287603614 36 224} {1374035005363818509 36 225} {4703855240387629502 36 226}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 36 219} {176280103804747781 36 220} {8146032926282911210 36 221} {2279301801042403014 36 222} {144492431947193755 36 223} {2769792452287603614 36 224} {1374035005363818509 36 225} {4703855240387629502 36 226}]
------------------------------------------------------
flag 82548 term 36 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 36 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 38445 term 36 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 36 219} {176280103804747781 36 220} {8146032926282911210 36 221} {2279301801042403014 36 222} {144492431947193755 36 223} {2769792452287603614 36 224} {1374035005363818509 36 225} {4703855240387629502 36 226}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 36 219} {176280103804747781 36 220} {8146032926282911210 36 221} {2279301801042403014 36 222} {144492431947193755 36 223} {2769792452287603614 36 224} {1374035005363818509 36 225} {4703855240387629502 36 226}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4311 term 36 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 36 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 29471 term 36 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 36 219} {176280103804747781 36 220} {8146032926282911210 36 221} {2279301801042403014 36 222} {144492431947193755 36 223} {2769792452287603614 36 224} {1374035005363818509 36 225} {4703855240387629502 36 226}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 36 219} {176280103804747781 36 220} {8146032926282911210 36 221} {2279301801042403014 36 222} {144492431947193755 36 223} {2769792452287603614 36 224} {1374035005363818509 36 225} {4703855240387629502 36 226}]
------------------------------------------------------
flag 39521 term 36 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 36 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 72881 term 36 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 36 219} {176280103804747781 36 220} {8146032926282911210 36 221} {2279301801042403014 36 222} {144492431947193755 36 223} {2769792452287603614 36 224} {1374035005363818509 36 225} {4703855240387629502 36 226}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 36 219} {176280103804747781 36 220} {8146032926282911210 36 221} {2279301801042403014 36 222} {144492431947193755 36 223} {2769792452287603614 36 224} {1374035005363818509 36 225} {4703855240387629502 36 226}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2683951974082659845 (index 227) to leader 1
flag 26148 term 36 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 36 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
flag 83594 term 36 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 226 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {176280103804747781 36 220} {8146032926282911210 36 221} {2279301801042403014 36 222} {144492431947193755 36 223} {2769792452287603614 36 224} {1374035005363818509 36 225} {4703855240387629502 36 226} {2683951974082659845 36 227}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69743 term 36 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 84570 term 36 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 36 219} {176280103804747781 36 220} {8146032926282911210 36 221} {2279301801042403014 36 222} {144492431947193755 36 223} {2769792452287603614 36 224} {1374035005363818509 36 225} {4703855240387629502 36 226} {2683951974082659845 36 227}]
------------------------------------------------------
client write log 2754948265057874578 (index 228) to leader 1
client write log 7708067280475597123 (index 229) to leader 1
client write log 6278775787944890231 (index 230) to leader 1
client write log 1765805819479786907 (index 231) to leader 1
client write log 6500894284954358351 (index 232) to leader 1
client write log 6765805992581579798 (index 233) to leader 1
client write log 3658102382682748631 (index 234) to leader 1
client write log 4796541399377199733 (index 235) to leader 1
flag 99398 term 36 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 36 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
flag 54601 term 36 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 36 leaderCommit: 227 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 36 219} {176280103804747781 36 220} {8146032926282911210 36 221} {2279301801042403014 36 222} {144492431947193755 36 223} {2769792452287603614 36 224} {1374035005363818509 36 225} {4703855240387629502 36 226} {2683951974082659845 36 227} {2754948265057874578 36 228} {7708067280475597123 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235}]
------------------------------------------------------
term 36 Server1 start snapshot! index=229
term 36 server1 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=235
-------------------------------------------------------------
flag 89028 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235}]
------------------------------------------------------
term 36 Server0 start snapshot! index=229
term 36 server0 snapshot success
lastIncludedIndex=229 lastApplied=229 lastIndex=235
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3300555937809963061 (index 236) to leader 1
term 36 server 1 not vote for server 2, 日志不够新
term 36 server 0 not vote for server 2, 日志不够新
term 38 server 2 vote for server 1
term 38 server 1 get vote from server 2
term 38 server 1 become leader
------------------------------------------------------
term 38 server 0 vote for server 1
term 38 server 1 get outdate rpc reply from server 0
flag 14327 term 38 leader 1 nextIndex[0]: 237  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
flag 10083 term 38 leader 1 nextIndex[2]: 237  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
term 38 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 38 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 237->236
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 237->236
------------------------------------------------------
flag 20658 term 38 leader 1 nextIndex[0]: 236  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 227  matchIndex[2]: 0
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 36
------------------------------------------------------
term 38 server 2 InstallSnapshot success
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 230 matchIndex[2] 229 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 36 rf.commitIndex 229 rf.lastApplied 229
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
flag 63860 term 38 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
flag 24740 term 38 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 38 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
term 38 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74039 term 38 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
flag 27806 term 38 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
flag 91980 term 38 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
flag 56308 term 38 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3529 term 38 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
flag 63922 term 38 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
term 38 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 129 term 38 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
flag 42495 term 38 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52164 term 38 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
flag 95452 term 38 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
flag 80092 term 38 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
flag 2199 term 38 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14034 term 38 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
flag 72394 term 38 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
flag 71269 term 38 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
flag 68877 term 38 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
flag 85794 term 38 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
flag 88272 term 38 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
flag 17240 term 38 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
flag 73231 term 38 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73204 term 38 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
flag 22820 term 38 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
flag 36039 term 38 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
flag 59684 term 38 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
flag 99477 term 38 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
flag 51659 term 38 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80483 term 38 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
flag 39892 term 38 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
flag 27525 term 38 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
flag 38033 term 38 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=235
leader log:
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
flag 345 term 38 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
flag 2256 term 38 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
flag 36738 term 38 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
flag 44535 term 38 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=235
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236}]
------------------------------------------------------
client write log 3300555937809963061 (index 237) to leader 1
flag 3904 term 38 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
flag 70753 term 38 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 38 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 235 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=237
leader log:
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236} {3300555937809963061 38 237}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236} {3300555937809963061 38 237}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43020 term 38 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 38 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 237 
------------------------------------------------------
flag 97487 term 38 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 38 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 237 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236} {3300555937809963061 38 237}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236} {3300555937809963061 38 237}]
------------------------------------------------------
flag 92347 term 38 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 38 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 237 
------------------------------------------------------
flag 59171 term 38 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 38 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 237 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236} {3300555937809963061 38 237}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236} {3300555937809963061 38 237}]
------------------------------------------------------
flag 21915 term 38 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 38 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 237 
------------------------------------------------------
flag 86958 term 38 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 38 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 237 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236} {3300555937809963061 38 237}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236} {3300555937809963061 38 237}]
------------------------------------------------------
flag 4421 term 38 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 38 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 237 
------------------------------------------------------
flag 21153 term 38 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 38 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 237 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236} {3300555937809963061 38 237}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236} {3300555937809963061 38 237}]
------------------------------------------------------
flag 22316 term 38 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 38 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 237 
------------------------------------------------------
flag 50026 term 38 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 38 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 237 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=237
leader log:
term 38 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236} {3300555937809963061 38 237}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236} {3300555937809963061 38 237}]
------------------------------------------------------
flag 34831 term 38 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 38 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 237 
------------------------------------------------------
flag 24736 term 38 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 38 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 237 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=238
update matchIndex[2]=237
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236} {3300555937809963061 38 237}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236} {3300555937809963061 38 237}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5313108034809578114 (index 238) to leader 1
flag 34328 term 38 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 38 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 237 
------------------------------------------------------
flag 27254 term 38 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 38 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 237 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236} {3300555937809963061 38 237} {5313108034809578114 38 238}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67262 term 38 leader 1 nextIndex[0]: 239  matchIndex[0]: 238
term 38 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 43085 term 38 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 38 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=239
update matchIndex[0]=238
update leader CommitIndex=238
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236} {3300555937809963061 38 237} {5313108034809578114 38 238}]
------------------------------------------------------
client write log 3330364064313934767 (index 239) to leader 1
client write log 7657095177707111360 (index 240) to leader 1
client write log 8391594124944719743 (index 241) to leader 1
client write log 7493512995776150793 (index 242) to leader 1
client write log 7471598412473011882 (index 243) to leader 1
client write log 748420912799518297 (index 244) to leader 1
client write log 2285842558017316576 (index 245) to leader 1
client write log 2758296474372704841 (index 246) to leader 1
client write log 6629067890201912232 (index 247) to leader 1
client write log 7133370929519419830 (index 248) to leader 1
client write log 7281696487920381780 (index 249) to leader 1
client write log 1674848091021398213 (index 250) to leader 1
client write log 3907882263934178632 (index 251) to leader 1
client write log 9031252936906478954 (index 252) to leader 1
client write log 532559799200727041 (index 253) to leader 1
flag 12388 term 38 leader 1 nextIndex[0]: 239  matchIndex[0]: 238
term 38 leader 1 sendAppendEntries PrevLogIndex: 238  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
flag 30240 term 38 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 38 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 38 leaderCommit: 238 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:238 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 36 229} {6278775787944890231 36 230} {1765805819479786907 36 231} {6500894284954358351 36 232} {6765805992581579798 36 233} {3658102382682748631 36 234} {4796541399377199733 36 235} {3300555937809963061 36 236} {3300555937809963061 38 237} {5313108034809578114 38 238} {3330364064313934767 38 239} {7657095177707111360 38 240} {8391594124944719743 38 241} {7493512995776150793 38 242} {7471598412473011882 38 243} {748420912799518297 38 244} {2285842558017316576 38 245} {2758296474372704841 38 246} {6629067890201912232 38 247} {7133370929519419830 38 248} {7281696487920381780 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253}]
------------------------------------------------------
term 38 Server1 start snapshot! index=239
term 38 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=253
-------------------------------------------------------------
term 38 Server1 start snapshot! index=249
term 38 server1 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=253
-------------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 81415 term 38 leader 1 nextIndex[0]: 254  matchIndex[0]: 253
term 38 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 238  matchIndex[2]: 237
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=254
update matchIndex[0]=253
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253}]
------------------------------------------------------
term 38 Server0 start snapshot! index=239
term 38 server0 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=253
-------------------------------------------------------------
term 38 Server0 start snapshot! index=249
term 38 server0 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=253
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4843953067239152142 (index 254) to leader 1
term 38 server 1 not vote for server 2, 日志不够新
term 38 server 0 not vote for server 2, 日志不够新
term 40 server 2 vote for server 1
term 40 server 1 get vote from server 2
term 40 server 1 become leader
------------------------------------------------------
term 40 server 0 vote for server 1
term 40 server 1 get outdate rpc reply from server 0
flag 2760 term 40 leader 1 nextIndex[0]: 255  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
flag 95320 term 40 leader 1 nextIndex[2]: 255  matchIndex[2]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
term 40 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 255->254
------------------------------------------------------
term 40 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 255->254
------------------------------------------------------
flag 8159 term 40 leader 1 nextIndex[0]: 254  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 238  matchIndex[2]: 0
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
term 40 server 2 InstallSnapshot success
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 38 rf.commitIndex 249 rf.lastApplied 249
term 40 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
flag 96513 term 40 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
flag 2998 term 40 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:253 
term 40 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50567 term 40 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
flag 74642 term 40 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99362 term 40 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
flag 24650 term 40 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
flag 8667 term 40 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
flag 63963 term 40 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46386 term 40 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
flag 72068 term 40 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
term 40 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 54842 term 40 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
flag 24381 term 40 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60481 term 40 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
flag 23943 term 40 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
flag 62967 term 40 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
flag 56016 term 40 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
flag 44335 term 40 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
flag 56923 term 40 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12290 term 40 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
flag 37316 term 40 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
flag 89310 term 40 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
flag 1064 term 40 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
flag 84069 term 40 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
flag 74682 term 40 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
flag 86278 term 40 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
flag 47644 term 40 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
flag 37986 term 40 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
flag 12803 term 40 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
flag 57729 term 40 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
flag 56485 term 40 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
flag 41716 term 40 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
flag 75584 term 40 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3259 term 40 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
flag 38937 term 40 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=255
update matchIndex[0]=254
update leader CommitIndex=253
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254}]
------------------------------------------------------
client write log 4843953067239152142 (index 255) to leader 1
flag 71731 term 40 leader 1 nextIndex[0]: 255  matchIndex[0]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
flag 83754 term 40 leader 1 nextIndex[2]: 255  matchIndex[2]: 254
term 40 leader 1 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 38 leaderCommit: 253 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14818 term 40 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 40 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
flag 95580 term 40 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 40 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255}]
------------------------------------------------------
flag 36765 term 40 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 40 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
flag 85018 term 40 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 40 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255}]
------------------------------------------------------
flag 63787 term 40 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 40 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
flag 45752 term 40 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 40 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255}]
------------------------------------------------------
flag 99877 term 40 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 40 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
flag 57720 term 40 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 40 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255}]
------------------------------------------------------
flag 1083 term 40 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 40 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
flag 24159 term 40 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 40 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255}]
------------------------------------------------------
flag 122 term 40 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 40 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
flag 84656 term 40 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 40 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=256
update matchIndex[0]=255
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 52414 term 40 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 40 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
flag 63374 term 40 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 40 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
flag 79164 term 40 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 40 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
flag 1456 term 40 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 40 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
flag 60823 term 40 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 40 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
flag 2199 term 40 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 40 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
term 41 server 2 vote for server 0
term 41 server 0 get vote from server 2
term 41 server 0 become leader
------------------------------------------------------
flag 2823 term 40 leader 1 nextIndex[0]: 256  matchIndex[0]: 255
term 40 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
flag 36706 term 40 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 40 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
flag 38643 term 41 leader 0 nextIndex[1]: 256  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
flag 39093 term 41 leader 0 nextIndex[2]: 256  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255}]
------------------------------------------------------
client write log 656934381030649246 (index 256) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 256->255
------------------------------------------------------
term 40 leader 1 nextIndex[0]: 0  matchIndex[0]: 255
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
flag 24621 term 40 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 40 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
flag 16701 term 41 leader 0 nextIndex[1]: 256  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
flag 67824 term 41 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256}]
------------------------------------------------------
term 40 leader 1 nextIndex[0]: 0  matchIndex[0]: 255
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
flag 53655 term 40 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 40 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
flag 98098 term 41 leader 0 nextIndex[1]: 256  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 44928 term 41 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 41 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256}]
------------------------------------------------------
client write log 7028525406297860522 (index 257) to leader 0
term 40 leader 1 nextIndex[0]: 0  matchIndex[0]: 255
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
flag 76318 term 40 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 40 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
flag 23243 term 41 leader 0 nextIndex[1]: 256  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 256 
------------------------------------------------------
flag 80487 term 41 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 41 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 41 leaderCommit: 256 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
term 40 leader 1 nextIndex[0]: 0  matchIndex[0]: 255
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
flag 24243 term 40 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 40 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
flag 62304 term 41 leader 0 nextIndex[1]: 256  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 33119 term 41 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
!!!!!!connect server 1
client write log 7941042145606279008 (index 256) to leader 1
term 40 leader 1 nextIndex[0]: 0  matchIndex[0]: 255
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
flag 42004 term 40 leader 1 nextIndex[2]: 256  matchIndex[2]: 255
term 40 leader 1 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 255 
------------------------------------------------------
term 41 server 2 AppendEntries false 领导者任期过期 args.Term 40
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
term 41 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
------------------------------------------------------
term 41 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78572 term 41 leader 0 nextIndex[1]: 256  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 40 leaderCommit: 257 
------------------------------------------------------
flag 24846 term 41 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
flag 86891 term 41 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 4912 term 41 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
term 41 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
flag 80859 term 41 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 75956 term 41 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
flag 19128 term 41 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 52388 term 41 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
flag 95822 term 41 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 45251 term 41 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
flag 1066 term 41 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 51028 term 41 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:257 
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 258->257
------------------------------------------------------
term 41 leader 0 nextIndex[1]: 0  matchIndex[1]: 257
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 38
------------------------------------------------------
flag 27945 term 41 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
term 41 server 1 InstallSnapshot fail
rf.commitIndex 257 args.LastIncludedIndex 249
------------------------------------------------------
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
flag 87612 term 41 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 41 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
flag 61776 term 41 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
flag 43257 term 41 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 70055 term 41 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42072 term 41 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 58526 term 41 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
flag 10716 term 41 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 54871 term 41 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
flag 19245 term 41 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 78598 term 41 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
flag 86028 term 41 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 60745 term 41 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:257 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86867 term 41 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 78759 term 41 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
flag 18418 term 41 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 10348 term 41 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7045 term 41 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 69926 term 41 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
term 41 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83899 term 41 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 29039 term 41 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
flag 7616 term 41 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 73051 term 41 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
flag 67701 term 41 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 44371 term 41 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
term 41 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5649 term 41 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 19727 term 41 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257}]
------------------------------------------------------
client write log 7941042145606279008 (index 258) to leader 0
flag 95868 term 41 leader 0 nextIndex[1]: 258  matchIndex[1]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
flag 66250 term 41 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 41 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 41 leaderCommit: 257 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257} {7941042145606279008 41 258}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257} {7941042145606279008 41 258}]
------------------------------------------------------
flag 34703 term 41 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 41 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 70756 term 41 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257} {7941042145606279008 41 258}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257} {7941042145606279008 41 258}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71773 term 41 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 41 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 5402 term 41 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257} {7941042145606279008 41 258}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257} {7941042145606279008 41 258}]
------------------------------------------------------
flag 1701 term 41 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 41 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 45019 term 41 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257} {7941042145606279008 41 258}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257} {7941042145606279008 41 258}]
------------------------------------------------------
flag 42098 term 41 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 41 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 41433 term 41 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257} {7941042145606279008 41 258}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257} {7941042145606279008 41 258}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35135 term 41 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 41 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 75185 term 41 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257} {7941042145606279008 41 258}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257} {7941042145606279008 41 258}]
------------------------------------------------------
flag 64723 term 41 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 41 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 85336 term 41 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=259
update matchIndex[2]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257} {7941042145606279008 41 258}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257} {7941042145606279008 41 258}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4972548535548119894 (index 259) to leader 0
flag 91900 term 41 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 41 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
flag 56563 term 41 leader 0 nextIndex[2]: 259  matchIndex[2]: 258
term 41 leader 0 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 41 leaderCommit: 258 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 38 249} {1674848091021398213 38 250} {3907882263934178632 38 251} {9031252936906478954 38 252} {532559799200727041 38 253} {4843953067239152142 38 254} {4843953067239152142 40 255} {656934381030649246 41 256} {7028525406297860522 41 257} {7941042145606279008 41 258} {4972548535548119894 41 259}]
------------------------------------------------------
term 41 Server0 start snapshot! index=259
term 41 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
flag 59294 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=260
update matchIndex[2]=259
update leader CommitIndex=259
leader log:
[{snapshot 41 259}]
------------------------------------------------------
term 41 Server2 start snapshot! index=259
term 41 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
client write log 3841383560392648230 (index 260) to leader 0
client write log 3704427986292131463 (index 261) to leader 0
client write log 8591392856330356265 (index 262) to leader 0
client write log 1772234907264052050 (index 263) to leader 0
client write log 4528525046772800289 (index 264) to leader 0
client write log 8336678015970646398 (index 265) to leader 0
client write log 8981665776848904084 (index 266) to leader 0
client write log 4784054735211657686 (index 267) to leader 0
client write log 7754590551342085278 (index 268) to leader 0
client write log 8914733546633806958 (index 269) to leader 0
client write log 5840170948930685513 (index 270) to leader 0
term 41 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 41
------------------------------------------------------
flag 90845 term 41 leader 0 nextIndex[2]: 260  matchIndex[2]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 41 leaderCommit: 259 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 41 259} {3841383560392648230 41 260} {3704427986292131463 41 261} {8591392856330356265 41 262} {1772234907264052050 41 263} {4528525046772800289 41 264} {8336678015970646398 41 265} {8981665776848904084 41 266} {4784054735211657686 41 267} {7754590551342085278 41 268} {8914733546633806958 41 269} {5840170948930685513 41 270}]
------------------------------------------------------
term 41 Server0 start snapshot! index=269
term 41 server0 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=270
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 leader 0 nextIndex[1]: 259  matchIndex[1]: 258
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
flag 43597 term 41 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 41 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 41 leaderCommit: 270 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 41 269} {5840170948930685513 41 270}]
------------------------------------------------------
term 41 Server2 start snapshot! index=269
term 41 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=270
-------------------------------------------------------------
!!!!!!connect server 1
client write log 9165268088614042436 (index 271) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 259->258
------------------------------------------------------
term 41 leader 0 nextIndex[1]: 0  matchIndex[1]: 258
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
flag 66158 term 41 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 41 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 41 leaderCommit: 270 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
term 42 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {5840170948930685513 41 270} {9165268088614042436 41 271}]
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 server 2 vote for server 0
term 43 server 1 vote for server 0
term 43 server 0 get vote from server 2
term 43 server 0 become leader
------------------------------------------------------
term 43 server 0 get outdate rpc reply from server 1
flag 17803 term 43 leader 0 nextIndex[1]: 272  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 90109 term 43 leader 0 nextIndex[2]: 272  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {5840170948930685513 41 270} {9165268088614042436 41 271}]
------------------------------------------------------
term 43 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 272->271
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 259  matchIndex[1]: 0
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
flag 54533 term 43 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 43 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {5840170948930685513 41 270} {9165268088614042436 41 271}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 41 rf.commitIndex 269 rf.lastApplied 269
flag 61227 term 43 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 19581 term 43 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {5840170948930685513 41 270} {9165268088614042436 41 271}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {5840170948930685513 41 270} {9165268088614042436 41 271}]
------------------------------------------------------
flag 46010 term 43 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 25574 term 43 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {5840170948930685513 41 270} {9165268088614042436 41 271}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {5840170948930685513 41 270} {9165268088614042436 41 271}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41436 term 43 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 51247 term 43 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {5840170948930685513 41 270} {9165268088614042436 41 271}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {5840170948930685513 41 270} {9165268088614042436 41 271}]
------------------------------------------------------
flag 71706 term 43 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 82631 term 43 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {5840170948930685513 41 270} {9165268088614042436 41 271}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {5840170948930685513 41 270} {9165268088614042436 41 271}]
------------------------------------------------------
flag 48191 term 43 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 89771 term 43 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {5840170948930685513 41 270} {9165268088614042436 41 271}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {5840170948930685513 41 270} {9165268088614042436 41 271}]
------------------------------------------------------
term 43 server 1 not vote for server 0, 任期不够新
term 43 server 0 get outdate rpc reply from server 1
flag 9668 term 43 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 18859 term 43 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {5840170948930685513 41 270} {9165268088614042436 41 271}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=271
leader log:
[{snapshot 41 269} {5840170948930685513 41 270} {9165268088614042436 41 271}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2900386771947195854 (index 272) to leader 0
flag 97779 term 43 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
flag 1337 term 43 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 271 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {5840170948930685513 41 270} {9165268088614042436 41 271} {2900386771947195854 43 272}]
------------------------------------------------------
flag 70893 term 43 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 95720 term 43 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 43 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=272
leader log:
[{snapshot 41 269} {5840170948930685513 41 270} {9165268088614042436 41 271} {2900386771947195854 43 272}]
------------------------------------------------------
client write log 8930013626683962757 (index 273) to leader 0
client write log 658952052400499065 (index 274) to leader 0
client write log 2613585426750235583 (index 275) to leader 0
client write log 374659762022663731 (index 276) to leader 0
client write log 6444577104958125892 (index 277) to leader 0
client write log 5967589231958796381 (index 278) to leader 0
client write log 6040206856139013696 (index 279) to leader 0
client write log 1140725768488285988 (index 280) to leader 0
client write log 1633339817725052578 (index 281) to leader 0
flag 34695 term 43 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 43 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 41 leaderCommit: 272 
------------------------------------------------------
flag 89588 term 43 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 43 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 43 leaderCommit: 272 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 41 269} {5840170948930685513 41 270} {9165268088614042436 41 271} {2900386771947195854 43 272} {8930013626683962757 43 273} {658952052400499065 43 274} {2613585426750235583 43 275} {374659762022663731 43 276} {6444577104958125892 43 277} {5967589231958796381 43 278} {6040206856139013696 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281}]
------------------------------------------------------
term 43 Server0 start snapshot! index=279
term 43 server0 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=281
-------------------------------------------------------------
term 43 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
flag 72458 term 43 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281}]
------------------------------------------------------
term 43 Server2 start snapshot! index=279
term 43 server2 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=281
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3183554378235504785 (index 282) to leader 0
term 43 leader 0 nextIndex[1]: 272  matchIndex[1]: 271
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
flag 73614 term 43 leader 0 nextIndex[2]: 282  matchIndex[2]: 281
term 43 leader 0 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 43 leaderCommit: 281 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 44 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 45 server 2 vote for server 0
term 45 server 1 vote for server 0
term 45 server 0 get vote from server 2
term 45 server 0 become leader
------------------------------------------------------
term 45 server 0 get outdate rpc reply from server 1
flag 42711 term 45 leader 0 nextIndex[1]: 283  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 18072 term 45 leader 0 nextIndex[2]: 283  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 45 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 283->282
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 272  matchIndex[1]: 0
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
flag 96078 term 45 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 45 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282}]
------------------------------------------------------
term 45 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 43 rf.commitIndex 279 rf.lastApplied 279
term 45 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
term 45 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97636 term 45 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 45 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 46043 term 45 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 45 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282}]
------------------------------------------------------
term 45 server 0 not vote for server 1, 任期不够新
term 45 server 1 get outdate rpc reply from server 0
flag 58931 term 45 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 45 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 3089 term 45 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 45 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85495 term 45 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 45 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 59654 term 45 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 45 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282}]
------------------------------------------------------
flag 7768 term 45 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 45 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 75762 term 45 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 45 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:282 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282}]
------------------------------------------------------
flag 16409 term 45 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 45 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 1754 term 45 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 45 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 server 0 not vote for server 1, 任期不够新
term 45 server 1 get outdate rpc reply from server 0
flag 7683 term 45 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 45 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 83064 term 45 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 45 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98780 term 45 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 45 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 26137 term 45 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 45 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=283
update matchIndex[2]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=283
update matchIndex[1]=282
update leader CommitIndex=282
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 31941 term 45 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 45 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 60426 term 45 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 45 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 32957 term 45 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 45 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 59903 term 45 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 45 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 85526 term 45 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 45 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 32667 term 45 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 45 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14763 term 45 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 45 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 63682 term 45 leader 0 nextIndex[2]: 283  matchIndex[2]: 282
term 45 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 46 server 1 vote for server 2
term 46 server 2 get vote from server 1
term 46 server 2 become leader
------------------------------------------------------
client write log 98571355971003097 (index 283) to leader 2
flag 63764 term 46 leader 2 nextIndex[0]: 283  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
flag 38189 term 46 leader 2 nextIndex[1]: 283  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282} {98571355971003097 46 283}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 283->282
------------------------------------------------------
flag 55736 term 45 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 45 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 leader 0 nextIndex[2]: 0  matchIndex[2]: 282
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
flag 23652 term 46 leader 2 nextIndex[0]: 283  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 283 
------------------------------------------------------
flag 93023 term 46 leader 2 nextIndex[1]: 284  matchIndex[1]: 283
term 46 leader 2 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 46 leaderCommit: 283 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=284
update matchIndex[1]=283
update leader CommitIndex=283
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282} {98571355971003097 46 283}]
------------------------------------------------------
client write log 4182552028389890025 (index 284) to leader 2
flag 88260 term 45 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 45 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 leader 0 nextIndex[2]: 0  matchIndex[2]: 282
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
flag 76023 term 46 leader 2 nextIndex[0]: 283  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 283 
------------------------------------------------------
flag 18526 term 46 leader 2 nextIndex[1]: 284  matchIndex[1]: 283
term 46 leader 2 sendAppendEntries PrevLogIndex: 283  PrevLogTerm: 46 leaderCommit: 283 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:283 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282} {98571355971003097 46 283} {4182552028389890025 46 284}]
------------------------------------------------------
flag 84851 term 45 leader 0 nextIndex[1]: 283  matchIndex[1]: 282
term 45 leader 0 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 282 
------------------------------------------------------
term 45 leader 0 nextIndex[2]: 0  matchIndex[2]: 282
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
flag 7762 term 46 leader 2 nextIndex[0]: 283  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 17344 term 46 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 46 leaderCommit: 284 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=285
update matchIndex[1]=284
update leader CommitIndex=284
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282} {98571355971003097 46 283} {4182552028389890025 46 284}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 283->282
------------------------------------------------------
!!!!!!connect server 0
client write log 2683779276503499653 (index 285) to leader 2
term 45 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 46 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 45 leader 0 nextIndex[1]: 0  matchIndex[1]: 282
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
term 45 leader 0 nextIndex[2]: 0  matchIndex[2]: 282
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 43
------------------------------------------------------
term 46 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 46 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 45 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58624 term 46 leader 2 nextIndex[0]: 283  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 43 leaderCommit: 284 
------------------------------------------------------
flag 65867 term 46 leader 2 nextIndex[1]: 285  matchIndex[1]: 284
term 46 leader 2 sendAppendEntries PrevLogIndex: 284  PrevLogTerm: 46 leaderCommit: 284 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:284 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282} {98571355971003097 46 283} {4182552028389890025 46 284} {2683779276503499653 46 285}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282} {98571355971003097 46 283} {4182552028389890025 46 284} {2683779276503499653 46 285}]
------------------------------------------------------
flag 12799 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
flag 28750 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282} {98571355971003097 46 283} {4182552028389890025 46 284} {2683779276503499653 46 285}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282} {98571355971003097 46 283} {4182552028389890025 46 284} {2683779276503499653 46 285}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55812 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
flag 16112 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282} {98571355971003097 46 283} {4182552028389890025 46 284} {2683779276503499653 46 285}]
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282} {98571355971003097 46 283} {4182552028389890025 46 284} {2683779276503499653 46 285}]
------------------------------------------------------
term 46 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50529 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
flag 2697 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282} {98571355971003097 46 283} {4182552028389890025 46 284} {2683779276503499653 46 285}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282} {98571355971003097 46 283} {4182552028389890025 46 284} {2683779276503499653 46 285}]
------------------------------------------------------
flag 57524 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
flag 22774 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282} {98571355971003097 46 283} {4182552028389890025 46 284} {2683779276503499653 46 285}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282} {98571355971003097 46 283} {4182552028389890025 46 284} {2683779276503499653 46 285}]
------------------------------------------------------
flag 68023 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
flag 86157 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282} {98571355971003097 46 283} {4182552028389890025 46 284} {2683779276503499653 46 285}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282} {98571355971003097 46 283} {4182552028389890025 46 284} {2683779276503499653 46 285}]
------------------------------------------------------
term 46 server 0 not vote for server 2, 日志不够新
term 46 server 2 get outdate rpc reply from server 0
flag 91312 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
flag 39031 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=286
update matchIndex[1]=285
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282} {98571355971003097 46 283} {4182552028389890025 46 284} {2683779276503499653 46 285}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=286
update matchIndex[0]=285
update leader CommitIndex=285
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282} {98571355971003097 46 283} {4182552028389890025 46 284} {2683779276503499653 46 285}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1603483313557236701 (index 286) to leader 2
flag 14863 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
flag 12548 term 46 leader 2 nextIndex[1]: 286  matchIndex[1]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 285 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282} {98571355971003097 46 283} {4182552028389890025 46 284} {2683779276503499653 46 285} {1603483313557236701 46 286}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21080 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 58672 term 46 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282} {98571355971003097 46 283} {4182552028389890025 46 284} {2683779276503499653 46 285} {1603483313557236701 46 286}]
------------------------------------------------------
client write log 5712797285668766747 (index 287) to leader 2
client write log 6723259068128852361 (index 288) to leader 2
client write log 8187290692302281475 (index 289) to leader 2
client write log 1535492739213517077 (index 290) to leader 2
client write log 3844259114475556611 (index 291) to leader 2
client write log 5755211564430776467 (index 292) to leader 2
flag 13136 term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
flag 1294 term 46 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 46 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 46 leaderCommit: 286 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 43 279} {1140725768488285988 43 280} {1633339817725052578 43 281} {3183554378235504785 43 282} {98571355971003097 46 283} {4182552028389890025 46 284} {2683779276503499653 46 285} {1603483313557236701 46 286} {5712797285668766747 46 287} {6723259068128852361 46 288} {8187290692302281475 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292}]
------------------------------------------------------
term 46 Server2 start snapshot! index=289
term 46 server2 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=292
-------------------------------------------------------------
term 46 leader 2 nextIndex[0]: 286  matchIndex[0]: 285
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
flag 69312 term 46 leader 2 nextIndex[1]: 293  matchIndex[1]: 292
term 46 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 46 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=293
update matchIndex[1]=292
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292}]
------------------------------------------------------
term 46 Server1 start snapshot! index=289
term 46 server1 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=292
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4493660036063976910 (index 293) to leader 2
term 46 server 2 not vote for server 0, 日志不够新
term 46 server 1 not vote for server 0, 日志不够新
term 48 server 1 vote for server 2
term 48 server 0 vote for server 2
term 48 server 2 get vote from server 1
term 48 server 2 become leader
------------------------------------------------------
term 48 server 2 get outdate rpc reply from server 0
flag 86353 term 48 leader 2 nextIndex[0]: 294  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
flag 50532 term 48 leader 2 nextIndex[1]: 294  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 48 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 294->293
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 294->293
------------------------------------------------------
term 48 leader 2 nextIndex[0]: 286  matchIndex[0]: 0
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 46
------------------------------------------------------
flag 22819 term 48 leader 2 nextIndex[1]: 293  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 48 server 0 InstallSnapshot success
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 46 rf.commitIndex 289 rf.lastApplied 289
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11666 term 48 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
flag 489 term 48 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
term 48 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 39735 term 48 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
flag 81019 term 48 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
flag 44354 term 48 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
flag 15952 term 48 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
flag 96022 term 48 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
flag 76924 term 48 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
term 48 server 2 not vote for server 1, 任期不够新
term 48 server 1 get outdate rpc reply from server 2
flag 51829 term 48 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
flag 54667 term 48 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59163 term 48 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
flag 69162 term 48 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
flag 74296 term 48 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
flag 34818 term 48 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
flag 23405 term 48 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
flag 78765 term 48 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51368 term 48 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
flag 16906 term 48 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96860 term 48 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
flag 72687 term 48 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
flag 42028 term 48 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
flag 99804 term 48 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
flag 12423 term 48 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
flag 32250 term 48 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 93209 term 48 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
flag 38882 term 48 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 98673 term 48 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
flag 849 term 48 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
term 48 server 2 not vote for server 1, 任期不够新
term 48 server 1 get outdate rpc reply from server 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26723 term 48 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
flag 98087 term 48 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
flag 97706 term 48 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
flag 77171 term 48 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
flag 84375 term 48 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
flag 1969 term 48 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=294
update matchIndex[1]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=292
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293}]
------------------------------------------------------
client write log 4493660036063976910 (index 294) to leader 2
flag 88321 term 48 leader 2 nextIndex[0]: 294  matchIndex[0]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
flag 80056 term 48 leader 2 nextIndex[1]: 294  matchIndex[1]: 293
term 48 leader 2 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 292 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293} {4493660036063976910 48 294}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293} {4493660036063976910 48 294}]
------------------------------------------------------
flag 72379 term 48 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 48 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 48 leaderCommit: 294 
------------------------------------------------------
flag 22240 term 48 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 48 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 48 leaderCommit: 294 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293} {4493660036063976910 48 294}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293} {4493660036063976910 48 294}]
------------------------------------------------------
flag 6240 term 48 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 48 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 48 leaderCommit: 294 
------------------------------------------------------
flag 13932 term 48 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 48 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 48 leaderCommit: 294 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293} {4493660036063976910 48 294}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293} {4493660036063976910 48 294}]
------------------------------------------------------
flag 56771 term 48 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 48 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 48 leaderCommit: 294 
------------------------------------------------------
flag 4988 term 48 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 48 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 48 leaderCommit: 294 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293} {4493660036063976910 48 294}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293} {4493660036063976910 48 294}]
------------------------------------------------------
flag 1664 term 48 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 48 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 48 leaderCommit: 294 
------------------------------------------------------
flag 67780 term 48 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 48 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 48 leaderCommit: 294 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293} {4493660036063976910 48 294}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293} {4493660036063976910 48 294}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 74623 term 48 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 48 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 48 leaderCommit: 294 
------------------------------------------------------
flag 85826 term 48 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 48 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 48 leaderCommit: 294 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293} {4493660036063976910 48 294}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293} {4493660036063976910 48 294}]
------------------------------------------------------
flag 75381 term 48 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 48 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 48 leaderCommit: 294 
------------------------------------------------------
flag 99316 term 48 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 48 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 48 leaderCommit: 294 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=295
update matchIndex[1]=294
update leader CommitIndex=294
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293} {4493660036063976910 48 294}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=295
update matchIndex[0]=294
update leader CommitIndex=294
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293} {4493660036063976910 48 294}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3327160901885980071 (index 295) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39344 term 48 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 48 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 48 leaderCommit: 294 
------------------------------------------------------
flag 40940 term 48 leader 2 nextIndex[1]: 295  matchIndex[1]: 294
term 48 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 48 leaderCommit: 294 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:294 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293} {4493660036063976910 48 294} {3327160901885980071 48 295}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77920 term 48 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 48 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 48 leaderCommit: 295 
------------------------------------------------------
flag 58653 term 48 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 48 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 48 leaderCommit: 295 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=296
update matchIndex[1]=295
update leader CommitIndex=295
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293} {4493660036063976910 48 294} {3327160901885980071 48 295}]
------------------------------------------------------
client write log 4687109238617995918 (index 296) to leader 2
client write log 4127974698912275416 (index 297) to leader 2
client write log 5159740068397804725 (index 298) to leader 2
client write log 2649389548608213023 (index 299) to leader 2
client write log 7599566804840977873 (index 300) to leader 2
client write log 1023859585240759 (index 301) to leader 2
client write log 1909951374254146025 (index 302) to leader 2
client write log 6894498601987098713 (index 303) to leader 2
client write log 7451733821625425620 (index 304) to leader 2
flag 29631 term 48 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 48 leader 2 sendAppendEntries PrevLogIndex: 294  PrevLogTerm: 48 leaderCommit: 295 
------------------------------------------------------
flag 92654 term 48 leader 2 nextIndex[1]: 296  matchIndex[1]: 295
term 48 leader 2 sendAppendEntries PrevLogIndex: 295  PrevLogTerm: 48 leaderCommit: 295 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:295 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 46 289} {1535492739213517077 46 290} {3844259114475556611 46 291} {5755211564430776467 46 292} {4493660036063976910 46 293} {4493660036063976910 48 294} {3327160901885980071 48 295} {4687109238617995918 48 296} {4127974698912275416 48 297} {5159740068397804725 48 298} {2649389548608213023 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304}]
------------------------------------------------------
term 48 Server2 start snapshot! index=299
term 48 server2 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=304
-------------------------------------------------------------
term 48 leader 2 nextIndex[0]: 295  matchIndex[0]: 294
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
flag 23824 term 48 leader 2 nextIndex[1]: 305  matchIndex[1]: 304
term 48 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=305
update matchIndex[1]=304
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304}]
------------------------------------------------------
term 48 Server1 start snapshot! index=299
term 48 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=304
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6024424006392848990 (index 305) to leader 2
term 48 server 2 not vote for server 0, 日志不够新
term 48 server 1 not vote for server 0, 日志不够新
term 49 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 50 server 1 vote for server 2
term 50 server 2 get vote from server 1
term 50 server 2 become leader
------------------------------------------------------
term 50 server 0 vote for server 2
term 50 server 2 get outdate rpc reply from server 0
flag 47107 term 50 leader 2 nextIndex[0]: 306  matchIndex[0]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
flag 22060 term 50 leader 2 nextIndex[1]: 306  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
term 50 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 306->305
------------------------------------------------------
term 50 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 306->305
------------------------------------------------------
term 50 leader 2 nextIndex[0]: 295  matchIndex[0]: 0
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
flag 94123 term 50 leader 2 nextIndex[1]: 305  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
term 50 server 0 InstallSnapshot success
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot success
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 48 rf.commitIndex 299 rf.lastApplied 299
nextIndex[0] 300 matchIndex[0] 299 
------------------------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
flag 7880 term 50 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 50 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
flag 7068 term 50 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
flag 45757 term 50 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
flag 40854 term 50 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
flag 24410 term 50 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
flag 87236 term 50 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
flag 40298 term 50 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
flag 70994 term 50 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
flag 43258 term 50 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
flag 16024 term 50 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
term 50 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
flag 35943 term 50 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
flag 52718 term 50 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
flag 82820 term 50 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
flag 34361 term 50 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35815 term 50 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
flag 91854 term 50 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
flag 68984 term 50 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
flag 54893 term 50 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
flag 64005 term 50 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
flag 7203 term 50 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
flag 56687 term 50 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
flag 20536 term 50 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51677 term 50 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
flag 27053 term 50 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55297 term 50 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
flag 49845 term 50 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
flag 42869 term 50 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
flag 5169 term 50 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41077 term 50 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
flag 36359 term 50 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6811 term 50 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
flag 1923 term 50 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
flag 80814 term 50 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
flag 76006 term 50 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
flag 28681 term 50 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
flag 92036 term 50 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=306
update matchIndex[1]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305}]
------------------------------------------------------
client write log 6024424006392848990 (index 306) to leader 2
flag 15390 term 50 leader 2 nextIndex[0]: 306  matchIndex[0]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
flag 47109 term 50 leader 2 nextIndex[1]: 306  matchIndex[1]: 305
term 50 leader 2 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305} {6024424006392848990 50 306}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305} {6024424006392848990 50 306}]
------------------------------------------------------
flag 40045 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 82568 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305} {6024424006392848990 50 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305} {6024424006392848990 50 306}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82405 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 39581 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305} {6024424006392848990 50 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305} {6024424006392848990 50 306}]
------------------------------------------------------
flag 17092 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 87917 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305} {6024424006392848990 50 306}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305} {6024424006392848990 50 306}]
------------------------------------------------------
flag 80361 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 98238 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305} {6024424006392848990 50 306}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305} {6024424006392848990 50 306}]
------------------------------------------------------
flag 68414 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 30439 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305} {6024424006392848990 50 306}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=307
update matchIndex[0]=306
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305} {6024424006392848990 50 306}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 10657 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 42836 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 14678 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 14806 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 77167 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 62019 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 55386 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 676 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 51 server 1 vote for server 0
term 51 server 0 get vote from server 1
term 51 server 0 become leader
------------------------------------------------------
flag 55404 term 51 leader 0 nextIndex[1]: 307  matchIndex[1]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 14675 term 51 leader 0 nextIndex[2]: 307  matchIndex[2]: 0
term 51 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305} {6024424006392848990 50 306}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 307->306
------------------------------------------------------
client write log 1229811054371318499 (index 307) to leader 0
flag 93995 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 77250 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 4792 term 51 leader 0 nextIndex[1]: 307  matchIndex[1]: 306
term 51 leader 0 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 51 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305} {6024424006392848990 50 306} {1229811054371318499 51 307}]
------------------------------------------------------
flag 30204 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 69198 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 30228 term 51 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 51 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
term 51 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=307
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305} {6024424006392848990 50 306} {1229811054371318499 51 307}]
------------------------------------------------------
client write log 7744807874720641244 (index 308) to leader 0
client write log 8938903971376240783 (index 309) to leader 0
client write log 686250124135418303 (index 310) to leader 0
client write log 5732130489252305507 (index 311) to leader 0
client write log 2213534306961303466 (index 312) to leader 0
client write log 3927439164613213755 (index 313) to leader 0
flag 55577 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 99344 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 79035 term 51 leader 0 nextIndex[1]: 308  matchIndex[1]: 307
term 51 leader 0 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 51 leaderCommit: 307 
------------------------------------------------------
term 51 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:307 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 48 299} {7599566804840977873 48 300} {1023859585240759 48 301} {1909951374254146025 48 302} {6894498601987098713 48 303} {7451733821625425620 48 304} {6024424006392848990 48 305} {6024424006392848990 50 306} {1229811054371318499 51 307} {7744807874720641244 51 308} {8938903971376240783 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
term 51 Server0 start snapshot! index=309
term 51 server0 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=313
-------------------------------------------------------------
flag 42795 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 31169 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 70229 term 51 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 51 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
term 51 Server1 start snapshot! index=309
term 51 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=313
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4458818657780663196 (index 307) to leader 2
flag 32937 term 50 leader 2 nextIndex[0]: 307  matchIndex[0]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 75100 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 51 server 1 AppendEntries false 领导者任期过期 args.Term 50
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 51 server 0 AppendEntries false 领导者任期过期 args.Term 50
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
flag 46259 term 51 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 50829 term 51 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 51 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 51 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 310->309
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
flag 13577 term 51 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 51 leader 0 nextIndex[2]: 308  matchIndex[2]: 309
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 2 InstallSnapshot success
------------------------------------------------------
term 51 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 51 rf.commitIndex 309 rf.lastApplied 309
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
flag 21008 term 51 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 58175 term 51 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 51 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
flag 92723 term 51 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 58413 term 51 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
flag 16907 term 51 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 80759 term 51 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
flag 52012 term 51 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 65996 term 51 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
term 51 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65309 term 51 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 96477 term 51 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95198 term 51 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 98859 term 51 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
flag 37988 term 51 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 10893 term 51 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27840 term 51 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 77778 term 51 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
flag 27955 term 51 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 41497 term 51 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
flag 12013 term 51 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 40485 term 51 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2868 term 51 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 25864 term 51 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
flag 74225 term 51 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 79332 term 51 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
flag 2698 term 51 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 98003 term 51 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36105 term 51 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 79295 term 51 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52338 term 51 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 70948 term 51 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21573 term 51 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 42037 term 51 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
flag 42164 term 51 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 26244 term 51 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74595 term 51 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 45199 term 51 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=314
update matchIndex[2]=313
update leader CommitIndex=313
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313}]
------------------------------------------------------
client write log 4458818657780663196 (index 314) to leader 0
flag 80442 term 51 leader 0 nextIndex[1]: 314  matchIndex[1]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
flag 62464 term 51 leader 0 nextIndex[2]: 314  matchIndex[2]: 313
term 51 leader 0 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 51 leaderCommit: 313 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:313 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313} {4458818657780663196 51 314}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313} {4458818657780663196 51 314}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88618 term 51 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 51 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 314 
------------------------------------------------------
flag 15157 term 51 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 51 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 314 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313} {4458818657780663196 51 314}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313} {4458818657780663196 51 314}]
------------------------------------------------------
flag 74839 term 51 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 51 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 314 
------------------------------------------------------
flag 33483 term 51 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 51 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 314 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313} {4458818657780663196 51 314}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313} {4458818657780663196 51 314}]
------------------------------------------------------
term 51 server 2 not vote for server 0, 日志不够新
term 51 server 0 get outdate rpc reply from server 2
flag 48395 term 51 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 51 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 314 
------------------------------------------------------
flag 14522 term 51 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 51 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 314 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313} {4458818657780663196 51 314}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313} {4458818657780663196 51 314}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63787 term 51 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 51 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 314 
------------------------------------------------------
flag 82763 term 51 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 51 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 314 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313} {4458818657780663196 51 314}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313} {4458818657780663196 51 314}]
------------------------------------------------------
flag 78357 term 51 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 51 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 314 
------------------------------------------------------
flag 33151 term 51 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 51 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 314 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=315
update matchIndex[1]=314
update leader CommitIndex=314
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313} {4458818657780663196 51 314}]
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=315
update matchIndex[2]=314
update leader CommitIndex=314
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313} {4458818657780663196 51 314}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5274875508064751631 (index 315) to leader 0
flag 74611 term 51 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 51 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 314 
------------------------------------------------------
flag 28734 term 51 leader 0 nextIndex[2]: 315  matchIndex[2]: 314
term 51 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 314 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313} {4458818657780663196 51 314} {5274875508064751631 51 315}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14141 term 51 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 51 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 315 
------------------------------------------------------
flag 98263 term 51 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 51 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 51 leaderCommit: 315 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313} {4458818657780663196 51 314} {5274875508064751631 51 315}]
------------------------------------------------------
client write log 2537675868505590178 (index 316) to leader 0
client write log 4013126280363539221 (index 317) to leader 0
client write log 4764115696453381058 (index 318) to leader 0
client write log 5399225259280187089 (index 319) to leader 0
client write log 5664253945911271920 (index 320) to leader 0
client write log 4867939117862681829 (index 321) to leader 0
client write log 6158668263087260212 (index 322) to leader 0
client write log 7411564610046268365 (index 323) to leader 0
client write log 668204230620334937 (index 324) to leader 0
client write log 268492392421640223 (index 325) to leader 0
client write log 4223705655743812815 (index 326) to leader 0
client write log 5504273493658197242 (index 327) to leader 0
client write log 2185424545765621906 (index 328) to leader 0
client write log 2788663274890634132 (index 329) to leader 0
client write log 5869420905661582021 (index 330) to leader 0
flag 4534 term 51 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 51 leader 0 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 51 leaderCommit: 315 
------------------------------------------------------
flag 98920 term 51 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 51 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 51 leaderCommit: 315 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 51 309} {686250124135418303 51 310} {5732130489252305507 51 311} {2213534306961303466 51 312} {3927439164613213755 51 313} {4458818657780663196 51 314} {5274875508064751631 51 315} {2537675868505590178 51 316} {4013126280363539221 51 317} {4764115696453381058 51 318} {5399225259280187089 51 319} {5664253945911271920 51 320} {4867939117862681829 51 321} {6158668263087260212 51 322} {7411564610046268365 51 323} {668204230620334937 51 324} {268492392421640223 51 325} {4223705655743812815 51 326} {5504273493658197242 51 327} {2185424545765621906 51 328} {2788663274890634132 51 329} {5869420905661582021 51 330}]
------------------------------------------------------
term 51 Server0 start snapshot! index=319
term 51 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=330
-------------------------------------------------------------
term 51 Server0 start snapshot! index=329
term 51 server0 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=330
-------------------------------------------------------------
term 51 leader 0 nextIndex[1]: 315  matchIndex[1]: 314
term 51 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 51
------------------------------------------------------
flag 33821 term 51 leader 0 nextIndex[2]: 331  matchIndex[2]: 330
term 51 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
term 51 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=331
update matchIndex[2]=330
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330}]
------------------------------------------------------
term 51 Server2 start snapshot! index=319
term 51 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=330
-------------------------------------------------------------
term 51 Server2 start snapshot! index=329
term 51 server2 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=330
-------------------------------------------------------------
!!!!!!connect server 1
client write log 6952087298308689763 (index 331) to leader 0
term 51 server 2 not vote for server 1, 日志不够新
term 51 server 0 not vote for server 1, 日志不够新
term 53 server 2 vote for server 0
term 53 server 0 get vote from server 2
term 53 server 0 become leader
------------------------------------------------------
term 53 server 1 vote for server 0
term 53 server 0 get outdate rpc reply from server 1
flag 80539 term 53 leader 0 nextIndex[1]: 332  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
flag 73457 term 53 leader 0 nextIndex[2]: 332  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
term 53 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 332->331
------------------------------------------------------
term 53 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 332->331
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 315  matchIndex[1]: 0
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 51
------------------------------------------------------
flag 78458 term 53 leader 0 nextIndex[2]: 331  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 330  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
term 53 server 1 InstallSnapshot success
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 51 rf.commitIndex 329 rf.lastApplied 329
term 53 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 44482 term 53 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 53 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
flag 82951 term 53 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
flag 79662 term 53 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
flag 95334 term 53 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
flag 38214 term 53 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
flag 10215 term 53 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
flag 5058 term 53 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
flag 88057 term 53 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
term 53 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
flag 84270 term 53 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
flag 22059 term 53 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
flag 63446 term 53 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
flag 58204 term 53 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39629 term 53 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
flag 53736 term 53 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58380 term 53 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
flag 25207 term 53 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
flag 72996 term 53 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
flag 48160 term 53 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
flag 87280 term 53 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
flag 45157 term 53 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
flag 83822 term 53 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
flag 75709 term 53 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
flag 34564 term 53 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
flag 20493 term 53 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:330 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
flag 7763 term 53 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
flag 20567 term 53 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
flag 77519 term 53 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
flag 7459 term 53 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
flag 40265 term 53 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
flag 608 term 53 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1081 term 53 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
flag 74880 term 53 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
flag 1381 term 53 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
flag 77352 term 53 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=332
update matchIndex[2]=331
update leader CommitIndex=330
leader log:
term 53 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=332
update matchIndex[1]=331
update leader CommitIndex=330
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331}]
------------------------------------------------------
client write log 6952087298308689763 (index 332) to leader 0
flag 16938 term 53 leader 0 nextIndex[1]: 332  matchIndex[1]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
flag 43494 term 53 leader 0 nextIndex[2]: 332  matchIndex[2]: 331
term 53 leader 0 sendAppendEntries PrevLogIndex: 331  PrevLogTerm: 51 leaderCommit: 330 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:330 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:330 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331} {6952087298308689763 53 332}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331} {6952087298308689763 53 332}]
------------------------------------------------------
flag 73090 term 53 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 10104 term 53 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331} {6952087298308689763 53 332}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331} {6952087298308689763 53 332}]
------------------------------------------------------
flag 79038 term 53 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 10052 term 53 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331} {6952087298308689763 53 332}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331} {6952087298308689763 53 332}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72060 term 53 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 80403 term 53 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331} {6952087298308689763 53 332}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331} {6952087298308689763 53 332}]
------------------------------------------------------
flag 26558 term 53 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 40624 term 53 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331} {6952087298308689763 53 332}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331} {6952087298308689763 53 332}]
------------------------------------------------------
flag 56523 term 53 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 37791 term 53 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331} {6952087298308689763 53 332}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331} {6952087298308689763 53 332}]
------------------------------------------------------
flag 70937 term 53 leader 0 nextIndex[1]: 333  matchIndex[1]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 95373 term 53 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331} {6952087298308689763 53 332}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 51 329} {5869420905661582021 51 330} {6952087298308689763 51 331} {6952087298308689763 53 332}]
------------------------------------------------------
  ... Passed --  82.0  3 1861  817177  332
--- PASS: TestSnapshotInstall2D (81.98s)
PASS
