=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 2 vote for server 0
term 1 server 0 get vote from server 2
term 1 server 0 become leader
------------------------------------------------------
term 1 server 1 vote for server 0
term 1 server 0 get outdate rpc reply from server 1
flag 88899 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 44101 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=1
update matchIndex[2]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 6767318997110171750 (index 1) to leader 0
flag 71649 term 1 leader 0 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 42664 term 1 leader 0 nextIndex[2]: 1  matchIndex[2]: 0
term 1 leader 0 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6767318997110171750 1 1}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6767318997110171750 1 1}]
------------------------------------------------------
flag 10025 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 38636 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6767318997110171750 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6767318997110171750 1 1}]
------------------------------------------------------
flag 39770 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 60368 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6767318997110171750 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6767318997110171750 1 1}]
------------------------------------------------------
flag 65913 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 6670 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6767318997110171750 1 1}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6767318997110171750 1 1}]
------------------------------------------------------
flag 3247 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 87536 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6767318997110171750 1 1}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6767318997110171750 1 1}]
------------------------------------------------------
flag 66020 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 79074 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6767318997110171750 1 1}]
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6767318997110171750 1 1}]
------------------------------------------------------
flag 2559 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 58461 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=2
update matchIndex[2]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6767318997110171750 1 1}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {6767318997110171750 1 1}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6067520287451217345 (index 2) to leader 0
flag 12833 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 17592 term 1 leader 0 nextIndex[2]: 2  matchIndex[2]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2}]
------------------------------------------------------
flag 17881 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 93177 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=3
update matchIndex[2]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2}]
------------------------------------------------------
client write log 2559320370030433975 (index 3) to leader 0
client write log 1024277792041472037 (index 4) to leader 0
client write log 63083632379885671 (index 5) to leader 0
client write log 28212253652020520 (index 6) to leader 0
client write log 5296219845729587 (index 7) to leader 0
client write log 3176651319607716776 (index 8) to leader 0
flag 2305 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 10137 term 1 leader 0 nextIndex[2]: 3  matchIndex[2]: 2
term 1 leader 0 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=9
update matchIndex[2]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8}]
------------------------------------------------------
flag 94870 term 1 leader 0 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 42497 term 1 leader 0 nextIndex[2]: 9  matchIndex[2]: 8
term 1 leader 0 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=9
update matchIndex[2]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8}]
------------------------------------------------------
!!!!!!connect server 1
client write log 479581331399694423 (index 9) to leader 0
term 1 server 2 not vote for server 1, 日志不够新
term 1 server 0 not vote for server 1, 日志不够新
term 3 server 2 vote for server 0
term 3 server 1 vote for server 0
term 3 server 0 get vote from server 2
term 3 server 0 become leader
------------------------------------------------------
term 3 server 0 get outdate rpc reply from server 1
flag 61472 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 40066 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 10->9
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 10->9
------------------------------------------------------
flag 96675 term 3 leader 0 nextIndex[1]: 2  matchIndex[1]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 57984 term 3 leader 0 nextIndex[2]: 9  matchIndex[2]: 0
term 3 leader 0 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
flag 9017 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 99110 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
flag 5908 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 74506 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
flag 10072 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 69891 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
flag 76054 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 7477 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
flag 14240 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 36417 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
flag 77513 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 41043 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
flag 27207 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 98789 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
flag 27877 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 54611 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
flag 43255 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 16431 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
flag 49046 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 77423 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
flag 11476 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 89329 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
flag 54762 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 82837 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
flag 50105 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 21698 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
flag 11972 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 3491 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
flag 75024 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 25209 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
flag 48873 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 99228 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
flag 36630 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 33582 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=10
update matchIndex[2]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 479581331399694423 (index 10) to leader 0
flag 7959 term 3 leader 0 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 93875 term 3 leader 0 nextIndex[2]: 10  matchIndex[2]: 9
term 3 leader 0 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9} {479581331399694423 3 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {6767318997110171750 1 1} {6067520287451217345 1 2} {2559320370030433975 1 3} {1024277792041472037 1 4} {63083632379885671 1 5} {28212253652020520 1 6} {5296219845729587 1 7} {3176651319607716776 1 8} {479581331399694423 1 9} {479581331399694423 3 10}]
------------------------------------------------------
term 3 Server0 start snapshot! index=9
term 3 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
flag 56760 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 66739 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {479581331399694423 3 10}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {479581331399694423 3 10}]
------------------------------------------------------
term 3 Server2 start snapshot! index=9
term 3 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
term 3 Server1 start snapshot! index=9
term 3 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
flag 14758 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 2750 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {479581331399694423 3 10}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {479581331399694423 3 10}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59292 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 95419 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {479581331399694423 3 10}]
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {479581331399694423 3 10}]
------------------------------------------------------
flag 57643 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 46144 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {479581331399694423 3 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {479581331399694423 3 10}]
------------------------------------------------------
flag 34271 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 16598 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {479581331399694423 3 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {479581331399694423 3 10}]
------------------------------------------------------
flag 81087 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 35304 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {479581331399694423 3 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {479581331399694423 3 10}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 83618 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 93485 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 990 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 31786 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 91706 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 45397 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 7547 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 43644 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 4 server 2 vote for server 1
term 4 server 1 get vote from server 2
term 4 server 1 become leader
------------------------------------------------------
flag 11178 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 90387 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=11
update matchIndex[2]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {479581331399694423 3 10}]
------------------------------------------------------
client write log 7886146784969837710 (index 11) to leader 1
flag 59690 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 10730 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 54632 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 36600 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {479581331399694423 3 10} {7886146784969837710 4 11}]
------------------------------------------------------
flag 77384 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 97032 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 63380 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 11277 term 4 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 4 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=12
update matchIndex[2]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {479581331399694423 3 10} {7886146784969837710 4 11}]
------------------------------------------------------
client write log 6685225090069623397 (index 12) to leader 1
client write log 3706122372428843552 (index 13) to leader 1
client write log 6880279726823600136 (index 14) to leader 1
client write log 3206978057305325949 (index 15) to leader 1
client write log 1417039153477007959 (index 16) to leader 1
client write log 6705985660921192403 (index 17) to leader 1
client write log 3696664695515222885 (index 18) to leader 1
client write log 4974858494925454984 (index 19) to leader 1
client write log 5547794796187912377 (index 20) to leader 1
client write log 154527138114139889 (index 21) to leader 1
client write log 2041818649496925237 (index 22) to leader 1
client write log 4191951660929080302 (index 23) to leader 1
client write log 7833175848643273426 (index 24) to leader 1
client write log 2978244685952490547 (index 25) to leader 1
client write log 2907122590434243041 (index 26) to leader 1
flag 4524 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 41606 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 6735 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 61957 term 4 leader 1 nextIndex[2]: 12  matchIndex[2]: 11
term 4 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 1 9} {479581331399694423 3 10} {7886146784969837710 4 11} {6685225090069623397 4 12} {3706122372428843552 4 13} {6880279726823600136 4 14} {3206978057305325949 4 15} {1417039153477007959 4 16} {6705985660921192403 4 17} {3696664695515222885 4 18} {4974858494925454984 4 19} {5547794796187912377 4 20} {154527138114139889 4 21} {2041818649496925237 4 22} {4191951660929080302 4 23} {7833175848643273426 4 24} {2978244685952490547 4 25} {2907122590434243041 4 26}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=26
-------------------------------------------------------------
flag 91719 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 4463 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 69468 term 4 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {5547794796187912377 4 20} {154527138114139889 4 21} {2041818649496925237 4 22} {4191951660929080302 4 23} {7833175848643273426 4 24} {2978244685952490547 4 25} {2907122590434243041 4 26}]
------------------------------------------------------
term 4 Server2 start snapshot! index=19
term 4 server2 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=26
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8628969297082133007 (index 27) to leader 1
flag 11882 term 3 leader 0 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 67315 term 3 leader 0 nextIndex[2]: 11  matchIndex[2]: 10
term 3 leader 0 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 4 server 1 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
term 4 server 2 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 0
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
flag 51938 term 4 leader 1 nextIndex[2]: 27  matchIndex[2]: 26
term 4 leader 1 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 4 leaderCommit: 26 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 4 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {5547794796187912377 4 20} {154527138114139889 4 21} {2041818649496925237 4 22} {4191951660929080302 4 23} {7833175848643273426 4 24} {2978244685952490547 4 25} {2907122590434243041 4 26} {8628969297082133007 4 27}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 4 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 20 matchIndex[0] 19 
------------------------------------------------------------------------
flag 74938 term 4 leader 1 nextIndex[0]: 20  matchIndex[0]: 19
term 4 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 78308 term 4 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 4 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {5547794796187912377 4 20} {154527138114139889 4 21} {2041818649496925237 4 22} {4191951660929080302 4 23} {7833175848643273426 4 24} {2978244685952490547 4 25} {2907122590434243041 4 26} {8628969297082133007 4 27}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {5547794796187912377 4 20} {154527138114139889 4 21} {2041818649496925237 4 22} {4191951660929080302 4 23} {7833175848643273426 4 24} {2978244685952490547 4 25} {2907122590434243041 4 26} {8628969297082133007 4 27}]
------------------------------------------------------
flag 97485 term 4 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 42642 term 4 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 4 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {5547794796187912377 4 20} {154527138114139889 4 21} {2041818649496925237 4 22} {4191951660929080302 4 23} {7833175848643273426 4 24} {2978244685952490547 4 25} {2907122590434243041 4 26} {8628969297082133007 4 27}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {5547794796187912377 4 20} {154527138114139889 4 21} {2041818649496925237 4 22} {4191951660929080302 4 23} {7833175848643273426 4 24} {2978244685952490547 4 25} {2907122590434243041 4 26} {8628969297082133007 4 27}]
------------------------------------------------------
flag 46441 term 4 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 76813 term 4 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 4 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {5547794796187912377 4 20} {154527138114139889 4 21} {2041818649496925237 4 22} {4191951660929080302 4 23} {7833175848643273426 4 24} {2978244685952490547 4 25} {2907122590434243041 4 26} {8628969297082133007 4 27}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {5547794796187912377 4 20} {154527138114139889 4 21} {2041818649496925237 4 22} {4191951660929080302 4 23} {7833175848643273426 4 24} {2978244685952490547 4 25} {2907122590434243041 4 26} {8628969297082133007 4 27}]
------------------------------------------------------
flag 69171 term 4 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 23001 term 4 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 4 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {5547794796187912377 4 20} {154527138114139889 4 21} {2041818649496925237 4 22} {4191951660929080302 4 23} {7833175848643273426 4 24} {2978244685952490547 4 25} {2907122590434243041 4 26} {8628969297082133007 4 27}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {5547794796187912377 4 20} {154527138114139889 4 21} {2041818649496925237 4 22} {4191951660929080302 4 23} {7833175848643273426 4 24} {2978244685952490547 4 25} {2907122590434243041 4 26} {8628969297082133007 4 27}]
------------------------------------------------------
flag 71522 term 4 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 59723 term 4 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 4 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {5547794796187912377 4 20} {154527138114139889 4 21} {2041818649496925237 4 22} {4191951660929080302 4 23} {7833175848643273426 4 24} {2978244685952490547 4 25} {2907122590434243041 4 26} {8628969297082133007 4 27}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {5547794796187912377 4 20} {154527138114139889 4 21} {2041818649496925237 4 22} {4191951660929080302 4 23} {7833175848643273426 4 24} {2978244685952490547 4 25} {2907122590434243041 4 26} {8628969297082133007 4 27}]
------------------------------------------------------
flag 6452 term 4 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 30936 term 4 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 4 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {5547794796187912377 4 20} {154527138114139889 4 21} {2041818649496925237 4 22} {4191951660929080302 4 23} {7833175848643273426 4 24} {2978244685952490547 4 25} {2907122590434243041 4 26} {8628969297082133007 4 27}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {5547794796187912377 4 20} {154527138114139889 4 21} {2041818649496925237 4 22} {4191951660929080302 4 23} {7833175848643273426 4 24} {2978244685952490547 4 25} {2907122590434243041 4 26} {8628969297082133007 4 27}]
------------------------------------------------------
flag 63901 term 4 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 9690 term 4 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 4 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=28
update matchIndex[0]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {5547794796187912377 4 20} {154527138114139889 4 21} {2041818649496925237 4 22} {4191951660929080302 4 23} {7833175848643273426 4 24} {2978244685952490547 4 25} {2907122590434243041 4 26} {8628969297082133007 4 27}]
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {5547794796187912377 4 20} {154527138114139889 4 21} {2041818649496925237 4 22} {4191951660929080302 4 23} {7833175848643273426 4 24} {2978244685952490547 4 25} {2907122590434243041 4 26} {8628969297082133007 4 27}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3840278020246716933 (index 28) to leader 1
flag 41449 term 4 leader 1 nextIndex[0]: 28  matchIndex[0]: 27
term 4 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
flag 2037 term 4 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 4 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 27 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {5547794796187912377 4 20} {154527138114139889 4 21} {2041818649496925237 4 22} {4191951660929080302 4 23} {7833175848643273426 4 24} {2978244685952490547 4 25} {2907122590434243041 4 26} {8628969297082133007 4 27} {3840278020246716933 4 28}]
------------------------------------------------------
flag 27991 term 4 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 4 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 7142 term 4 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 4 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {5547794796187912377 4 20} {154527138114139889 4 21} {2041818649496925237 4 22} {4191951660929080302 4 23} {7833175848643273426 4 24} {2978244685952490547 4 25} {2907122590434243041 4 26} {8628969297082133007 4 27} {3840278020246716933 4 28}]
------------------------------------------------------
client write log 3761041180891733752 (index 29) to leader 1
client write log 1089420558487571345 (index 30) to leader 1
client write log 3727180582922294551 (index 31) to leader 1
client write log 9156061723443218836 (index 32) to leader 1
client write log 9188618648252932150 (index 33) to leader 1
client write log 5860827495205147628 (index 34) to leader 1
client write log 2967855271381616680 (index 35) to leader 1
client write log 8812806535196196201 (index 36) to leader 1
client write log 1181384878537099794 (index 37) to leader 1
client write log 3444599542057580897 (index 38) to leader 1
client write log 7838413514524797518 (index 39) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80019 term 4 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 4 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 6278 term 4 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 4 leader 1 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 19} {5547794796187912377 4 20} {154527138114139889 4 21} {2041818649496925237 4 22} {4191951660929080302 4 23} {7833175848643273426 4 24} {2978244685952490547 4 25} {2907122590434243041 4 26} {8628969297082133007 4 27} {3840278020246716933 4 28} {3761041180891733752 4 29} {1089420558487571345 4 30} {3727180582922294551 4 31} {9156061723443218836 4 32} {9188618648252932150 4 33} {5860827495205147628 4 34} {2967855271381616680 4 35} {8812806535196196201 4 36} {1181384878537099794 4 37} {3444599542057580897 4 38} {7838413514524797518 4 39}]
------------------------------------------------------
term 4 Server1 start snapshot! index=29
term 4 server1 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=39
-------------------------------------------------------------
term 4 Server1 start snapshot! index=39
term 4 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
flag 65840 term 4 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 4 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=40
update matchIndex[0]=39
update leader CommitIndex=39
leader log:
[{snapshot 4 39}]
------------------------------------------------------
term 4 Server0 start snapshot! index=29
term 4 server0 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=39
-------------------------------------------------------------
term 4 Server0 start snapshot! index=39
term 4 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1453234364479039918 (index 40) to leader 1
flag 69467 term 4 leader 1 nextIndex[0]: 40  matchIndex[0]: 39
term 4 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 28  matchIndex[2]: 27
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 4
------------------------------------------------------
term 5 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 4 server 0 not vote for server 2, 日志不够新
term 6 server 2 vote for server 1
term 6 server 1 get vote from server 2
term 6 server 1 become leader
------------------------------------------------------
term 6 server 0 vote for server 1
term 6 server 1 get outdate rpc reply from server 0
flag 94807 term 6 leader 1 nextIndex[0]: 41  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 4506 term 6 leader 1 nextIndex[2]: 41  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 41->40
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
flag 81874 term 6 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 28  matchIndex[2]: 0
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 4
------------------------------------------------------
term 6 server 2 InstallSnapshot success
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 40 matchIndex[2] 39 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 4 rf.commitIndex 39 rf.lastApplied 39
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51539 term 6 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 29457 term 6 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 6 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
flag 3022 term 6 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 82002 term 6 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
flag 83440 term 6 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 53480 term 6 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
flag 66450 term 6 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 46134 term 6 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
flag 81444 term 6 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 88850 term 6 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
flag 46278 term 6 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 95793 term 6 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
update nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
flag 48018 term 6 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 90604 term 6 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
flag 39594 term 6 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 16352 term 6 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
flag 54363 term 6 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 66655 term 6 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
flag 25449 term 6 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 93384 term 6 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
flag 37923 term 6 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 94773 term 6 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64894 term 6 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 84992 term 6 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37011 term 6 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 120 term 6 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
flag 73288 term 6 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 41643 term 6 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
flag 94490 term 6 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 61296 term 6 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12869 term 6 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 26426 term 6 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62498 term 6 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 93887 term 6 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=41
update matchIndex[0]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=39
leader log:
[{snapshot 4 39} {1453234364479039918 4 40}]
------------------------------------------------------
client write log 1453234364479039918 (index 41) to leader 1
flag 49006 term 6 leader 1 nextIndex[0]: 41  matchIndex[0]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
flag 56579 term 6 leader 1 nextIndex[2]: 41  matchIndex[2]: 40
term 6 leader 1 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 4 leaderCommit: 39 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41}]
------------------------------------------------------
flag 82245 term 6 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 6 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 21340 term 6 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 6 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41}]
------------------------------------------------------
flag 19727 term 6 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 6 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 9148 term 6 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 6 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90413 term 6 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 6 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 59939 term 6 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 6 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41}]
------------------------------------------------------
flag 44773 term 6 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 6 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 68012 term 6 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 6 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41}]
------------------------------------------------------
flag 75462 term 6 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 6 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 36350 term 6 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 6 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41}]
------------------------------------------------------
flag 74932 term 6 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 6 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 3389 term 6 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 6 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=42
update matchIndex[2]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=42
update matchIndex[0]=41
update leader CommitIndex=41
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7463066214714194641 (index 42) to leader 1
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 0 not vote for server 1, 任期不够新
term 6 server 1 get outdate rpc reply from server 0
flag 91621 term 6 leader 1 nextIndex[0]: 42  matchIndex[0]: 41
term 6 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
flag 82446 term 6 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 6 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 41 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42}]
------------------------------------------------------
flag 19715 term 6 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 6 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 7107 term 6 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 6 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42}]
------------------------------------------------------
client write log 8274978256612576632 (index 43) to leader 1
client write log 1593607080908359040 (index 44) to leader 1
client write log 7070758320163483578 (index 45) to leader 1
client write log 2528867055495562163 (index 46) to leader 1
client write log 7997675155418439343 (index 47) to leader 1
client write log 7589579003579337558 (index 48) to leader 1
flag 38618 term 6 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 6 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 27101 term 6 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 6 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93366 term 6 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 6 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 19691 term 6 leader 1 nextIndex[2]: 42  matchIndex[2]: 41
term 6 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48}]
------------------------------------------------------
!!!!!!connect server 2
client write log 1620600240030868360 (index 49) to leader 1
term 6 server 1 not vote for server 2, 任期不够新
term 6 server 2 get outdate rpc reply from server 1
term 6 server 1 not vote for server 2, 日志不够新
term 6 server 0 not vote for server 2, 日志不够新
term 8 server 2 vote for server 1
term 8 server 0 vote for server 1
term 8 server 1 get vote from server 2
term 8 server 1 become leader
------------------------------------------------------
term 8 server 1 get outdate rpc reply from server 0
flag 93741 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 16103 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 50->49
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 50->49
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79046 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 5391 term 8 leader 1 nextIndex[2]: 42  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 41  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:41 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
flag 52851 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 48197 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34491 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 46438 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
flag 74758 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 44965 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48109 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 45578 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
term 8 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 92319 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 29339 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
flag 67554 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 91829 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
flag 13192 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 89753 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
flag 1929 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 46560 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98341 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 79381 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31364 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 96728 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
flag 92058 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 61059 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
flag 44160 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 35806 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30885 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 13625 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49762 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 70604 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84167 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 36601 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
flag 70751 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 37699 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88745 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 86152 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=50
update matchIndex[2]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=48
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49}]
------------------------------------------------------
client write log 1620600240030868360 (index 50) to leader 1
flag 70168 term 8 leader 1 nextIndex[0]: 50  matchIndex[0]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
flag 28581 term 8 leader 1 nextIndex[2]: 50  matchIndex[2]: 49
term 8 leader 1 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 6 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49} {1620600240030868360 8 50}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 4 39} {1453234364479039918 4 40} {1453234364479039918 6 41} {7463066214714194641 6 42} {8274978256612576632 6 43} {1593607080908359040 6 44} {7070758320163483578 6 45} {2528867055495562163 6 46} {7997675155418439343 6 47} {7589579003579337558 6 48} {1620600240030868360 6 49} {1620600240030868360 8 50}]
------------------------------------------------------
term 8 Server1 start snapshot! index=49
term 8 server1 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30638 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 72534 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {1620600240030868360 8 50}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {1620600240030868360 8 50}]
------------------------------------------------------
term 8 Server2 start snapshot! index=49
term 8 server2 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
term 8 Server0 start snapshot! index=49
term 8 server0 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=50
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78760 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 22366 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {1620600240030868360 8 50}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {1620600240030868360 8 50}]
------------------------------------------------------
flag 15887 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 36970 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {1620600240030868360 8 50}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {1620600240030868360 8 50}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65369 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 93810 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {1620600240030868360 8 50}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {1620600240030868360 8 50}]
------------------------------------------------------
flag 67733 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 15256 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {1620600240030868360 8 50}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {1620600240030868360 8 50}]
------------------------------------------------------
flag 92300 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 97499 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {1620600240030868360 8 50}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=51
update matchIndex[0]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {1620600240030868360 8 50}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 60980 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 87274 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 87526 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 28692 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 26821 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 62146 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 9 server 2 vote for server 0
term 9 server 0 get vote from server 2
term 9 server 0 become leader
------------------------------------------------------
flag 9877 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 68228 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 35886 term 9 leader 0 nextIndex[1]: 51  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 48686 term 9 leader 0 nextIndex[2]: 51  matchIndex[2]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=51
update matchIndex[2]=50
update leader CommitIndex=50
leader log:
[{snapshot 6 49} {1620600240030868360 8 50}]
------------------------------------------------------
client write log 531083793473790195 (index 51) to leader 0
flag 98228 term 8 leader 1 nextIndex[0]: 51  matchIndex[0]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 73317 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 10881 term 9 leader 0 nextIndex[1]: 51  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 72176 term 9 leader 0 nextIndex[2]: 51  matchIndex[2]: 50
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:50 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 51->50
------------------------------------------------------
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 50
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 43465 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 27779 term 9 leader 0 nextIndex[1]: 51  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 64851 term 9 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 9 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=52
update matchIndex[2]=51
update leader CommitIndex=51
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51}]
------------------------------------------------------
client write log 184485772924301288 (index 52) to leader 0
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 50
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 16795 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 85809 term 9 leader 0 nextIndex[1]: 51  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 51 
------------------------------------------------------
flag 77772 term 9 leader 0 nextIndex[2]: 52  matchIndex[2]: 51
term 9 leader 0 sendAppendEntries PrevLogIndex: 51  PrevLogTerm: 9 leaderCommit: 51 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 50
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 77982 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
flag 18565 term 9 leader 0 nextIndex[1]: 51  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 9654 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
!!!!!!connect server 1
client write log 1390708318629724906 (index 51) to leader 1
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 50
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 6
------------------------------------------------------
flag 7096 term 8 leader 1 nextIndex[2]: 51  matchIndex[2]: 50
term 8 leader 1 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 50 
------------------------------------------------------
term 9 server 2 AppendEntries false 领导者任期过期 args.Term 8
------------------------------------------------------
term 9 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 9 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3350 term 9 leader 0 nextIndex[1]: 51  matchIndex[1]: 0
term 9 leader 0 sendAppendEntries PrevLogIndex: 50  PrevLogTerm: 8 leaderCommit: 52 
------------------------------------------------------
flag 86929 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:51 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
flag 92834 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 94642 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
flag 29790 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 45872 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
flag 47741 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 91016 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
flag 8208 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 74903 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
flag 7708 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 52086 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59236 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 25762 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
flag 54474 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 99407 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
flag 14635 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 14509 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27009 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 29095 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
flag 73097 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 69921 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 138 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 20250 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
flag 47056 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 60027 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
flag 30479 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 56109 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19110 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 82407 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90925 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 45696 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65791 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 46729 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
flag 16753 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 33339 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
flag 57870 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 5258 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11807 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 83614 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=53
update matchIndex[1]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=53
update matchIndex[2]=52
update leader CommitIndex=52
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52}]
------------------------------------------------------
client write log 1390708318629724906 (index 53) to leader 0
flag 46606 term 9 leader 0 nextIndex[1]: 53  matchIndex[1]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
flag 12903 term 9 leader 0 nextIndex[2]: 53  matchIndex[2]: 52
term 9 leader 0 sendAppendEntries PrevLogIndex: 52  PrevLogTerm: 9 leaderCommit: 52 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:52 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:52 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52} {1390708318629724906 9 53}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52} {1390708318629724906 9 53}]
------------------------------------------------------
flag 53759 term 9 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 1062 term 9 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52} {1390708318629724906 9 53}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52} {1390708318629724906 9 53}]
------------------------------------------------------
flag 79797 term 9 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 75141 term 9 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52} {1390708318629724906 9 53}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52} {1390708318629724906 9 53}]
------------------------------------------------------
flag 14729 term 9 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 94521 term 9 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52} {1390708318629724906 9 53}]
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52} {1390708318629724906 9 53}]
------------------------------------------------------
flag 32336 term 9 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 28588 term 9 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52} {1390708318629724906 9 53}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52} {1390708318629724906 9 53}]
------------------------------------------------------
flag 94374 term 9 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 90972 term 9 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=54
update matchIndex[2]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52} {1390708318629724906 9 53}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=54
update matchIndex[1]=53
update leader CommitIndex=53
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52} {1390708318629724906 9 53}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4254277740628864701 (index 54) to leader 0
flag 67368 term 9 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
flag 61017 term 9 leader 0 nextIndex[2]: 54  matchIndex[2]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 53 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:53 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52} {1390708318629724906 9 53} {4254277740628864701 9 54}]
------------------------------------------------------
term 9 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 16509 term 9 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 89048 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=55
update matchIndex[2]=54
update leader CommitIndex=54
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52} {1390708318629724906 9 53} {4254277740628864701 9 54}]
------------------------------------------------------
client write log 2937810731560258098 (index 55) to leader 0
client write log 6917498405482119433 (index 56) to leader 0
client write log 2036718311307209132 (index 57) to leader 0
client write log 1193033716852373215 (index 58) to leader 0
client write log 2612941595611274174 (index 59) to leader 0
client write log 2262003234419586082 (index 60) to leader 0
client write log 4868738906335135184 (index 61) to leader 0
client write log 3211775502132852442 (index 62) to leader 0
client write log 642615017313744801 (index 63) to leader 0
client write log 6679415120897735080 (index 64) to leader 0
client write log 1936551849152078916 (index 65) to leader 0
client write log 5438156191837745064 (index 66) to leader 0
client write log 2485494344487513530 (index 67) to leader 0
client write log 8803920919903217753 (index 68) to leader 0
client write log 8720330919452423769 (index 69) to leader 0
flag 70661 term 9 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 0 sendAppendEntries PrevLogIndex: 53  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
flag 26165 term 9 leader 0 nextIndex[2]: 55  matchIndex[2]: 54
term 9 leader 0 sendAppendEntries PrevLogIndex: 54  PrevLogTerm: 9 leaderCommit: 54 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:54 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 6 49} {1620600240030868360 8 50} {531083793473790195 9 51} {184485772924301288 9 52} {1390708318629724906 9 53} {4254277740628864701 9 54} {2937810731560258098 9 55} {6917498405482119433 9 56} {2036718311307209132 9 57} {1193033716852373215 9 58} {2612941595611274174 9 59} {2262003234419586082 9 60} {4868738906335135184 9 61} {3211775502132852442 9 62} {642615017313744801 9 63} {6679415120897735080 9 64} {1936551849152078916 9 65} {5438156191837745064 9 66} {2485494344487513530 9 67} {8803920919903217753 9 68} {8720330919452423769 9 69}]
------------------------------------------------------
term 9 Server0 start snapshot! index=59
term 9 server0 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=69
-------------------------------------------------------------
term 9 Server0 start snapshot! index=69
term 9 server0 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
term 9 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
flag 29779 term 9 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 9 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 69 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=70
update matchIndex[2]=69
update leader CommitIndex=69
leader log:
[{snapshot 9 69}]
------------------------------------------------------
term 9 Server2 start snapshot! index=59
term 9 server2 snapshot success
lastIncludedIndex=59 lastApplied=60 lastIndex=69
-------------------------------------------------------------
term 9 Server2 start snapshot! index=69
term 9 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8533855786458355313 (index 70) to leader 0
term 9 leader 0 nextIndex[1]: 54  matchIndex[1]: 53
term 9 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
flag 43759 term 9 leader 0 nextIndex[2]: 70  matchIndex[2]: 69
term 9 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 69 
------------------------------------------------------
term 9 server 2 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {8533855786458355313 9 70}]
------------------------------------------------------
term 10 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 server 2 vote for server 0
term 11 server 1 vote for server 0
term 11 server 0 get vote from server 2
term 11 server 0 become leader
------------------------------------------------------
term 11 server 0 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77668 term 11 leader 0 nextIndex[1]: 71  matchIndex[1]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 18077 term 11 leader 0 nextIndex[2]: 71  matchIndex[2]: 0
term 11 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 11 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 71->70
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {8533855786458355313 9 70}]
------------------------------------------------------
term 11 server 0 not vote for server 1, 任期不够新
term 11 server 1 get outdate rpc reply from server 0
term 11 leader 0 nextIndex[1]: 54  matchIndex[1]: 0
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
flag 40535 term 11 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
term 11 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {8533855786458355313 9 70}]
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 70 matchIndex[1] 69 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 9 rf.commitIndex 69 rf.lastApplied 69
flag 66189 term 11 leader 0 nextIndex[1]: 70  matchIndex[1]: 69
term 11 leader 0 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 38707 term 11 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {8533855786458355313 9 70}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {8533855786458355313 9 70}]
------------------------------------------------------
flag 33381 term 11 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 80441 term 11 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {8533855786458355313 9 70}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {8533855786458355313 9 70}]
------------------------------------------------------
flag 84740 term 11 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 909 term 11 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {8533855786458355313 9 70}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {8533855786458355313 9 70}]
------------------------------------------------------
flag 99449 term 11 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 23901 term 11 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {8533855786458355313 9 70}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {8533855786458355313 9 70}]
------------------------------------------------------
flag 46148 term 11 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 85129 term 11 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {8533855786458355313 9 70}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {8533855786458355313 9 70}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96746 term 11 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 1819 term 11 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {8533855786458355313 9 70}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {8533855786458355313 9 70}]
------------------------------------------------------
term 11 server 2 not vote for server 1, 任期不够新
term 11 server 1 get outdate rpc reply from server 2
flag 29486 term 11 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 4631 term 11 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=71
update matchIndex[1]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {8533855786458355313 9 70}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=71
update matchIndex[2]=70
update leader CommitIndex=70
leader log:
[{snapshot 9 69} {8533855786458355313 9 70}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1404399213591024184 (index 71) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23514 term 11 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
flag 3682 term 11 leader 0 nextIndex[2]: 71  matchIndex[2]: 70
term 11 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 70 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:70 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {8533855786458355313 9 70} {1404399213591024184 11 71}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28619 term 11 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 48115 term 11 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=72
update matchIndex[2]=71
update leader CommitIndex=71
leader log:
[{snapshot 9 69} {8533855786458355313 9 70} {1404399213591024184 11 71}]
------------------------------------------------------
client write log 4311356367547105494 (index 72) to leader 0
client write log 4844626573130651276 (index 73) to leader 0
client write log 9032953533959783140 (index 74) to leader 0
client write log 2167114421936085489 (index 75) to leader 0
client write log 6340495291764089559 (index 76) to leader 0
client write log 7678761307202395931 (index 77) to leader 0
client write log 7872207582470951686 (index 78) to leader 0
client write log 6996233104764597661 (index 79) to leader 0
flag 1564 term 11 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 0 sendAppendEntries PrevLogIndex: 70  PrevLogTerm: 9 leaderCommit: 71 
------------------------------------------------------
flag 56833 term 11 leader 0 nextIndex[2]: 72  matchIndex[2]: 71
term 11 leader 0 sendAppendEntries PrevLogIndex: 71  PrevLogTerm: 11 leaderCommit: 71 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:71 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 9 69} {8533855786458355313 9 70} {1404399213591024184 11 71} {4311356367547105494 11 72} {4844626573130651276 11 73} {9032953533959783140 11 74} {2167114421936085489 11 75} {6340495291764089559 11 76} {7678761307202395931 11 77} {7872207582470951686 11 78} {6996233104764597661 11 79}]
------------------------------------------------------
term 11 Server0 start snapshot! index=79
term 11 server0 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
term 11 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 3131 term 11 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 11 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=80
update matchIndex[2]=79
update leader CommitIndex=79
leader log:
[{snapshot 11 79}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 Server2 start snapshot! index=79
term 11 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=79
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!connect server 1
client write log 2145452974794193072 (index 80) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 0 nextIndex[1]: 71  matchIndex[1]: 70
term 11 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 10397 term 11 leader 0 nextIndex[2]: 80  matchIndex[2]: 79
term 11 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 12 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 11 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 server 2 vote for server 0
term 13 server 0 get vote from server 2
term 13 server 0 become leader
------------------------------------------------------
term 13 server 1 vote for server 0
term 13 server 0 get outdate rpc reply from server 1
flag 90563 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 18389 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 0
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 81->80
------------------------------------------------------
term 13 leader 0 nextIndex[1]: 71  matchIndex[1]: 0
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 67688 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 1 InstallSnapshot success
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
Server1 get CondInstallSnapshot!
term 13 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 80 matchIndex[1] 79 
------------------------------------------------------------------------
rf.lastIncludedIndex 79 rf.lastIncludedTerm 11 rf.commitIndex 79 rf.lastApplied 79
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89660 term 13 leader 0 nextIndex[1]: 80  matchIndex[1]: 79
term 13 leader 0 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 3887 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97923 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 78145 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
flag 21974 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 40466 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
flag 38125 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 29583 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
term 13 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 7493 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 75222 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
flag 43839 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 84582 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
flag 79570 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 1658 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
flag 30954 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 8405 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
flag 44167 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 84878 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
flag 26212 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 95499 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80780 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 19432 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60810 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 37646 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
flag 41523 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 24969 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
flag 5135 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 49630 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
flag 2295 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 75264 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85087 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 42548 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=81
update matchIndex[2]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=81
update matchIndex[1]=80
update leader CommitIndex=79
leader log:
[{snapshot 11 79} {2145452974794193072 11 80}]
------------------------------------------------------
client write log 2145452974794193072 (index 81) to leader 0
flag 22479 term 13 leader 0 nextIndex[1]: 81  matchIndex[1]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
flag 10856 term 13 leader 0 nextIndex[2]: 81  matchIndex[2]: 80
term 13 leader 0 sendAppendEntries PrevLogIndex: 80  PrevLogTerm: 11 leaderCommit: 79 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2145452974794193072 11 80} {2145452974794193072 13 81}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2145452974794193072 11 80} {2145452974794193072 13 81}]
------------------------------------------------------
flag 7980 term 13 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 71125 term 13 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2145452974794193072 11 80} {2145452974794193072 13 81}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2145452974794193072 11 80} {2145452974794193072 13 81}]
------------------------------------------------------
term 13 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 54790 term 13 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 13888 term 13 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2145452974794193072 11 80} {2145452974794193072 13 81}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2145452974794193072 11 80} {2145452974794193072 13 81}]
------------------------------------------------------
flag 42399 term 13 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 33229 term 13 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2145452974794193072 11 80} {2145452974794193072 13 81}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2145452974794193072 11 80} {2145452974794193072 13 81}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68608 term 13 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 35501 term 13 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2145452974794193072 11 80} {2145452974794193072 13 81}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2145452974794193072 11 80} {2145452974794193072 13 81}]
------------------------------------------------------
flag 63421 term 13 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 34458 term 13 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2145452974794193072 11 80} {2145452974794193072 13 81}]
------------------------------------------------------
term 13 server 2 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=82
update matchIndex[2]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2145452974794193072 11 80} {2145452974794193072 13 81}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 11690 term 13 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 72890 term 13 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 9376 term 13 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 66588 term 13 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 30812 term 13 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 28501 term 13 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 14 server 1 vote for server 2
term 14 server 2 get vote from server 1
term 14 server 2 become leader
------------------------------------------------------
flag 55907 term 14 leader 2 nextIndex[0]: 82  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 90414 term 14 leader 2 nextIndex[1]: 82  matchIndex[1]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=82
update matchIndex[1]=81
update leader CommitIndex=81
leader log:
[{snapshot 11 79} {2145452974794193072 11 80} {2145452974794193072 13 81}]
------------------------------------------------------
client write log 1088014780376256 (index 82) to leader 2
flag 69506 term 13 leader 0 nextIndex[1]: 82  matchIndex[1]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 11832 term 13 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 69729 term 14 leader 2 nextIndex[0]: 82  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
flag 43486 term 14 leader 2 nextIndex[1]: 82  matchIndex[1]: 81
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {2145452974794193072 11 80} {2145452974794193072 13 81} {1088014780376256 14 82}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 82->81
------------------------------------------------------
term 13 leader 0 nextIndex[1]: 0  matchIndex[1]: 81
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 78138 term 13 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
flag 26723 term 14 leader 2 nextIndex[0]: 82  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 53385 term 14 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 11 79} {2145452974794193072 11 80} {2145452974794193072 13 81} {1088014780376256 14 82}]
------------------------------------------------------
client write log 404748725667637781 (index 83) to leader 2
term 13 leader 0 nextIndex[1]: 0  matchIndex[1]: 81
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 34017 term 13 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13206 term 14 leader 2 nextIndex[0]: 82  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 83610 term 14 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 14 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 14 leaderCommit: 82 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {2145452974794193072 11 80} {2145452974794193072 13 81} {1088014780376256 14 82} {404748725667637781 14 83}]
------------------------------------------------------
term 13 leader 0 nextIndex[1]: 0  matchIndex[1]: 81
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 67320 term 13 leader 0 nextIndex[2]: 82  matchIndex[2]: 81
term 13 leader 0 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 81 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 82->81
------------------------------------------------------
flag 57507 term 14 leader 2 nextIndex[0]: 82  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 42125 term 14 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=83
leader log:
[{snapshot 11 79} {2145452974794193072 11 80} {2145452974794193072 13 81} {1088014780376256 14 82} {404748725667637781 14 83}]
------------------------------------------------------
!!!!!!connect server 0
client write log 317580945644149295 (index 84) to leader 2
term 13 leader 0 nextIndex[1]: 0  matchIndex[1]: 81
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
term 13 leader 0 nextIndex[2]: 0  matchIndex[2]: 81
term 13 leader 0 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
term 14 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 13 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52265 term 14 leader 2 nextIndex[0]: 82  matchIndex[0]: 0
term 14 leader 2 sendAppendEntries PrevLogIndex: 81  PrevLogTerm: 13 leaderCommit: 83 
------------------------------------------------------
flag 54254 term 14 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 14 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 14 leaderCommit: 83 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:83 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:81 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {2145452974794193072 11 80} {2145452974794193072 13 81} {1088014780376256 14 82} {404748725667637781 14 83} {317580945644149295 14 84}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {2145452974794193072 11 80} {2145452974794193072 13 81} {1088014780376256 14 82} {404748725667637781 14 83} {317580945644149295 14 84}]
------------------------------------------------------
flag 86341 term 14 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 14 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 74483 term 14 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {2145452974794193072 11 80} {2145452974794193072 13 81} {1088014780376256 14 82} {404748725667637781 14 83} {317580945644149295 14 84}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {2145452974794193072 11 80} {2145452974794193072 13 81} {1088014780376256 14 82} {404748725667637781 14 83} {317580945644149295 14 84}]
------------------------------------------------------
flag 2463 term 14 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 14 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 39889 term 14 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {2145452974794193072 11 80} {2145452974794193072 13 81} {1088014780376256 14 82} {404748725667637781 14 83} {317580945644149295 14 84}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {2145452974794193072 11 80} {2145452974794193072 13 81} {1088014780376256 14 82} {404748725667637781 14 83} {317580945644149295 14 84}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84408 term 14 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 14 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 69240 term 14 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {2145452974794193072 11 80} {2145452974794193072 13 81} {1088014780376256 14 82} {404748725667637781 14 83} {317580945644149295 14 84}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {2145452974794193072 11 80} {2145452974794193072 13 81} {1088014780376256 14 82} {404748725667637781 14 83} {317580945644149295 14 84}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54154 term 14 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 14 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 32354 term 14 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {2145452974794193072 11 80} {2145452974794193072 13 81} {1088014780376256 14 82} {404748725667637781 14 83} {317580945644149295 14 84}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {2145452974794193072 11 80} {2145452974794193072 13 81} {1088014780376256 14 82} {404748725667637781 14 83} {317580945644149295 14 84}]
------------------------------------------------------
flag 8470 term 14 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 14 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 98024 term 14 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {2145452974794193072 11 80} {2145452974794193072 13 81} {1088014780376256 14 82} {404748725667637781 14 83} {317580945644149295 14 84}]
------------------------------------------------------
term 14 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 11 79} {2145452974794193072 11 80} {2145452974794193072 13 81} {1088014780376256 14 82} {404748725667637781 14 83} {317580945644149295 14 84}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1576052047095696373 (index 85) to leader 2
flag 28335 term 14 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 14 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
flag 63545 term 14 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 14 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 84 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {2145452974794193072 11 80} {2145452974794193072 13 81} {1088014780376256 14 82} {404748725667637781 14 83} {317580945644149295 14 84} {1576052047095696373 14 85}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39408 term 14 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 14 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 7123 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=86
update matchIndex[1]=85
update leader CommitIndex=85
leader log:
[{snapshot 11 79} {2145452974794193072 11 80} {2145452974794193072 13 81} {1088014780376256 14 82} {404748725667637781 14 83} {317580945644149295 14 84} {1576052047095696373 14 85}]
------------------------------------------------------
client write log 2872362207059311271 (index 86) to leader 2
client write log 2764940991071945298 (index 87) to leader 2
client write log 8126107118300274753 (index 88) to leader 2
client write log 2185153021582232939 (index 89) to leader 2
client write log 6895898479978726513 (index 90) to leader 2
client write log 9090633783825801454 (index 91) to leader 2
client write log 5371415825590810661 (index 92) to leader 2
client write log 3770709280128182406 (index 93) to leader 2
client write log 6381242069767063083 (index 94) to leader 2
client write log 6085287920290736046 (index 95) to leader 2
client write log 186127298816673735 (index 96) to leader 2
client write log 5731840088066160583 (index 97) to leader 2
client write log 3307524993973345067 (index 98) to leader 2
client write log 7510047912668853681 (index 99) to leader 2
client write log 5303738466647339535 (index 100) to leader 2
flag 70477 term 14 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 14 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
flag 72930 term 14 leader 2 nextIndex[1]: 86  matchIndex[1]: 85
term 14 leader 2 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 14 leaderCommit: 85 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 11 79} {2145452974794193072 11 80} {2145452974794193072 13 81} {1088014780376256 14 82} {404748725667637781 14 83} {317580945644149295 14 84} {1576052047095696373 14 85} {2872362207059311271 14 86} {2764940991071945298 14 87} {8126107118300274753 14 88} {2185153021582232939 14 89} {6895898479978726513 14 90} {9090633783825801454 14 91} {5371415825590810661 14 92} {3770709280128182406 14 93} {6381242069767063083 14 94} {6085287920290736046 14 95} {186127298816673735 14 96} {5731840088066160583 14 97} {3307524993973345067 14 98} {7510047912668853681 14 99} {5303738466647339535 14 100}]
------------------------------------------------------
term 14 Server2 start snapshot! index=89
term 14 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=100
-------------------------------------------------------------
term 14 Server2 start snapshot! index=99
term 14 server2 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=100
-------------------------------------------------------------
term 14 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
flag 7938 term 14 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 14 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 14 leaderCommit: 100 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=101
update matchIndex[1]=100
update leader CommitIndex=100
leader log:
[{snapshot 14 99} {5303738466647339535 14 100}]
------------------------------------------------------
term 14 Server1 start snapshot! index=89
term 14 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=100
-------------------------------------------------------------
term 14 Server1 start snapshot! index=99
term 14 server1 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=100
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7320976042319072385 (index 101) to leader 2
term 14 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 14 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
flag 92934 term 14 leader 2 nextIndex[1]: 101  matchIndex[1]: 100
term 14 leader 2 sendAppendEntries PrevLogIndex: 100  PrevLogTerm: 14 leaderCommit: 100 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:100 
------------------------------------------------------
term 15 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5303738466647339535 14 100} {7320976042319072385 14 101}]
------------------------------------------------------
term 14 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 15 server 0 not vote for server 1, 任期不够新
term 14 server 1 get outdate rpc reply from server 0
term 16 server 1 vote for server 2
term 16 server 0 vote for server 2
term 16 server 2 get vote from server 1
term 16 server 2 become leader
------------------------------------------------------
term 16 server 2 get outdate rpc reply from server 0
flag 69577 term 16 leader 2 nextIndex[0]: 102  matchIndex[0]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 68652 term 16 leader 2 nextIndex[1]: 102  matchIndex[1]: 0
term 16 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
term 16 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5303738466647339535 14 100} {7320976042319072385 14 101}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 102->101
------------------------------------------------------
term 16 leader 2 nextIndex[0]: 85  matchIndex[0]: 0
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
flag 13855 term 16 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 16 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5303738466647339535 14 100} {7320976042319072385 14 101}]
------------------------------------------------------
term 16 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 14 rf.commitIndex 99 rf.lastApplied 99
term 16 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 100 matchIndex[0] 99 
------------------------------------------------------------------------
flag 47920 term 16 leader 2 nextIndex[0]: 100  matchIndex[0]: 99
term 16 leader 2 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 97925 term 16 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 16 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5303738466647339535 14 100} {7320976042319072385 14 101}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5303738466647339535 14 100} {7320976042319072385 14 101}]
------------------------------------------------------
flag 46785 term 16 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 16 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 73043 term 16 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 16 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5303738466647339535 14 100} {7320976042319072385 14 101}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5303738466647339535 14 100} {7320976042319072385 14 101}]
------------------------------------------------------
flag 81903 term 16 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 16 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 37147 term 16 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 16 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5303738466647339535 14 100} {7320976042319072385 14 101}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5303738466647339535 14 100} {7320976042319072385 14 101}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71167 term 16 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 16 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 89173 term 16 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 16 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5303738466647339535 14 100} {7320976042319072385 14 101}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5303738466647339535 14 100} {7320976042319072385 14 101}]
------------------------------------------------------
term 16 server 1 not vote for server 0, 任期不够新
term 16 server 0 get outdate rpc reply from server 1
flag 39404 term 16 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 16 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 94561 term 16 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 16 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5303738466647339535 14 100} {7320976042319072385 14 101}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5303738466647339535 14 100} {7320976042319072385 14 101}]
------------------------------------------------------
flag 29779 term 16 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 16 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 36949 term 16 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 16 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5303738466647339535 14 100} {7320976042319072385 14 101}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5303738466647339535 14 100} {7320976042319072385 14 101}]
------------------------------------------------------
term 16 server 2 not vote for server 1, 任期不够新
term 16 server 1 get outdate rpc reply from server 2
flag 61384 term 16 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 16 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 17365 term 16 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 16 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5303738466647339535 14 100} {7320976042319072385 14 101}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=102
update matchIndex[1]=101
update leader CommitIndex=101
leader log:
[{snapshot 14 99} {5303738466647339535 14 100} {7320976042319072385 14 101}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6770696925370436905 (index 102) to leader 2
flag 93647 term 16 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 16 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
flag 59255 term 16 leader 2 nextIndex[1]: 102  matchIndex[1]: 101
term 16 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 101 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 14 99} {5303738466647339535 14 100} {7320976042319072385 14 101} {6770696925370436905 16 102}]
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70207 term 16 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 16 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 50768 term 16 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 16 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=103
update matchIndex[1]=102
update leader CommitIndex=102
leader log:
[{snapshot 14 99} {5303738466647339535 14 100} {7320976042319072385 14 101} {6770696925370436905 16 102}]
------------------------------------------------------
client write log 7079271577190378795 (index 103) to leader 2
client write log 5013713767789180054 (index 104) to leader 2
client write log 8951421572800034157 (index 105) to leader 2
client write log 8847104899714104610 (index 106) to leader 2
client write log 758389894906400715 (index 107) to leader 2
client write log 600004873069504537 (index 108) to leader 2
client write log 8370485747846993160 (index 109) to leader 2
flag 11679 term 16 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 16 leader 2 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 14 leaderCommit: 102 
------------------------------------------------------
flag 25829 term 16 leader 2 nextIndex[1]: 103  matchIndex[1]: 102
term 16 leader 2 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 14 99} {5303738466647339535 14 100} {7320976042319072385 14 101} {6770696925370436905 16 102} {7079271577190378795 16 103} {5013713767789180054 16 104} {8951421572800034157 16 105} {8847104899714104610 16 106} {758389894906400715 16 107} {600004873069504537 16 108} {8370485747846993160 16 109}]
------------------------------------------------------
term 16 Server2 start snapshot! index=109
term 16 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
term 16 leader 2 nextIndex[0]: 102  matchIndex[0]: 101
term 16 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 33092 term 16 leader 2 nextIndex[1]: 110  matchIndex[1]: 109
term 16 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=110
update matchIndex[1]=109
update leader CommitIndex=109
leader log:
[{snapshot 16 109}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 Server1 start snapshot! index=109
term 16 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=109
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7792460083050337420 (index 110) to leader 2
term 16 server 2 not vote for server 0, 日志不够新
term 16 server 1 not vote for server 0, 日志不够新
term 17 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 18 server 1 vote for server 2
term 18 server 0 vote for server 2
term 18 server 2 get vote from server 1
term 18 server 2 become leader
------------------------------------------------------
term 18 server 2 get outdate rpc reply from server 0
flag 75699 term 18 leader 2 nextIndex[0]: 111  matchIndex[0]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 10720 term 18 leader 2 nextIndex[1]: 111  matchIndex[1]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 111->110
------------------------------------------------------
term 18 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 111->110
------------------------------------------------------
term 18 leader 2 nextIndex[0]: 102  matchIndex[0]: 0
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 76071 term 18 leader 2 nextIndex[1]: 110  matchIndex[1]: 0
term 18 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 0 InstallSnapshot success
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 110 matchIndex[0] 109 
------------------------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 16 rf.commitIndex 109 rf.lastApplied 109
flag 74517 term 18 leader 2 nextIndex[0]: 110  matchIndex[0]: 109
term 18 leader 2 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 61445 term 18 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
flag 47756 term 18 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 16636 term 18 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:109 
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
flag 63342 term 18 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 39371 term 18 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
flag 33897 term 18 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 21344 term 18 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
term 18 server 1 not vote for server 0, 任期不够新
term 18 server 0 get outdate rpc reply from server 1
flag 90126 term 18 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 42212 term 18 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52612 term 18 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 64162 term 18 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
flag 4152 term 18 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 98328 term 18 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72013 term 18 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 23039 term 18 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17703 term 18 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 71741 term 18 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
flag 25539 term 18 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 53586 term 18 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
flag 87693 term 18 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 36716 term 18 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85141 term 18 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 79302 term 18 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
term 18 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
flag 78435 term 18 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 96776 term 18 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
term 18 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
flag 25436 term 18 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 30733 term 18 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
flag 98358 term 18 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 57896 term 18 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
flag 14607 term 18 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 98493 term 18 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
flag 23602 term 18 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 43680 term 18 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66005 term 18 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 59622 term 18 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=111
update matchIndex[1]=110
update leader CommitIndex=109
leader log:
[{snapshot 16 109} {7792460083050337420 16 110}]
------------------------------------------------------
client write log 7792460083050337420 (index 111) to leader 2
flag 57468 term 18 leader 2 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
flag 13115 term 18 leader 2 nextIndex[1]: 111  matchIndex[1]: 110
term 18 leader 2 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 16 leaderCommit: 109 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111}]
------------------------------------------------------
flag 96403 term 18 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
flag 76725 term 18 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
term 18 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111}]
------------------------------------------------------
flag 63317 term 18 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
flag 83384 term 18 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111}]
------------------------------------------------------
term 18 server 0 not vote for server 2, 任期不够新
term 18 server 2 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32974 term 18 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
flag 22625 term 18 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111}]
------------------------------------------------------
flag 39617 term 18 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
flag 53132 term 18 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111}]
------------------------------------------------------
flag 16421 term 18 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
flag 44200 term 18 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=112
update matchIndex[1]=111
update leader CommitIndex=111
leader log:
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111}]
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
flag 55293 term 18 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
flag 81752 term 18 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
flag 67591 term 18 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
flag 22570 term 18 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
flag 90675 term 18 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
flag 56513 term 18 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
term 19 server 0 vote for server 1
term 19 server 1 get vote from server 0
term 19 server 1 become leader
------------------------------------------------------
flag 27650 term 19 leader 1 nextIndex[0]: 112  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
flag 37023 term 19 leader 1 nextIndex[2]: 112  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=111
leader log:
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111}]
------------------------------------------------------
client write log 886203283427006329 (index 112) to leader 1
flag 77880 term 18 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
flag 95442 term 18 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
flag 58918 term 19 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
flag 29522 term 19 leader 1 nextIndex[2]: 112  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111} {886203283427006329 19 112}]
------------------------------------------------------
flag 31202 term 18 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
flag 87543 term 18 leader 2 nextIndex[1]: 112  matchIndex[1]: 111
term 18 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
flag 36775 term 19 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 19 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 89314 term 19 leader 1 nextIndex[2]: 112  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111} {886203283427006329 19 112}]
------------------------------------------------------
client write log 2982841663426363435 (index 113) to leader 1
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 112->111
------------------------------------------------------
flag 64055 term 18 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
term 18 leader 2 nextIndex[1]: 0  matchIndex[1]: 111
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 74904 term 19 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 19 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 19 leaderCommit: 112 
------------------------------------------------------
flag 58271 term 19 leader 1 nextIndex[2]: 112  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111} {886203283427006329 19 112} {2982841663426363435 19 113}]
------------------------------------------------------
flag 13346 term 18 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
term 18 leader 2 nextIndex[1]: 0  matchIndex[1]: 111
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
flag 79498 term 19 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 113 
------------------------------------------------------
flag 55778 term 19 leader 1 nextIndex[2]: 112  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=113
leader log:
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111} {886203283427006329 19 112} {2982841663426363435 19 113}]
------------------------------------------------------
!!!!!!connect server 2
client write log 6151272957804686038 (index 114) to leader 1
flag 41397 term 18 leader 2 nextIndex[0]: 112  matchIndex[0]: 111
term 18 leader 2 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 111 
------------------------------------------------------
term 18 leader 2 nextIndex[1]: 0  matchIndex[1]: 111
term 18 leader 2 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 16
------------------------------------------------------
term 19 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 18 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 19 server 0 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74353 term 19 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 19 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 19 leaderCommit: 113 
------------------------------------------------------
flag 81804 term 19 leader 1 nextIndex[2]: 112  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 113 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:111 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 19 server 0 AppendEntries true commitIndex:113 
------------------------------------------------------
update nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111} {886203283427006329 19 112} {2982841663426363435 19 113} {6151272957804686038 19 114}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111} {886203283427006329 19 112} {2982841663426363435 19 113} {6151272957804686038 19 114}]
------------------------------------------------------
term 19 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45688 term 19 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 35877 term 19 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111} {886203283427006329 19 112} {2982841663426363435 19 113} {6151272957804686038 19 114}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111} {886203283427006329 19 112} {2982841663426363435 19 113} {6151272957804686038 19 114}]
------------------------------------------------------
term 19 server 2 not vote for server 0, 任期不够新
term 19 server 0 get outdate rpc reply from server 2
flag 96932 term 19 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 10606 term 19 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111} {886203283427006329 19 112} {2982841663426363435 19 113} {6151272957804686038 19 114}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111} {886203283427006329 19 112} {2982841663426363435 19 113} {6151272957804686038 19 114}]
------------------------------------------------------
flag 68248 term 19 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 20136 term 19 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111} {886203283427006329 19 112} {2982841663426363435 19 113} {6151272957804686038 19 114}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111} {886203283427006329 19 112} {2982841663426363435 19 113} {6151272957804686038 19 114}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78081 term 19 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 22137 term 19 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111} {886203283427006329 19 112} {2982841663426363435 19 113} {6151272957804686038 19 114}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111} {886203283427006329 19 112} {2982841663426363435 19 113} {6151272957804686038 19 114}]
------------------------------------------------------
flag 54406 term 19 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 11954 term 19 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111} {886203283427006329 19 112} {2982841663426363435 19 113} {6151272957804686038 19 114}]
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111} {886203283427006329 19 112} {2982841663426363435 19 113} {6151272957804686038 19 114}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86703 term 19 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 31240 term 19 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111} {886203283427006329 19 112} {2982841663426363435 19 113} {6151272957804686038 19 114}]
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111} {886203283427006329 19 112} {2982841663426363435 19 113} {6151272957804686038 19 114}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5180816019760053840 (index 115) to leader 1
flag 44450 term 19 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
flag 61256 term 19 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 114 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111} {886203283427006329 19 112} {2982841663426363435 19 113} {6151272957804686038 19 114} {5180816019760053840 19 115}]
------------------------------------------------------
flag 38691 term 19 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 19 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 77811 term 19 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=116
update matchIndex[0]=115
update leader CommitIndex=115
leader log:
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111} {886203283427006329 19 112} {2982841663426363435 19 113} {6151272957804686038 19 114} {5180816019760053840 19 115}]
------------------------------------------------------
client write log 5517297046190020835 (index 116) to leader 1
client write log 5560215269903423576 (index 117) to leader 1
client write log 6060518887616616466 (index 118) to leader 1
client write log 7875240322067978477 (index 119) to leader 1
client write log 3611280525702265092 (index 120) to leader 1
client write log 2258978997410583475 (index 121) to leader 1
client write log 5598038370814764631 (index 122) to leader 1
flag 55819 term 19 leader 1 nextIndex[0]: 116  matchIndex[0]: 115
term 19 leader 1 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
flag 50882 term 19 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 19 leaderCommit: 115 
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 16 109} {7792460083050337420 16 110} {7792460083050337420 18 111} {886203283427006329 19 112} {2982841663426363435 19 113} {6151272957804686038 19 114} {5180816019760053840 19 115} {5517297046190020835 19 116} {5560215269903423576 19 117} {6060518887616616466 19 118} {7875240322067978477 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122}]
------------------------------------------------------
term 19 Server1 start snapshot! index=119
term 19 server1 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=122
-------------------------------------------------------------
flag 64429 term 19 leader 1 nextIndex[0]: 123  matchIndex[0]: 122
term 19 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 19 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
term 19 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=123
update matchIndex[0]=122
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122}]
------------------------------------------------------
term 19 Server0 start snapshot! index=119
term 19 server0 snapshot success
lastIncludedIndex=119 lastApplied=119 lastIndex=122
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7214160367981875382 (index 123) to leader 1
term 19 server 1 not vote for server 2, 日志不够新
term 19 server 0 not vote for server 2, 日志不够新
term 20 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 21 server 2 vote for server 1
term 21 server 1 get vote from server 2
term 21 server 1 become leader
------------------------------------------------------
term 21 server 0 vote for server 1
term 21 server 1 get outdate rpc reply from server 0
flag 41369 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 71129 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 124->123
------------------------------------------------------
term 21 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 124->123
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 2 not vote for server 1, 任期不够新
term 21 server 1 get outdate rpc reply from server 2
flag 68963 term 21 leader 1 nextIndex[0]: 123  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 115  matchIndex[2]: 0
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 19
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
term 21 server 2 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 19 rf.commitIndex 119 rf.lastApplied 119
term 21 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 120 matchIndex[2] 119 
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61695 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 81810 term 21 leader 1 nextIndex[2]: 120  matchIndex[2]: 119
term 21 leader 1 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:119 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33487 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 11460 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
flag 63115 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 90215 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82200 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 39648 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
flag 89754 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 18743 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31659 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 88971 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2735 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 48468 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
term 21 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52019 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 58949 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
flag 57954 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 59210 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
flag 34614 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 91690 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
flag 74350 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 31134 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
flag 71003 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 23365 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
flag 13272 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 10906 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
flag 18199 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 8212 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38018 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 94875 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60465 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 43439 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86965 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 65647 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=124
update matchIndex[0]=123
update leader CommitIndex=122
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123}]
------------------------------------------------------
client write log 7214160367981875382 (index 124) to leader 1
flag 51609 term 21 leader 1 nextIndex[0]: 124  matchIndex[0]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
flag 4288 term 21 leader 1 nextIndex[2]: 124  matchIndex[2]: 123
term 21 leader 1 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 19 leaderCommit: 122 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123} {7214160367981875382 21 124}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123} {7214160367981875382 21 124}]
------------------------------------------------------
flag 15288 term 21 leader 1 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 19179 term 21 leader 1 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
term 21 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123} {7214160367981875382 21 124}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123} {7214160367981875382 21 124}]
------------------------------------------------------
flag 80661 term 21 leader 1 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 99904 term 21 leader 1 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123} {7214160367981875382 21 124}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123} {7214160367981875382 21 124}]
------------------------------------------------------
flag 96973 term 21 leader 1 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 76413 term 21 leader 1 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123} {7214160367981875382 21 124}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123} {7214160367981875382 21 124}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7147 term 21 leader 1 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 52736 term 21 leader 1 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123} {7214160367981875382 21 124}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123} {7214160367981875382 21 124}]
------------------------------------------------------
flag 79232 term 21 leader 1 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 16863 term 21 leader 1 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123} {7214160367981875382 21 124}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=125
update matchIndex[0]=124
update leader CommitIndex=124
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123} {7214160367981875382 21 124}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 8930856708363410549 (index 125) to leader 1
flag 61209 term 21 leader 1 nextIndex[0]: 125  matchIndex[0]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
flag 89688 term 21 leader 1 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 124 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123} {7214160367981875382 21 124} {8930856708363410549 21 125}]
------------------------------------------------------
flag 84447 term 21 leader 1 nextIndex[0]: 126  matchIndex[0]: 125
term 21 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 663 term 21 leader 1 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=126
update matchIndex[0]=125
update leader CommitIndex=125
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123} {7214160367981875382 21 124} {8930856708363410549 21 125}]
------------------------------------------------------
client write log 8031626976708742121 (index 126) to leader 1
client write log 4028174510012511077 (index 127) to leader 1
client write log 6341727708223301422 (index 128) to leader 1
client write log 2806848459070709911 (index 129) to leader 1
client write log 3167531351686867178 (index 130) to leader 1
client write log 4995222196502300256 (index 131) to leader 1
client write log 7367310017638914331 (index 132) to leader 1
flag 52733 term 21 leader 1 nextIndex[0]: 126  matchIndex[0]: 125
term 21 leader 1 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
flag 44429 term 21 leader 1 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 1 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 21 leaderCommit: 125 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 19 119} {3611280525702265092 19 120} {2258978997410583475 19 121} {5598038370814764631 19 122} {7214160367981875382 19 123} {7214160367981875382 21 124} {8930856708363410549 21 125} {8031626976708742121 21 126} {4028174510012511077 21 127} {6341727708223301422 21 128} {2806848459070709911 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132}]
------------------------------------------------------
term 21 Server1 start snapshot! index=129
term 21 server1 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=132
-------------------------------------------------------------
flag 15165 term 21 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 21 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=133
update matchIndex[0]=132
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132}]
------------------------------------------------------
term 21 Server0 start snapshot! index=129
term 21 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=132
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1612381266621488383 (index 133) to leader 1
term 22 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 5335 term 21 leader 1 nextIndex[0]: 133  matchIndex[0]: 132
term 21 leader 1 sendAppendEntries PrevLogIndex: 132  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 125  matchIndex[2]: 124
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
term 22 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 22 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 22 server 1 not vote for server 2, 日志不够新
term 23 server 2 vote for server 1
term 23 server 1 get vote from server 2
term 23 server 1 become leader
------------------------------------------------------
term 23 server 0 vote for server 1
term 23 server 1 get outdate rpc reply from server 0
flag 43709 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 1482 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 134->133
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
flag 73647 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 leader 1 nextIndex[2]: 125  matchIndex[2]: 0
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 21
------------------------------------------------------
term 23 server 2 InstallSnapshot success
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 130 matchIndex[2] 129 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 21 rf.commitIndex 129 rf.lastApplied 129
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
flag 32289 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 67478 term 23 leader 1 nextIndex[2]: 130  matchIndex[2]: 129
term 23 leader 1 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23453 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 83746 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
update nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15192 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 7627 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
flag 28415 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 93790 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65706 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 51944 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
flag 23373 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 11995 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1748 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 10984 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85695 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 53477 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
flag 10791 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 8899 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
flag 81163 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 2284 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
flag 43410 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 78973 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
flag 20773 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 98692 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41168 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 71022 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
flag 32241 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 32321 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
flag 90704 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 29646 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
flag 6320 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 30644 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=134
update matchIndex[0]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=132
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1612381266621488383 (index 134) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22068 term 23 leader 1 nextIndex[0]: 134  matchIndex[0]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
flag 86772 term 23 leader 1 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 1 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 21 leaderCommit: 132 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:132 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:132 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133} {1612381266621488383 23 134}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133} {1612381266621488383 23 134}]
------------------------------------------------------
flag 74981 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 36451 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133} {1612381266621488383 23 134}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133} {1612381266621488383 23 134}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57798 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 30944 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133} {1612381266621488383 23 134}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133} {1612381266621488383 23 134}]
------------------------------------------------------
flag 21224 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 60206 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133} {1612381266621488383 23 134}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133} {1612381266621488383 23 134}]
------------------------------------------------------
flag 82195 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 81965 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
term 23 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133} {1612381266621488383 23 134}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133} {1612381266621488383 23 134}]
------------------------------------------------------
flag 82432 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 40007 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133} {1612381266621488383 23 134}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133} {1612381266621488383 23 134}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60310 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 84632 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133} {1612381266621488383 23 134}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133} {1612381266621488383 23 134}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 46687 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 56993 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 83781 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 49861 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 45762 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 60799 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 24 server 0 vote for server 2
term 24 server 2 get vote from server 0
term 24 server 2 become leader
------------------------------------------------------
flag 20817 term 24 leader 2 nextIndex[0]: 135  matchIndex[0]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 54910 term 24 leader 2 nextIndex[1]: 135  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=135
update matchIndex[0]=134
update leader CommitIndex=134
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133} {1612381266621488383 23 134}]
------------------------------------------------------
flag 49022 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 49096 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
client write log 2929087563060761345 (index 135) to leader 2
flag 92018 term 24 leader 2 nextIndex[0]: 135  matchIndex[0]: 134
term 24 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 41820 term 24 leader 2 nextIndex[1]: 135  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:134 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133} {1612381266621488383 23 134} {2929087563060761345 24 135}]
------------------------------------------------------
flag 31735 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 58794 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 25710 term 24 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 24 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 135 
------------------------------------------------------
flag 83341 term 24 leader 2 nextIndex[1]: 135  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=136
update matchIndex[0]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133} {1612381266621488383 23 134} {2929087563060761345 24 135}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 4774603954527896345 (index 136) to leader 2
client write log 8077649455744487723 (index 137) to leader 2
client write log 3763490490611212878 (index 138) to leader 2
client write log 7720513325561891748 (index 139) to leader 2
client write log 3070368797290974056 (index 140) to leader 2
client write log 6250468236518107623 (index 141) to leader 2
client write log 2621560418751444830 (index 142) to leader 2
term 24 server 0 not vote for server 2, 任期不够新
term 24 server 2 get outdate rpc reply from server 0
flag 15193 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 70885 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 6383 term 24 leader 2 nextIndex[0]: 136  matchIndex[0]: 135
term 24 leader 2 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 24 leaderCommit: 135 
------------------------------------------------------
flag 61707 term 24 leader 2 nextIndex[1]: 135  matchIndex[1]: 0
term 24 leader 2 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 21 129} {3167531351686867178 21 130} {4995222196502300256 21 131} {7367310017638914331 21 132} {1612381266621488383 21 133} {1612381266621488383 23 134} {2929087563060761345 24 135} {4774603954527896345 24 136} {8077649455744487723 24 137} {3763490490611212878 24 138} {7720513325561891748 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
term 24 Server2 start snapshot! index=139
term 24 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=142
-------------------------------------------------------------
flag 89247 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 18583 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 47013 term 24 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 135  matchIndex[1]: 0
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
term 24 Server0 start snapshot! index=139
term 24 server0 snapshot success
lastIncludedIndex=139 lastApplied=139 lastIndex=142
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5063268783651187057 (index 135) to leader 1
flag 69136 term 23 leader 1 nextIndex[0]: 135  matchIndex[0]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
flag 16130 term 23 leader 1 nextIndex[2]: 135  matchIndex[2]: 134
term 23 leader 1 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 134 
------------------------------------------------------
term 24 server 2 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 24 server 0 AppendEntries false 领导者任期过期 args.Term 23
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33969 term 24 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 135  matchIndex[1]: 0
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 1 InstallSnapshot success
------------------------------------------------------
term 24 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 24 rf.commitIndex 139 rf.lastApplied 139
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
flag 83793 term 24 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
flag 72495 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 143->142
------------------------------------------------------
flag 98496 term 24 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 0  matchIndex[1]: 142
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 1 InstallSnapshot fail
rf.commitIndex 139 args.LastIncludedIndex 139
------------------------------------------------------
term 24 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
flag 13039 term 24 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
flag 74740 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
flag 75091 term 24 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
flag 98466 term 24 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 143->142
------------------------------------------------------
flag 80699 term 24 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 0  matchIndex[1]: 142
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 1 InstallSnapshot fail
rf.commitIndex 142 args.LastIncludedIndex 139
------------------------------------------------------
term 24 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
flag 86573 term 24 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
flag 68320 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
flag 42030 term 24 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
flag 5367 term 24 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
flag 711 term 24 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
flag 83946 term 24 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53573 term 24 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
flag 86111 term 24 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
flag 80283 term 24 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
flag 75473 term 24 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25986 term 24 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
flag 87541 term 24 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
flag 48374 term 24 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
flag 62711 term 24 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
flag 32613 term 24 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
flag 52737 term 24 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
flag 76560 term 24 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
flag 46629 term 24 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
term 24 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
flag 41238 term 24 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
flag 368 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36545 term 24 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
flag 17515 term 24 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
flag 90661 term 24 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
flag 75512 term 24 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
flag 83532 term 24 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
flag 27181 term 24 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
flag 91805 term 24 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
flag 40446 term 24 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=143
update matchIndex[1]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142}]
------------------------------------------------------
client write log 5063268783651187057 (index 143) to leader 2
flag 72713 term 24 leader 2 nextIndex[0]: 143  matchIndex[0]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
flag 93270 term 24 leader 2 nextIndex[1]: 143  matchIndex[1]: 142
term 24 leader 2 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 24 leaderCommit: 142 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142} {5063268783651187057 24 143}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142} {5063268783651187057 24 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 144->143
------------------------------------------------------
flag 5147 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
term 24 leader 2 nextIndex[1]: 0  matchIndex[1]: 143
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 24
------------------------------------------------------
term 24 server 1 InstallSnapshot fail
rf.commitIndex 142 args.LastIncludedIndex 139
------------------------------------------------------
term 24 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142} {5063268783651187057 24 143}]
------------------------------------------------------
term 24 server 1 not vote for server 2, 日志不够新
term 24 server 2 get outdate rpc reply from server 1
flag 3383 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
flag 14558 term 24 leader 2 nextIndex[1]: 140  matchIndex[1]: 139
term 24 leader 2 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142} {5063268783651187057 24 143}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142} {5063268783651187057 24 143}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52412 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
flag 60374 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142} {5063268783651187057 24 143}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142} {5063268783651187057 24 143}]
------------------------------------------------------
flag 65531 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
flag 40595 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142} {5063268783651187057 24 143}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142} {5063268783651187057 24 143}]
------------------------------------------------------
flag 51124 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
flag 27956 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142} {5063268783651187057 24 143}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142} {5063268783651187057 24 143}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72460 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
flag 44159 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142} {5063268783651187057 24 143}]
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142} {5063268783651187057 24 143}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38223 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
flag 95280 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
term 24 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142} {5063268783651187057 24 143}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=144
update matchIndex[1]=143
update leader CommitIndex=143
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142} {5063268783651187057 24 143}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5556189336650849620 (index 144) to leader 2
flag 62118 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
flag 30244 term 24 leader 2 nextIndex[1]: 144  matchIndex[1]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 143 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142} {5063268783651187057 24 143} {5556189336650849620 24 144}]
------------------------------------------------------
flag 14344 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 43493 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=145
update matchIndex[1]=144
update leader CommitIndex=144
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142} {5063268783651187057 24 143} {5556189336650849620 24 144}]
------------------------------------------------------
client write log 6482325684424571326 (index 145) to leader 2
client write log 3565755551027436441 (index 146) to leader 2
client write log 7272652883993161909 (index 147) to leader 2
client write log 8741997115887716890 (index 148) to leader 2
client write log 1289777443361719986 (index 149) to leader 2
client write log 2362871871878766274 (index 150) to leader 2
client write log 1543345534220000507 (index 151) to leader 2
client write log 570874788767401975 (index 152) to leader 2
client write log 2091219328470972479 (index 153) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63767 term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
flag 38232 term 24 leader 2 nextIndex[1]: 145  matchIndex[1]: 144
term 24 leader 2 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 24 leaderCommit: 144 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 139} {3070368797290974056 24 140} {6250468236518107623 24 141} {2621560418751444830 24 142} {5063268783651187057 24 143} {5556189336650849620 24 144} {6482325684424571326 24 145} {3565755551027436441 24 146} {7272652883993161909 24 147} {8741997115887716890 24 148} {1289777443361719986 24 149} {2362871871878766274 24 150} {1543345534220000507 24 151} {570874788767401975 24 152} {2091219328470972479 24 153}]
------------------------------------------------------
term 24 Server2 start snapshot! index=149
term 24 server2 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=153
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
flag 2141 term 24 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 24 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=154
update matchIndex[1]=153
update leader CommitIndex=153
leader log:
[{snapshot 24 149} {2362871871878766274 24 150} {1543345534220000507 24 151} {570874788767401975 24 152} {2091219328470972479 24 153}]
------------------------------------------------------
term 24 Server1 start snapshot! index=149
term 24 server1 snapshot success
lastIncludedIndex=149 lastApplied=150 lastIndex=153
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3316821580718365482 (index 154) to leader 2
term 24 leader 2 nextIndex[0]: 144  matchIndex[0]: 143
term 24 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
flag 35049 term 24 leader 2 nextIndex[1]: 154  matchIndex[1]: 153
term 24 leader 2 sendAppendEntries PrevLogIndex: 153  PrevLogTerm: 24 leaderCommit: 153 
------------------------------------------------------
term 24 server 1 AppendEntries true commitIndex:153 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {2362871871878766274 24 150} {1543345534220000507 24 151} {570874788767401975 24 152} {2091219328470972479 24 153} {3316821580718365482 24 154}]
------------------------------------------------------
term 25 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 24 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 26 server 0 vote for server 2
term 26 server 2 get vote from server 0
term 26 server 2 become leader
------------------------------------------------------
term 26 server 1 vote for server 2
term 26 server 2 get outdate rpc reply from server 1
flag 81050 term 26 leader 2 nextIndex[0]: 155  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 8720 term 26 leader 2 nextIndex[1]: 155  matchIndex[1]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 26 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 155->154
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {2362871871878766274 24 150} {1543345534220000507 24 151} {570874788767401975 24 152} {2091219328470972479 24 153} {3316821580718365482 24 154}]
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 144  matchIndex[0]: 0
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 24
------------------------------------------------------
flag 98824 term 26 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 26 server 0 InstallSnapshot success
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 150 matchIndex[0] 149 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 24 rf.commitIndex 149 rf.lastApplied 149
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {2362871871878766274 24 150} {1543345534220000507 24 151} {570874788767401975 24 152} {2091219328470972479 24 153} {3316821580718365482 24 154}]
------------------------------------------------------
flag 36217 term 26 leader 2 nextIndex[0]: 150  matchIndex[0]: 149
term 26 leader 2 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 63943 term 26 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {2362871871878766274 24 150} {1543345534220000507 24 151} {570874788767401975 24 152} {2091219328470972479 24 153} {3316821580718365482 24 154}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {2362871871878766274 24 150} {1543345534220000507 24 151} {570874788767401975 24 152} {2091219328470972479 24 153} {3316821580718365482 24 154}]
------------------------------------------------------
flag 95048 term 26 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 63715 term 26 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {2362871871878766274 24 150} {1543345534220000507 24 151} {570874788767401975 24 152} {2091219328470972479 24 153} {3316821580718365482 24 154}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {2362871871878766274 24 150} {1543345534220000507 24 151} {570874788767401975 24 152} {2091219328470972479 24 153} {3316821580718365482 24 154}]
------------------------------------------------------
flag 44668 term 26 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 58255 term 26 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {2362871871878766274 24 150} {1543345534220000507 24 151} {570874788767401975 24 152} {2091219328470972479 24 153} {3316821580718365482 24 154}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {2362871871878766274 24 150} {1543345534220000507 24 151} {570874788767401975 24 152} {2091219328470972479 24 153} {3316821580718365482 24 154}]
------------------------------------------------------
term 26 server 2 not vote for server 0, 任期不够新
term 26 server 0 get outdate rpc reply from server 2
flag 29908 term 26 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 80805 term 26 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {2362871871878766274 24 150} {1543345534220000507 24 151} {570874788767401975 24 152} {2091219328470972479 24 153} {3316821580718365482 24 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {2362871871878766274 24 150} {1543345534220000507 24 151} {570874788767401975 24 152} {2091219328470972479 24 153} {3316821580718365482 24 154}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 87741 term 26 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 790 term 26 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {2362871871878766274 24 150} {1543345534220000507 24 151} {570874788767401975 24 152} {2091219328470972479 24 153} {3316821580718365482 24 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {2362871871878766274 24 150} {1543345534220000507 24 151} {570874788767401975 24 152} {2091219328470972479 24 153} {3316821580718365482 24 154}]
------------------------------------------------------
flag 62418 term 26 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 61709 term 26 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=155
update matchIndex[1]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {2362871871878766274 24 150} {1543345534220000507 24 151} {570874788767401975 24 152} {2091219328470972479 24 153} {3316821580718365482 24 154}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=155
update matchIndex[0]=154
update leader CommitIndex=154
leader log:
[{snapshot 24 149} {2362871871878766274 24 150} {1543345534220000507 24 151} {570874788767401975 24 152} {2091219328470972479 24 153} {3316821580718365482 24 154}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8603137340137131173 (index 155) to leader 2
flag 67429 term 26 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
flag 28045 term 26 leader 2 nextIndex[1]: 155  matchIndex[1]: 154
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 154 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:154 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {2362871871878766274 24 150} {1543345534220000507 24 151} {570874788767401975 24 152} {2091219328470972479 24 153} {3316821580718365482 24 154} {8603137340137131173 26 155}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85990 term 26 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 30380 term 26 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 26 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=156
update matchIndex[1]=155
update leader CommitIndex=155
leader log:
[{snapshot 24 149} {2362871871878766274 24 150} {1543345534220000507 24 151} {570874788767401975 24 152} {2091219328470972479 24 153} {3316821580718365482 24 154} {8603137340137131173 26 155}]
------------------------------------------------------
client write log 4826365344242759822 (index 156) to leader 2
client write log 6099080193967832205 (index 157) to leader 2
client write log 6958862922368033528 (index 158) to leader 2
client write log 1888630054978990872 (index 159) to leader 2
client write log 5043535362333535490 (index 160) to leader 2
client write log 1880308763425792203 (index 161) to leader 2
client write log 3851480068476322473 (index 162) to leader 2
client write log 88815486678356592 (index 163) to leader 2
client write log 2003251564933550747 (index 164) to leader 2
client write log 5333693342089930503 (index 165) to leader 2
client write log 5870258531712469568 (index 166) to leader 2
client write log 3655038056343224570 (index 167) to leader 2
client write log 6334116914522963656 (index 168) to leader 2
flag 58311 term 26 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 26 leader 2 sendAppendEntries PrevLogIndex: 154  PrevLogTerm: 24 leaderCommit: 155 
------------------------------------------------------
flag 31794 term 26 leader 2 nextIndex[1]: 156  matchIndex[1]: 155
term 26 leader 2 sendAppendEntries PrevLogIndex: 155  PrevLogTerm: 26 leaderCommit: 155 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:155 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 24 149} {2362871871878766274 24 150} {1543345534220000507 24 151} {570874788767401975 24 152} {2091219328470972479 24 153} {3316821580718365482 24 154} {8603137340137131173 26 155} {4826365344242759822 26 156} {6099080193967832205 26 157} {6958862922368033528 26 158} {1888630054978990872 26 159} {5043535362333535490 26 160} {1880308763425792203 26 161} {3851480068476322473 26 162} {88815486678356592 26 163} {2003251564933550747 26 164} {5333693342089930503 26 165} {5870258531712469568 26 166} {3655038056343224570 26 167} {6334116914522963656 26 168}]
------------------------------------------------------
term 26 Server2 start snapshot! index=159
term 26 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=168
-------------------------------------------------------------
term 26 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
flag 73107 term 26 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 26 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=169
update matchIndex[1]=168
update leader CommitIndex=168
leader log:
[{snapshot 26 159} {5043535362333535490 26 160} {1880308763425792203 26 161} {3851480068476322473 26 162} {88815486678356592 26 163} {2003251564933550747 26 164} {5333693342089930503 26 165} {5870258531712469568 26 166} {3655038056343224570 26 167} {6334116914522963656 26 168}]
------------------------------------------------------
term 26 Server1 start snapshot! index=159
term 26 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=168
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5203926893295172176 (index 169) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 155  matchIndex[0]: 154
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 26
------------------------------------------------------
flag 14267 term 26 leader 2 nextIndex[1]: 169  matchIndex[1]: 168
term 26 leader 2 sendAppendEntries PrevLogIndex: 168  PrevLogTerm: 26 leaderCommit: 168 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:168 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 159} {5043535362333535490 26 160} {1880308763425792203 26 161} {3851480068476322473 26 162} {88815486678356592 26 163} {2003251564933550747 26 164} {5333693342089930503 26 165} {5870258531712469568 26 166} {3655038056343224570 26 167} {6334116914522963656 26 168} {5203926893295172176 26 169}]
------------------------------------------------------
term 27 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 27 Server2 start snapshot! index=169
term 27 server2 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
term 28 server 1 vote for server 2
term 28 server 0 vote for server 2
term 28 server 2 get vote from server 1
term 28 server 2 become leader
------------------------------------------------------
term 28 server 2 get outdate rpc reply from server 0
flag 56206 term 28 leader 2 nextIndex[0]: 170  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
flag 83105 term 28 leader 2 nextIndex[1]: 170  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 169}]
------------------------------------------------------
term 28 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 170->169
------------------------------------------------------
term 28 Server1 start snapshot! index=169
term 28 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=169
-------------------------------------------------------------
term 28 leader 2 nextIndex[0]: 155  matchIndex[0]: 0
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
flag 20865 term 28 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 169}]
------------------------------------------------------
term 28 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 26 rf.commitIndex 169 rf.lastApplied 169
term 28 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 170 matchIndex[0] 169 
------------------------------------------------------------------------
term 28 server 2 not vote for server 0, 任期不够新
term 28 server 0 get outdate rpc reply from server 2
flag 19854 term 28 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
------------------------------------------------------
flag 80409 term 28 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 169}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 169}]
------------------------------------------------------
flag 30228 term 28 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
flag 38447 term 28 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 169}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 169}]
------------------------------------------------------
flag 26484 term 28 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
flag 27053 term 28 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 169}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 server 1 not vote for server 0, 任期不够新
term 28 server 0 get outdate rpc reply from server 1
flag 46804 term 28 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
flag 35033 term 28 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 169}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=170
update matchIndex[0]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 169}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 98576 term 28 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
flag 56230 term 28 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39201 term 28 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
flag 89887 term 28 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
flag 57964 term 28 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
flag 8477 term 28 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
term 29 server 1 vote for server 0
term 29 server 0 get vote from server 1
term 29 server 0 become leader
------------------------------------------------------
flag 44217 term 29 leader 0 nextIndex[1]: 170  matchIndex[1]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
flag 66613 term 29 leader 0 nextIndex[2]: 170  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=170
update matchIndex[1]=169
update leader CommitIndex=169
leader log:
[{snapshot 26 169}]
------------------------------------------------------
client write log 7709771374406837391 (index 170) to leader 0
flag 56590 term 28 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
flag 61590 term 28 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
flag 12793 term 29 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
flag 7396 term 29 leader 0 nextIndex[2]: 170  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {7709771374406837391 29 170}]
------------------------------------------------------
flag 55562 term 28 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
flag 58812 term 28 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
flag 64698 term 29 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 29 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 170 
------------------------------------------------------
flag 28673 term 29 leader 0 nextIndex[2]: 170  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=171
update matchIndex[1]=170
update leader CommitIndex=170
leader log:
[{snapshot 26 169} {7709771374406837391 29 170}]
------------------------------------------------------
client write log 5917265654130482573 (index 171) to leader 0
client write log 8555297907074024533 (index 172) to leader 0
client write log 1868981247044716286 (index 173) to leader 0
client write log 6654611676411908189 (index 174) to leader 0
client write log 4587864526723105156 (index 175) to leader 0
client write log 4476400689624582417 (index 176) to leader 0
client write log 4202112067848113533 (index 177) to leader 0
client write log 7865692164534147355 (index 178) to leader 0
client write log 6992401875788879265 (index 179) to leader 0
client write log 550947329055473569 (index 180) to leader 0
client write log 346434774703738830 (index 181) to leader 0
client write log 2973098992001999068 (index 182) to leader 0
client write log 4398058583704769843 (index 183) to leader 0
client write log 7527037998263191000 (index 184) to leader 0
flag 19542 term 28 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
flag 59723 term 28 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35743 term 29 leader 0 nextIndex[1]: 171  matchIndex[1]: 170
term 29 leader 0 sendAppendEntries PrevLogIndex: 170  PrevLogTerm: 29 leaderCommit: 170 
------------------------------------------------------
flag 23285 term 29 leader 0 nextIndex[2]: 170  matchIndex[2]: 0
term 29 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 170 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:170 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 26 169} {7709771374406837391 29 170} {5917265654130482573 29 171} {8555297907074024533 29 172} {1868981247044716286 29 173} {6654611676411908189 29 174} {4587864526723105156 29 175} {4476400689624582417 29 176} {4202112067848113533 29 177} {7865692164534147355 29 178} {6992401875788879265 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
term 29 Server0 start snapshot! index=179
term 29 server0 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=184
-------------------------------------------------------------
flag 20662 term 28 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
flag 23371 term 28 leader 2 nextIndex[1]: 170  matchIndex[1]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 170->169
------------------------------------------------------
flag 60684 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 leader 0 nextIndex[2]: 170  matchIndex[2]: 0
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
term 29 Server1 start snapshot! index=179
term 29 server1 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=184
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3671317325065609795 (index 170) to leader 2
flag 51240 term 28 leader 2 nextIndex[0]: 170  matchIndex[0]: 169
term 28 leader 2 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 26 leaderCommit: 169 
------------------------------------------------------
term 28 leader 2 nextIndex[1]: 0  matchIndex[1]: 169
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 26
------------------------------------------------------
term 29 server 0 AppendEntries false 领导者任期过期 args.Term 28
------------------------------------------------------
term 29 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 29 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39393 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 leader 0 nextIndex[2]: 170  matchIndex[2]: 0
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 179 rf.lastIncludedTerm 29 rf.commitIndex 179 rf.lastApplied 179
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 29 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24157 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 14524 term 29 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90161 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 93001 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
flag 61904 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 23754 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 185->184
------------------------------------------------------
flag 1055 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 leader 0 nextIndex[2]: 0  matchIndex[2]: 184
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 29
------------------------------------------------------
term 29 server 2 InstallSnapshot fail
rf.commitIndex 184 args.LastIncludedIndex 179
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 29 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 180 matchIndex[2] 179 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
flag 10661 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 50899 term 29 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 29 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26400 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 58090 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
term 29 server 1 not vote for server 0, 任期不够新
term 29 server 0 get outdate rpc reply from server 1
flag 4354 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 6936 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
flag 35097 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 57163 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
flag 80415 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 94255 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
term 29 server 2 not vote for server 0, 日志不够新
term 29 server 0 get outdate rpc reply from server 2
flag 15192 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 32505 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10892 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 5267 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
flag 24733 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 52219 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
flag 79453 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 46250 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
flag 74046 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 66317 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51077 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 39522 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
flag 27951 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 70771 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
flag 41229 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 4638 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
flag 62359 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 10143 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
flag 49650 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 43241 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=185
update matchIndex[1]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=185
update matchIndex[2]=184
update leader CommitIndex=184
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184}]
------------------------------------------------------
client write log 3671317325065609795 (index 185) to leader 0
flag 22584 term 29 leader 0 nextIndex[1]: 185  matchIndex[1]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
flag 73684 term 29 leader 0 nextIndex[2]: 185  matchIndex[2]: 184
term 29 leader 0 sendAppendEntries PrevLogIndex: 184  PrevLogTerm: 29 leaderCommit: 184 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184} {3671317325065609795 29 185}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:184 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184} {3671317325065609795 29 185}]
------------------------------------------------------
flag 1310 term 29 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 9140 term 29 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184} {3671317325065609795 29 185}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184} {3671317325065609795 29 185}]
------------------------------------------------------
term 29 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88350 term 29 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 34509 term 29 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184} {3671317325065609795 29 185}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184} {3671317325065609795 29 185}]
------------------------------------------------------
flag 18891 term 29 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 60642 term 29 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184} {3671317325065609795 29 185}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184} {3671317325065609795 29 185}]
------------------------------------------------------
flag 80603 term 29 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 63672 term 29 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184} {3671317325065609795 29 185}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184} {3671317325065609795 29 185}]
------------------------------------------------------
flag 95535 term 29 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 80888 term 29 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184} {3671317325065609795 29 185}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184} {3671317325065609795 29 185}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73042 term 29 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 54878 term 29 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=186
update matchIndex[2]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184} {3671317325065609795 29 185}]
------------------------------------------------------
term 29 server 1 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=186
update matchIndex[1]=185
update leader CommitIndex=185
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184} {3671317325065609795 29 185}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5667367988041811897 (index 186) to leader 0
flag 68264 term 29 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
flag 99054 term 29 leader 0 nextIndex[2]: 186  matchIndex[2]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 185 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:185 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184} {3671317325065609795 29 185} {5667367988041811897 29 186}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33950 term 29 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 87091 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=187
update matchIndex[2]=186
update leader CommitIndex=186
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184} {3671317325065609795 29 185} {5667367988041811897 29 186}]
------------------------------------------------------
client write log 5101989450884838003 (index 187) to leader 0
client write log 7717800425935271222 (index 188) to leader 0
client write log 7567777700751228503 (index 189) to leader 0
client write log 4663920690564278957 (index 190) to leader 0
client write log 7588634931392472996 (index 191) to leader 0
client write log 3412140514253374987 (index 192) to leader 0
client write log 918521466419232086 (index 193) to leader 0
client write log 7891504401888884017 (index 194) to leader 0
client write log 5122338731751730747 (index 195) to leader 0
client write log 1759257476644969777 (index 196) to leader 0
client write log 5627246334020016528 (index 197) to leader 0
client write log 7339658455229699197 (index 198) to leader 0
client write log 8960601801732801284 (index 199) to leader 0
client write log 6146008879364230063 (index 200) to leader 0
flag 62006 term 29 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 29 leader 0 sendAppendEntries PrevLogIndex: 185  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
flag 77355 term 29 leader 0 nextIndex[2]: 187  matchIndex[2]: 186
term 29 leader 0 sendAppendEntries PrevLogIndex: 186  PrevLogTerm: 29 leaderCommit: 186 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:186 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 179} {550947329055473569 29 180} {346434774703738830 29 181} {2973098992001999068 29 182} {4398058583704769843 29 183} {7527037998263191000 29 184} {3671317325065609795 29 185} {5667367988041811897 29 186} {5101989450884838003 29 187} {7717800425935271222 29 188} {7567777700751228503 29 189} {4663920690564278957 29 190} {7588634931392472996 29 191} {3412140514253374987 29 192} {918521466419232086 29 193} {7891504401888884017 29 194} {5122338731751730747 29 195} {1759257476644969777 29 196} {5627246334020016528 29 197} {7339658455229699197 29 198} {8960601801732801284 29 199} {6146008879364230063 29 200}]
------------------------------------------------------
term 29 Server0 start snapshot! index=189
term 29 server0 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=200
-------------------------------------------------------------
term 29 Server0 start snapshot! index=199
term 29 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=200
-------------------------------------------------------------
term 29 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 29
------------------------------------------------------
flag 77554 term 29 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=201
update matchIndex[2]=200
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200}]
------------------------------------------------------
term 29 Server2 start snapshot! index=189
term 29 server2 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=200
-------------------------------------------------------------
term 29 Server2 start snapshot! index=199
term 29 server2 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=200
-------------------------------------------------------------
!!!!!!connect server 1
client write log 2851897745170882662 (index 201) to leader 0
term 29 leader 0 nextIndex[1]: 186  matchIndex[1]: 185
term 29 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 29
------------------------------------------------------
flag 47361 term 29 leader 0 nextIndex[2]: 201  matchIndex[2]: 200
term 29 leader 0 sendAppendEntries PrevLogIndex: 200  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
term 30 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 29 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 29 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 2 vote for server 0
term 31 server 0 get vote from server 2
term 31 server 0 become leader
------------------------------------------------------
term 31 server 1 vote for server 0
term 31 server 0 get outdate rpc reply from server 1
flag 76132 term 31 leader 0 nextIndex[1]: 202  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
flag 97122 term 31 leader 0 nextIndex[2]: 202  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
term 31 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 202->201
------------------------------------------------------
term 31 leader 0 nextIndex[1]: 186  matchIndex[1]: 0
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 29
------------------------------------------------------
flag 9409 term 31 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 31 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 29 rf.commitIndex 199 rf.lastApplied 199
flag 99868 term 31 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 31 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
flag 65555 term 31 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
flag 6353 term 31 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
flag 4777 term 31 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33034 term 31 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
flag 46766 term 31 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81465 term 31 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
flag 58576 term 31 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
flag 11329 term 31 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
flag 5864 term 31 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
flag 62032 term 31 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
flag 91208 term 31 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15442 term 31 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
flag 16315 term 31 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
term 31 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
flag 55717 term 31 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
flag 29157 term 31 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19208 term 31 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
flag 88233 term 31 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33841 term 31 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
flag 79616 term 31 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74931 term 31 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
flag 51001 term 31 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
flag 86161 term 31 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
flag 67652 term 31 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
flag 54473 term 31 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
flag 95398 term 31 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
flag 68308 term 31 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
flag 78087 term 31 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 36530 term 31 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
flag 51352 term 31 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
flag 39273 term 31 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
flag 55386 term 31 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
flag 37525 term 31 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
flag 46256 term 31 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=202
update matchIndex[2]=201
update leader CommitIndex=200
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201}]
------------------------------------------------------
client write log 2851897745170882662 (index 202) to leader 0
flag 3522 term 31 leader 0 nextIndex[1]: 202  matchIndex[1]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
flag 6763 term 31 leader 0 nextIndex[2]: 202  matchIndex[2]: 201
term 31 leader 0 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 29 leaderCommit: 200 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201} {2851897745170882662 31 202}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:200 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201} {2851897745170882662 31 202}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91494 term 31 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 31 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 42525 term 31 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 31 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201} {2851897745170882662 31 202}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201} {2851897745170882662 31 202}]
------------------------------------------------------
flag 79041 term 31 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 31 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 5944 term 31 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 31 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201} {2851897745170882662 31 202}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201} {2851897745170882662 31 202}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34012 term 31 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 31 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 41245 term 31 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 31 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201} {2851897745170882662 31 202}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201} {2851897745170882662 31 202}]
------------------------------------------------------
flag 59100 term 31 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 31 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 88983 term 31 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 31 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201} {2851897745170882662 31 202}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201} {2851897745170882662 31 202}]
------------------------------------------------------
flag 32919 term 31 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 31 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 2113 term 31 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 31 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=203
update matchIndex[2]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201} {2851897745170882662 31 202}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201} {2851897745170882662 31 202}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2464767877410016361 (index 203) to leader 0
flag 7077 term 31 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 31 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
flag 27035 term 31 leader 0 nextIndex[2]: 203  matchIndex[2]: 202
term 31 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 202 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201} {2851897745170882662 31 202} {2464767877410016361 31 203}]
------------------------------------------------------
flag 35762 term 31 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 31 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 203 
------------------------------------------------------
flag 23183 term 31 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 203 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=204
update matchIndex[2]=203
update leader CommitIndex=203
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201} {2851897745170882662 31 202} {2464767877410016361 31 203}]
------------------------------------------------------
client write log 2933684407362576375 (index 204) to leader 0
client write log 7828641610902782308 (index 205) to leader 0
client write log 7883358242295464473 (index 206) to leader 0
client write log 4464849679089022084 (index 207) to leader 0
client write log 1782296381270127422 (index 208) to leader 0
client write log 7082542425565100645 (index 209) to leader 0
client write log 4916153916819819640 (index 210) to leader 0
flag 67066 term 31 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 31 leader 0 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 31 leaderCommit: 203 
------------------------------------------------------
flag 40289 term 31 leader 0 nextIndex[2]: 204  matchIndex[2]: 203
term 31 leader 0 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 31 leaderCommit: 203 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 29 199} {6146008879364230063 29 200} {2851897745170882662 29 201} {2851897745170882662 31 202} {2464767877410016361 31 203} {2933684407362576375 31 204} {7828641610902782308 31 205} {7883358242295464473 31 206} {4464849679089022084 31 207} {1782296381270127422 31 208} {7082542425565100645 31 209} {4916153916819819640 31 210}]
------------------------------------------------------
term 31 Server0 start snapshot! index=209
term 31 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=210
-------------------------------------------------------------
term 31 leader 0 nextIndex[1]: 203  matchIndex[1]: 202
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
flag 55252 term 31 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 31 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210}]
------------------------------------------------------
term 31 Server2 start snapshot! index=209
term 31 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=210
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5382411080559583859 (index 211) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 server 2 not vote for server 1, 日志不够新
term 31 server 0 not vote for server 1, 日志不够新
term 33 server 2 vote for server 0
term 33 server 0 get vote from server 2
term 33 server 0 become leader
------------------------------------------------------
term 33 server 1 vote for server 0
term 33 server 0 get outdate rpc reply from server 1
flag 65103 term 33 leader 0 nextIndex[1]: 212  matchIndex[1]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 57930 term 33 leader 0 nextIndex[2]: 212  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 212->211
------------------------------------------------------
term 33 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 212->211
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 203  matchIndex[1]: 0
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
flag 10548 term 33 leader 0 nextIndex[2]: 211  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
term 33 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 31 rf.commitIndex 209 rf.lastApplied 209
term 33 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30835 term 33 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 33 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 65266 term 33 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
flag 62446 term 33 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 3354 term 33 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
flag 22479 term 33 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 822 term 33 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
flag 21031 term 33 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 53928 term 33 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
flag 21441 term 33 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 786 term 33 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
flag 85024 term 33 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 54533 term 33 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
flag 22086 term 33 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 82068 term 33 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
term 33 server 2 not vote for server 1, 任期不够新
term 33 server 1 get outdate rpc reply from server 2
flag 71561 term 33 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 23109 term 33 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
flag 15899 term 33 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 30843 term 33 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98355 term 33 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 10536 term 33 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
flag 97615 term 33 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 19333 term 33 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
flag 49488 term 33 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 23309 term 33 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
flag 4451 term 33 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 56582 term 33 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
flag 56668 term 33 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 84273 term 33 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
flag 32916 term 33 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 22659 term 33 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
flag 82037 term 33 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 94831 term 33 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
flag 64147 term 33 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 96377 term 33 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
flag 69830 term 33 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 62469 term 33 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=212
update matchIndex[2]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=210
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211}]
------------------------------------------------------
client write log 5382411080559583859 (index 212) to leader 0
flag 10005 term 33 leader 0 nextIndex[1]: 212  matchIndex[1]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
flag 82309 term 33 leader 0 nextIndex[2]: 212  matchIndex[2]: 211
term 33 leader 0 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 31 leaderCommit: 210 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211} {5382411080559583859 33 212}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211} {5382411080559583859 33 212}]
------------------------------------------------------
flag 66374 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 10455 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211} {5382411080559583859 33 212}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211} {5382411080559583859 33 212}]
------------------------------------------------------
flag 15978 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 29481 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211} {5382411080559583859 33 212}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211} {5382411080559583859 33 212}]
------------------------------------------------------
flag 75598 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 12792 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211} {5382411080559583859 33 212}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211} {5382411080559583859 33 212}]
------------------------------------------------------
flag 3499 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 20123 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211} {5382411080559583859 33 212}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211} {5382411080559583859 33 212}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 26536 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 8998 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211} {5382411080559583859 33 212}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211} {5382411080559583859 33 212}]
------------------------------------------------------
term 33 server 0 not vote for server 1, 任期不够新
term 33 server 1 get outdate rpc reply from server 0
flag 26167 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 12957 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211} {5382411080559583859 33 212}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=213
update matchIndex[1]=212
update leader CommitIndex=212
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211} {5382411080559583859 33 212}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 34817 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 48770 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 21408 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 6302 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 9205 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 87279 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 16403 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 539 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 34 server 2 vote for server 1
term 34 server 1 get vote from server 2
term 34 server 1 become leader
------------------------------------------------------
flag 37984 term 34 leader 1 nextIndex[0]: 213  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 68015 term 34 leader 1 nextIndex[2]: 213  matchIndex[2]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=213
update matchIndex[2]=212
update leader CommitIndex=212
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211} {5382411080559583859 33 212}]
------------------------------------------------------
client write log 6357072097442048352 (index 213) to leader 1
flag 99071 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 67154 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 1599 term 34 leader 1 nextIndex[0]: 213  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 28693 term 34 leader 1 nextIndex[2]: 213  matchIndex[2]: 212
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211} {5382411080559583859 33 212} {6357072097442048352 34 213}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90563 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 76589 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76874 term 34 leader 1 nextIndex[0]: 213  matchIndex[0]: 0
term 34 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 213 
------------------------------------------------------
flag 80213 term 34 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=214
update matchIndex[2]=213
update leader CommitIndex=213
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211} {5382411080559583859 33 212} {6357072097442048352 34 213}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 213->212
------------------------------------------------------
client write log 7870851731973440438 (index 214) to leader 1
client write log 6998780533719553963 (index 215) to leader 1
client write log 427852742398223639 (index 216) to leader 1
client write log 1387554465046355877 (index 217) to leader 1
client write log 5486836567407950461 (index 218) to leader 1
client write log 6487419295666314407 (index 219) to leader 1
client write log 2864867492437873909 (index 220) to leader 1
client write log 5225128885303722726 (index 221) to leader 1
client write log 714078519744567043 (index 222) to leader 1
client write log 5371046179314299554 (index 223) to leader 1
client write log 4177254182906183126 (index 224) to leader 1
flag 37510 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 63274 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 34 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 31
------------------------------------------------------
flag 83607 term 34 leader 1 nextIndex[2]: 214  matchIndex[2]: 213
term 34 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 34 leaderCommit: 213 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 31 209} {4916153916819819640 31 210} {5382411080559583859 31 211} {5382411080559583859 33 212} {6357072097442048352 34 213} {7870851731973440438 34 214} {6998780533719553963 34 215} {427852742398223639 34 216} {1387554465046355877 34 217} {5486836567407950461 34 218} {6487419295666314407 34 219} {2864867492437873909 34 220} {5225128885303722726 34 221} {714078519744567043 34 222} {5371046179314299554 34 223} {4177254182906183126 34 224}]
------------------------------------------------------
term 34 Server1 start snapshot! index=219
term 34 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=224
-------------------------------------------------------------
flag 83996 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 62731 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 34 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
flag 74424 term 34 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 34 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=225
update matchIndex[2]=224
update leader CommitIndex=224
leader log:
[{snapshot 34 219} {2864867492437873909 34 220} {5225128885303722726 34 221} {714078519744567043 34 222} {5371046179314299554 34 223} {4177254182906183126 34 224}]
------------------------------------------------------
term 34 Server2 start snapshot! index=219
term 34 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=224
-------------------------------------------------------------
!!!!!!connect server 0
client write log 405225568591771906 (index 225) to leader 1
flag 57181 term 33 leader 0 nextIndex[1]: 213  matchIndex[1]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
flag 8376 term 33 leader 0 nextIndex[2]: 213  matchIndex[2]: 212
term 33 leader 0 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 33 leaderCommit: 212 
------------------------------------------------------
term 34 server 1 AppendEntries false 领导者任期过期 args.Term 33
------------------------------------------------------
term 34 server 2 AppendEntries false 领导者任期过期 args.Term 33
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 34
------------------------------------------------------
flag 30111 term 34 leader 1 nextIndex[2]: 225  matchIndex[2]: 224
term 34 leader 1 sendAppendEntries PrevLogIndex: 224  PrevLogTerm: 34 leaderCommit: 224 
------------------------------------------------------
term 34 server 0 InstallSnapshot success
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:224 
------------------------------------------------------
term 34 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 34 219} {2864867492437873909 34 220} {5225128885303722726 34 221} {714078519744567043 34 222} {5371046179314299554 34 223} {4177254182906183126 34 224} {405225568591771906 34 225}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 34 rf.commitIndex 219 rf.lastApplied 219
flag 36012 term 34 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 34 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 34 leaderCommit: 225 
------------------------------------------------------
flag 87034 term 34 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 34 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 225 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 34 219} {2864867492437873909 34 220} {5225128885303722726 34 221} {714078519744567043 34 222} {5371046179314299554 34 223} {4177254182906183126 34 224} {405225568591771906 34 225}]
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 34 219} {2864867492437873909 34 220} {5225128885303722726 34 221} {714078519744567043 34 222} {5371046179314299554 34 223} {4177254182906183126 34 224} {405225568591771906 34 225}]
------------------------------------------------------
flag 99276 term 34 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 34 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 225 
------------------------------------------------------
flag 43645 term 34 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 34 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 225 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 34 219} {2864867492437873909 34 220} {5225128885303722726 34 221} {714078519744567043 34 222} {5371046179314299554 34 223} {4177254182906183126 34 224} {405225568591771906 34 225}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 34 219} {2864867492437873909 34 220} {5225128885303722726 34 221} {714078519744567043 34 222} {5371046179314299554 34 223} {4177254182906183126 34 224} {405225568591771906 34 225}]
------------------------------------------------------
flag 37872 term 34 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 34 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 225 
------------------------------------------------------
flag 27571 term 34 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 34 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 225 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
term 34 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 34 219} {2864867492437873909 34 220} {5225128885303722726 34 221} {714078519744567043 34 222} {5371046179314299554 34 223} {4177254182906183126 34 224} {405225568591771906 34 225}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 34 219} {2864867492437873909 34 220} {5225128885303722726 34 221} {714078519744567043 34 222} {5371046179314299554 34 223} {4177254182906183126 34 224} {405225568591771906 34 225}]
------------------------------------------------------
flag 48159 term 34 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 34 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 225 
------------------------------------------------------
flag 28133 term 34 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 34 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 225 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 34 219} {2864867492437873909 34 220} {5225128885303722726 34 221} {714078519744567043 34 222} {5371046179314299554 34 223} {4177254182906183126 34 224} {405225568591771906 34 225}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 34 219} {2864867492437873909 34 220} {5225128885303722726 34 221} {714078519744567043 34 222} {5371046179314299554 34 223} {4177254182906183126 34 224} {405225568591771906 34 225}]
------------------------------------------------------
flag 84795 term 34 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 34 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 225 
------------------------------------------------------
flag 80214 term 34 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 34 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 225 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 34 219} {2864867492437873909 34 220} {5225128885303722726 34 221} {714078519744567043 34 222} {5371046179314299554 34 223} {4177254182906183126 34 224} {405225568591771906 34 225}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 34 219} {2864867492437873909 34 220} {5225128885303722726 34 221} {714078519744567043 34 222} {5371046179314299554 34 223} {4177254182906183126 34 224} {405225568591771906 34 225}]
------------------------------------------------------
flag 73459 term 34 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 34 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 225 
------------------------------------------------------
flag 23185 term 34 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 34 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 225 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 34 219} {2864867492437873909 34 220} {5225128885303722726 34 221} {714078519744567043 34 222} {5371046179314299554 34 223} {4177254182906183126 34 224} {405225568591771906 34 225}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 34 219} {2864867492437873909 34 220} {5225128885303722726 34 221} {714078519744567043 34 222} {5371046179314299554 34 223} {4177254182906183126 34 224} {405225568591771906 34 225}]
------------------------------------------------------
flag 61869 term 34 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 34 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 225 
------------------------------------------------------
flag 72620 term 34 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 34 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 225 
------------------------------------------------------
term 34 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=226
update matchIndex[2]=225
update leader CommitIndex=225
leader log:
[{snapshot 34 219} {2864867492437873909 34 220} {5225128885303722726 34 221} {714078519744567043 34 222} {5371046179314299554 34 223} {4177254182906183126 34 224} {405225568591771906 34 225}]
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 34 219} {2864867492437873909 34 220} {5225128885303722726 34 221} {714078519744567043 34 222} {5371046179314299554 34 223} {4177254182906183126 34 224} {405225568591771906 34 225}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 9005847815201221629 (index 226) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 34 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 227 term 34 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 34 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 225 
------------------------------------------------------
flag 24418 term 34 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 34 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 225 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {2864867492437873909 34 220} {5225128885303722726 34 221} {714078519744567043 34 222} {5371046179314299554 34 223} {4177254182906183126 34 224} {405225568591771906 34 225} {9005847815201221629 34 226}]
------------------------------------------------------
flag 86838 term 34 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 34 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
flag 28512 term 34 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 34 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=226
leader log:
[{snapshot 34 219} {2864867492437873909 34 220} {5225128885303722726 34 221} {714078519744567043 34 222} {5371046179314299554 34 223} {4177254182906183126 34 224} {405225568591771906 34 225} {9005847815201221629 34 226}]
------------------------------------------------------
client write log 7428510273673104643 (index 227) to leader 1
client write log 4654224585946308418 (index 228) to leader 1
client write log 2062382008143494174 (index 229) to leader 1
client write log 5683354627616306634 (index 230) to leader 1
client write log 6443108183132213905 (index 231) to leader 1
client write log 1511759420002764170 (index 232) to leader 1
client write log 4466540023468753696 (index 233) to leader 1
client write log 6341414782509045984 (index 234) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54450 term 34 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 34 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
flag 8126 term 34 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 34 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 34 leaderCommit: 226 
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 219} {2864867492437873909 34 220} {5225128885303722726 34 221} {714078519744567043 34 222} {5371046179314299554 34 223} {4177254182906183126 34 224} {405225568591771906 34 225} {9005847815201221629 34 226} {7428510273673104643 34 227} {4654224585946308418 34 228} {2062382008143494174 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234}]
------------------------------------------------------
term 34 Server1 start snapshot! index=229
term 34 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=234
-------------------------------------------------------------
flag 30705 term 34 leader 1 nextIndex[0]: 235  matchIndex[0]: 234
term 34 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 34 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=235
update matchIndex[0]=234
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234}]
------------------------------------------------------
term 34 Server0 start snapshot! index=229
term 34 server0 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=234
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2469215787169441346 (index 235) to leader 1
flag 19603 term 34 leader 1 nextIndex[0]: 235  matchIndex[0]: 234
term 34 leader 1 sendAppendEntries PrevLogIndex: 234  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 34 leader 1 nextIndex[2]: 226  matchIndex[2]: 225
term 34 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
term 35 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 34 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 server 2 vote for server 1
term 36 server 1 get vote from server 2
term 36 server 1 become leader
------------------------------------------------------
term 36 server 0 vote for server 1
term 36 server 1 get outdate rpc reply from server 0
flag 54765 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 12558 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 236->235
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
flag 64253 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 226  matchIndex[2]: 0
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 34
------------------------------------------------------
term 36 server 2 InstallSnapshot success
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 230 matchIndex[2] 229 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 34 rf.commitIndex 229 rf.lastApplied 229
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
flag 39164 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 55616 term 36 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 36 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
flag 50951 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 75723 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68151 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 80308 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80804 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 30223 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96859 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 26284 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16421 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 53365 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5341 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 98422 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
flag 14938 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 81824 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17030 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 14727 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
flag 4148 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 53679 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18372 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 46190 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
flag 24757 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 71210 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
flag 97645 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 32419 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
flag 75152 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 80297 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
flag 54527 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 37062 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
flag 3567 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 85390 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
flag 91475 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 30536 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=236
update matchIndex[2]=235
update leader CommitIndex=234
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235}]
------------------------------------------------------
client write log 2469215787169441346 (index 236) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46430 term 36 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
flag 15626 term 36 leader 1 nextIndex[2]: 236  matchIndex[2]: 235
term 36 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 34 leaderCommit: 234 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235} {2469215787169441346 36 236}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:234 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235} {2469215787169441346 36 236}]
------------------------------------------------------
flag 71428 term 36 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 36 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 64564 term 36 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235} {2469215787169441346 36 236}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235} {2469215787169441346 36 236}]
------------------------------------------------------
flag 41318 term 36 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 36 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 71582 term 36 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235} {2469215787169441346 36 236}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235} {2469215787169441346 36 236}]
------------------------------------------------------
flag 15923 term 36 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 36 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 33183 term 36 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235} {2469215787169441346 36 236}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235} {2469215787169441346 36 236}]
------------------------------------------------------
term 36 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65979 term 36 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 36 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 63739 term 36 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235} {2469215787169441346 36 236}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235} {2469215787169441346 36 236}]
------------------------------------------------------
flag 83304 term 36 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 36 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 70245 term 36 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235} {2469215787169441346 36 236}]
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235} {2469215787169441346 36 236}]
------------------------------------------------------
flag 62955 term 36 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 36 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 50904 term 36 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235} {2469215787169441346 36 236}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235} {2469215787169441346 36 236}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6168973331578584033 (index 237) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73511 term 36 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 36 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
flag 19999 term 36 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 236 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235} {2469215787169441346 36 236} {6168973331578584033 36 237}]
------------------------------------------------------
flag 33311 term 36 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
flag 60905 term 36 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235} {2469215787169441346 36 236} {6168973331578584033 36 237}]
------------------------------------------------------
client write log 8876513983511311245 (index 238) to leader 1
client write log 463577544551349028 (index 239) to leader 1
client write log 3679703097664316403 (index 240) to leader 1
client write log 818477517826694213 (index 241) to leader 1
client write log 6176842291267787234 (index 242) to leader 1
client write log 822748997298014014 (index 243) to leader 1
client write log 1375677531616739886 (index 244) to leader 1
client write log 1630399160970632797 (index 245) to leader 1
client write log 586125705569989000 (index 246) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23895 term 36 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 36 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
flag 77243 term 36 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 36 leaderCommit: 237 
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 34 229} {5683354627616306634 34 230} {6443108183132213905 34 231} {1511759420002764170 34 232} {4466540023468753696 34 233} {6341414782509045984 34 234} {2469215787169441346 34 235} {2469215787169441346 36 236} {6168973331578584033 36 237} {8876513983511311245 36 238} {463577544551349028 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246}]
------------------------------------------------------
term 36 Server1 start snapshot! index=239
term 36 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=246
-------------------------------------------------------------
flag 56927 term 36 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 36 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=247
update matchIndex[0]=246
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246}]
------------------------------------------------------
term 36 Server0 start snapshot! index=239
term 36 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=246
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5003173440423721678 (index 247) to leader 1
flag 16943 term 36 leader 1 nextIndex[0]: 247  matchIndex[0]: 246
term 36 leader 1 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 36 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 37 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 server 2 vote for server 1
term 38 server 1 get vote from server 2
term 38 server 0 vote for server 1
term 38 server 1 become leader
------------------------------------------------------
term 38 server 1 get outdate rpc reply from server 0
flag 14253 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 73452 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
term 38 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 248->247
------------------------------------------------------
flag 87995 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 237  matchIndex[2]: 0
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
term 38 server 2 InstallSnapshot success
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 36 rf.commitIndex 239 rf.lastApplied 239
term 38 server 0 not vote for server 2, 任期不够新
term 38 server 2 get outdate rpc reply from server 0
term 38 server 0 not vote for server 1, 任期不够新
term 38 server 1 get outdate rpc reply from server 0
flag 96700 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 18327 term 38 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 38 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
flag 38356 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 67918 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
flag 28491 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 18579 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
flag 80923 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 12125 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
flag 84876 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 5782 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59017 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 89193 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4593 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 36091 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
term 38 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72743 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 3052 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
flag 95257 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 85886 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83384 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 36121 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
flag 22117 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 25897 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
flag 25667 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 88315 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54159 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 41905 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
flag 43241 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 37284 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
flag 83548 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 34399 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
flag 39427 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 40404 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=248
update matchIndex[0]=247
update leader CommitIndex=246
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 5003173440423721678 (index 248) to leader 1
flag 86904 term 38 leader 1 nextIndex[0]: 248  matchIndex[0]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 74720 term 38 leader 1 nextIndex[2]: 248  matchIndex[2]: 247
term 38 leader 1 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247} {5003173440423721678 38 248}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247} {5003173440423721678 38 248}]
------------------------------------------------------
flag 738 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 4893 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247} {5003173440423721678 38 248}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247} {5003173440423721678 38 248}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72046 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 92264 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247} {5003173440423721678 38 248}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247} {5003173440423721678 38 248}]
------------------------------------------------------
flag 58761 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 98547 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247} {5003173440423721678 38 248}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247} {5003173440423721678 38 248}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75403 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 87840 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247} {5003173440423721678 38 248}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247} {5003173440423721678 38 248}]
------------------------------------------------------
flag 88850 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 49054 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247} {5003173440423721678 38 248}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247} {5003173440423721678 38 248}]
------------------------------------------------------
flag 22682 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 92730 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247} {5003173440423721678 38 248}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=249
update matchIndex[0]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247} {5003173440423721678 38 248}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 73480 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 4233 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 43001 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 52393 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83561 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 64619 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 35117 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 22234 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 39 server 2 vote for server 0
term 39 server 0 get vote from server 2
term 39 server 0 become leader
------------------------------------------------------
flag 50771 term 39 leader 0 nextIndex[1]: 249  matchIndex[1]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 54344 term 39 leader 0 nextIndex[2]: 249  matchIndex[2]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=249
update matchIndex[2]=248
update leader CommitIndex=248
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247} {5003173440423721678 38 248}]
------------------------------------------------------
client write log 2003555814098560090 (index 249) to leader 0
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 88000 term 38 leader 1 nextIndex[0]: 249  matchIndex[0]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 70477 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 249->248
------------------------------------------------------
flag 86157 term 39 leader 0 nextIndex[1]: 249  matchIndex[1]: 0
term 39 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
flag 40895 term 39 leader 0 nextIndex[2]: 249  matchIndex[2]: 248
term 39 leader 0 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:248 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 36 239} {3679703097664316403 36 240} {818477517826694213 36 241} {6176842291267787234 36 242} {822748997298014014 36 243} {1375677531616739886 36 244} {1630399160970632797 36 245} {586125705569989000 36 246} {5003173440423721678 36 247} {5003173440423721678 38 248} {2003555814098560090 39 249}]
------------------------------------------------------
term 39 Server0 start snapshot! index=249
term 39 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
term 38 leader 1 nextIndex[0]: 0  matchIndex[0]: 248
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
flag 66806 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 39 leader 0 nextIndex[1]: 249  matchIndex[1]: 0
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
flag 36223 term 39 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=250
update matchIndex[2]=249
update leader CommitIndex=249
leader log:
[{snapshot 39 249}]
------------------------------------------------------
term 39 Server2 start snapshot! index=249
term 39 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
client write log 5923991151456022641 (index 250) to leader 0
term 38 leader 1 nextIndex[0]: 0  matchIndex[0]: 248
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
flag 64313 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 39 leader 0 nextIndex[1]: 249  matchIndex[1]: 0
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
flag 51629 term 39 leader 0 nextIndex[2]: 250  matchIndex[2]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 249 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
term 38 leader 1 nextIndex[0]: 0  matchIndex[0]: 248
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
flag 57322 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 39 leader 0 nextIndex[1]: 249  matchIndex[1]: 0
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
flag 13907 term 39 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
!!!!!!connect server 1
client write log 5561573416867153365 (index 249) to leader 1
term 38 leader 1 nextIndex[0]: 0  matchIndex[0]: 248
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 36
------------------------------------------------------
flag 79370 term 38 leader 1 nextIndex[2]: 249  matchIndex[2]: 248
term 38 leader 1 sendAppendEntries PrevLogIndex: 248  PrevLogTerm: 38 leaderCommit: 248 
------------------------------------------------------
term 39 server 2 AppendEntries false 领导者任期过期 args.Term 38
------------------------------------------------------
term 39 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 39 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 39 leader 0 nextIndex[1]: 249  matchIndex[1]: 0
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
flag 60966 term 39 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
term 39 server 1 InstallSnapshot success
------------------------------------------------------
term 39 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 39 rf.commitIndex 249 rf.lastApplied 249
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76983 term 39 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 39 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
flag 31171 term 39 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31250 term 39 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
flag 12214 term 39 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
flag 91598 term 39 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
flag 43045 term 39 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14515 term 39 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
flag 38199 term 39 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
flag 58652 term 39 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
flag 14518 term 39 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
flag 9435 term 39 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
flag 81695 term 39 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
flag 21453 term 39 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
flag 18506 term 39 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
flag 45234 term 39 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
flag 88866 term 39 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13281 term 39 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
flag 74555 term 39 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
term 39 server 1 not vote for server 2, 任期不够新
term 39 server 2 get outdate rpc reply from server 1
flag 44897 term 39 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
flag 32856 term 39 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
flag 5224 term 39 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
flag 91437 term 39 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
term 39 server 1 not vote for server 0, 日志不够新
term 39 server 0 get outdate rpc reply from server 1
flag 22291 term 39 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
flag 89132 term 39 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34286 term 39 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
flag 97322 term 39 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
flag 26835 term 39 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
flag 71441 term 39 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
flag 57868 term 39 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
flag 38518 term 39 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
flag 45195 term 39 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
flag 81789 term 39 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
flag 97146 term 39 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
flag 95005 term 39 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
flag 21413 term 39 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
flag 40291 term 39 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
flag 54247 term 39 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
flag 73757 term 39 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=251
update matchIndex[1]=250
update leader CommitIndex=250
leader log:
[{snapshot 39 249} {5923991151456022641 39 250}]
------------------------------------------------------
client write log 5561573416867153365 (index 251) to leader 0
term 39 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 66708 term 39 leader 0 nextIndex[1]: 251  matchIndex[1]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
flag 6217 term 39 leader 0 nextIndex[2]: 251  matchIndex[2]: 250
term 39 leader 0 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 39 leaderCommit: 250 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {5923991151456022641 39 250} {5561573416867153365 39 251}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:250 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {5923991151456022641 39 250} {5561573416867153365 39 251}]
------------------------------------------------------
flag 44101 term 39 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
flag 33841 term 39 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
term 39 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
leader log:
[{snapshot 39 249} {5923991151456022641 39 250} {5561573416867153365 39 251}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {5923991151456022641 39 250} {5561573416867153365 39 251}]
------------------------------------------------------
term 39 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 61963 term 39 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
flag 46203 term 39 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {5923991151456022641 39 250} {5561573416867153365 39 251}]
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {5923991151456022641 39 250} {5561573416867153365 39 251}]
------------------------------------------------------
flag 57671 term 39 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
flag 62334 term 39 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {5923991151456022641 39 250} {5561573416867153365 39 251}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {5923991151456022641 39 250} {5561573416867153365 39 251}]
------------------------------------------------------
flag 44194 term 39 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
flag 90478 term 39 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {5923991151456022641 39 250} {5561573416867153365 39 251}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {5923991151456022641 39 250} {5561573416867153365 39 251}]
------------------------------------------------------
flag 4281 term 39 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
flag 322 term 39 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {5923991151456022641 39 250} {5561573416867153365 39 251}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {5923991151456022641 39 250} {5561573416867153365 39 251}]
------------------------------------------------------
flag 73861 term 39 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
flag 50503 term 39 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {5923991151456022641 39 250} {5561573416867153365 39 251}]
------------------------------------------------------
term 39 server 1 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=252
update matchIndex[1]=251
update leader CommitIndex=251
leader log:
[{snapshot 39 249} {5923991151456022641 39 250} {5561573416867153365 39 251}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 5595405736819938270 (index 252) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11868 term 39 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
flag 92786 term 39 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 39 leaderCommit: 251 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 39 249} {5923991151456022641 39 250} {5561573416867153365 39 251} {5595405736819938270 39 252}]
------------------------------------------------------
flag 53835 term 39 leader 0 nextIndex[1]: 252  matchIndex[1]: 251
term 39 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 39 leaderCommit: 252 
------------------------------------------------------
flag 39869 term 39 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 39 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 252 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 39 249} {5923991151456022641 39 250} {5561573416867153365 39 251} {5595405736819938270 39 252}]
------------------------------------------------------
client write log 5799817796900249984 (index 253) to leader 0
client write log 7768974338757832828 (index 254) to leader 0
client write log 1852165376535305829 (index 255) to leader 0
client write log 7191293842209242002 (index 256) to leader 0
client write log 822511495973334338 (index 257) to leader 0
client write log 5576370854571538067 (index 258) to leader 0
client write log 5838048548348219 (index 259) to leader 0
client write log 6390373745778869661 (index 260) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 252->251
------------------------------------------------------
term 39 leader 0 nextIndex[1]: 0  matchIndex[1]: 251
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 39
------------------------------------------------------
flag 45767 term 39 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 39 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 39 leaderCommit: 252 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 39 249} {5923991151456022641 39 250} {5561573416867153365 39 251} {5595405736819938270 39 252} {5799817796900249984 39 253} {7768974338757832828 39 254} {1852165376535305829 39 255} {7191293842209242002 39 256} {822511495973334338 39 257} {5576370854571538067 39 258} {5838048548348219 39 259} {6390373745778869661 39 260}]
------------------------------------------------------
term 39 Server0 start snapshot! index=259
term 39 server0 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=260
-------------------------------------------------------------
term 39 leader 0 nextIndex[1]: 0  matchIndex[1]: 251
term 39 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
flag 42937 term 39 leader 0 nextIndex[2]: 261  matchIndex[2]: 260
term 39 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
term 39 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=261
update matchIndex[2]=260
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260}]
------------------------------------------------------
term 39 Server2 start snapshot! index=259
term 39 server2 snapshot success
lastIncludedIndex=259 lastApplied=260 lastIndex=260
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4688706775350063470 (index 261) to leader 0
term 39 server 0 not vote for server 2, 任期不够新
term 39 server 2 get outdate rpc reply from server 0
term 39 server 2 not vote for server 1, 日志不够新
term 39 server 0 not vote for server 1, 日志不够新
term 41 server 2 vote for server 0
term 41 server 0 get vote from server 2
term 41 server 0 become leader
------------------------------------------------------
term 41 server 1 vote for server 0
term 41 server 0 get outdate rpc reply from server 1
flag 94901 term 41 leader 0 nextIndex[1]: 262  matchIndex[1]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
flag 37892 term 41 leader 0 nextIndex[2]: 262  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 262->261
------------------------------------------------------
term 41 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 262->261
------------------------------------------------------
term 41 leader 0 nextIndex[1]: 252  matchIndex[1]: 0
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 39
------------------------------------------------------
flag 57838 term 41 leader 0 nextIndex[2]: 261  matchIndex[2]: 0
term 41 leader 0 sendAppendEntries PrevLogIndex: 260  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
term 41 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 39 rf.commitIndex 259 rf.lastApplied 259
term 41 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16776 term 41 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 41 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
flag 5105 term 41 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
flag 44717 term 41 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
flag 48179 term 41 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
flag 12865 term 41 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
flag 7909 term 41 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
flag 34910 term 41 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
flag 13514 term 41 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 41 server 1 not vote for server 2, 任期不够新
term 41 server 2 get outdate rpc reply from server 1
flag 45790 term 41 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
flag 83734 term 41 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
flag 79510 term 41 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
flag 39457 term 41 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 56199 term 41 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
flag 63286 term 41 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18366 term 41 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
flag 99521 term 41 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60836 term 41 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
flag 63058 term 41 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
flag 12461 term 41 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
flag 61999 term 41 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17142 term 41 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
flag 5433 term 41 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
flag 76979 term 41 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
flag 11741 term 41 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
flag 91141 term 41 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
flag 81279 term 41 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
flag 24220 term 41 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
flag 84770 term 41 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
flag 2814 term 41 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
flag 54507 term 41 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63488 term 41 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
flag 10468 term 41 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
flag 60385 term 41 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
flag 49080 term 41 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=262
update matchIndex[2]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=262
update matchIndex[1]=261
update leader CommitIndex=260
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261}]
------------------------------------------------------
client write log 4688706775350063470 (index 262) to leader 0
flag 71076 term 41 leader 0 nextIndex[1]: 262  matchIndex[1]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
flag 80755 term 41 leader 0 nextIndex[2]: 262  matchIndex[2]: 261
term 41 leader 0 sendAppendEntries PrevLogIndex: 261  PrevLogTerm: 39 leaderCommit: 260 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:260 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:260 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261} {4688706775350063470 41 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261} {4688706775350063470 41 262}]
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72435 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
flag 84092 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261} {4688706775350063470 41 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261} {4688706775350063470 41 262}]
------------------------------------------------------
flag 46446 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
flag 49456 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
term 41 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261} {4688706775350063470 41 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261} {4688706775350063470 41 262}]
------------------------------------------------------
flag 33189 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
flag 72100 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261} {4688706775350063470 41 262}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261} {4688706775350063470 41 262}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 24654 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
flag 51119 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261} {4688706775350063470 41 262}]
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261} {4688706775350063470 41 262}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34158 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
flag 78777 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261} {4688706775350063470 41 262}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261} {4688706775350063470 41 262}]
------------------------------------------------------
flag 35791 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
flag 59690 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
term 41 server 1 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=263
update matchIndex[1]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261} {4688706775350063470 41 262}]
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=263
update matchIndex[2]=262
update leader CommitIndex=262
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261} {4688706775350063470 41 262}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4301078447912625063 (index 263) to leader 0
flag 30973 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
flag 41860 term 41 leader 0 nextIndex[2]: 263  matchIndex[2]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 41 leaderCommit: 262 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:262 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261} {4688706775350063470 41 262} {4301078447912625063 41 263}]
------------------------------------------------------
flag 7409 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 62180 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=264
update matchIndex[2]=263
update leader CommitIndex=263
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261} {4688706775350063470 41 262} {4301078447912625063 41 263}]
------------------------------------------------------
client write log 219405053483004471 (index 264) to leader 0
client write log 378411572277474908 (index 265) to leader 0
client write log 3647745351325529841 (index 266) to leader 0
client write log 6321824078368471411 (index 267) to leader 0
client write log 6343939108520619041 (index 268) to leader 0
client write log 2051238740437092114 (index 269) to leader 0
client write log 6020563619948497148 (index 270) to leader 0
client write log 5719954528282748568 (index 271) to leader 0
client write log 8249105603076671043 (index 272) to leader 0
client write log 8208752416694514232 (index 273) to leader 0
flag 11261 term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendAppendEntries PrevLogIndex: 262  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
flag 59135 term 41 leader 0 nextIndex[2]: 264  matchIndex[2]: 263
term 41 leader 0 sendAppendEntries PrevLogIndex: 263  PrevLogTerm: 41 leaderCommit: 263 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:263 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 39 259} {6390373745778869661 39 260} {4688706775350063470 39 261} {4688706775350063470 41 262} {4301078447912625063 41 263} {219405053483004471 41 264} {378411572277474908 41 265} {3647745351325529841 41 266} {6321824078368471411 41 267} {6343939108520619041 41 268} {2051238740437092114 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273}]
------------------------------------------------------
term 41 Server0 start snapshot! index=269
term 41 server0 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=273
-------------------------------------------------------------
term 41 leader 0 nextIndex[1]: 263  matchIndex[1]: 262
term 41 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
flag 14920 term 41 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 41 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273}]
------------------------------------------------------
term 41 Server2 start snapshot! index=269
term 41 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=273
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8628514537635299125 (index 274) to leader 0
term 41 server 2 not vote for server 1, 日志不够新
term 41 server 0 not vote for server 1, 日志不够新
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 server 2 vote for server 0
term 43 server 1 vote for server 0
term 43 server 0 get vote from server 2
term 43 server 0 become leader
------------------------------------------------------
term 43 server 0 get outdate rpc reply from server 1
flag 95949 term 43 leader 0 nextIndex[1]: 275  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 77114 term 43 leader 0 nextIndex[2]: 275  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 43 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 275->274
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 275->274
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 263  matchIndex[1]: 0
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
flag 80173 term 43 leader 0 nextIndex[2]: 274  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 41 rf.commitIndex 269 rf.lastApplied 269
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59227 term 43 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 43 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 5289 term 43 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
flag 66659 term 43 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 23573 term 43 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
flag 95913 term 43 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 43593 term 43 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
flag 35535 term 43 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 84599 term 43 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
flag 19377 term 43 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 30020 term 43 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97059 term 43 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 16973 term 43 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
flag 38884 term 43 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 79699 term 43 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
flag 12890 term 43 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 54248 term 43 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
flag 85818 term 43 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 76291 term 43 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 66809 term 43 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 63814 term 43 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69316 term 43 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 87503 term 43 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
flag 23759 term 43 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 93002 term 43 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
flag 15432 term 43 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 44329 term 43 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
flag 27504 term 43 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 38932 term 43 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
flag 18748 term 43 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 18177 term 43 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
flag 81896 term 43 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 16853 term 43 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
flag 69417 term 43 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 61604 term 43 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
flag 58002 term 43 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 49886 term 43 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=275
update matchIndex[1]=274
update leader CommitIndex=273
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274}]
------------------------------------------------------
client write log 8628514537635299125 (index 275) to leader 0
flag 44417 term 43 leader 0 nextIndex[1]: 275  matchIndex[1]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
flag 45739 term 43 leader 0 nextIndex[2]: 275  matchIndex[2]: 274
term 43 leader 0 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 273 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274} {8628514537635299125 43 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274} {8628514537635299125 43 275}]
------------------------------------------------------
flag 13986 term 43 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 43 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
flag 20445 term 43 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 43 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274} {8628514537635299125 43 275}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274} {8628514537635299125 43 275}]
------------------------------------------------------
flag 62424 term 43 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 43 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
flag 83138 term 43 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 43 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274} {8628514537635299125 43 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274} {8628514537635299125 43 275}]
------------------------------------------------------
flag 29571 term 43 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 43 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
flag 91417 term 43 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 43 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274} {8628514537635299125 43 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274} {8628514537635299125 43 275}]
------------------------------------------------------
flag 13839 term 43 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 43 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
flag 60988 term 43 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 43 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274} {8628514537635299125 43 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274} {8628514537635299125 43 275}]
------------------------------------------------------
flag 17759 term 43 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 43 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
flag 7222 term 43 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 43 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274} {8628514537635299125 43 275}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274} {8628514537635299125 43 275}]
------------------------------------------------------
flag 65474 term 43 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 43 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
flag 24614 term 43 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 43 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274} {8628514537635299125 43 275}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=276
update matchIndex[1]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274} {8628514537635299125 43 275}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 22264 term 43 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 43 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
flag 50386 term 43 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 43 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
flag 50420 term 43 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 43 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
flag 16338 term 43 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 43 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
flag 55965 term 43 leader 0 nextIndex[1]: 276  matchIndex[1]: 275
term 43 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
flag 30961 term 43 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 43 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 276->275
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 275
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
flag 87570 term 43 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 43 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
term 44 server 2 vote for server 1
term 44 server 1 get vote from server 2
term 44 server 1 become leader
------------------------------------------------------
flag 98690 term 44 leader 1 nextIndex[0]: 276  matchIndex[0]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
flag 8935 term 44 leader 1 nextIndex[2]: 276  matchIndex[2]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=276
update matchIndex[2]=275
update leader CommitIndex=275
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274} {8628514537635299125 43 275}]
------------------------------------------------------
client write log 2240278010359808531 (index 276) to leader 1
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 275
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
flag 94403 term 43 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 43 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
flag 25520 term 44 leader 1 nextIndex[0]: 276  matchIndex[0]: 0
term 44 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
flag 12247 term 44 leader 1 nextIndex[2]: 276  matchIndex[2]: 275
term 44 leader 1 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:275 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274} {8628514537635299125 43 275} {2240278010359808531 44 276}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 276->275
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 275
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
flag 87025 term 43 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 43 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
term 44 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
flag 1707 term 44 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 44 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 276 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=277
update matchIndex[2]=276
update leader CommitIndex=276
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274} {8628514537635299125 43 275} {2240278010359808531 44 276}]
------------------------------------------------------
client write log 6836051128021617221 (index 277) to leader 1
client write log 3861389966046489392 (index 278) to leader 1
client write log 1237466668800419888 (index 279) to leader 1
client write log 3205167350155233367 (index 280) to leader 1
client write log 7270058319381583759 (index 281) to leader 1
client write log 2114905576564636049 (index 282) to leader 1
client write log 5874846572135363579 (index 283) to leader 1
client write log 355694570969403183 (index 284) to leader 1
client write log 6993550012104482664 (index 285) to leader 1
client write log 4515362666582593776 (index 286) to leader 1
client write log 6582416952967297353 (index 287) to leader 1
client write log 8152749043114550690 (index 288) to leader 1
client write log 6336846948893518797 (index 289) to leader 1
client write log 204001922698647034 (index 290) to leader 1
client write log 5636094357801366510 (index 291) to leader 1
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 275
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
flag 33555 term 43 leader 0 nextIndex[2]: 276  matchIndex[2]: 275
term 43 leader 0 sendAppendEntries PrevLogIndex: 275  PrevLogTerm: 43 leaderCommit: 275 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 276->275
------------------------------------------------------
term 44 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
flag 16100 term 44 leader 1 nextIndex[2]: 277  matchIndex[2]: 276
term 44 leader 1 sendAppendEntries PrevLogIndex: 276  PrevLogTerm: 44 leaderCommit: 276 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:276 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 41 269} {6020563619948497148 41 270} {5719954528282748568 41 271} {8249105603076671043 41 272} {8208752416694514232 41 273} {8628514537635299125 41 274} {8628514537635299125 43 275} {2240278010359808531 44 276} {6836051128021617221 44 277} {3861389966046489392 44 278} {1237466668800419888 44 279} {3205167350155233367 44 280} {7270058319381583759 44 281} {2114905576564636049 44 282} {5874846572135363579 44 283} {355694570969403183 44 284} {6993550012104482664 44 285} {4515362666582593776 44 286} {6582416952967297353 44 287} {8152749043114550690 44 288} {6336846948893518797 44 289} {204001922698647034 44 290} {5636094357801366510 44 291}]
------------------------------------------------------
term 44 Server1 start snapshot! index=279
term 44 server1 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=291
-------------------------------------------------------------
term 44 Server1 start snapshot! index=289
term 44 server1 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=291
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 275
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
term 43 leader 0 nextIndex[2]: 0  matchIndex[2]: 275
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
term 44 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
flag 72164 term 44 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 44 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 44 leaderCommit: 291 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 44 289} {204001922698647034 44 290} {5636094357801366510 44 291}]
------------------------------------------------------
term 44 Server2 start snapshot! index=279
term 44 server2 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=291
-------------------------------------------------------------
term 44 Server2 start snapshot! index=289
term 44 server2 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=291
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4052679803164998332 (index 292) to leader 1
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 275
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
term 43 leader 0 nextIndex[2]: 0  matchIndex[2]: 275
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 41
------------------------------------------------------
term 44 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 44 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 44 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 44 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 44 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 44
------------------------------------------------------
flag 33156 term 44 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 44 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 44 leaderCommit: 291 
------------------------------------------------------
term 44 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
term 44 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {204001922698647034 44 290} {5636094357801366510 44 291} {4052679803164998332 44 292}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 44 rf.commitIndex 289 rf.lastApplied 289
term 44 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
term 44 server 2 not vote for server 0, 日志不够新
term 44 server 1 not vote for server 0, 日志不够新
term 46 server 2 vote for server 1
term 46 server 0 vote for server 1
term 46 server 1 get vote from server 2
term 46 server 1 become leader
------------------------------------------------------
term 46 server 1 get outdate rpc reply from server 0
flag 59759 term 46 leader 1 nextIndex[0]: 293  matchIndex[0]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
flag 56095 term 46 leader 1 nextIndex[2]: 293  matchIndex[2]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {204001922698647034 44 290} {5636094357801366510 44 291} {4052679803164998332 44 292}]
------------------------------------------------------
term 46 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 293->292
------------------------------------------------------
flag 16707 term 46 leader 1 nextIndex[0]: 290  matchIndex[0]: 0
term 46 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
flag 35984 term 46 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 46 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {204001922698647034 44 290} {5636094357801366510 44 291} {4052679803164998332 44 292}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {204001922698647034 44 290} {5636094357801366510 44 291} {4052679803164998332 44 292}]
------------------------------------------------------
flag 50277 term 46 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 46 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
flag 66064 term 46 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 46 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {204001922698647034 44 290} {5636094357801366510 44 291} {4052679803164998332 44 292}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {204001922698647034 44 290} {5636094357801366510 44 291} {4052679803164998332 44 292}]
------------------------------------------------------
flag 11875 term 46 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 46 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
flag 72145 term 46 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 46 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {204001922698647034 44 290} {5636094357801366510 44 291} {4052679803164998332 44 292}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {204001922698647034 44 290} {5636094357801366510 44 291} {4052679803164998332 44 292}]
------------------------------------------------------
flag 16320 term 46 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 46 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
flag 38969 term 46 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 46 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:292 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {204001922698647034 44 290} {5636094357801366510 44 291} {4052679803164998332 44 292}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {204001922698647034 44 290} {5636094357801366510 44 291} {4052679803164998332 44 292}]
------------------------------------------------------
term 46 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 39338 term 46 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 46 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
flag 5518 term 46 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 46 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {204001922698647034 44 290} {5636094357801366510 44 291} {4052679803164998332 44 292}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {204001922698647034 44 290} {5636094357801366510 44 291} {4052679803164998332 44 292}]
------------------------------------------------------
flag 63905 term 46 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 46 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
flag 37394 term 46 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 46 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {204001922698647034 44 290} {5636094357801366510 44 291} {4052679803164998332 44 292}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {204001922698647034 44 290} {5636094357801366510 44 291} {4052679803164998332 44 292}]
------------------------------------------------------
flag 89694 term 46 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 46 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
flag 53331 term 46 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 46 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
term 46 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {204001922698647034 44 290} {5636094357801366510 44 291} {4052679803164998332 44 292}]
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 44 289} {204001922698647034 44 290} {5636094357801366510 44 291} {4052679803164998332 44 292}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2287814208576302502 (index 293) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6844 term 46 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 46 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
flag 10515 term 46 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 46 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 292 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {204001922698647034 44 290} {5636094357801366510 44 291} {4052679803164998332 44 292} {2287814208576302502 46 293}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34042 term 46 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 46 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 82748 term 46 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 46 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 44 289} {204001922698647034 44 290} {5636094357801366510 44 291} {4052679803164998332 44 292} {2287814208576302502 46 293}]
------------------------------------------------------
client write log 1606898100729574053 (index 294) to leader 1
client write log 3883459889313564409 (index 295) to leader 1
client write log 6638533911598970067 (index 296) to leader 1
client write log 3668363255507752109 (index 297) to leader 1
client write log 2131829411709055698 (index 298) to leader 1
client write log 3018518910642012119 (index 299) to leader 1
client write log 5218945144250304973 (index 300) to leader 1
client write log 7386344305744952776 (index 301) to leader 1
term 46 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 55034 term 46 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 46 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 46 leaderCommit: 293 
------------------------------------------------------
flag 84248 term 46 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 46 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 44 leaderCommit: 293 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 44 289} {204001922698647034 44 290} {5636094357801366510 44 291} {4052679803164998332 44 292} {2287814208576302502 46 293} {1606898100729574053 46 294} {3883459889313564409 46 295} {6638533911598970067 46 296} {3668363255507752109 46 297} {2131829411709055698 46 298} {3018518910642012119 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301}]
------------------------------------------------------
term 46 Server1 start snapshot! index=299
term 46 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=301
-------------------------------------------------------------
flag 57969 term 46 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 46 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 46 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 46 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301}]
------------------------------------------------------
term 46 Server0 start snapshot! index=299
term 46 server0 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=301
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3448887422969351209 (index 302) to leader 1
term 46 server 1 not vote for server 2, 日志不够新
term 46 server 0 not vote for server 2, 日志不够新
term 47 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 server 2 vote for server 1
term 48 server 1 get vote from server 2
term 48 server 0 vote for server 1
term 48 server 1 become leader
------------------------------------------------------
term 48 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82038 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 26119 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 303->302
------------------------------------------------------
term 48 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 303->302
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55871 term 48 leader 1 nextIndex[0]: 302  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 293  matchIndex[2]: 0
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 46
------------------------------------------------------
term 48 server 2 InstallSnapshot success
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 46 rf.commitIndex 299 rf.lastApplied 299
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
flag 12303 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 45507 term 48 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 48 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17447 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 76483 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
flag 89483 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 78325 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
flag 72450 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 48759 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
flag 47985 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 50281 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
flag 61950 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 32914 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
flag 71375 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 2789 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
flag 27294 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 29123 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73764 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 94990 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32054 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 23336 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
flag 39196 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 99151 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
term 48 server 0 not vote for server 1, 任期不够新
term 48 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90060 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 86307 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
flag 80984 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 7378 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
flag 31560 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 83216 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
flag 85424 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 5691 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
term 48 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 96207 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 75350 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
flag 42564 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 38206 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
flag 32128 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 774 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302}]
------------------------------------------------------
client write log 3448887422969351209 (index 303) to leader 1
flag 41435 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
flag 72340 term 48 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 46 leaderCommit: 301 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302} {3448887422969351209 48 303}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302} {3448887422969351209 48 303}]
------------------------------------------------------
flag 53150 term 48 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
flag 13934 term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302} {3448887422969351209 48 303}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302} {3448887422969351209 48 303}]
------------------------------------------------------
flag 72754 term 48 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
flag 25849 term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302} {3448887422969351209 48 303}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302} {3448887422969351209 48 303}]
------------------------------------------------------
flag 12985 term 48 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
flag 24588 term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302} {3448887422969351209 48 303}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302} {3448887422969351209 48 303}]
------------------------------------------------------
flag 87796 term 48 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
flag 95496 term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302} {3448887422969351209 48 303}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302} {3448887422969351209 48 303}]
------------------------------------------------------
term 48 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 13067 term 48 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
flag 85670 term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302} {3448887422969351209 48 303}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302} {3448887422969351209 48 303}]
------------------------------------------------------
flag 97984 term 48 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
flag 82158 term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302} {3448887422969351209 48 303}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302} {3448887422969351209 48 303}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 9193811493109151533 (index 304) to leader 1
flag 61881 term 48 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
flag 20483 term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 303 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302} {3448887422969351209 48 303} {9193811493109151533 48 304}]
------------------------------------------------------
flag 56796 term 48 leader 1 nextIndex[0]: 305  matchIndex[0]: 304
term 48 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
flag 54482 term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302} {3448887422969351209 48 303} {9193811493109151533 48 304}]
------------------------------------------------------
client write log 6479116596481500466 (index 305) to leader 1
client write log 8275592241396986684 (index 306) to leader 1
client write log 3317373085506987469 (index 307) to leader 1
client write log 3020951044674235373 (index 308) to leader 1
client write log 6505548353745495762 (index 309) to leader 1
client write log 4639491909520023705 (index 310) to leader 1
client write log 5634526841202387841 (index 311) to leader 1
client write log 2327999402212614730 (index 312) to leader 1
client write log 7062734357990637629 (index 313) to leader 1
client write log 6942582821696000071 (index 314) to leader 1
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25157 term 48 leader 1 nextIndex[0]: 305  matchIndex[0]: 304
term 48 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
flag 14171 term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 304 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=314
leader log:
[{snapshot 46 299} {5218945144250304973 46 300} {7386344305744952776 46 301} {3448887422969351209 46 302} {3448887422969351209 48 303} {9193811493109151533 48 304} {6479116596481500466 48 305} {8275592241396986684 48 306} {3317373085506987469 48 307} {3020951044674235373 48 308} {6505548353745495762 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314}]
------------------------------------------------------
term 48 Server1 start snapshot! index=309
term 48 server1 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=314
-------------------------------------------------------------
flag 74666 term 48 leader 1 nextIndex[0]: 315  matchIndex[0]: 314
term 48 leader 1 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 48
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=315
update matchIndex[0]=314
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314}]
------------------------------------------------------
term 48 Server0 start snapshot! index=309
term 48 server0 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=314
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6964879931143744034 (index 315) to leader 1
flag 55166 term 48 leader 1 nextIndex[0]: 315  matchIndex[0]: 314
term 48 leader 1 sendAppendEntries PrevLogIndex: 314  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 48
------------------------------------------------------
term 49 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 server 2 vote for server 1
term 50 server 1 get vote from server 2
term 50 server 0 vote for server 1
term 50 server 1 become leader
------------------------------------------------------
term 50 server 1 get outdate rpc reply from server 0
flag 49623 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 1259 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 316->315
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
flag 91839 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 304  matchIndex[2]: 0
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 48
------------------------------------------------------
term 50 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 48 rf.commitIndex 309 rf.lastApplied 309
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
flag 19788 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 74149 term 50 leader 1 nextIndex[2]: 310  matchIndex[2]: 309
term 50 leader 1 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
flag 10082 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 48260 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
flag 28830 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 84562 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67627 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 13494 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78711 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 63286 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
term 50 server 0 not vote for server 2, 任期不够新
term 50 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49415 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 41272 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
flag 12722 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 91464 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
flag 54224 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 10364 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57136 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 49194 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
flag 83521 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 42268 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
flag 87818 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 5473 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
flag 51065 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 16178 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80312 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 41978 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63543 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 20659 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 956 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 29953 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
flag 17266 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 74406 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
flag 6499 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 72003 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=316
update matchIndex[0]=315
update leader CommitIndex=314
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315}]
------------------------------------------------------
client write log 6964879931143744034 (index 316) to leader 1
flag 44631 term 50 leader 1 nextIndex[0]: 316  matchIndex[0]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
flag 292 term 50 leader 1 nextIndex[2]: 316  matchIndex[2]: 315
term 50 leader 1 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 48 leaderCommit: 314 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:314 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:314 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315} {6964879931143744034 50 316}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315} {6964879931143744034 50 316}]
------------------------------------------------------
flag 62206 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 75072 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315} {6964879931143744034 50 316}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315} {6964879931143744034 50 316}]
------------------------------------------------------
flag 20986 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 90937 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315} {6964879931143744034 50 316}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315} {6964879931143744034 50 316}]
------------------------------------------------------
flag 21434 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 52852 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315} {6964879931143744034 50 316}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315} {6964879931143744034 50 316}]
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50615 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 38998 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315} {6964879931143744034 50 316}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315} {6964879931143744034 50 316}]
------------------------------------------------------
flag 16341 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 11152 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315} {6964879931143744034 50 316}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315} {6964879931143744034 50 316}]
------------------------------------------------------
term 50 server 1 not vote for server 2, 任期不够新
term 50 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5407 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 21434 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
!!!!!!diconnect server 1
flag 4097 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 70744 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 4118 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 25865 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 51 server 0 vote for server 2
term 51 server 2 get vote from server 0
term 51 server 2 become leader
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83211 term 51 leader 2 nextIndex[0]: 317  matchIndex[0]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 69814 term 51 leader 2 nextIndex[1]: 317  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=317
update matchIndex[0]=316
update leader CommitIndex=316
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315} {6964879931143744034 50 316}]
------------------------------------------------------
flag 56800 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 51690 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
client write log 5358800572848690363 (index 317) to leader 2
flag 29050 term 51 leader 2 nextIndex[0]: 317  matchIndex[0]: 316
term 51 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 29096 term 51 leader 2 nextIndex[1]: 317  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315} {6964879931143744034 50 316} {5358800572848690363 51 317}]
------------------------------------------------------
flag 79505 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 56448 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 397 term 51 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 51 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 317 
------------------------------------------------------
flag 65947 term 51 leader 2 nextIndex[1]: 317  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 317 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=318
update matchIndex[0]=317
update leader CommitIndex=317
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315} {6964879931143744034 50 316} {5358800572848690363 51 317}]
------------------------------------------------------
client write log 7176860254873163577 (index 318) to leader 2
client write log 6688777338429577638 (index 319) to leader 2
client write log 191578279378661415 (index 320) to leader 2
client write log 2332362835536971671 (index 321) to leader 2
client write log 705201789904325142 (index 322) to leader 2
client write log 2797700108647034933 (index 323) to leader 2
client write log 467453580958617609 (index 324) to leader 2
client write log 3784170110437058596 (index 325) to leader 2
flag 72511 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 18748 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 98904 term 51 leader 2 nextIndex[0]: 318  matchIndex[0]: 317
term 51 leader 2 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 51 leaderCommit: 317 
------------------------------------------------------
flag 8403 term 51 leader 2 nextIndex[1]: 317  matchIndex[1]: 0
term 51 leader 2 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 317 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 48 309} {4639491909520023705 48 310} {5634526841202387841 48 311} {2327999402212614730 48 312} {7062734357990637629 48 313} {6942582821696000071 48 314} {6964879931143744034 48 315} {6964879931143744034 50 316} {5358800572848690363 51 317} {7176860254873163577 51 318} {6688777338429577638 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
term 51 Server2 start snapshot! index=319
term 51 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=325
-------------------------------------------------------------
flag 78095 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 87642 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 19556 term 51 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 51 leader 2 nextIndex[1]: 317  matchIndex[1]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
term 51 Server0 start snapshot! index=319
term 51 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=325
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5280390882866921746 (index 317) to leader 1
flag 90158 term 50 leader 1 nextIndex[0]: 317  matchIndex[0]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
flag 50931 term 50 leader 1 nextIndex[2]: 317  matchIndex[2]: 316
term 50 leader 1 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 50 leaderCommit: 316 
------------------------------------------------------
term 51 server 2 AppendEntries false 领导者任期过期 args.Term 50
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 51 server 0 AppendEntries false 领导者任期过期 args.Term 50
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24402 term 51 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 51 leader 2 nextIndex[1]: 317  matchIndex[1]: 0
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 51
------------------------------------------------------
term 51 server 1 InstallSnapshot success
------------------------------------------------------
term 51 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 51 rf.commitIndex 319 rf.lastApplied 319
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
flag 31792 term 51 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 21354 term 51 leader 2 nextIndex[1]: 320  matchIndex[1]: 319
term 51 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
flag 91590 term 51 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 96044 term 51 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
term 51 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31317 term 51 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 91162 term 51 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
flag 1260 term 51 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 2000 term 51 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
flag 88724 term 51 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 1644 term 51 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
flag 38452 term 51 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 5282 term 51 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
flag 23493 term 51 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 60739 term 51 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
flag 60112 term 51 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 66488 term 51 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79333 term 51 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 73949 term 51 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
flag 49868 term 51 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 74261 term 51 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
flag 85826 term 51 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 31612 term 51 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
flag 19087 term 51 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 48726 term 51 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
flag 45858 term 51 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 38267 term 51 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
term 51 server 1 not vote for server 2, 日志不够新
term 51 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49681 term 51 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 5493 term 51 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53898 term 51 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 90718 term 51 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
flag 81783 term 51 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 10720 term 51 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
flag 61249 term 51 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 45045 term 51 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
flag 65170 term 51 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 13908 term 51 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57794 term 51 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 64076 term 51 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=326
update matchIndex[1]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=326
update matchIndex[0]=325
update leader CommitIndex=325
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325}]
------------------------------------------------------
client write log 5280390882866921746 (index 326) to leader 2
flag 92331 term 51 leader 2 nextIndex[0]: 326  matchIndex[0]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
flag 39082 term 51 leader 2 nextIndex[1]: 326  matchIndex[1]: 325
term 51 leader 2 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 51 leaderCommit: 325 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325} {5280390882866921746 51 326}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325} {5280390882866921746 51 326}]
------------------------------------------------------
flag 95470 term 51 leader 2 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 83260 term 51 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325} {5280390882866921746 51 326}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325} {5280390882866921746 51 326}]
------------------------------------------------------
flag 24335 term 51 leader 2 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 73296 term 51 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325} {5280390882866921746 51 326}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325} {5280390882866921746 51 326}]
------------------------------------------------------
flag 17038 term 51 leader 2 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 44445 term 51 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325} {5280390882866921746 51 326}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325} {5280390882866921746 51 326}]
------------------------------------------------------
flag 42142 term 51 leader 2 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 23813 term 51 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325} {5280390882866921746 51 326}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325} {5280390882866921746 51 326}]
------------------------------------------------------
flag 4288 term 51 leader 2 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 91532 term 51 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325} {5280390882866921746 51 326}]
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325} {5280390882866921746 51 326}]
------------------------------------------------------
flag 17643 term 51 leader 2 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 52466 term 51 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=327
update matchIndex[1]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325} {5280390882866921746 51 326}]
------------------------------------------------------
term 51 server 0 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=327
update matchIndex[0]=326
update leader CommitIndex=326
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325} {5280390882866921746 51 326}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6838571999036660715 (index 327) to leader 2
flag 7982 term 51 leader 2 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
flag 71727 term 51 leader 2 nextIndex[1]: 327  matchIndex[1]: 326
term 51 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 326 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325} {5280390882866921746 51 326} {6838571999036660715 51 327}]
------------------------------------------------------
flag 47838 term 51 leader 2 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
flag 97188 term 51 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 51 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325} {5280390882866921746 51 326} {6838571999036660715 51 327}]
------------------------------------------------------
client write log 9006073035616999607 (index 328) to leader 2
client write log 1981540757477838542 (index 329) to leader 2
client write log 2307107683393437601 (index 330) to leader 2
client write log 341775657574504397 (index 331) to leader 2
client write log 6981575357677591693 (index 332) to leader 2
client write log 7578147819504783152 (index 333) to leader 2
client write log 3661731750696288113 (index 334) to leader 2
client write log 1463127355933794513 (index 335) to leader 2
client write log 862046617272754875 (index 336) to leader 2
client write log 283971651107044927 (index 337) to leader 2
client write log 5602788414608982892 (index 338) to leader 2
flag 8816 term 51 leader 2 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 2 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
flag 78111 term 51 leader 2 nextIndex[1]: 328  matchIndex[1]: 327
term 51 leader 2 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 51 leaderCommit: 327 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 51 319} {191578279378661415 51 320} {2332362835536971671 51 321} {705201789904325142 51 322} {2797700108647034933 51 323} {467453580958617609 51 324} {3784170110437058596 51 325} {5280390882866921746 51 326} {6838571999036660715 51 327} {9006073035616999607 51 328} {1981540757477838542 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338}]
------------------------------------------------------
term 51 Server2 start snapshot! index=329
term 51 server2 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=338
-------------------------------------------------------------
term 51 leader 2 nextIndex[0]: 327  matchIndex[0]: 326
term 51 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 51
------------------------------------------------------
flag 15779 term 51 leader 2 nextIndex[1]: 339  matchIndex[1]: 338
term 51 leader 2 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
term 51 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=339
update matchIndex[1]=338
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338}]
------------------------------------------------------
term 51 Server1 start snapshot! index=329
term 51 server1 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=338
-------------------------------------------------------------
!!!!!!connect server 0
client write log 9138398918065768108 (index 339) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 51 server 2 not vote for server 0, 日志不够新
term 51 server 1 not vote for server 0, 日志不够新
term 53 server 1 vote for server 2
term 53 server 0 vote for server 2
term 53 server 2 get vote from server 1
term 53 server 2 become leader
------------------------------------------------------
term 53 server 2 get outdate rpc reply from server 0
flag 4363 term 53 leader 2 nextIndex[0]: 340  matchIndex[0]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
flag 238 term 53 leader 2 nextIndex[1]: 340  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
term 53 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 340->339
------------------------------------------------------
term 53 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 340->339
------------------------------------------------------
term 53 leader 2 nextIndex[0]: 327  matchIndex[0]: 0
term 53 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 51
------------------------------------------------------
flag 42029 term 53 leader 2 nextIndex[1]: 339  matchIndex[1]: 0
term 53 leader 2 sendAppendEntries PrevLogIndex: 338  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=340
update matchIndex[1]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
term 53 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 51 rf.commitIndex 329 rf.lastApplied 329
term 53 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 330 matchIndex[0] 329 
------------------------------------------------------------------------
flag 22091 term 53 leader 2 nextIndex[0]: 330  matchIndex[0]: 329
term 53 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
flag 19560 term 53 leader 2 nextIndex[1]: 340  matchIndex[1]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=340
update matchIndex[1]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
flag 34803 term 53 leader 2 nextIndex[0]: 340  matchIndex[0]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
flag 13093 term 53 leader 2 nextIndex[1]: 340  matchIndex[1]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=340
update matchIndex[1]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
flag 24784 term 53 leader 2 nextIndex[0]: 340  matchIndex[0]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
flag 18009 term 53 leader 2 nextIndex[1]: 340  matchIndex[1]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=340
update matchIndex[1]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62032 term 53 leader 2 nextIndex[0]: 340  matchIndex[0]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
flag 85177 term 53 leader 2 nextIndex[1]: 340  matchIndex[1]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=340
update matchIndex[1]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
flag 90981 term 53 leader 2 nextIndex[0]: 340  matchIndex[0]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
flag 45787 term 53 leader 2 nextIndex[1]: 340  matchIndex[1]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=340
update matchIndex[1]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29333 term 53 leader 2 nextIndex[0]: 340  matchIndex[0]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
flag 68914 term 53 leader 2 nextIndex[1]: 340  matchIndex[1]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=340
update matchIndex[1]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5516 term 53 leader 2 nextIndex[0]: 340  matchIndex[0]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
flag 97875 term 53 leader 2 nextIndex[1]: 340  matchIndex[1]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=340
update matchIndex[1]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
flag 35231 term 53 leader 2 nextIndex[0]: 340  matchIndex[0]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
flag 33811 term 53 leader 2 nextIndex[1]: 340  matchIndex[1]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=340
update matchIndex[1]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
flag 98493 term 53 leader 2 nextIndex[0]: 340  matchIndex[0]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
flag 31782 term 53 leader 2 nextIndex[1]: 340  matchIndex[1]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=340
update matchIndex[1]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
flag 99279 term 53 leader 2 nextIndex[0]: 340  matchIndex[0]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
flag 18730 term 53 leader 2 nextIndex[1]: 340  matchIndex[1]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=340
update matchIndex[1]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
flag 7971 term 53 leader 2 nextIndex[0]: 340  matchIndex[0]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
flag 87494 term 53 leader 2 nextIndex[1]: 340  matchIndex[1]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=340
update matchIndex[1]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
flag 9486 term 53 leader 2 nextIndex[0]: 340  matchIndex[0]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
flag 56890 term 53 leader 2 nextIndex[1]: 340  matchIndex[1]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=340
update matchIndex[1]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
flag 23745 term 53 leader 2 nextIndex[0]: 340  matchIndex[0]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
flag 53309 term 53 leader 2 nextIndex[1]: 340  matchIndex[1]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=340
update matchIndex[1]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48024 term 53 leader 2 nextIndex[0]: 340  matchIndex[0]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
flag 33900 term 53 leader 2 nextIndex[1]: 340  matchIndex[1]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=340
update matchIndex[1]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
flag 30329 term 53 leader 2 nextIndex[0]: 340  matchIndex[0]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
flag 17901 term 53 leader 2 nextIndex[1]: 340  matchIndex[1]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=340
update matchIndex[1]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
flag 52837 term 53 leader 2 nextIndex[0]: 340  matchIndex[0]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
flag 63344 term 53 leader 2 nextIndex[1]: 340  matchIndex[1]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=340
update matchIndex[1]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
flag 53647 term 53 leader 2 nextIndex[0]: 340  matchIndex[0]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
flag 82528 term 53 leader 2 nextIndex[1]: 340  matchIndex[1]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=340
update matchIndex[1]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=340
update matchIndex[0]=339
update leader CommitIndex=338
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 9138398918065768108 (index 340) to leader 2
flag 75472 term 53 leader 2 nextIndex[0]: 340  matchIndex[0]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
flag 94818 term 53 leader 2 nextIndex[1]: 340  matchIndex[1]: 339
term 53 leader 2 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 51 leaderCommit: 338 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:338 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:338 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339} {9138398918065768108 53 340}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 329} {2307107683393437601 51 330} {341775657574504397 51 331} {6981575357677591693 51 332} {7578147819504783152 51 333} {3661731750696288113 51 334} {1463127355933794513 51 335} {862046617272754875 51 336} {283971651107044927 51 337} {5602788414608982892 51 338} {9138398918065768108 51 339} {9138398918065768108 53 340}]
------------------------------------------------------
term 53 Server2 start snapshot! index=339
term 53 server2 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=340
-------------------------------------------------------------
flag 97694 term 53 leader 2 nextIndex[0]: 341  matchIndex[0]: 340
term 53 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
flag 83311 term 53 leader 2 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {9138398918065768108 53 340}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {9138398918065768108 53 340}]
------------------------------------------------------
term 53 Server1 start snapshot! index=339
term 53 server1 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=340
-------------------------------------------------------------
term 53 Server0 start snapshot! index=339
term 53 server0 snapshot success
lastIncludedIndex=339 lastApplied=340 lastIndex=340
-------------------------------------------------------------
flag 15767 term 53 leader 2 nextIndex[0]: 341  matchIndex[0]: 340
term 53 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
flag 5876 term 53 leader 2 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {9138398918065768108 53 340}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {9138398918065768108 53 340}]
------------------------------------------------------
flag 79917 term 53 leader 2 nextIndex[0]: 341  matchIndex[0]: 340
term 53 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
flag 61403 term 53 leader 2 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {9138398918065768108 53 340}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {9138398918065768108 53 340}]
------------------------------------------------------
flag 26380 term 53 leader 2 nextIndex[0]: 341  matchIndex[0]: 340
term 53 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
flag 60595 term 53 leader 2 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {9138398918065768108 53 340}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {9138398918065768108 53 340}]
------------------------------------------------------
flag 71988 term 53 leader 2 nextIndex[0]: 341  matchIndex[0]: 340
term 53 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
flag 46156 term 53 leader 2 nextIndex[1]: 341  matchIndex[1]: 340
term 53 leader 2 sendAppendEntries PrevLogIndex: 340  PrevLogTerm: 53 leaderCommit: 340 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=341
update matchIndex[1]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {9138398918065768108 53 340}]
------------------------------------------------------
term 53 server 0 AppendEntries true commitIndex:340 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=341
update matchIndex[0]=340
update leader CommitIndex=340
leader log:
[{snapshot 51 339} {9138398918065768108 53 340}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
  ... Passed --  80.5  3 1844  814610  340
--- PASS: TestSnapshotInstall2D (80.54s)
PASS
