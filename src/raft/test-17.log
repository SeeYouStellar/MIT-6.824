=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 0 vote for server 2
term 1 server 2 get outdate rpc reply from server 0
client write log 1477458987972613513 (index 1) to leader 2
flag 47346 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 87495 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1477458987972613513 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1477458987972613513 1 1}]
------------------------------------------------------
flag 29820 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 35539 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1477458987972613513 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1477458987972613513 1 1}]
------------------------------------------------------
flag 16943 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 60742 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1477458987972613513 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1477458987972613513 1 1}]
------------------------------------------------------
flag 87524 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 80786 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1477458987972613513 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1477458987972613513 1 1}]
------------------------------------------------------
flag 52292 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 9580 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1477458987972613513 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1477458987972613513 1 1}]
------------------------------------------------------
flag 89453 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 13067 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1477458987972613513 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1477458987972613513 1 1}]
------------------------------------------------------
flag 3785 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 5044 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1477458987972613513 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {1477458987972613513 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 840244511797076468 (index 2) to leader 2
flag 65267 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 49875 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2}]
------------------------------------------------------
flag 26996 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 53731 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2}]
------------------------------------------------------
client write log 5566580852752379143 (index 3) to leader 2
client write log 4297944714611625814 (index 4) to leader 2
client write log 2111162307951595954 (index 5) to leader 2
client write log 283825268638207182 (index 6) to leader 2
client write log 1982363574065168660 (index 7) to leader 2
client write log 2294839972042907701 (index 8) to leader 2
flag 88583 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 53558 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=9
update matchIndex[1]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8}]
------------------------------------------------------
flag 63778 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 31549 term 1 leader 2 nextIndex[1]: 9  matchIndex[1]: 8
term 1 leader 2 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=9
update matchIndex[1]=8
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8}]
------------------------------------------------------
!!!!!!connect server 0
client write log 589077039591869089 (index 9) to leader 2
term 1 server 2 not vote for server 0, 日志不够新
term 1 server 1 not vote for server 0, 日志不够新
term 3 server 1 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 2 become leader
------------------------------------------------------
term 3 server 0 vote for server 2
term 3 server 2 get outdate rpc reply from server 0
flag 147 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 61330 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 10->9
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 10->9
------------------------------------------------------
flag 87327 term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 77943 term 3 leader 2 nextIndex[1]: 9  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 8  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
flag 57481 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 7936 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
flag 96667 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 61028 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22419 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 66940 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
flag 6991 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 98285 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
flag 28871 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 68423 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
flag 4709 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 65670 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
flag 34023 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 29223 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
flag 99812 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 86234 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
flag 85125 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 55294 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
flag 70489 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 50785 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
flag 46052 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 85558 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
flag 60473 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 6502 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80879 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 33402 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
flag 88466 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 83681 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
flag 105 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 49922 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
flag 54140 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 25791 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
flag 715 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 44327 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
flag 11695 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 64267 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=10
update matchIndex[0]=9
update leader CommitIndex=8
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9}]
------------------------------------------------------
client write log 589077039591869089 (index 10) to leader 2
flag 88481 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
flag 7282 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 8 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9} {589077039591869089 3 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:8 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{<nil> 0 0} {1477458987972613513 1 1} {840244511797076468 1 2} {5566580852752379143 1 3} {4297944714611625814 1 4} {2111162307951595954 1 5} {283825268638207182 1 6} {1982363574065168660 1 7} {2294839972042907701 1 8} {589077039591869089 1 9} {589077039591869089 3 10}]
------------------------------------------------------
term 3 Server2 start snapshot! index=9
term 3 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
flag 62209 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 8000 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {589077039591869089 3 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {589077039591869089 3 10}]
------------------------------------------------------
term 3 Server0 start snapshot! index=9
term 3 Server1 start snapshot! index=9
term 3 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
term 3 server0 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=10
-------------------------------------------------------------
flag 62286 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 51417 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {589077039591869089 3 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {589077039591869089 3 10}]
------------------------------------------------------
flag 50900 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 36404 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {589077039591869089 3 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {589077039591869089 3 10}]
------------------------------------------------------
flag 29835 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 83946 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {589077039591869089 3 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {589077039591869089 3 10}]
------------------------------------------------------
flag 69302 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 24016 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {589077039591869089 3 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {589077039591869089 3 10}]
------------------------------------------------------
flag 16541 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 74127 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:10 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {589077039591869089 3 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {589077039591869089 3 10}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 82554 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 70578 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 27864 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 76265 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 14193 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 42363 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 54830 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 79726 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 4 server 0 vote for server 1
term 4 server 1 get vote from server 0
term 4 server 1 become leader
------------------------------------------------------
flag 78560 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 88920 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=10
leader log:
[{snapshot 1 9} {589077039591869089 3 10}]
------------------------------------------------------
client write log 8270349326828384721 (index 11) to leader 1
flag 36139 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 27648 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 76741 term 4 leader 1 nextIndex[0]: 11  matchIndex[0]: 10
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 34784 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {589077039591869089 3 10} {8270349326828384721 4 11}]
------------------------------------------------------
flag 83321 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 47324 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 43924 term 4 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 4 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
flag 40665 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {589077039591869089 3 10} {8270349326828384721 4 11}]
------------------------------------------------------
client write log 6266396081908426618 (index 12) to leader 1
flag 20221 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 18080 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 51199 term 4 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 4 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 4 leaderCommit: 11 
------------------------------------------------------
flag 52729 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {589077039591869089 3 10} {8270349326828384721 4 11} {6266396081908426618 4 12}]
------------------------------------------------------
flag 56075 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 9172 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 19372 term 4 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 71955 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {589077039591869089 3 10} {8270349326828384721 4 11} {6266396081908426618 4 12}]
------------------------------------------------------
!!!!!!connect server 2
client write log 3295802507010645687 (index 13) to leader 1
flag 96230 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
flag 89601 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 10 
------------------------------------------------------
term 4 server 1 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58377 term 4 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 10321 term 4 leader 1 nextIndex[2]: 11  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:10 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {589077039591869089 3 10} {8270349326828384721 4 11} {6266396081908426618 4 12} {3295802507010645687 4 13}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {589077039591869089 3 10} {8270349326828384721 4 11} {6266396081908426618 4 12} {3295802507010645687 4 13}]
------------------------------------------------------
flag 66417 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 50264 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {589077039591869089 3 10} {8270349326828384721 4 11} {6266396081908426618 4 12} {3295802507010645687 4 13}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {589077039591869089 3 10} {8270349326828384721 4 11} {6266396081908426618 4 12} {3295802507010645687 4 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 14->13
------------------------------------------------------
flag 48590 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 0  matchIndex[2]: 13
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 2 InstallSnapshot fail
rf.commitIndex 13 args.LastIncludedIndex 9
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {589077039591869089 3 10} {8270349326828384721 4 11} {6266396081908426618 4 12} {3295802507010645687 4 13}]
------------------------------------------------------
flag 68161 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 54390 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {589077039591869089 3 10} {8270349326828384721 4 11} {6266396081908426618 4 12} {3295802507010645687 4 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {589077039591869089 3 10} {8270349326828384721 4 11} {6266396081908426618 4 12} {3295802507010645687 4 13}]
------------------------------------------------------
flag 52915 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 7075 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {589077039591869089 3 10} {8270349326828384721 4 11} {6266396081908426618 4 12} {3295802507010645687 4 13}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {589077039591869089 3 10} {8270349326828384721 4 11} {6266396081908426618 4 12} {3295802507010645687 4 13}]
------------------------------------------------------
flag 33855 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 15076 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {589077039591869089 3 10} {8270349326828384721 4 11} {6266396081908426618 4 12} {3295802507010645687 4 13}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {589077039591869089 3 10} {8270349326828384721 4 11} {6266396081908426618 4 12} {3295802507010645687 4 13}]
------------------------------------------------------
flag 98892 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 61854 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=14
update matchIndex[2]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {589077039591869089 3 10} {8270349326828384721 4 11} {6266396081908426618 4 12} {3295802507010645687 4 13}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {589077039591869089 3 10} {8270349326828384721 4 11} {6266396081908426618 4 12} {3295802507010645687 4 13}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5616018837136632869 (index 14) to leader 1
flag 54708 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 56601 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {589077039591869089 3 10} {8270349326828384721 4 11} {6266396081908426618 4 12} {3295802507010645687 4 13} {5616018837136632869 4 14}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23460 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 79685 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {589077039591869089 3 10} {8270349326828384721 4 11} {6266396081908426618 4 12} {3295802507010645687 4 13} {5616018837136632869 4 14}]
------------------------------------------------------
client write log 8345159234391595991 (index 15) to leader 1
client write log 6673840060414515579 (index 16) to leader 1
client write log 2746176708542504404 (index 17) to leader 1
client write log 2674350767789360399 (index 18) to leader 1
client write log 4323343900251664634 (index 19) to leader 1
client write log 304507733350441618 (index 20) to leader 1
client write log 2779785185341261689 (index 21) to leader 1
client write log 4272015797599395025 (index 22) to leader 1
client write log 4074707010903255370 (index 23) to leader 1
client write log 2773424477118895237 (index 24) to leader 1
client write log 215030255900822955 (index 25) to leader 1
client write log 5259934542470295679 (index 26) to leader 1
client write log 4447107357369094242 (index 27) to leader 1
client write log 1590518321974962460 (index 28) to leader 1
flag 68842 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 93488 term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 1 9} {589077039591869089 3 10} {8270349326828384721 4 11} {6266396081908426618 4 12} {3295802507010645687 4 13} {5616018837136632869 4 14} {8345159234391595991 4 15} {6673840060414515579 4 16} {2746176708542504404 4 17} {2674350767789360399 4 18} {4323343900251664634 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=28
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76536 term 4 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 4 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 14  matchIndex[2]: 13
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=20 lastIndex=28
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7407479026340873401 (index 29) to leader 1
term 4 server 1 not vote for server 2, 日志不够新
term 4 server 0 not vote for server 2, 日志不够新
term 6 server 2 vote for server 1
term 6 server 1 get vote from server 2
term 6 server 1 become leader
------------------------------------------------------
term 6 server 0 vote for server 1
term 6 server 1 get outdate rpc reply from server 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58874 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 17673 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 30->29
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 30->29
------------------------------------------------------
flag 88695 term 6 leader 1 nextIndex[0]: 29  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 14  matchIndex[2]: 0
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 6 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
flag 24010 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 44520 term 6 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 6 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73103 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 52338 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
flag 74981 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 63186 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12207 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 9356 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
flag 22510 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 69426 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
flag 6722 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 56898 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
flag 42519 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 92589 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8091 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 38856 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
flag 73781 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 5511 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
flag 36929 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 63712 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
flag 84114 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 86098 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25163 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 69068 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
flag 823 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 89688 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
flag 10753 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 98471 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48406 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 67427 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
flag 75976 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 47630 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
flag 29118 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 93855 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
flag 22465 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 91151 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29}]
------------------------------------------------------
client write log 7407479026340873401 (index 30) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 2 not vote for server 1, 任期不够新
term 6 server 1 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9853 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 50719 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29} {7407479026340873401 6 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 19} {304507733350441618 4 20} {2779785185341261689 4 21} {4272015797599395025 4 22} {4074707010903255370 4 23} {2773424477118895237 4 24} {215030255900822955 4 25} {5259934542470295679 4 26} {4447107357369094242 4 27} {1590518321974962460 4 28} {7407479026340873401 4 29} {7407479026340873401 6 30}]
------------------------------------------------------
term 6 Server1 start snapshot! index=29
term 6 server1 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=30
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49372 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 51855 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {7407479026340873401 6 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {7407479026340873401 6 30}]
------------------------------------------------------
term 6 Server2 start snapshot! index=29
term 6 server2 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=30
-------------------------------------------------------------
term 6 Server0 start snapshot! index=29
term 6 server0 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=30
-------------------------------------------------------------
flag 69498 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 47946 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {7407479026340873401 6 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {7407479026340873401 6 30}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4814 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 11515 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {7407479026340873401 6 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {7407479026340873401 6 30}]
------------------------------------------------------
flag 70624 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 24363 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {7407479026340873401 6 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {7407479026340873401 6 30}]
------------------------------------------------------
flag 93519 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 11645 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {7407479026340873401 6 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {7407479026340873401 6 30}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5969869515485212598 (index 31) to leader 1
flag 4663 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 50818 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7407479026340873401 6 30} {5969869515485212598 6 31}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83308 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 27280 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {7407479026340873401 6 30} {5969869515485212598 6 31}]
------------------------------------------------------
client write log 3437885857677096935 (index 32) to leader 1
client write log 2091746406423508727 (index 33) to leader 1
client write log 1688857265890491885 (index 34) to leader 1
client write log 5751892810958541771 (index 35) to leader 1
client write log 3359161223471328613 (index 36) to leader 1
client write log 8196548255835593789 (index 37) to leader 1
client write log 5096352984838571758 (index 38) to leader 1
client write log 5217838673914711288 (index 39) to leader 1
client write log 1093063885819420622 (index 40) to leader 1
client write log 3246015768242383400 (index 41) to leader 1
client write log 5546681465384761900 (index 42) to leader 1
flag 16045 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 12580 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 4 29} {7407479026340873401 6 30} {5969869515485212598 6 31} {3437885857677096935 6 32} {2091746406423508727 6 33} {1688857265890491885 6 34} {5751892810958541771 6 35} {3359161223471328613 6 36} {8196548255835593789 6 37} {5096352984838571758 6 38} {5217838673914711288 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42}]
------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=42
-------------------------------------------------------------
flag 94524 term 6 leader 1 nextIndex[0]: 43  matchIndex[0]: 42
term 6 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=43
update matchIndex[0]=42
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42}]
------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=42
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4021124466507018659 (index 43) to leader 1
term 6 server 1 not vote for server 2, 日志不够新
term 6 server 0 not vote for server 2, 日志不够新
term 8 server 2 vote for server 1
term 8 server 0 vote for server 1
term 8 server 1 get vote from server 2
term 8 server 1 become leader
------------------------------------------------------
term 8 server 1 get outdate rpc reply from server 0
flag 65142 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 95579 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 44->43
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 44->43
------------------------------------------------------
flag 85659 term 8 leader 1 nextIndex[0]: 43  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 42  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 31  matchIndex[2]: 0
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 server 2 InstallSnapshot success
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 40 matchIndex[2] 39 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99087 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 51905 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
flag 47339 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 70636 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99813 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 90569 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
flag 65227 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 24933 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
flag 96519 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 89584 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93579 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 48266 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43526 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 33548 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52247 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 21645 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41269 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 20005 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59983 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 47854 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
flag 46959 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 41473 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
flag 28720 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 34165 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
flag 64655 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 15687 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
flag 95252 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 62060 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79887 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 97456 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
flag 85405 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 19934 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
flag 74489 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 69800 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
flag 98222 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 13453 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=44
update matchIndex[2]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=44
update matchIndex[0]=43
update leader CommitIndex=42
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43}]
------------------------------------------------------
client write log 4021124466507018659 (index 44) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74463 term 8 leader 1 nextIndex[0]: 44  matchIndex[0]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
flag 54649 term 8 leader 1 nextIndex[2]: 44  matchIndex[2]: 43
term 8 leader 1 sendAppendEntries PrevLogIndex: 43  PrevLogTerm: 6 leaderCommit: 42 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43} {4021124466507018659 8 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:42 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43} {4021124466507018659 8 44}]
------------------------------------------------------
flag 21336 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 25712 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43} {4021124466507018659 8 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43} {4021124466507018659 8 44}]
------------------------------------------------------
flag 13721 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 10841 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43} {4021124466507018659 8 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43} {4021124466507018659 8 44}]
------------------------------------------------------
flag 29462 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 96959 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43} {4021124466507018659 8 44}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43} {4021124466507018659 8 44}]
------------------------------------------------------
flag 63712 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 38445 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43} {4021124466507018659 8 44}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43} {4021124466507018659 8 44}]
------------------------------------------------------
flag 27207 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 6916 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:44 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=45
update matchIndex[2]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43} {4021124466507018659 8 44}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43} {4021124466507018659 8 44}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 94293 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 25876 term 8 leader 1 nextIndex[2]: 45  matchIndex[2]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 45->44
------------------------------------------------------
flag 46041 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 0  matchIndex[2]: 44
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 3472 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 0  matchIndex[2]: 44
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 9 server 0 vote for server 2
term 9 server 2 get vote from server 0
term 9 server 2 become leader
------------------------------------------------------
flag 1971 term 9 leader 2 nextIndex[0]: 45  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 80135 term 9 leader 2 nextIndex[1]: 45  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=45
update matchIndex[0]=44
update leader CommitIndex=44
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43} {4021124466507018659 8 44}]
------------------------------------------------------
client write log 5383992317510890052 (index 45) to leader 2
flag 50839 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 0  matchIndex[2]: 44
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 14039 term 9 leader 2 nextIndex[0]: 45  matchIndex[0]: 44
term 9 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
flag 9611 term 9 leader 2 nextIndex[1]: 45  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:44 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43} {4021124466507018659 8 44} {5383992317510890052 9 45}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56922 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 0  matchIndex[2]: 44
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 8157 term 9 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 33650 term 9 leader 2 nextIndex[1]: 45  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=46
update matchIndex[0]=45
update leader CommitIndex=45
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43} {4021124466507018659 8 44} {5383992317510890052 9 45}]
------------------------------------------------------
client write log 2803555057514270383 (index 46) to leader 2
client write log 3656498132663819060 (index 47) to leader 2
client write log 8162592890251052216 (index 48) to leader 2
client write log 4532469346028251270 (index 49) to leader 2
client write log 5612745734117248936 (index 50) to leader 2
client write log 2334288394755925994 (index 51) to leader 2
client write log 8313817338563883748 (index 52) to leader 2
client write log 7916857475100490048 (index 53) to leader 2
client write log 67729277412469786 (index 54) to leader 2
client write log 7556630527956180879 (index 55) to leader 2
client write log 3768014900407419237 (index 56) to leader 2
client write log 1475890441078809260 (index 57) to leader 2
flag 13580 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 0  matchIndex[2]: 44
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 26675 term 9 leader 2 nextIndex[0]: 46  matchIndex[0]: 45
term 9 leader 2 sendAppendEntries PrevLogIndex: 45  PrevLogTerm: 9 leaderCommit: 45 
------------------------------------------------------
flag 22868 term 9 leader 2 nextIndex[1]: 45  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 45 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:45 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 6 39} {1093063885819420622 6 40} {3246015768242383400 6 41} {5546681465384761900 6 42} {4021124466507018659 6 43} {4021124466507018659 8 44} {5383992317510890052 9 45} {2803555057514270383 9 46} {3656498132663819060 9 47} {8162592890251052216 9 48} {4532469346028251270 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
term 9 Server2 start snapshot! index=49
term 9 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=57
-------------------------------------------------------------
flag 53130 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 0  matchIndex[2]: 44
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 25392 term 9 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 9 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 45  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=57
-------------------------------------------------------------
flag 56874 term 8 leader 1 nextIndex[0]: 45  matchIndex[0]: 44
term 8 leader 1 sendAppendEntries PrevLogIndex: 44  PrevLogTerm: 8 leaderCommit: 44 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 0  matchIndex[2]: 44
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
!!!!!!connect server 1
client write log 3602016255243059968 (index 45) to leader 1
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 45->44
------------------------------------------------------
term 8 server 1 not vote for server 2, 日志不够新
term 9 server 2 get outdate rpc reply from server 1
flag 12662 term 9 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 9 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 0  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 InstallSnapshot success
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 9 rf.commitIndex 49 rf.lastApplied 49
term 9 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
term 9 server 2 not vote for server 1, 日志不够新
term 9 server 0 not vote for server 1, 日志不够新
term 11 server 1 vote for server 2
term 11 server 0 vote for server 2
term 11 server 2 get vote from server 0
term 11 server 2 become leader
------------------------------------------------------
term 11 server 2 get outdate rpc reply from server 1
flag 8782 term 11 leader 2 nextIndex[0]: 58  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 40263 term 11 leader 2 nextIndex[1]: 58  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 58->57
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65021 term 11 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 12196 term 11 leader 2 nextIndex[1]: 50  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
flag 40806 term 11 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 38580 term 11 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
flag 66885 term 11 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 73759 term 11 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
flag 78649 term 11 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 11065 term 11 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
flag 2756 term 11 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 79504 term 11 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
flag 3515 term 11 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 58597 term 11 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
flag 49046 term 11 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 48683 term 11 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
flag 90979 term 11 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 64232 term 11 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
flag 97332 term 11 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 54387 term 11 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
flag 74371 term 11 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 20071 term 11 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
flag 4277 term 11 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 76537 term 11 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
flag 83405 term 11 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 31241 term 11 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
flag 19227 term 11 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 45014 term 11 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
flag 21313 term 11 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 89197 term 11 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57952 term 11 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 2307 term 11 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51000 term 11 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 19582 term 11 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
flag 81581 term 11 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 65692 term 11 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
flag 69317 term 11 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 66600 term 11 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=58
update matchIndex[0]=57
update leader CommitIndex=57
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57}]
------------------------------------------------------
client write log 3602016255243059968 (index 58) to leader 2
flag 38780 term 11 leader 2 nextIndex[0]: 58  matchIndex[0]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
flag 50746 term 11 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 9 leaderCommit: 57 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57} {3602016255243059968 11 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57} {3602016255243059968 11 58}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46596 term 11 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 11 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 1681 term 11 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 11 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57} {3602016255243059968 11 58}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57} {3602016255243059968 11 58}]
------------------------------------------------------
flag 38407 term 11 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 11 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 25079 term 11 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 11 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57} {3602016255243059968 11 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57} {3602016255243059968 11 58}]
------------------------------------------------------
flag 45268 term 11 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 11 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 83273 term 11 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 11 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57} {3602016255243059968 11 58}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57} {3602016255243059968 11 58}]
------------------------------------------------------
flag 80758 term 11 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 11 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 78185 term 11 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 11 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57} {3602016255243059968 11 58}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57} {3602016255243059968 11 58}]
------------------------------------------------------
flag 28053 term 11 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 11 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 37223 term 11 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 11 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57} {3602016255243059968 11 58}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57} {3602016255243059968 11 58}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32279 term 11 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 11 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 62026 term 11 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 11 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=59
update matchIndex[0]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57} {3602016255243059968 11 58}]
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57} {3602016255243059968 11 58}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8342420857573234493 (index 59) to leader 2
flag 69957 term 11 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 11 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
flag 5486 term 11 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 11 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 9 49} {5612745734117248936 9 50} {2334288394755925994 9 51} {8313817338563883748 9 52} {7916857475100490048 9 53} {67729277412469786 9 54} {7556630527956180879 9 55} {3768014900407419237 9 56} {1475890441078809260 9 57} {3602016255243059968 11 58} {8342420857573234493 11 59}]
------------------------------------------------------
term 11 Server2 start snapshot! index=59
term 11 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 98764 term 11 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 11 59}]
------------------------------------------------------
term 11 Server1 start snapshot! index=59
term 11 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
client write log 3197669607108242435 (index 60) to leader 2
client write log 209762280649838044 (index 61) to leader 2
client write log 5182287729546322850 (index 62) to leader 2
client write log 6835818218094365341 (index 63) to leader 2
client write log 9063398087702777821 (index 64) to leader 2
client write log 2279599500174508570 (index 65) to leader 2
client write log 7528755712627996596 (index 66) to leader 2
term 11 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 49067 term 11 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66}]
------------------------------------------------------
term 11 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 leader 2 nextIndex[0]: 59  matchIndex[0]: 58
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 60077 term 11 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 11 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66}]
------------------------------------------------------
!!!!!!connect server 0
client write log 2419782754410590677 (index 67) to leader 2
term 11 server 2 not vote for server 0, 日志不够新
term 11 server 1 not vote for server 0, 日志不够新
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 server 1 vote for server 2
term 13 server 0 vote for server 2
term 13 server 2 get vote from server 1
term 13 server 2 become leader
------------------------------------------------------
term 13 server 2 get outdate rpc reply from server 0
flag 45243 term 13 leader 2 nextIndex[0]: 68  matchIndex[0]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 59253 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 68->67
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 68->67
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 59  matchIndex[0]: 0
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 10127 term 13 leader 2 nextIndex[1]: 67  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
term 13 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 11 rf.commitIndex 59 rf.lastApplied 59
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12319 term 13 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 13 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 65546 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85096 term 13 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 58328 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 292 term 13 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 54177 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
flag 23909 term 13 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 35495 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
flag 63397 term 13 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 92372 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96006 term 13 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 49288 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8664 term 13 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 85301 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
flag 54612 term 13 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 55984 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
flag 70692 term 13 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 67107 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 72300 term 13 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 56937 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 17440 term 13 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 54190 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
flag 44431 term 13 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 77263 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
flag 19299 term 13 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 17803 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
flag 78024 term 13 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 98983 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
flag 73017 term 13 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 98271 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
flag 18557 term 13 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 2420 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11480 term 13 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 71503 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=68
update matchIndex[1]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=68
update matchIndex[0]=67
update leader CommitIndex=66
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67}]
------------------------------------------------------
client write log 2419782754410590677 (index 68) to leader 2
flag 97982 term 13 leader 2 nextIndex[0]: 68  matchIndex[0]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
flag 66750 term 13 leader 2 nextIndex[1]: 68  matchIndex[1]: 67
term 13 leader 2 sendAppendEntries PrevLogIndex: 67  PrevLogTerm: 11 leaderCommit: 66 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67} {2419782754410590677 13 68}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67} {2419782754410590677 13 68}]
------------------------------------------------------
flag 72483 term 13 leader 2 nextIndex[0]: 69  matchIndex[0]: 68
term 13 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 12100 term 13 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 13 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67} {2419782754410590677 13 68}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67} {2419782754410590677 13 68}]
------------------------------------------------------
flag 9610 term 13 leader 2 nextIndex[0]: 69  matchIndex[0]: 68
term 13 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 94294 term 13 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 13 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67} {2419782754410590677 13 68}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67} {2419782754410590677 13 68}]
------------------------------------------------------
flag 30024 term 13 leader 2 nextIndex[0]: 69  matchIndex[0]: 68
term 13 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 36582 term 13 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 13 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67} {2419782754410590677 13 68}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67} {2419782754410590677 13 68}]
------------------------------------------------------
flag 10023 term 13 leader 2 nextIndex[0]: 69  matchIndex[0]: 68
term 13 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 13870 term 13 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 13 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67} {2419782754410590677 13 68}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67} {2419782754410590677 13 68}]
------------------------------------------------------
flag 92513 term 13 leader 2 nextIndex[0]: 69  matchIndex[0]: 68
term 13 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 83427 term 13 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 13 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67} {2419782754410590677 13 68}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67} {2419782754410590677 13 68}]
------------------------------------------------------
flag 24405 term 13 leader 2 nextIndex[0]: 69  matchIndex[0]: 68
term 13 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 88328 term 13 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 13 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=69
update matchIndex[1]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67} {2419782754410590677 13 68}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=69
update matchIndex[0]=68
update leader CommitIndex=68
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67} {2419782754410590677 13 68}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8050999845900531871 (index 69) to leader 2
flag 20447 term 13 leader 2 nextIndex[0]: 69  matchIndex[0]: 68
term 13 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
flag 63850 term 13 leader 2 nextIndex[1]: 69  matchIndex[1]: 68
term 13 leader 2 sendAppendEntries PrevLogIndex: 68  PrevLogTerm: 13 leaderCommit: 68 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:68 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 11 59} {3197669607108242435 11 60} {209762280649838044 11 61} {5182287729546322850 11 62} {6835818218094365341 11 63} {9063398087702777821 11 64} {2279599500174508570 11 65} {7528755712627996596 11 66} {2419782754410590677 11 67} {2419782754410590677 13 68} {8050999845900531871 13 69}]
------------------------------------------------------
term 13 Server2 start snapshot! index=69
term 13 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
term 13 leader 2 nextIndex[0]: 69  matchIndex[0]: 68
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
flag 80525 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=70
update matchIndex[1]=69
update leader CommitIndex=69
leader log:
[{snapshot 13 69}]
------------------------------------------------------
term 13 Server1 start snapshot! index=69
term 13 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=69
-------------------------------------------------------------
client write log 7489877693520926380 (index 70) to leader 2
client write log 7562226408938497036 (index 71) to leader 2
client write log 7199945740387006653 (index 72) to leader 2
client write log 2117821949476583443 (index 73) to leader 2
client write log 828942704361392729 (index 74) to leader 2
client write log 4505587147903971417 (index 75) to leader 2
client write log 6354625448078126205 (index 76) to leader 2
client write log 880279374085298131 (index 77) to leader 2
client write log 3459381848582625866 (index 78) to leader 2
client write log 1634851439869294051 (index 79) to leader 2
client write log 8035235835626243 (index 80) to leader 2
client write log 5815406045555015969 (index 81) to leader 2
client write log 8431743245376358876 (index 82) to leader 2
term 13 leader 2 nextIndex[0]: 69  matchIndex[0]: 68
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 13
------------------------------------------------------
flag 35914 term 13 leader 2 nextIndex[1]: 70  matchIndex[1]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 13 leaderCommit: 69 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 13 69} {7489877693520926380 13 70} {7562226408938497036 13 71} {7199945740387006653 13 72} {2117821949476583443 13 73} {828942704361392729 13 74} {4505587147903971417 13 75} {6354625448078126205 13 76} {880279374085298131 13 77} {3459381848582625866 13 78} {1634851439869294051 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82}]
------------------------------------------------------
term 13 Server2 start snapshot! index=79
term 13 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=82
-------------------------------------------------------------
term 13 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 13 leader 2 nextIndex[0]: 69  matchIndex[0]: 68
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
flag 54506 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=83
update matchIndex[1]=82
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82}]
------------------------------------------------------
term 13 Server1 start snapshot! index=79
term 13 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=82
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7434622117171209412 (index 83) to leader 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 69  matchIndex[0]: 68
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
flag 54296 term 13 leader 2 nextIndex[1]: 83  matchIndex[1]: 82
term 13 leader 2 sendAppendEntries PrevLogIndex: 82  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 14 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 15 server 1 vote for server 2
term 15 server 2 get vote from server 1
term 15 server 2 become leader
------------------------------------------------------
term 15 server 0 vote for server 2
term 15 server 2 get outdate rpc reply from server 0
flag 11587 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 33930 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
term 15 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 84->83
------------------------------------------------------
term 15 leader 2 nextIndex[0]: 69  matchIndex[0]: 0
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
flag 96483 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
term 15 server 0 InstallSnapshot success
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 80 matchIndex[0] 79 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 79 rf.lastIncludedTerm 13 rf.commitIndex 79 rf.lastApplied 79
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10927 term 15 leader 2 nextIndex[0]: 80  matchIndex[0]: 79
term 15 leader 2 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 62511 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:79 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
flag 76786 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 99301 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11516 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 93639 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
term 15 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 727 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 76034 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
flag 83965 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 9789 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 73954 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 76404 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
flag 68085 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 82111 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
flag 25105 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 87421 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
flag 23078 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 32835 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83258 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 14736 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
flag 2246 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 45260 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
flag 668 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 51548 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
flag 1912 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 78495 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81786 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 50567 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
flag 41163 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 35961 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
flag 25093 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 29666 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=84
update matchIndex[1]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=84
update matchIndex[0]=83
update leader CommitIndex=82
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83}]
------------------------------------------------------
client write log 7434622117171209412 (index 84) to leader 2
flag 45756 term 15 leader 2 nextIndex[0]: 84  matchIndex[0]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
flag 51392 term 15 leader 2 nextIndex[1]: 84  matchIndex[1]: 83
term 15 leader 2 sendAppendEntries PrevLogIndex: 83  PrevLogTerm: 13 leaderCommit: 82 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:82 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:82 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83} {7434622117171209412 15 84}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83} {7434622117171209412 15 84}]
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 52699 term 15 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 15 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
flag 97189 term 15 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 15 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83} {7434622117171209412 15 84}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83} {7434622117171209412 15 84}]
------------------------------------------------------
flag 27983 term 15 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 15 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
flag 81310 term 15 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 15 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83} {7434622117171209412 15 84}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83} {7434622117171209412 15 84}]
------------------------------------------------------
flag 84821 term 15 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 15 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
flag 65533 term 15 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 15 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83} {7434622117171209412 15 84}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83} {7434622117171209412 15 84}]
------------------------------------------------------
flag 90228 term 15 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 15 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
flag 27003 term 15 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 15 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83} {7434622117171209412 15 84}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83} {7434622117171209412 15 84}]
------------------------------------------------------
flag 82080 term 15 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 15 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
flag 14158 term 15 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 15 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=85
update matchIndex[1]=84
update leader CommitIndex=84
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83} {7434622117171209412 15 84}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83} {7434622117171209412 15 84}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 62357 term 15 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 15 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
flag 55241 term 15 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 15 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
flag 11799 term 15 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 15 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
flag 23431 term 15 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 15 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
flag 60633 term 15 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 15 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
flag 96040 term 15 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 15 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
term 16 server 0 vote for server 1
term 16 server 1 get vote from server 0
term 16 server 1 become leader
------------------------------------------------------
flag 54858 term 16 leader 1 nextIndex[0]: 85  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
flag 85698 term 16 leader 1 nextIndex[2]: 85  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=85
update matchIndex[0]=84
update leader CommitIndex=84
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83} {7434622117171209412 15 84}]
------------------------------------------------------
client write log 4952478198666933068 (index 85) to leader 1
flag 79771 term 15 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 15 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
flag 18265 term 15 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 15 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
flag 64677 term 16 leader 1 nextIndex[0]: 85  matchIndex[0]: 84
term 16 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
flag 8510 term 16 leader 1 nextIndex[2]: 85  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83} {7434622117171209412 15 84} {4952478198666933068 16 85}]
------------------------------------------------------
flag 28410 term 15 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 15 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
flag 48214 term 15 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 15 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
flag 8805 term 16 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
flag 46919 term 16 leader 1 nextIndex[2]: 85  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=86
update matchIndex[0]=85
update leader CommitIndex=85
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83} {7434622117171209412 15 84} {4952478198666933068 16 85}]
------------------------------------------------------
flag 13301 term 15 leader 2 nextIndex[0]: 85  matchIndex[0]: 84
term 15 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
flag 73766 term 15 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 15 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
client write log 5151892101690042843 (index 86) to leader 1
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 85->84
------------------------------------------------------
flag 73998 term 16 leader 1 nextIndex[0]: 86  matchIndex[0]: 85
term 16 leader 1 sendAppendEntries PrevLogIndex: 85  PrevLogTerm: 16 leaderCommit: 85 
------------------------------------------------------
flag 67706 term 16 leader 1 nextIndex[2]: 85  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 85 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:85 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83} {7434622117171209412 15 84} {4952478198666933068 16 85} {5151892101690042843 16 86}]
------------------------------------------------------
term 15 leader 2 nextIndex[0]: 0  matchIndex[0]: 84
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
flag 52945 term 15 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 15 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
flag 39954 term 16 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 16 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 64428 term 16 leader 1 nextIndex[2]: 85  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=87
update matchIndex[0]=86
update leader CommitIndex=86
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83} {7434622117171209412 15 84} {4952478198666933068 16 85} {5151892101690042843 16 86}]
------------------------------------------------------
term 15 leader 2 nextIndex[0]: 0  matchIndex[0]: 84
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
flag 57922 term 15 leader 2 nextIndex[1]: 85  matchIndex[1]: 84
term 15 leader 2 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 84 
------------------------------------------------------
!!!!!!connect server 2
client write log 5747156433896808889 (index 87) to leader 1
flag 52412 term 16 leader 1 nextIndex[0]: 87  matchIndex[0]: 86
term 16 leader 1 sendAppendEntries PrevLogIndex: 86  PrevLogTerm: 16 leaderCommit: 86 
------------------------------------------------------
flag 62359 term 16 leader 1 nextIndex[2]: 85  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 84  PrevLogTerm: 15 leaderCommit: 86 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:84 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83} {7434622117171209412 15 84} {4952478198666933068 16 85} {5151892101690042843 16 86} {5747156433896808889 16 87}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:86 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83} {7434622117171209412 15 84} {4952478198666933068 16 85} {5151892101690042843 16 86} {5747156433896808889 16 87}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73806 term 16 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 87 
------------------------------------------------------
flag 80881 term 16 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83} {7434622117171209412 15 84} {4952478198666933068 16 85} {5151892101690042843 16 86} {5747156433896808889 16 87}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83} {7434622117171209412 15 84} {4952478198666933068 16 85} {5151892101690042843 16 86} {5747156433896808889 16 87}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 88->87
------------------------------------------------------
flag 89574 term 16 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 87 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 0  matchIndex[2]: 87
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
term 16 server 2 InstallSnapshot fail
rf.commitIndex 87 args.LastIncludedIndex 79
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 80 matchIndex[2] 79 
------------------------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83} {7434622117171209412 15 84} {4952478198666933068 16 85} {5151892101690042843 16 86} {5747156433896808889 16 87}]
------------------------------------------------------
term 16 server 2 not vote for server 0, 任期不够新
term 16 server 0 get outdate rpc reply from server 2
flag 98755 term 16 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 87 
------------------------------------------------------
flag 98966 term 16 leader 1 nextIndex[2]: 80  matchIndex[2]: 79
term 16 leader 1 sendAppendEntries PrevLogIndex: 79  PrevLogTerm: 13 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83} {7434622117171209412 15 84} {4952478198666933068 16 85} {5151892101690042843 16 86} {5747156433896808889 16 87}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83} {7434622117171209412 15 84} {4952478198666933068 16 85} {5151892101690042843 16 86} {5747156433896808889 16 87}]
------------------------------------------------------
flag 61379 term 16 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 87 
------------------------------------------------------
flag 13581 term 16 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 87 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83} {7434622117171209412 15 84} {4952478198666933068 16 85} {5151892101690042843 16 86} {5747156433896808889 16 87}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83} {7434622117171209412 15 84} {4952478198666933068 16 85} {5151892101690042843 16 86} {5747156433896808889 16 87}]
------------------------------------------------------
flag 68433 term 16 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 87 
------------------------------------------------------
flag 21714 term 16 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83} {7434622117171209412 15 84} {4952478198666933068 16 85} {5151892101690042843 16 86} {5747156433896808889 16 87}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83} {7434622117171209412 15 84} {4952478198666933068 16 85} {5151892101690042843 16 86} {5747156433896808889 16 87}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62036 term 16 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 87 
------------------------------------------------------
flag 43575 term 16 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 87 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=88
update matchIndex[2]=87
update leader CommitIndex=87
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83} {7434622117171209412 15 84} {4952478198666933068 16 85} {5151892101690042843 16 86} {5747156433896808889 16 87}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=88
update matchIndex[0]=87
update leader CommitIndex=87
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83} {7434622117171209412 15 84} {4952478198666933068 16 85} {5151892101690042843 16 86} {5747156433896808889 16 87}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2526086239910316163 (index 88) to leader 1
flag 31648 term 16 leader 1 nextIndex[0]: 88  matchIndex[0]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 87 
------------------------------------------------------
flag 94533 term 16 leader 1 nextIndex[2]: 88  matchIndex[2]: 87
term 16 leader 1 sendAppendEntries PrevLogIndex: 87  PrevLogTerm: 16 leaderCommit: 87 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:87 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83} {7434622117171209412 15 84} {4952478198666933068 16 85} {5151892101690042843 16 86} {5747156433896808889 16 87} {2526086239910316163 16 88}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 88->87
------------------------------------------------------
flag 24201 term 16 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 16 leaderCommit: 88 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 0  matchIndex[2]: 87
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=89
update matchIndex[0]=88
update leader CommitIndex=88
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83} {7434622117171209412 15 84} {4952478198666933068 16 85} {5151892101690042843 16 86} {5747156433896808889 16 87} {2526086239910316163 16 88}]
------------------------------------------------------
client write log 2801969469875728003 (index 89) to leader 1
client write log 3098453587459942473 (index 90) to leader 1
client write log 8155910882468819540 (index 91) to leader 1
client write log 2734862363730268389 (index 92) to leader 1
client write log 7657031846792284220 (index 93) to leader 1
client write log 1487659656470937007 (index 94) to leader 1
client write log 8415099638083852562 (index 95) to leader 1
client write log 2608278660627880551 (index 96) to leader 1
client write log 7764601748366263901 (index 97) to leader 1
client write log 6150526529159300289 (index 98) to leader 1
client write log 4158236800908718884 (index 99) to leader 1
client write log 5915513454873418793 (index 100) to leader 1
client write log 806983841108176235 (index 101) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
flag 99272 term 16 leader 1 nextIndex[0]: 89  matchIndex[0]: 88
term 16 leader 1 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 16 leaderCommit: 88 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 0  matchIndex[2]: 87
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 13
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 13 79} {8035235835626243 13 80} {5815406045555015969 13 81} {8431743245376358876 13 82} {7434622117171209412 13 83} {7434622117171209412 15 84} {4952478198666933068 16 85} {5151892101690042843 16 86} {5747156433896808889 16 87} {2526086239910316163 16 88} {2801969469875728003 16 89} {3098453587459942473 16 90} {8155910882468819540 16 91} {2734862363730268389 16 92} {7657031846792284220 16 93} {1487659656470937007 16 94} {8415099638083852562 16 95} {2608278660627880551 16 96} {7764601748366263901 16 97} {6150526529159300289 16 98} {4158236800908718884 16 99} {5915513454873418793 16 100} {806983841108176235 16 101}]
------------------------------------------------------
term 16 Server1 start snapshot! index=89
term 16 server1 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=101
-------------------------------------------------------------
term 16 Server1 start snapshot! index=99
term 16 server1 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=101
-------------------------------------------------------------
flag 29570 term 16 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 16 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 0  matchIndex[2]: 87
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101}]
------------------------------------------------------
term 16 Server0 start snapshot! index=89
term 16 server0 snapshot success
lastIncludedIndex=89 lastApplied=90 lastIndex=101
-------------------------------------------------------------
term 16 Server0 start snapshot! index=99
term 16 server0 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=101
-------------------------------------------------------------
!!!!!!connect server 2
client write log 4888574799985997769 (index 102) to leader 1
term 16 server 1 not vote for server 2, 日志不够新
term 16 server 0 not vote for server 2, 日志不够新
term 18 server 2 vote for server 1
term 18 server 0 vote for server 1
term 18 server 1 get vote from server 2
term 18 server 1 become leader
------------------------------------------------------
term 18 server 1 get outdate rpc reply from server 0
flag 13117 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 85662 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 103->102
------------------------------------------------------
term 18 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 103->102
------------------------------------------------------
flag 83382 term 18 leader 1 nextIndex[0]: 102  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 88  matchIndex[2]: 0
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 18 server 2 InstallSnapshot success
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 16 rf.commitIndex 99 rf.lastApplied 99
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
flag 10110 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 37021 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
flag 68833 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 65164 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
flag 62818 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 16033 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
flag 18669 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 93655 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
flag 54988 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 56820 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 10732 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 60107 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 26019 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 68829 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71524 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 72975 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
flag 14985 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 15979 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
flag 2022 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 50729 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
flag 45650 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 84145 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95376 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 20789 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
flag 18787 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 37403 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
flag 80709 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 46038 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
term 18 server 2 not vote for server 1, 任期不够新
term 18 server 1 get outdate rpc reply from server 2
flag 22899 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 59197 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 3061 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 47549 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
flag 58927 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 6126 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49499 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 63768 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 4888574799985997769 (index 103) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42534 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
flag 44334 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102} {4888574799985997769 18 103}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102} {4888574799985997769 18 103}]
------------------------------------------------------
flag 35210 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 59171 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102} {4888574799985997769 18 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102} {4888574799985997769 18 103}]
------------------------------------------------------
flag 18362 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 94556 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102} {4888574799985997769 18 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102} {4888574799985997769 18 103}]
------------------------------------------------------
flag 19309 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 36658 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102} {4888574799985997769 18 103}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102} {4888574799985997769 18 103}]
------------------------------------------------------
term 18 server 1 not vote for server 0, 任期不够新
term 18 server 0 get outdate rpc reply from server 1
flag 92380 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 6127 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102} {4888574799985997769 18 103}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102} {4888574799985997769 18 103}]
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85968 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 94811 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102} {4888574799985997769 18 103}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102} {4888574799985997769 18 103}]
------------------------------------------------------
flag 47660 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 23039 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:103 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=104
update matchIndex[2]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102} {4888574799985997769 18 103}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102} {4888574799985997769 18 103}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5846310429313142404 (index 104) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71060 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 38259 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102} {4888574799985997769 18 103} {5846310429313142404 18 104}]
------------------------------------------------------
flag 89131 term 18 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 18 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
flag 12542 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=105
update matchIndex[0]=104
update leader CommitIndex=104
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102} {4888574799985997769 18 103} {5846310429313142404 18 104}]
------------------------------------------------------
client write log 9184255950276193324 (index 105) to leader 1
client write log 3389538114472159400 (index 106) to leader 1
client write log 55332747896937725 (index 107) to leader 1
client write log 3102282653884237165 (index 108) to leader 1
client write log 2963777462247923193 (index 109) to leader 1
client write log 3990683325956199950 (index 110) to leader 1
flag 88735 term 18 leader 1 nextIndex[0]: 105  matchIndex[0]: 104
term 18 leader 1 sendAppendEntries PrevLogIndex: 104  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
flag 86562 term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 104 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:104 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 16 99} {5915513454873418793 16 100} {806983841108176235 16 101} {4888574799985997769 16 102} {4888574799985997769 18 103} {5846310429313142404 18 104} {9184255950276193324 18 105} {3389538114472159400 18 106} {55332747896937725 18 107} {3102282653884237165 18 108} {2963777462247923193 18 109} {3990683325956199950 18 110}]
------------------------------------------------------
term 18 Server1 start snapshot! index=109
term 18 server1 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=110
-------------------------------------------------------------
flag 41422 term 18 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=111
update matchIndex[0]=110
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110}]
------------------------------------------------------
term 18 Server0 start snapshot! index=109
term 18 server0 snapshot success
lastIncludedIndex=109 lastApplied=110 lastIndex=110
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5545399987938754789 (index 111) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80809 term 18 leader 1 nextIndex[0]: 111  matchIndex[0]: 110
term 18 leader 1 sendAppendEntries PrevLogIndex: 110  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 104  matchIndex[2]: 103
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
term 19 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 20 server 2 vote for server 1
term 20 server 0 vote for server 1
term 20 server 1 get vote from server 2
term 20 server 1 become leader
------------------------------------------------------
term 20 server 1 get outdate rpc reply from server 0
flag 49852 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 40393 term 20 leader 1 nextIndex[2]: 112  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
term 20 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 112->111
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
flag 35626 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 104  matchIndex[2]: 0
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
term 20 server 2 InstallSnapshot success
------------------------------------------------------
term 20 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 18 rf.commitIndex 109 rf.lastApplied 109
term 20 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
flag 47116 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 7574 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
flag 69271 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 44410 term 20 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75395 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 8357 term 20 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
flag 47183 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 46554 term 20 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
flag 15110 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 32518 term 20 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86100 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 25741 term 20 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24786 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 14838 term 20 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
flag 53875 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 21334 term 20 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
flag 47069 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 54091 term 20 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67555 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 63634 term 20 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
flag 25234 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 49463 term 20 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
flag 50089 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 95115 term 20 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
flag 31880 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 41093 term 20 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
flag 20035 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 41308 term 20 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
flag 27788 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 94377 term 20 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1575 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 64053 term 20 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
flag 55033 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 78444 term 20 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=112
update matchIndex[2]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=112
update matchIndex[0]=111
update leader CommitIndex=110
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111}]
------------------------------------------------------
term 20 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 5545399987938754789 (index 112) to leader 1
flag 96818 term 20 leader 1 nextIndex[0]: 112  matchIndex[0]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
flag 99582 term 20 leader 1 nextIndex[2]: 112  matchIndex[2]: 111
term 20 leader 1 sendAppendEntries PrevLogIndex: 111  PrevLogTerm: 18 leaderCommit: 110 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:110 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 20 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6085 term 20 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 42907 term 20 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112}]
------------------------------------------------------
flag 75883 term 20 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 69493 term 20 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112}]
------------------------------------------------------
flag 34766 term 20 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 13230 term 20 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112}]
------------------------------------------------------
flag 96826 term 20 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 61526 term 20 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112}]
------------------------------------------------------
flag 98938 term 20 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 52256 term 20 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112}]
------------------------------------------------------
flag 23779 term 20 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 99298 term 20 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 81563 term 20 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 60581 term 20 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 18293 term 20 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 85196 term 20 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 86243 term 20 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 88383 term 20 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 85766 term 20 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 87316 term 20 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 vote for server 0
term 21 server 0 get vote from server 2
term 21 server 0 become leader
------------------------------------------------------
flag 78343 term 21 leader 0 nextIndex[1]: 113  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 88887 term 21 leader 0 nextIndex[2]: 113  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=113
update matchIndex[2]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112}]
------------------------------------------------------
client write log 1828429896595482628 (index 113) to leader 0
flag 60101 term 20 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 56392 term 20 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67674 term 21 leader 0 nextIndex[1]: 113  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 91035 term 21 leader 0 nextIndex[2]: 113  matchIndex[2]: 112
term 21 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113}]
------------------------------------------------------
flag 81122 term 20 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 89464 term 20 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 95412 term 21 leader 0 nextIndex[1]: 113  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 113 
------------------------------------------------------
flag 6503 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=113
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113}]
------------------------------------------------------
client write log 8161366785659247874 (index 114) to leader 0
flag 94381 term 20 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 39594 term 20 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 46158 term 21 leader 0 nextIndex[1]: 113  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 113 
------------------------------------------------------
flag 76234 term 21 leader 0 nextIndex[2]: 114  matchIndex[2]: 113
term 21 leader 0 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 21 leaderCommit: 113 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
flag 94489 term 20 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 43526 term 20 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 42059 term 21 leader 0 nextIndex[1]: 113  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
flag 84413 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
!!!!!!connect server 1
client write log 4580401635017622765 (index 113) to leader 1
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 113->112
------------------------------------------------------
flag 32335 term 20 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
flag 13256 term 20 leader 1 nextIndex[2]: 113  matchIndex[2]: 112
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 20 leaderCommit: 112 
------------------------------------------------------
term 21 server 2 AppendEntries false 领导者任期过期 args.Term 20
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 21 server 0 AppendEntries false 领导者任期过期 args.Term 20
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
flag 34609 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
term 21 server 1 InstallSnapshot fail
rf.commitIndex 112 args.LastIncludedIndex 109
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
flag 4442 term 21 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 21 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 114 
------------------------------------------------------
flag 2525 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:113 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
flag 17153 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 89112 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62127 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 14348 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47239 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 33289 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 115->114
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 0  matchIndex[1]: 114
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
flag 6671 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
term 21 server 1 InstallSnapshot fail
rf.commitIndex 114 args.LastIncludedIndex 109
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
flag 80680 term 21 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 21 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 114 
------------------------------------------------------
flag 73769 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36566 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 18381 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
flag 65120 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 75711 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 0 not vote for server 2, 任期不够新
term 21 server 2 get outdate rpc reply from server 0
flag 19231 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 60072 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
flag 80200 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 49143 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7684 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 55297 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
flag 89457 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 18986 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
flag 12598 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 86924 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
flag 91766 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 59762 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
flag 49640 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 87133 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
flag 47078 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 48326 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
flag 30209 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 16976 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 115->114
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 0  matchIndex[1]: 114
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
flag 96808 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 1 InstallSnapshot fail
rf.commitIndex 114 args.LastIncludedIndex 109
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
flag 29947 term 21 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 21 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 114 
------------------------------------------------------
flag 12639 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=115
update matchIndex[1]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114}]
------------------------------------------------------
client write log 4580401635017622765 (index 115) to leader 0
flag 24647 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
flag 22274 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 21 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114} {4580401635017622765 21 115}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114} {4580401635017622765 21 115}]
------------------------------------------------------
flag 25914 term 21 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 79642 term 21 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114} {4580401635017622765 21 115}]
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114} {4580401635017622765 21 115}]
------------------------------------------------------
flag 31499 term 21 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 60376 term 21 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114} {4580401635017622765 21 115}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114} {4580401635017622765 21 115}]
------------------------------------------------------
flag 3358 term 21 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 25690 term 21 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114} {4580401635017622765 21 115}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114} {4580401635017622765 21 115}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 116->115
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 0  matchIndex[1]: 115
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
flag 61399 term 21 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114} {4580401635017622765 21 115}]
------------------------------------------------------
term 21 server 1 InstallSnapshot fail
rf.commitIndex 115 args.LastIncludedIndex 109
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
term 21 server 1 not vote for server 2, 任期不够新
term 21 server 2 get outdate rpc reply from server 1
flag 39775 term 21 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 21 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 115 
------------------------------------------------------
flag 73196 term 21 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114} {4580401635017622765 21 115}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114} {4580401635017622765 21 115}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80995 term 21 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 3458 term 21 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114} {4580401635017622765 21 115}]
------------------------------------------------------
term 21 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=116
update matchIndex[1]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114} {4580401635017622765 21 115}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1777855035541998857 (index 116) to leader 0
flag 20939 term 21 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
flag 52728 term 21 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114} {4580401635017622765 21 115} {1777855035541998857 21 116}]
------------------------------------------------------
flag 6038 term 21 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 89946 term 21 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 21 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114} {4580401635017622765 21 115} {1777855035541998857 21 116}]
------------------------------------------------------
client write log 8923070242498843963 (index 117) to leader 0
client write log 5273027478531566359 (index 118) to leader 0
client write log 4016217365099167012 (index 119) to leader 0
client write log 3286326634739418627 (index 120) to leader 0
client write log 3393169022438565398 (index 121) to leader 0
client write log 5694610636405351632 (index 122) to leader 0
flag 30441 term 21 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 61290 term 21 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 21 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 18 109} {3990683325956199950 18 110} {5545399987938754789 18 111} {5545399987938754789 20 112} {1828429896595482628 21 113} {8161366785659247874 21 114} {4580401635017622765 21 115} {1777855035541998857 21 116} {8923070242498843963 21 117} {5273027478531566359 21 118} {4016217365099167012 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122}]
------------------------------------------------------
term 21 Server0 start snapshot! index=119
term 21 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=122
-------------------------------------------------------------
term 21 leader 0 nextIndex[1]: 116  matchIndex[1]: 115
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 33708 term 21 leader 0 nextIndex[2]: 123  matchIndex[2]: 122
term 21 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=123
update matchIndex[2]=122
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122}]
------------------------------------------------------
term 21 Server2 start snapshot! index=119
term 21 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=122
-------------------------------------------------------------
!!!!!!connect server 1
client write log 298966909184190280 (index 123) to leader 0
term 21 server 2 not vote for server 1, 日志不够新
term 21 server 0 not vote for server 1, 日志不够新
term 23 server 2 vote for server 0
term 23 server 1 vote for server 0
term 23 server 0 get vote from server 1
term 23 server 0 become leader
------------------------------------------------------
term 23 server 0 get outdate rpc reply from server 2
flag 43050 term 23 leader 0 nextIndex[1]: 124  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 93334 term 23 leader 0 nextIndex[2]: 124  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 23 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 124->123
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 124->123
------------------------------------------------------
term 23 leader 0 nextIndex[1]: 116  matchIndex[1]: 0
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 21
------------------------------------------------------
flag 35662 term 23 leader 0 nextIndex[2]: 123  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 122  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
term 23 server 1 InstallSnapshot success
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 21 rf.commitIndex 119 rf.lastApplied 119
flag 36123 term 23 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 23 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 60040 term 23 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
flag 17428 term 23 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 56499 term 23 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
flag 38324 term 23 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 91863 term 23 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9038 term 23 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 77957 term 23 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
flag 74360 term 23 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 47594 term 23 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
flag 63467 term 23 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 78185 term 23 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
flag 30260 term 23 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 69185 term 23 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 77456 term 23 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 2094 term 23 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
flag 84527 term 23 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 26567 term 23 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2924 term 23 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 28199 term 23 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
term 23 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
flag 3161 term 23 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 28283 term 23 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57630 term 23 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 98863 term 23 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 89789 term 23 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 5590 term 23 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
flag 15280 term 23 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 50951 term 23 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79792 term 23 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 36836 term 23 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
flag 77118 term 23 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 49531 term 23 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
flag 47512 term 23 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 35386 term 23 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=124
update matchIndex[1]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=124
update matchIndex[2]=123
update leader CommitIndex=122
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 298966909184190280 (index 124) to leader 0
flag 6721 term 23 leader 0 nextIndex[1]: 124  matchIndex[1]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
flag 7501 term 23 leader 0 nextIndex[2]: 124  matchIndex[2]: 123
term 23 leader 0 sendAppendEntries PrevLogIndex: 123  PrevLogTerm: 21 leaderCommit: 122 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:122 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:122 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123} {298966909184190280 23 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123} {298966909184190280 23 124}]
------------------------------------------------------
flag 31595 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
flag 58963 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123} {298966909184190280 23 124}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123} {298966909184190280 23 124}]
------------------------------------------------------
term 23 server 1 not vote for server 0, 任期不够新
term 23 server 0 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54636 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
flag 16902 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123} {298966909184190280 23 124}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123} {298966909184190280 23 124}]
------------------------------------------------------
flag 6995 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
flag 55135 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123} {298966909184190280 23 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123} {298966909184190280 23 124}]
------------------------------------------------------
flag 56963 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
flag 87455 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123} {298966909184190280 23 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123} {298966909184190280 23 124}]
------------------------------------------------------
flag 94741 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
flag 32014 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123} {298966909184190280 23 124}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123} {298966909184190280 23 124}]
------------------------------------------------------
flag 73185 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
flag 66829 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=125
update matchIndex[2]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123} {298966909184190280 23 124}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=125
update matchIndex[1]=124
update leader CommitIndex=124
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123} {298966909184190280 23 124}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2292867654254034547 (index 125) to leader 0
flag 383 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
flag 50433 term 23 leader 0 nextIndex[2]: 125  matchIndex[2]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 124 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:124 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123} {298966909184190280 23 124} {2292867654254034547 23 125}]
------------------------------------------------------
flag 68702 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
flag 43383 term 23 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123} {298966909184190280 23 124} {2292867654254034547 23 125}]
------------------------------------------------------
client write log 2646595406784038251 (index 126) to leader 0
client write log 9077974922042607755 (index 127) to leader 0
client write log 7080727934034044636 (index 128) to leader 0
client write log 8233239806494697683 (index 129) to leader 0
client write log 163507670194238623 (index 130) to leader 0
client write log 7626427088705895191 (index 131) to leader 0
client write log 8422311107377274674 (index 132) to leader 0
client write log 1660562438276527443 (index 133) to leader 0
client write log 4114132717579339399 (index 134) to leader 0
client write log 3284246873130950405 (index 135) to leader 0
flag 55073 term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendAppendEntries PrevLogIndex: 124  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
flag 62815 term 23 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 23 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 23 leaderCommit: 125 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 21 119} {3286326634739418627 21 120} {3393169022438565398 21 121} {5694610636405351632 21 122} {298966909184190280 21 123} {298966909184190280 23 124} {2292867654254034547 23 125} {2646595406784038251 23 126} {9077974922042607755 23 127} {7080727934034044636 23 128} {8233239806494697683 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135}]
------------------------------------------------------
term 23 Server0 start snapshot! index=129
term 23 server0 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=135
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 leader 0 nextIndex[1]: 125  matchIndex[1]: 124
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
flag 91219 term 23 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 23 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135}]
------------------------------------------------------
term 23 Server2 start snapshot! index=129
term 23 server2 snapshot success
lastIncludedIndex=129 lastApplied=129 lastIndex=135
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4428214706528025347 (index 136) to leader 0
term 23 server 2 not vote for server 1, 日志不够新
term 23 server 0 not vote for server 1, 日志不够新
term 25 server 2 vote for server 0
term 25 server 0 get vote from server 2
term 25 server 0 become leader
------------------------------------------------------
term 25 server 1 vote for server 0
term 25 server 0 get outdate rpc reply from server 1
flag 39225 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 53659 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 25 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 25 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 137->136
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 137->136
------------------------------------------------------
term 25 leader 0 nextIndex[1]: 125  matchIndex[1]: 0
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
flag 24716 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
term 25 server 1 InstallSnapshot success
------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 130 matchIndex[1] 129 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 23 rf.commitIndex 129 rf.lastApplied 129
flag 33042 term 25 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 28199 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
flag 87686 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 93550 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
flag 90377 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 64556 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
flag 1427 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 77752 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
flag 17153 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 63196 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
flag 5055 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 79382 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
flag 86887 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 38586 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
flag 1763 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 57646 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
flag 17565 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 32365 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
flag 81342 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 57490 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
flag 26841 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 72297 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
flag 71814 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 33260 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28042 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 60191 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
flag 37065 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 28038 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
flag 38489 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 2223 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
flag 54941 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 99823 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
flag 61168 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 35033 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:135 
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
flag 37206 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 28675 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=135
leader log:
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=137
update matchIndex[1]=136
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136}]
------------------------------------------------------
client write log 4428214706528025347 (index 137) to leader 0
flag 97314 term 25 leader 0 nextIndex[1]: 137  matchIndex[1]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
flag 26472 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 23 leaderCommit: 135 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136} {4428214706528025347 25 137}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136} {4428214706528025347 25 137}]
------------------------------------------------------
flag 55283 term 25 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 25 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
flag 23394 term 25 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 25 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136} {4428214706528025347 25 137}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136} {4428214706528025347 25 137}]
------------------------------------------------------
flag 2480 term 25 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 25 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
flag 76703 term 25 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 25 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136} {4428214706528025347 25 137}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136} {4428214706528025347 25 137}]
------------------------------------------------------
flag 96714 term 25 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 25 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
flag 54399 term 25 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 25 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136} {4428214706528025347 25 137}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136} {4428214706528025347 25 137}]
------------------------------------------------------
flag 26341 term 25 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 25 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
flag 22772 term 25 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 25 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136} {4428214706528025347 25 137}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136} {4428214706528025347 25 137}]
------------------------------------------------------
flag 25153 term 25 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 25 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
flag 20327 term 25 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 25 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136} {4428214706528025347 25 137}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136} {4428214706528025347 25 137}]
------------------------------------------------------
flag 3648 term 25 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 25 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
flag 40405 term 25 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 25 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=138
update matchIndex[2]=137
update leader CommitIndex=137
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136} {4428214706528025347 25 137}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=138
update matchIndex[1]=137
update leader CommitIndex=137
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136} {4428214706528025347 25 137}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 93537 term 25 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 25 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
flag 83344 term 25 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 25 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
flag 87939 term 25 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 25 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
flag 31385 term 25 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 25 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
flag 76428 term 25 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 25 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
flag 1776 term 25 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 25 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
flag 90503 term 25 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 25 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
flag 41691 term 25 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 25 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
term 26 server 2 vote for server 1
term 26 server 1 get vote from server 2
term 26 server 1 become leader
------------------------------------------------------
client write log 3719605420036165803 (index 138) to leader 1
flag 93926 term 26 leader 1 nextIndex[0]: 138  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
flag 27850 term 26 leader 1 nextIndex[2]: 138  matchIndex[2]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:137 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=138
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136} {4428214706528025347 25 137} {3719605420036165803 26 138}]
------------------------------------------------------
flag 84412 term 25 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 25 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
flag 51947 term 25 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 25 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
flag 13658 term 26 leader 1 nextIndex[0]: 138  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 138 
------------------------------------------------------
flag 71544 term 26 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 26 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 26 leaderCommit: 138 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=139
update matchIndex[2]=138
update leader CommitIndex=138
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136} {4428214706528025347 25 137} {3719605420036165803 26 138}]
------------------------------------------------------
client write log 6172831734564096436 (index 139) to leader 1
client write log 5635371301644867598 (index 140) to leader 1
client write log 4299868482460240951 (index 141) to leader 1
client write log 8864745691689137383 (index 142) to leader 1
client write log 6514875872357081308 (index 143) to leader 1
client write log 2728896497432071452 (index 144) to leader 1
client write log 7731675071833966690 (index 145) to leader 1
client write log 1856709983770843605 (index 146) to leader 1
client write log 5204666150193548667 (index 147) to leader 1
flag 39659 term 25 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 25 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
flag 15468 term 25 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 25 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
flag 96951 term 26 leader 1 nextIndex[0]: 138  matchIndex[0]: 0
term 26 leader 1 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 138 
------------------------------------------------------
flag 90256 term 26 leader 1 nextIndex[2]: 139  matchIndex[2]: 138
term 26 leader 1 sendAppendEntries PrevLogIndex: 138  PrevLogTerm: 26 leaderCommit: 138 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:138 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 23 129} {163507670194238623 23 130} {7626427088705895191 23 131} {8422311107377274674 23 132} {1660562438276527443 23 133} {4114132717579339399 23 134} {3284246873130950405 23 135} {4428214706528025347 23 136} {4428214706528025347 25 137} {3719605420036165803 26 138} {6172831734564096436 26 139} {5635371301644867598 26 140} {4299868482460240951 26 141} {8864745691689137383 26 142} {6514875872357081308 26 143} {2728896497432071452 26 144} {7731675071833966690 26 145} {1856709983770843605 26 146} {5204666150193548667 26 147}]
------------------------------------------------------
term 26 Server1 start snapshot! index=139
term 26 server1 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=147
-------------------------------------------------------------
flag 35732 term 25 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 25 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
flag 55077 term 25 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 25 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
term 26 leader 1 nextIndex[0]: 138  matchIndex[0]: 0
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 26
------------------------------------------------------
flag 21696 term 26 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 26 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 26 139} {5635371301644867598 26 140} {4299868482460240951 26 141} {8864745691689137383 26 142} {6514875872357081308 26 143} {2728896497432071452 26 144} {7731675071833966690 26 145} {1856709983770843605 26 146} {5204666150193548667 26 147}]
------------------------------------------------------
term 26 Server2 start snapshot! index=139
term 26 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=147
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7782241409222552981 (index 148) to leader 1
flag 64937 term 25 leader 0 nextIndex[1]: 138  matchIndex[1]: 137
term 25 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
flag 54587 term 25 leader 0 nextIndex[2]: 138  matchIndex[2]: 137
term 25 leader 0 sendAppendEntries PrevLogIndex: 137  PrevLogTerm: 25 leaderCommit: 137 
------------------------------------------------------
term 26 server 2 AppendEntries false 领导者任期过期 args.Term 25
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 26 server 1 AppendEntries false 领导者任期过期 args.Term 25
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 1 nextIndex[0]: 138  matchIndex[0]: 0
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 26
------------------------------------------------------
flag 23929 term 26 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 26 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 26 leaderCommit: 147 
------------------------------------------------------
term 26 server 0 InstallSnapshot success
------------------------------------------------------
term 26 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 26 rf.commitIndex 139 rf.lastApplied 139
term 26 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 26 139} {5635371301644867598 26 140} {4299868482460240951 26 141} {8864745691689137383 26 142} {6514875872357081308 26 143} {2728896497432071452 26 144} {7731675071833966690 26 145} {1856709983770843605 26 146} {5204666150193548667 26 147} {7782241409222552981 26 148}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37764 term 26 leader 1 nextIndex[0]: 140  matchIndex[0]: 139
term 26 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
flag 49784 term 26 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 26 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 26 139} {5635371301644867598 26 140} {4299868482460240951 26 141} {8864745691689137383 26 142} {6514875872357081308 26 143} {2728896497432071452 26 144} {7731675071833966690 26 145} {1856709983770843605 26 146} {5204666150193548667 26 147} {7782241409222552981 26 148}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 26 139} {5635371301644867598 26 140} {4299868482460240951 26 141} {8864745691689137383 26 142} {6514875872357081308 26 143} {2728896497432071452 26 144} {7731675071833966690 26 145} {1856709983770843605 26 146} {5204666150193548667 26 147} {7782241409222552981 26 148}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25069 term 26 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 26 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
flag 9602 term 26 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 26 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 26 139} {5635371301644867598 26 140} {4299868482460240951 26 141} {8864745691689137383 26 142} {6514875872357081308 26 143} {2728896497432071452 26 144} {7731675071833966690 26 145} {1856709983770843605 26 146} {5204666150193548667 26 147} {7782241409222552981 26 148}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 26 139} {5635371301644867598 26 140} {4299868482460240951 26 141} {8864745691689137383 26 142} {6514875872357081308 26 143} {2728896497432071452 26 144} {7731675071833966690 26 145} {1856709983770843605 26 146} {5204666150193548667 26 147} {7782241409222552981 26 148}]
------------------------------------------------------
flag 52754 term 26 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 26 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
flag 63687 term 26 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 26 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 26 139} {5635371301644867598 26 140} {4299868482460240951 26 141} {8864745691689137383 26 142} {6514875872357081308 26 143} {2728896497432071452 26 144} {7731675071833966690 26 145} {1856709983770843605 26 146} {5204666150193548667 26 147} {7782241409222552981 26 148}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 26 139} {5635371301644867598 26 140} {4299868482460240951 26 141} {8864745691689137383 26 142} {6514875872357081308 26 143} {2728896497432071452 26 144} {7731675071833966690 26 145} {1856709983770843605 26 146} {5204666150193548667 26 147} {7782241409222552981 26 148}]
------------------------------------------------------
flag 95986 term 26 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 26 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
flag 27871 term 26 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 26 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 26 139} {5635371301644867598 26 140} {4299868482460240951 26 141} {8864745691689137383 26 142} {6514875872357081308 26 143} {2728896497432071452 26 144} {7731675071833966690 26 145} {1856709983770843605 26 146} {5204666150193548667 26 147} {7782241409222552981 26 148}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 26 139} {5635371301644867598 26 140} {4299868482460240951 26 141} {8864745691689137383 26 142} {6514875872357081308 26 143} {2728896497432071452 26 144} {7731675071833966690 26 145} {1856709983770843605 26 146} {5204666150193548667 26 147} {7782241409222552981 26 148}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33553 term 26 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 26 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
flag 4184 term 26 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 26 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 26 139} {5635371301644867598 26 140} {4299868482460240951 26 141} {8864745691689137383 26 142} {6514875872357081308 26 143} {2728896497432071452 26 144} {7731675071833966690 26 145} {1856709983770843605 26 146} {5204666150193548667 26 147} {7782241409222552981 26 148}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 26 139} {5635371301644867598 26 140} {4299868482460240951 26 141} {8864745691689137383 26 142} {6514875872357081308 26 143} {2728896497432071452 26 144} {7731675071833966690 26 145} {1856709983770843605 26 146} {5204666150193548667 26 147} {7782241409222552981 26 148}]
------------------------------------------------------
flag 45920 term 26 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 26 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
flag 22307 term 26 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 26 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 26 139} {5635371301644867598 26 140} {4299868482460240951 26 141} {8864745691689137383 26 142} {6514875872357081308 26 143} {2728896497432071452 26 144} {7731675071833966690 26 145} {1856709983770843605 26 146} {5204666150193548667 26 147} {7782241409222552981 26 148}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 26 139} {5635371301644867598 26 140} {4299868482460240951 26 141} {8864745691689137383 26 142} {6514875872357081308 26 143} {2728896497432071452 26 144} {7731675071833966690 26 145} {1856709983770843605 26 146} {5204666150193548667 26 147} {7782241409222552981 26 148}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92078 term 26 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 26 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
flag 41022 term 26 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 26 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
term 26 server 2 AppendEntries true commitIndex:148 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:148 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=149
update matchIndex[2]=148
update leader CommitIndex=148
leader log:
[{snapshot 26 139} {5635371301644867598 26 140} {4299868482460240951 26 141} {8864745691689137383 26 142} {6514875872357081308 26 143} {2728896497432071452 26 144} {7731675071833966690 26 145} {1856709983770843605 26 146} {5204666150193548667 26 147} {7782241409222552981 26 148}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=149
update matchIndex[0]=148
update leader CommitIndex=148
leader log:
[{snapshot 26 139} {5635371301644867598 26 140} {4299868482460240951 26 141} {8864745691689137383 26 142} {6514875872357081308 26 143} {2728896497432071452 26 144} {7731675071833966690 26 145} {1856709983770843605 26 146} {5204666150193548667 26 147} {7782241409222552981 26 148}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 3597540783525928394 (index 149) to leader 1
term 26 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 94630 term 26 leader 1 nextIndex[0]: 149  matchIndex[0]: 148
term 26 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
flag 71639 term 26 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 26 leader 1 sendAppendEntries PrevLogIndex: 148  PrevLogTerm: 26 leaderCommit: 148 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:148 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 139} {5635371301644867598 26 140} {4299868482460240951 26 141} {8864745691689137383 26 142} {6514875872357081308 26 143} {2728896497432071452 26 144} {7731675071833966690 26 145} {1856709983770843605 26 146} {5204666150193548667 26 147} {7782241409222552981 26 148} {3597540783525928394 26 149}]
------------------------------------------------------
term 26 Server1 start snapshot! index=149
term 26 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98452 term 26 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 26 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=150
update matchIndex[0]=149
update leader CommitIndex=149
leader log:
[{snapshot 26 149}]
------------------------------------------------------
term 26 Server0 start snapshot! index=149
term 26 server0 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=149
-------------------------------------------------------------
client write log 566583305344039258 (index 150) to leader 1
client write log 7851593659516411777 (index 151) to leader 1
client write log 1366871273550960597 (index 152) to leader 1
client write log 6565416025617923577 (index 153) to leader 1
client write log 3441429972373201836 (index 154) to leader 1
client write log 802953364571641611 (index 155) to leader 1
client write log 8769307367845782307 (index 156) to leader 1
flag 34847 term 26 leader 1 nextIndex[0]: 150  matchIndex[0]: 149
term 26 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 149 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:149 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25531 term 26 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=157
update matchIndex[0]=156
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156}]
------------------------------------------------------
!!!!!!connect server 2
client write log 1360401396993130150 (index 157) to leader 1
flag 89151 term 26 leader 1 nextIndex[0]: 157  matchIndex[0]: 156
term 26 leader 1 sendAppendEntries PrevLogIndex: 156  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 26 leader 1 nextIndex[2]: 149  matchIndex[2]: 148
term 26 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
term 27 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot fail
term 26 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 server 2 vote for server 1
term 28 server 1 get vote from server 2
term 28 server 1 become leader
------------------------------------------------------
term 28 server 0 vote for server 1
term 28 server 1 get outdate rpc reply from server 0
flag 54031 term 28 leader 1 nextIndex[0]: 158  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 16734 term 28 leader 1 nextIndex[2]: 158  matchIndex[2]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 28 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 158->157
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
term 28 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 97911 term 28 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 149  matchIndex[2]: 0
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 26
------------------------------------------------------
term 28 server 2 InstallSnapshot success
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 150 matchIndex[2] 149 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 149 rf.lastIncludedTerm 26 rf.commitIndex 149 rf.lastApplied 149
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
flag 21287 term 28 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 43554 term 28 leader 1 nextIndex[2]: 150  matchIndex[2]: 149
term 28 leader 1 sendAppendEntries PrevLogIndex: 149  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:149 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
flag 62730 term 28 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 6770 term 28 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59417 term 28 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 47360 term 28 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
flag 35552 term 28 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 363 term 28 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22979 term 28 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 96288 term 28 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
flag 17046 term 28 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 1698 term 28 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
flag 86492 term 28 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 16599 term 28 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
flag 86596 term 28 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 59828 term 28 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
flag 47860 term 28 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 6748 term 28 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69217 term 28 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 20788 term 28 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
flag 99418 term 28 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 43010 term 28 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
flag 43323 term 28 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 94795 term 28 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78625 term 28 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 86906 term 28 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
flag 97055 term 28 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 10047 term 28 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77317 term 28 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 33209 term 28 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
flag 3062 term 28 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 34349 term 28 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31842 term 28 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 99662 term 28 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=158
update matchIndex[2]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=158
update matchIndex[0]=157
update leader CommitIndex=156
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157}]
------------------------------------------------------
client write log 1360401396993130150 (index 158) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36606 term 28 leader 1 nextIndex[0]: 158  matchIndex[0]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
flag 57794 term 28 leader 1 nextIndex[2]: 158  matchIndex[2]: 157
term 28 leader 1 sendAppendEntries PrevLogIndex: 157  PrevLogTerm: 26 leaderCommit: 156 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:156 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:156 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157} {1360401396993130150 28 158}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157} {1360401396993130150 28 158}]
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10871 term 28 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 158 
------------------------------------------------------
flag 99646 term 28 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 158 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157} {1360401396993130150 28 158}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157} {1360401396993130150 28 158}]
------------------------------------------------------
flag 15909 term 28 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 158 
------------------------------------------------------
flag 47183 term 28 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 158 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157} {1360401396993130150 28 158}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157} {1360401396993130150 28 158}]
------------------------------------------------------
flag 61192 term 28 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 158 
------------------------------------------------------
flag 82991 term 28 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 158 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157} {1360401396993130150 28 158}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157} {1360401396993130150 28 158}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75411 term 28 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 158 
------------------------------------------------------
flag 50326 term 28 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 158 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157} {1360401396993130150 28 158}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157} {1360401396993130150 28 158}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36567 term 28 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 158 
------------------------------------------------------
flag 29508 term 28 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 158 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157} {1360401396993130150 28 158}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157} {1360401396993130150 28 158}]
------------------------------------------------------
flag 22839 term 28 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 158 
------------------------------------------------------
flag 66400 term 28 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 158 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:158 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=159
update matchIndex[2]=158
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157} {1360401396993130150 28 158}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157} {1360401396993130150 28 158}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 2288466459623481642 (index 159) to leader 1
flag 17832 term 28 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 158 
------------------------------------------------------
flag 96901 term 28 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 28 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 28 leaderCommit: 158 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 26 149} {566583305344039258 26 150} {7851593659516411777 26 151} {1366871273550960597 26 152} {6565416025617923577 26 153} {3441429972373201836 26 154} {802953364571641611 26 155} {8769307367845782307 26 156} {1360401396993130150 26 157} {1360401396993130150 28 158} {2288466459623481642 28 159}]
------------------------------------------------------
term 28 Server1 start snapshot! index=159
term 28 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
flag 24226 term 28 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 28
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 28 159}]
------------------------------------------------------
term 28 Server0 start snapshot! index=159
term 28 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
client write log 2863837469155988734 (index 160) to leader 1
client write log 2597578085924302597 (index 161) to leader 1
client write log 1557059071943434147 (index 162) to leader 1
client write log 2931203839389400630 (index 163) to leader 1
client write log 2656006987888819627 (index 164) to leader 1
client write log 3047314847973233036 (index 165) to leader 1
client write log 4593389486687232400 (index 166) to leader 1
client write log 3779677339085805726 (index 167) to leader 1
client write log 5988414569616044517 (index 168) to leader 1
client write log 92758903375766012 (index 169) to leader 1
client write log 2490811877285784877 (index 170) to leader 1
client write log 1041901064289577265 (index 171) to leader 1
client write log 8852905353195611113 (index 172) to leader 1
client write log 1451970277547800282 (index 173) to leader 1
client write log 7321677896219499376 (index 174) to leader 1
flag 4654 term 28 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 159 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 28
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 159} {2863837469155988734 28 160} {2597578085924302597 28 161} {1557059071943434147 28 162} {2931203839389400630 28 163} {2656006987888819627 28 164} {3047314847973233036 28 165} {4593389486687232400 28 166} {3779677339085805726 28 167} {5988414569616044517 28 168} {92758903375766012 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174}]
------------------------------------------------------
term 28 Server1 start snapshot! index=169
term 28 server1 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=174
-------------------------------------------------------------
flag 69556 term 28 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 28 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=175
update matchIndex[0]=174
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174}]
------------------------------------------------------
term 28 Server0 start snapshot! index=169
term 28 server0 snapshot success
lastIncludedIndex=169 lastApplied=169 lastIndex=174
-------------------------------------------------------------
!!!!!!connect server 2
client write log 3682711369657725237 (index 175) to leader 1
flag 41813 term 28 leader 1 nextIndex[0]: 175  matchIndex[0]: 174
term 28 leader 1 sendAppendEntries PrevLogIndex: 174  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 159  matchIndex[2]: 158
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
term 29 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
term 28 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 30 server 2 vote for server 1
term 30 server 0 vote for server 1
term 30 server 1 get vote from server 2
term 30 server 1 become leader
------------------------------------------------------
term 30 server 1 get outdate rpc reply from server 0
flag 17216 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 88120 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
term 30 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 176->175
------------------------------------------------------
flag 80073 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 leader 1 nextIndex[2]: 159  matchIndex[2]: 0
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
term 30 server 2 InstallSnapshot success
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
term 30 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 170 matchIndex[2] 169 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 28 rf.commitIndex 169 rf.lastApplied 169
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
flag 81955 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 95163 term 30 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48126 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 90651 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
flag 87433 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 8299 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
flag 25887 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 1532 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
flag 80616 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 43250 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
flag 31074 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 18914 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64603 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 91951 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
flag 7577 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 56369 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
flag 67835 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 27271 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16119 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 33659 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93002 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 87464 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35653 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 26604 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
flag 28450 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 50633 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
flag 55442 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 97120 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
flag 99448 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 72456 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
flag 72196 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 4324 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86393 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 76774 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=176
update matchIndex[2]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=174
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175}]
------------------------------------------------------
client write log 3682711369657725237 (index 176) to leader 1
term 30 server 1 not vote for server 2, 任期不够新
term 30 server 2 get outdate rpc reply from server 1
term 30 server 1 not vote for server 2, 任期不够新
term 30 server 2 get outdate rpc reply from server 1
term 30 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6800 term 30 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
flag 97283 term 30 leader 1 nextIndex[2]: 176  matchIndex[2]: 175
term 30 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 28 leaderCommit: 174 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:174 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176}]
------------------------------------------------------
term 30 server 0 not vote for server 1, 任期不够新
term 30 server 1 get outdate rpc reply from server 0
flag 47772 term 30 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 35259 term 30 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176}]
------------------------------------------------------
flag 93054 term 30 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 10813 term 30 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176}]
------------------------------------------------------
flag 72587 term 30 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 80347 term 30 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176}]
------------------------------------------------------
flag 33159 term 30 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 79628 term 30 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176}]
------------------------------------------------------
flag 48129 term 30 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 95199 term 30 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176}]
------------------------------------------------------
flag 34272 term 30 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 60787 term 30 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 69506 term 30 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 86707 term 30 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 20197 term 30 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 24359 term 30 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 55392 term 30 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 80007 term 30 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 vote for server 0
term 31 server 0 get vote from server 2
term 31 server 0 become leader
------------------------------------------------------
flag 1300 term 31 leader 0 nextIndex[1]: 177  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 67841 term 31 leader 0 nextIndex[2]: 177  matchIndex[2]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=176
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176}]
------------------------------------------------------
client write log 7225391495800626319 (index 177) to leader 0
flag 48147 term 30 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 82490 term 30 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 64087 term 31 leader 0 nextIndex[1]: 177  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 31349 term 31 leader 0 nextIndex[2]: 177  matchIndex[2]: 176
term 31 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:176 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177}]
------------------------------------------------------
flag 39569 term 30 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 14104 term 30 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 16357 term 31 leader 0 nextIndex[1]: 177  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
flag 44722 term 31 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 31 leaderCommit: 177 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177}]
------------------------------------------------------
client write log 4467852751378082917 (index 178) to leader 0
flag 51541 term 30 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 37437 term 30 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 89124 term 31 leader 0 nextIndex[1]: 177  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 177 
------------------------------------------------------
flag 23024 term 31 leader 0 nextIndex[2]: 178  matchIndex[2]: 177
term 31 leader 0 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 31 leaderCommit: 177 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
flag 49584 term 30 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 79442 term 30 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 38828 term 31 leader 0 nextIndex[1]: 177  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 66564 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
flag 57493 term 30 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
flag 16402 term 30 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 30 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 176 
------------------------------------------------------
!!!!!!connect server 1
client write log 5369704269188701624 (index 177) to leader 1
term 31 server 0 not vote for server 2, 任期不够新
term 31 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 177->176
------------------------------------------------------
flag 27510 term 31 leader 0 nextIndex[1]: 177  matchIndex[1]: 0
term 31 leader 0 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 30 leaderCommit: 178 
------------------------------------------------------
flag 38094 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
flag 74605 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 41974 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
flag 88895 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 51606 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
flag 88945 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 67384 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40029 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 42474 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
flag 80851 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 79196 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
flag 91583 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 2644 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
flag 67596 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 5699 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
flag 17628 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 74873 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
flag 92292 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 28363 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
flag 63005 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 73978 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
flag 43472 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 55107 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
flag 65076 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 5399 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
flag 24225 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 20728 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 179->178
------------------------------------------------------
term 31 leader 0 nextIndex[1]: 0  matchIndex[1]: 178
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 63271 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 1 InstallSnapshot fail
rf.commitIndex 178 args.LastIncludedIndex 169
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
flag 92680 term 31 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 31 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
flag 79442 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50560 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 11603 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
flag 26968 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 81553 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
term 31 server 1 not vote for server 0, 日志不够新
term 31 server 0 get outdate rpc reply from server 1
term 31 server 0 not vote for server 2, 任期不够新
term 31 server 2 get outdate rpc reply from server 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 179->178
------------------------------------------------------
term 31 leader 0 nextIndex[1]: 0  matchIndex[1]: 178
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
flag 90151 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
term 31 server 1 InstallSnapshot fail
rf.commitIndex 178 args.LastIncludedIndex 169
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 170 matchIndex[1] 169 
------------------------------------------------------------------------
flag 67626 term 31 leader 0 nextIndex[1]: 170  matchIndex[1]: 169
term 31 leader 0 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 178 
------------------------------------------------------
flag 11758 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=179
update matchIndex[1]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=178
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178}]
------------------------------------------------------
client write log 5369704269188701624 (index 179) to leader 0
flag 89264 term 31 leader 0 nextIndex[1]: 179  matchIndex[1]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
flag 56834 term 31 leader 0 nextIndex[2]: 179  matchIndex[2]: 178
term 31 leader 0 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 31 leaderCommit: 178 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178} {5369704269188701624 31 179}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 28 169} {2490811877285784877 28 170} {1041901064289577265 28 171} {8852905353195611113 28 172} {1451970277547800282 28 173} {7321677896219499376 28 174} {3682711369657725237 28 175} {3682711369657725237 30 176} {7225391495800626319 31 177} {4467852751378082917 31 178} {5369704269188701624 31 179}]
------------------------------------------------------
term 31 Server0 start snapshot! index=179
term 31 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
flag 64247 term 31 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 179 
------------------------------------------------------
flag 82517 term 31 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 179 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 31 179}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 31 179}]
------------------------------------------------------
term 31 Server2 start snapshot! index=179
term 31 server2 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
term 31 Server1 start snapshot! index=179
term 31 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
flag 77874 term 31 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 179 
------------------------------------------------------
flag 81571 term 31 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 179 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 31 179}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 31 179}]
------------------------------------------------------
flag 13143 term 31 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 179 
------------------------------------------------------
flag 75927 term 31 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 179 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 31 179}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 31 179}]
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8377 term 31 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 179 
------------------------------------------------------
flag 54872 term 31 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 179 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 31 179}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 31 179}]
------------------------------------------------------
flag 87950 term 31 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 179 
------------------------------------------------------
flag 7987 term 31 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 179 
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 31 179}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 31 179}]
------------------------------------------------------
flag 60010 term 31 leader 0 nextIndex[1]: 180  matchIndex[1]: 179
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 179 
------------------------------------------------------
flag 50109 term 31 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 179 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 31 179}]
------------------------------------------------------
term 31 server 1 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=180
update matchIndex[1]=179
update leader CommitIndex=179
leader log:
[{snapshot 31 179}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 9056784095031074131 (index 180) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 180->179
------------------------------------------------------
term 31 leader 0 nextIndex[1]: 0  matchIndex[1]: 179
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
flag 7749 term 31 leader 0 nextIndex[2]: 180  matchIndex[2]: 179
term 31 leader 0 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 31 leaderCommit: 179 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {9056784095031074131 31 180}]
------------------------------------------------------
term 31 leader 0 nextIndex[1]: 0  matchIndex[1]: 179
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
flag 47930 term 31 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 31 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=181
update matchIndex[2]=180
update leader CommitIndex=180
leader log:
[{snapshot 31 179} {9056784095031074131 31 180}]
------------------------------------------------------
client write log 5248872962875876412 (index 181) to leader 0
client write log 4529706918594792014 (index 182) to leader 0
client write log 149730085198598887 (index 183) to leader 0
client write log 8950202290307029945 (index 184) to leader 0
client write log 6687454684405245390 (index 185) to leader 0
client write log 625806553230789588 (index 186) to leader 0
client write log 4107738717370996278 (index 187) to leader 0
client write log 2699982681063854720 (index 188) to leader 0
term 31 leader 0 nextIndex[1]: 0  matchIndex[1]: 179
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
flag 45560 term 31 leader 0 nextIndex[2]: 181  matchIndex[2]: 180
term 31 leader 0 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 31 leaderCommit: 180 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {9056784095031074131 31 180} {5248872962875876412 31 181} {4529706918594792014 31 182} {149730085198598887 31 183} {8950202290307029945 31 184} {6687454684405245390 31 185} {625806553230789588 31 186} {4107738717370996278 31 187} {2699982681063854720 31 188}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 0->-1
------------------------------------------------------
term 31 leader 0 nextIndex[1]: 0  matchIndex[1]: 179
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
flag 71605 term 31 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 31 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=189
update matchIndex[2]=188
update leader CommitIndex=188
leader log:
[{snapshot 31 179} {9056784095031074131 31 180} {5248872962875876412 31 181} {4529706918594792014 31 182} {149730085198598887 31 183} {8950202290307029945 31 184} {6687454684405245390 31 185} {625806553230789588 31 186} {4107738717370996278 31 187} {2699982681063854720 31 188}]
------------------------------------------------------
!!!!!!connect server 1
client write log 8582010413965225544 (index 189) to leader 0
term 31 leader 0 nextIndex[1]: 0  matchIndex[1]: 179
term 31 leader 0 sendInstallSnapshot LastIncludedIndex: 179  LastIncludedTerm: 31
------------------------------------------------------
flag 10259 term 31 leader 0 nextIndex[2]: 189  matchIndex[2]: 188
term 31 leader 0 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 31 leaderCommit: 188 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
term 32 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 31 179} {9056784095031074131 31 180} {5248872962875876412 31 181} {4529706918594792014 31 182} {149730085198598887 31 183} {8950202290307029945 31 184} {6687454684405245390 31 185} {625806553230789588 31 186} {4107738717370996278 31 187} {2699982681063854720 31 188} {8582010413965225544 31 189}]
------------------------------------------------------
term 31 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 32 Server0 start snapshot! index=189
term 32 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
term 33 server 2 vote for server 0
term 33 server 1 vote for server 0
term 33 server 0 get vote from server 2
term 33 server 0 become leader
------------------------------------------------------
term 33 server 0 get outdate rpc reply from server 1
flag 36277 term 33 leader 0 nextIndex[1]: 190  matchIndex[1]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 189 
------------------------------------------------------
flag 75388 term 33 leader 0 nextIndex[2]: 190  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 189 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 31 189}]
------------------------------------------------------
term 33 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 190->189
------------------------------------------------------
term 33 Server2 start snapshot! index=189
term 33 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
term 33 leader 0 nextIndex[1]: 180  matchIndex[1]: 0
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 31
------------------------------------------------------
flag 97157 term 33 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 189 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 31 189}]
------------------------------------------------------
term 33 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 31 rf.commitIndex 189 rf.lastApplied 189
term 33 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 190 matchIndex[1] 189 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16973 term 33 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 33 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 189 
------------------------------------------------------
flag 43488 term 33 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 189 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 31 189}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 31 189}]
------------------------------------------------------
flag 810 term 33 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 33 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 189 
------------------------------------------------------
flag 50517 term 33 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 189 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 31 189}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 31 189}]
------------------------------------------------------
flag 83794 term 33 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 33 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 189 
------------------------------------------------------
flag 36989 term 33 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 189 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 31 189}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 31 189}]
------------------------------------------------------
flag 11888 term 33 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 33 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 189 
------------------------------------------------------
flag 23070 term 33 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 189 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 31 189}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 31 189}]
------------------------------------------------------
flag 35502 term 33 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 33 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 189 
------------------------------------------------------
flag 49678 term 33 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 189 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=189
leader log:
[{snapshot 31 189}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 31 189}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 8483824770321386308 (index 190) to leader 0
flag 53825 term 33 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 33 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 189 
------------------------------------------------------
flag 28954 term 33 leader 0 nextIndex[2]: 190  matchIndex[2]: 189
term 33 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 189 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 31 189} {8483824770321386308 33 190}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81864 term 33 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 33 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 31 leaderCommit: 190 
------------------------------------------------------
flag 79930 term 33 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 33 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 31 189} {8483824770321386308 33 190}]
------------------------------------------------------
client write log 6263398448359410755 (index 191) to leader 0
client write log 1888190755028417782 (index 192) to leader 0
client write log 2743383069080256468 (index 193) to leader 0
client write log 6228187325795642222 (index 194) to leader 0
client write log 1262894560101622534 (index 195) to leader 0
client write log 6954570113490075885 (index 196) to leader 0
client write log 6964444370544094391 (index 197) to leader 0
client write log 4775843121353159949 (index 198) to leader 0
client write log 3392075638296398635 (index 199) to leader 0
client write log 7924434124888949818 (index 200) to leader 0
client write log 3483486043657577243 (index 201) to leader 0
client write log 1296511230349026974 (index 202) to leader 0
client write log 4494034373020094259 (index 203) to leader 0
client write log 2606448918960757063 (index 204) to leader 0
client write log 339515536151084471 (index 205) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 190->189
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 0  matchIndex[1]: 189
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 31
------------------------------------------------------
flag 75754 term 33 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 33 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 33 leaderCommit: 190 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 31 189} {8483824770321386308 33 190} {6263398448359410755 33 191} {1888190755028417782 33 192} {2743383069080256468 33 193} {6228187325795642222 33 194} {1262894560101622534 33 195} {6954570113490075885 33 196} {6964444370544094391 33 197} {4775843121353159949 33 198} {3392075638296398635 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205}]
------------------------------------------------------
term 33 Server0 start snapshot! index=199
term 33 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=205
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 0  matchIndex[1]: 189
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 8149 term 33 leader 0 nextIndex[2]: 206  matchIndex[2]: 205
term 33 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=206
update matchIndex[2]=205
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205}]
------------------------------------------------------
term 33 Server2 start snapshot! index=199
term 33 server2 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=205
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1195808226566711431 (index 206) to leader 0
term 33 server 2 not vote for server 1, 日志不够新
term 33 server 0 not vote for server 1, 日志不够新
term 35 server 2 vote for server 0
term 35 server 0 get vote from server 2
term 35 server 0 become leader
------------------------------------------------------
term 35 server 1 vote for server 0
term 35 server 0 get outdate rpc reply from server 1
flag 91250 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
flag 68614 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 35 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 207->206
------------------------------------------------------
term 35 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 207->206
------------------------------------------------------
term 35 leader 0 nextIndex[1]: 190  matchIndex[1]: 0
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 27004 term 35 leader 0 nextIndex[2]: 206  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 205  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 35 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 33 rf.commitIndex 199 rf.lastApplied 199
term 35 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 200 matchIndex[1] 199 
------------------------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16559 term 35 leader 0 nextIndex[1]: 200  matchIndex[1]: 199
term 35 leader 0 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
flag 53452 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
flag 31156 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
flag 62029 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
flag 14869 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
flag 68645 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
flag 36099 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
flag 37032 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
flag 2515 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
flag 86196 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
flag 13247 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
flag 45376 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
term 35 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
flag 92232 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
flag 74959 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
flag 60994 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
flag 70430 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52888 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
flag 60465 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73382 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
flag 9652 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
flag 11098 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
flag 68353 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
term 35 server 2 not vote for server 1, 任期不够新
term 35 server 1 get outdate rpc reply from server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78529 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
flag 95428 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24737 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
flag 13151 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90706 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
flag 8049 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
flag 7373 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
flag 84169 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
flag 51751 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
flag 95200 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
flag 88568 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
flag 14832 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
flag 14217 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
flag 90243 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=207
update matchIndex[1]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=207
update matchIndex[2]=206
update leader CommitIndex=205
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206}]
------------------------------------------------------
client write log 1195808226566711431 (index 207) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 88367 term 35 leader 0 nextIndex[1]: 207  matchIndex[1]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
flag 32154 term 35 leader 0 nextIndex[2]: 207  matchIndex[2]: 206
term 35 leader 0 sendAppendEntries PrevLogIndex: 206  PrevLogTerm: 33 leaderCommit: 205 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206} {1195808226566711431 35 207}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:205 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206} {1195808226566711431 35 207}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94462 term 35 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 93489 term 35 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206} {1195808226566711431 35 207}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206} {1195808226566711431 35 207}]
------------------------------------------------------
flag 72888 term 35 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 35083 term 35 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206} {1195808226566711431 35 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206} {1195808226566711431 35 207}]
------------------------------------------------------
flag 64165 term 35 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 88353 term 35 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206} {1195808226566711431 35 207}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206} {1195808226566711431 35 207}]
------------------------------------------------------
flag 24391 term 35 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 33691 term 35 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206} {1195808226566711431 35 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206} {1195808226566711431 35 207}]
------------------------------------------------------
flag 46199 term 35 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 79593 term 35 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206} {1195808226566711431 35 207}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206} {1195808226566711431 35 207}]
------------------------------------------------------
flag 12470 term 35 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 79568 term 35 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206} {1195808226566711431 35 207}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=208
update matchIndex[1]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206} {1195808226566711431 35 207}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 16665 term 35 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 36428 term 35 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 41434 term 35 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 61823 term 35 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10700 term 35 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 17407 term 35 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 525 term 35 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 68191 term 35 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 36 server 2 vote for server 1
term 36 server 1 get vote from server 2
term 36 server 1 become leader
------------------------------------------------------
flag 80556 term 36 leader 1 nextIndex[0]: 208  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 10371 term 36 leader 1 nextIndex[2]: 208  matchIndex[2]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=208
update matchIndex[2]=207
update leader CommitIndex=207
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206} {1195808226566711431 35 207}]
------------------------------------------------------
client write log 387142281568646596 (index 208) to leader 1
flag 13302 term 35 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 64169 term 35 leader 0 nextIndex[2]: 208  matchIndex[2]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 94198 term 36 leader 1 nextIndex[0]: 208  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
flag 81154 term 36 leader 1 nextIndex[2]: 208  matchIndex[2]: 207
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:207 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206} {1195808226566711431 35 207} {387142281568646596 36 208}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 208->207
------------------------------------------------------
flag 91953 term 35 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 35 leader 0 nextIndex[2]: 0  matchIndex[2]: 207
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86643 term 36 leader 1 nextIndex[0]: 208  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 55961 term 36 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 36 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 36 leaderCommit: 208 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206} {1195808226566711431 35 207} {387142281568646596 36 208}]
------------------------------------------------------
client write log 8567235763847724410 (index 209) to leader 1
client write log 7459185397431926552 (index 210) to leader 1
client write log 70792259043477292 (index 211) to leader 1
client write log 6549836602593300121 (index 212) to leader 1
client write log 8154712162728828070 (index 213) to leader 1
client write log 2782759066127305879 (index 214) to leader 1
flag 85625 term 35 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 35 leader 0 nextIndex[2]: 0  matchIndex[2]: 207
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 10492 term 36 leader 1 nextIndex[0]: 208  matchIndex[0]: 0
term 36 leader 1 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 208 
------------------------------------------------------
flag 48248 term 36 leader 1 nextIndex[2]: 209  matchIndex[2]: 208
term 36 leader 1 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 36 leaderCommit: 208 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 33 199} {7924434124888949818 33 200} {3483486043657577243 33 201} {1296511230349026974 33 202} {4494034373020094259 33 203} {2606448918960757063 33 204} {339515536151084471 33 205} {1195808226566711431 33 206} {1195808226566711431 35 207} {387142281568646596 36 208} {8567235763847724410 36 209} {7459185397431926552 36 210} {70792259043477292 36 211} {6549836602593300121 36 212} {8154712162728828070 36 213} {2782759066127305879 36 214}]
------------------------------------------------------
term 36 Server1 start snapshot! index=209
term 36 server1 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=214
-------------------------------------------------------------
flag 94677 term 35 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 35 leader 0 nextIndex[2]: 0  matchIndex[2]: 207
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
term 36 leader 1 nextIndex[0]: 208  matchIndex[0]: 0
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
flag 12806 term 36 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 36 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 36 209} {7459185397431926552 36 210} {70792259043477292 36 211} {6549836602593300121 36 212} {8154712162728828070 36 213} {2782759066127305879 36 214}]
------------------------------------------------------
term 36 Server2 start snapshot! index=209
term 36 server2 snapshot success
lastIncludedIndex=209 lastApplied=210 lastIndex=214
-------------------------------------------------------------
!!!!!!connect server 0
client write log 99708612643549463 (index 215) to leader 1
flag 66172 term 35 leader 0 nextIndex[1]: 208  matchIndex[1]: 207
term 35 leader 0 sendAppendEntries PrevLogIndex: 207  PrevLogTerm: 35 leaderCommit: 207 
------------------------------------------------------
term 35 leader 0 nextIndex[2]: 0  matchIndex[2]: 207
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
term 36 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 35 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 server 1 AppendEntries false 领导者任期过期 args.Term 35
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 1 nextIndex[0]: 208  matchIndex[0]: 0
term 36 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 36
------------------------------------------------------
flag 73747 term 36 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 36 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 36 leaderCommit: 214 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {7459185397431926552 36 210} {70792259043477292 36 211} {6549836602593300121 36 212} {8154712162728828070 36 213} {2782759066127305879 36 214} {99708612643549463 36 215}]
------------------------------------------------------
term 36 server 0 InstallSnapshot success
------------------------------------------------------
term 36 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 210 matchIndex[0] 209 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 36 rf.commitIndex 209 rf.lastApplied 209
term 36 server 0 not vote for server 1, 任期不够新
term 36 server 1 get outdate rpc reply from server 0
term 36 server 2 not vote for server 0, 日志不够新
term 36 server 1 not vote for server 0, 日志不够新
term 38 server 2 vote for server 1
term 38 server 1 get vote from server 2
term 38 server 1 become leader
------------------------------------------------------
term 38 server 0 vote for server 1
term 38 server 1 get outdate rpc reply from server 0
flag 21091 term 38 leader 1 nextIndex[0]: 216  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 75920 term 38 leader 1 nextIndex[2]: 216  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {7459185397431926552 36 210} {70792259043477292 36 211} {6549836602593300121 36 212} {8154712162728828070 36 213} {2782759066127305879 36 214} {99708612643549463 36 215}]
------------------------------------------------------
term 38 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 216->215
------------------------------------------------------
flag 16272 term 38 leader 1 nextIndex[0]: 210  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 74414 term 38 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {7459185397431926552 36 210} {70792259043477292 36 211} {6549836602593300121 36 212} {8154712162728828070 36 213} {2782759066127305879 36 214} {99708612643549463 36 215}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {7459185397431926552 36 210} {70792259043477292 36 211} {6549836602593300121 36 212} {8154712162728828070 36 213} {2782759066127305879 36 214} {99708612643549463 36 215}]
------------------------------------------------------
flag 15435 term 38 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 39694 term 38 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {7459185397431926552 36 210} {70792259043477292 36 211} {6549836602593300121 36 212} {8154712162728828070 36 213} {2782759066127305879 36 214} {99708612643549463 36 215}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {7459185397431926552 36 210} {70792259043477292 36 211} {6549836602593300121 36 212} {8154712162728828070 36 213} {2782759066127305879 36 214} {99708612643549463 36 215}]
------------------------------------------------------
flag 51389 term 38 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 437 term 38 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {7459185397431926552 36 210} {70792259043477292 36 211} {6549836602593300121 36 212} {8154712162728828070 36 213} {2782759066127305879 36 214} {99708612643549463 36 215}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {7459185397431926552 36 210} {70792259043477292 36 211} {6549836602593300121 36 212} {8154712162728828070 36 213} {2782759066127305879 36 214} {99708612643549463 36 215}]
------------------------------------------------------
flag 83570 term 38 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 73343 term 38 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {7459185397431926552 36 210} {70792259043477292 36 211} {6549836602593300121 36 212} {8154712162728828070 36 213} {2782759066127305879 36 214} {99708612643549463 36 215}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {7459185397431926552 36 210} {70792259043477292 36 211} {6549836602593300121 36 212} {8154712162728828070 36 213} {2782759066127305879 36 214} {99708612643549463 36 215}]
------------------------------------------------------
flag 70679 term 38 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 38030 term 38 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {7459185397431926552 36 210} {70792259043477292 36 211} {6549836602593300121 36 212} {8154712162728828070 36 213} {2782759066127305879 36 214} {99708612643549463 36 215}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {7459185397431926552 36 210} {70792259043477292 36 211} {6549836602593300121 36 212} {8154712162728828070 36 213} {2782759066127305879 36 214} {99708612643549463 36 215}]
------------------------------------------------------
flag 95005 term 38 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 98461 term 38 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {7459185397431926552 36 210} {70792259043477292 36 211} {6549836602593300121 36 212} {8154712162728828070 36 213} {2782759066127305879 36 214} {99708612643549463 36 215}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {7459185397431926552 36 210} {70792259043477292 36 211} {6549836602593300121 36 212} {8154712162728828070 36 213} {2782759066127305879 36 214} {99708612643549463 36 215}]
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81589 term 38 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 60481 term 38 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=216
update matchIndex[2]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {7459185397431926552 36 210} {70792259043477292 36 211} {6549836602593300121 36 212} {8154712162728828070 36 213} {2782759066127305879 36 214} {99708612643549463 36 215}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 36 209} {7459185397431926552 36 210} {70792259043477292 36 211} {6549836602593300121 36 212} {8154712162728828070 36 213} {2782759066127305879 36 214} {99708612643549463 36 215}]
------------------------------------------------------
term 38 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 2
client write log 3812862747051422175 (index 216) to leader 1
flag 53477 term 38 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
flag 76118 term 38 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 215 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {7459185397431926552 36 210} {70792259043477292 36 211} {6549836602593300121 36 212} {8154712162728828070 36 213} {2782759066127305879 36 214} {99708612643549463 36 215} {3812862747051422175 38 216}]
------------------------------------------------------
flag 10996 term 38 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
flag 21190 term 38 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 216 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=217
update matchIndex[0]=216
update leader CommitIndex=216
leader log:
[{snapshot 36 209} {7459185397431926552 36 210} {70792259043477292 36 211} {6549836602593300121 36 212} {8154712162728828070 36 213} {2782759066127305879 36 214} {99708612643549463 36 215} {3812862747051422175 38 216}]
------------------------------------------------------
client write log 2809682341528005571 (index 217) to leader 1
client write log 25214968831482942 (index 218) to leader 1
client write log 6893229543428064536 (index 219) to leader 1
term 38 server 0 not vote for server 1, 任期不够新
client write log 5847932035718673858 (index 220) to leader 1
client write log 7193321468663133705 (index 221) to leader 1
client write log 2038977421474803891 (index 222) to leader 1
client write log 3582484127520739980 (index 223) to leader 1
client write log 8079971369280666466 (index 224) to leader 1
client write log 1455612780131084068 (index 225) to leader 1
client write log 3323977518896124115 (index 226) to leader 1
client write log 7846933275111985280 (index 227) to leader 1
client write log 3816726854904786655 (index 228) to leader 1
client write log 6020556537802524993 (index 229) to leader 1
client write log 2849213208838098368 (index 230) to leader 1
term 38 server 1 get outdate rpc reply from server 0
flag 14072 term 38 leader 1 nextIndex[0]: 217  matchIndex[0]: 216
term 38 leader 1 sendAppendEntries PrevLogIndex: 216  PrevLogTerm: 38 leaderCommit: 216 
------------------------------------------------------
flag 86779 term 38 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 38 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 36 leaderCommit: 216 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:216 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 36 209} {7459185397431926552 36 210} {70792259043477292 36 211} {6549836602593300121 36 212} {8154712162728828070 36 213} {2782759066127305879 36 214} {99708612643549463 36 215} {3812862747051422175 38 216} {2809682341528005571 38 217} {25214968831482942 38 218} {6893229543428064536 38 219} {5847932035718673858 38 220} {7193321468663133705 38 221} {2038977421474803891 38 222} {3582484127520739980 38 223} {8079971369280666466 38 224} {1455612780131084068 38 225} {3323977518896124115 38 226} {7846933275111985280 38 227} {3816726854904786655 38 228} {6020556537802524993 38 229} {2849213208838098368 38 230}]
------------------------------------------------------
term 38 Server1 start snapshot! index=219
term 38 server1 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=230
-------------------------------------------------------------
term 38 Server1 start snapshot! index=229
term 38 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=230
-------------------------------------------------------------
flag 33898 term 38 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=231
update matchIndex[0]=230
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230}]
------------------------------------------------------
term 38 Server0 start snapshot! index=219
term 38 server0 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=230
-------------------------------------------------------------
term 38 Server0 start snapshot! index=229
term 38 server0 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=230
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8622778144520347904 (index 231) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85483 term 38 leader 1 nextIndex[0]: 231  matchIndex[0]: 230
term 38 leader 1 sendAppendEntries PrevLogIndex: 230  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 216  matchIndex[2]: 215
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
term 39 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 server 2 vote for server 1
term 40 server 0 vote for server 1
term 40 server 1 get vote from server 2
term 40 server 1 become leader
------------------------------------------------------
term 40 server 1 get outdate rpc reply from server 0
flag 26490 term 40 leader 1 nextIndex[0]: 232  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 16102 term 40 leader 1 nextIndex[2]: 232  matchIndex[2]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 232->231
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
flag 61721 term 40 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 216  matchIndex[2]: 0
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
term 40 server 2 InstallSnapshot success
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 230 matchIndex[2] 229 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 38 rf.commitIndex 229 rf.lastApplied 229
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
term 40 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 53949 term 40 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 33012 term 40 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
flag 21900 term 40 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 93082 term 40 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
term 40 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68535 term 40 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 56814 term 40 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
flag 16452 term 40 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 66295 term 40 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
term 40 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10433 term 40 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 78957 term 40 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
flag 18521 term 40 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 95375 term 40 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
flag 60664 term 40 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 49194 term 40 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
flag 11249 term 40 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 45989 term 40 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
flag 13816 term 40 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 1234 term 40 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
flag 79432 term 40 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 61143 term 40 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
flag 36391 term 40 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 88606 term 40 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54163 term 40 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 17291 term 40 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
flag 6613 term 40 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 90141 term 40 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
flag 44996 term 40 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 98029 term 40 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
flag 67075 term 40 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 34533 term 40 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1352 term 40 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 78804 term 40 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62410 term 40 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 3160 term 40 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=232
update matchIndex[2]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=232
update matchIndex[0]=231
update leader CommitIndex=230
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231}]
------------------------------------------------------
client write log 8622778144520347904 (index 232) to leader 1
flag 93357 term 40 leader 1 nextIndex[0]: 232  matchIndex[0]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
flag 68527 term 40 leader 1 nextIndex[2]: 232  matchIndex[2]: 231
term 40 leader 1 sendAppendEntries PrevLogIndex: 231  PrevLogTerm: 38 leaderCommit: 230 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:230 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:230 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231} {8622778144520347904 40 232}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231} {8622778144520347904 40 232}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42456 term 40 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 40 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
flag 79338 term 40 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 40 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231} {8622778144520347904 40 232}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231} {8622778144520347904 40 232}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26653 term 40 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 40 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
flag 25371 term 40 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 40 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231} {8622778144520347904 40 232}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231} {8622778144520347904 40 232}]
------------------------------------------------------
flag 74317 term 40 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 40 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
flag 28042 term 40 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 40 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231} {8622778144520347904 40 232}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231} {8622778144520347904 40 232}]
------------------------------------------------------
flag 86266 term 40 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 40 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
flag 54810 term 40 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 40 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231} {8622778144520347904 40 232}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231} {8622778144520347904 40 232}]
------------------------------------------------------
flag 52213 term 40 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 40 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
flag 12928 term 40 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 40 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231} {8622778144520347904 40 232}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231} {8622778144520347904 40 232}]
------------------------------------------------------
flag 33484 term 40 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 40 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
flag 94225 term 40 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 40 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:232 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=233
update matchIndex[2]=232
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231} {8622778144520347904 40 232}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=233
update matchIndex[0]=232
update leader CommitIndex=232
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231} {8622778144520347904 40 232}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 6631783502486021277 (index 233) to leader 1
flag 2984 term 40 leader 1 nextIndex[0]: 233  matchIndex[0]: 232
term 40 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
flag 31372 term 40 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 40 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 40 leaderCommit: 232 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:232 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231} {8622778144520347904 40 232} {6631783502486021277 40 233}]
------------------------------------------------------
flag 92334 term 40 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 233 
------------------------------------------------------
flag 9734 term 40 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 40 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 40 leaderCommit: 233 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=234
update matchIndex[0]=233
update leader CommitIndex=233
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231} {8622778144520347904 40 232} {6631783502486021277 40 233}]
------------------------------------------------------
client write log 1548944992873405643 (index 234) to leader 1
client write log 7494714368617536957 (index 235) to leader 1
client write log 8240391064165793126 (index 236) to leader 1
client write log 8970646694858878236 (index 237) to leader 1
client write log 3013059004607265468 (index 238) to leader 1
client write log 716161207316723354 (index 239) to leader 1
client write log 3936036048945996473 (index 240) to leader 1
client write log 2954501781569879382 (index 241) to leader 1
client write log 1617327464235597694 (index 242) to leader 1
flag 66401 term 40 leader 1 nextIndex[0]: 234  matchIndex[0]: 233
term 40 leader 1 sendAppendEntries PrevLogIndex: 233  PrevLogTerm: 40 leaderCommit: 233 
------------------------------------------------------
flag 41704 term 40 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 40 leader 1 sendAppendEntries PrevLogIndex: 232  PrevLogTerm: 40 leaderCommit: 233 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:233 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 38 229} {2849213208838098368 38 230} {8622778144520347904 38 231} {8622778144520347904 40 232} {6631783502486021277 40 233} {1548944992873405643 40 234} {7494714368617536957 40 235} {8240391064165793126 40 236} {8970646694858878236 40 237} {3013059004607265468 40 238} {716161207316723354 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242}]
------------------------------------------------------
term 40 Server1 start snapshot! index=239
term 40 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=242
-------------------------------------------------------------
flag 98585 term 40 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 40 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 233  matchIndex[2]: 232
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 Server0 start snapshot! index=239
term 40 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=242
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8859324243476207291 (index 243) to leader 1
term 40 server 1 not vote for server 2, 日志不够新
term 40 server 0 not vote for server 2, 日志不够新
term 42 server 2 vote for server 1
term 42 server 1 get vote from server 2
term 42 server 1 become leader
------------------------------------------------------
term 42 server 0 vote for server 1
term 42 server 1 get outdate rpc reply from server 0
flag 59731 term 42 leader 1 nextIndex[0]: 244  matchIndex[0]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 64471 term 42 leader 1 nextIndex[2]: 244  matchIndex[2]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 244->243
------------------------------------------------------
term 42 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 244->243
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94466 term 42 leader 1 nextIndex[0]: 243  matchIndex[0]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 233  matchIndex[2]: 0
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 40
------------------------------------------------------
term 42 server 2 InstallSnapshot success
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 40 rf.commitIndex 239 rf.lastApplied 239
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
flag 39774 term 42 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 72696 term 42 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 42 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
flag 83543 term 42 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 22841 term 42 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
flag 31011 term 42 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 34741 term 42 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
flag 10090 term 42 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 33855 term 42 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
flag 43887 term 42 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 83915 term 42 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
flag 97098 term 42 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 38061 term 42 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7720 term 42 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 82911 term 42 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28579 term 42 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 61208 term 42 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
flag 91087 term 42 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 20315 term 42 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83285 term 42 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 23263 term 42 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40532 term 42 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 12931 term 42 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
flag 86499 term 42 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 20160 term 42 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
flag 2234 term 42 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 96755 term 42 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
term 42 server 1 not vote for server 2, 任期不够新
term 42 server 2 get outdate rpc reply from server 1
flag 2260 term 42 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 152 term 42 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
flag 91334 term 42 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 79889 term 42 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13857 term 42 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 55278 term 42 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
flag 13988 term 42 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 17887 term 42 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82841 term 42 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 4771 term 42 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=242
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243}]
------------------------------------------------------
client write log 8859324243476207291 (index 244) to leader 1
flag 72030 term 42 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
flag 91967 term 42 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 42 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 40 leaderCommit: 242 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243} {8859324243476207291 42 244}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:242 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243} {8859324243476207291 42 244}]
------------------------------------------------------
flag 23080 term 42 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 42 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 46842 term 42 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 42 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243} {8859324243476207291 42 244}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243} {8859324243476207291 42 244}]
------------------------------------------------------
term 42 server 0 not vote for server 2, 任期不够新
term 42 server 2 get outdate rpc reply from server 0
flag 66858 term 42 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 42 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 11440 term 42 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 42 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243} {8859324243476207291 42 244}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243} {8859324243476207291 42 244}]
------------------------------------------------------
flag 94275 term 42 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 42 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 47404 term 42 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 42 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243} {8859324243476207291 42 244}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243} {8859324243476207291 42 244}]
------------------------------------------------------
flag 24909 term 42 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 42 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 21647 term 42 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 42 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243} {8859324243476207291 42 244}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243} {8859324243476207291 42 244}]
------------------------------------------------------
flag 18914 term 42 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 42 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 81588 term 42 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 42 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243} {8859324243476207291 42 244}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243} {8859324243476207291 42 244}]
------------------------------------------------------
flag 5712 term 42 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 42 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 84182 term 42 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 42 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243} {8859324243476207291 42 244}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=245
update matchIndex[0]=244
update leader CommitIndex=244
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243} {8859324243476207291 42 244}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 89836 term 42 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 42 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 22537 term 42 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 42 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 55654 term 42 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 42 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 7238 term 42 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 42 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 94430 term 42 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 42 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 87188 term 42 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 42 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 43 server 0 vote for server 2
term 43 server 2 get vote from server 0
term 43 server 2 become leader
------------------------------------------------------
client write log 432895039093077675 (index 245) to leader 2
flag 23927 term 43 leader 2 nextIndex[0]: 245  matchIndex[0]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 74730 term 43 leader 2 nextIndex[1]: 245  matchIndex[1]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243} {8859324243476207291 42 244} {432895039093077675 43 245}]
------------------------------------------------------
flag 77438 term 42 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 42 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 13455 term 42 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 42 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 64121 term 43 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 43 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 43 leaderCommit: 245 
------------------------------------------------------
flag 29359 term 43 leader 2 nextIndex[1]: 245  matchIndex[1]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 245 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=246
update matchIndex[0]=245
update leader CommitIndex=245
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243} {8859324243476207291 42 244} {432895039093077675 43 245}]
------------------------------------------------------
client write log 6097087818905924542 (index 246) to leader 2
client write log 8281930595908313668 (index 247) to leader 2
client write log 2893874352557877230 (index 248) to leader 2
client write log 8325687367795663978 (index 249) to leader 2
client write log 8430653894977017591 (index 250) to leader 2
client write log 8233480319542721174 (index 251) to leader 2
client write log 3800652320370528211 (index 252) to leader 2
client write log 4042248988830212808 (index 253) to leader 2
client write log 4678179970109136020 (index 254) to leader 2
client write log 7373431888727741884 (index 255) to leader 2
client write log 6703329240925042910 (index 256) to leader 2
client write log 2790562774204999363 (index 257) to leader 2
flag 93626 term 42 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 42 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 42098 term 42 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 42 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 70040 term 43 leader 2 nextIndex[0]: 246  matchIndex[0]: 245
term 43 leader 2 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 43 leaderCommit: 245 
------------------------------------------------------
flag 42769 term 43 leader 2 nextIndex[1]: 245  matchIndex[1]: 0
term 43 leader 2 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 245 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 40 239} {3936036048945996473 40 240} {2954501781569879382 40 241} {1617327464235597694 40 242} {8859324243476207291 40 243} {8859324243476207291 42 244} {432895039093077675 43 245} {6097087818905924542 43 246} {8281930595908313668 43 247} {2893874352557877230 43 248} {8325687367795663978 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
term 43 Server2 start snapshot! index=249
term 43 server2 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=257
-------------------------------------------------------------
flag 58309 term 42 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 42 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 87813 term 42 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 42 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 5587 term 43 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
term 43 leader 2 nextIndex[1]: 245  matchIndex[1]: 0
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
term 43 Server0 start snapshot! index=249
term 43 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=257
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8130887625408439681 (index 245) to leader 1
flag 16132 term 42 leader 1 nextIndex[0]: 245  matchIndex[0]: 244
term 42 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
flag 43099 term 42 leader 1 nextIndex[2]: 245  matchIndex[2]: 244
term 42 leader 1 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 42 leaderCommit: 244 
------------------------------------------------------
term 43 server 2 AppendEntries false 领导者任期过期 args.Term 42
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 43 server 0 AppendEntries false 领导者任期过期 args.Term 42
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45307 term 43 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
term 43 leader 2 nextIndex[1]: 245  matchIndex[1]: 0
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 1 InstallSnapshot success
------------------------------------------------------
term 43 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 43 rf.commitIndex 249 rf.lastApplied 249
term 43 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
flag 23979 term 43 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
flag 66168 term 43 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 43 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
flag 85403 term 43 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
flag 63151 term 43 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
flag 97595 term 43 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
flag 85029 term 43 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 258->257
------------------------------------------------------
flag 82344 term 43 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
term 43 leader 2 nextIndex[1]: 0  matchIndex[1]: 257
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
term 43 server 1 InstallSnapshot fail
rf.commitIndex 257 args.LastIncludedIndex 249
------------------------------------------------------
term 43 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
flag 72251 term 43 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
flag 87042 term 43 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 43 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
flag 76718 term 43 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
flag 54476 term 43 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
flag 897 term 43 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
flag 46526 term 43 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
flag 17836 term 43 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
flag 41284 term 43 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
flag 70771 term 43 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
flag 21027 term 43 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
flag 96597 term 43 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
flag 65143 term 43 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
flag 64234 term 43 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
flag 77457 term 43 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
flag 80411 term 43 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
flag 8987 term 43 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52463 term 43 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
flag 75875 term 43 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
flag 74732 term 43 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
flag 43700 term 43 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
flag 90046 term 43 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
flag 37398 term 43 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
flag 96656 term 43 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
flag 14714 term 43 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42315 term 43 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
flag 65576 term 43 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 258->257
------------------------------------------------------
flag 52620 term 43 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
term 43 leader 2 nextIndex[1]: 0  matchIndex[1]: 257
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 1 InstallSnapshot fail
rf.commitIndex 257 args.LastIncludedIndex 249
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
term 43 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
flag 45738 term 43 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
flag 20697 term 43 leader 2 nextIndex[1]: 250  matchIndex[1]: 249
term 43 leader 2 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=258
update matchIndex[1]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=258
update matchIndex[0]=257
update leader CommitIndex=257
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257}]
------------------------------------------------------
client write log 8130887625408439681 (index 258) to leader 2
flag 82675 term 43 leader 2 nextIndex[0]: 258  matchIndex[0]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
flag 11220 term 43 leader 2 nextIndex[1]: 258  matchIndex[1]: 257
term 43 leader 2 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 43 leaderCommit: 257 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:257 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257} {8130887625408439681 43 258}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257} {8130887625408439681 43 258}]
------------------------------------------------------
flag 53495 term 43 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
flag 14102 term 43 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 43 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257} {8130887625408439681 43 258}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257} {8130887625408439681 43 258}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23474 term 43 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
flag 13679 term 43 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 43 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257} {8130887625408439681 43 258}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257} {8130887625408439681 43 258}]
------------------------------------------------------
flag 17844 term 43 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
flag 27431 term 43 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 43 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257} {8130887625408439681 43 258}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257} {8130887625408439681 43 258}]
------------------------------------------------------
flag 98028 term 43 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
flag 7664 term 43 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 43 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257} {8130887625408439681 43 258}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257} {8130887625408439681 43 258}]
------------------------------------------------------
flag 27849 term 43 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
flag 22726 term 43 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 43 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=259
update matchIndex[1]=258
update leader CommitIndex=258
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257} {8130887625408439681 43 258}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=259
update matchIndex[0]=258
update leader CommitIndex=258
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257} {8130887625408439681 43 258}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 3461473209082497771 (index 259) to leader 2
flag 24566 term 43 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
flag 11900 term 43 leader 2 nextIndex[1]: 259  matchIndex[1]: 258
term 43 leader 2 sendAppendEntries PrevLogIndex: 258  PrevLogTerm: 43 leaderCommit: 258 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:258 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 43 249} {8430653894977017591 43 250} {8233480319542721174 43 251} {3800652320370528211 43 252} {4042248988830212808 43 253} {4678179970109136020 43 254} {7373431888727741884 43 255} {6703329240925042910 43 256} {2790562774204999363 43 257} {8130887625408439681 43 258} {3461473209082497771 43 259}]
------------------------------------------------------
term 43 Server2 start snapshot! index=259
term 43 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
term 43 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 43
------------------------------------------------------
flag 98457 term 43 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 43 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 43 leaderCommit: 259 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=260
update matchIndex[1]=259
update leader CommitIndex=259
leader log:
[{snapshot 43 259}]
------------------------------------------------------
term 43 Server1 start snapshot! index=259
term 43 server1 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=259
-------------------------------------------------------------
client write log 2515006799167627977 (index 260) to leader 2
client write log 2897376148412200585 (index 261) to leader 2
client write log 8720028698525619975 (index 262) to leader 2
client write log 7327311537061051886 (index 263) to leader 2
client write log 6735107799007962018 (index 264) to leader 2
client write log 5257958172395377223 (index 265) to leader 2
client write log 7986164430810273750 (index 266) to leader 2
client write log 6149755279137842319 (index 267) to leader 2
client write log 526627407907135001 (index 268) to leader 2
client write log 6491901253925778625 (index 269) to leader 2
client write log 9006267022217591537 (index 270) to leader 2
term 43 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 43
------------------------------------------------------
flag 95921 term 43 leader 2 nextIndex[1]: 260  matchIndex[1]: 259
term 43 leader 2 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 43 leaderCommit: 259 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 43 259} {2515006799167627977 43 260} {2897376148412200585 43 261} {8720028698525619975 43 262} {7327311537061051886 43 263} {6735107799007962018 43 264} {5257958172395377223 43 265} {7986164430810273750 43 266} {6149755279137842319 43 267} {526627407907135001 43 268} {6491901253925778625 43 269} {9006267022217591537 43 270}]
------------------------------------------------------
term 43 Server2 start snapshot! index=269
term 43 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=270
-------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 271->270
------------------------------------------------------
term 43 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
term 43 leader 2 nextIndex[1]: 0  matchIndex[1]: 270
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 1 InstallSnapshot success
------------------------------------------------------
term 43 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 43 rf.commitIndex 269 rf.lastApplied 269
term 43 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 83078 term 43 leader 2 nextIndex[1]: 270  matchIndex[1]: 269
term 43 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270}]
------------------------------------------------------
!!!!!!connect server 0
client write log 5888781707754963507 (index 271) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 2 nextIndex[0]: 259  matchIndex[0]: 258
term 43 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 2229 term 43 leader 2 nextIndex[1]: 271  matchIndex[1]: 270
term 43 leader 2 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 44 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
term 43 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 server 1 vote for server 2
term 45 server 2 get vote from server 1
term 45 server 2 become leader
------------------------------------------------------
term 45 server 0 vote for server 2
term 45 server 2 get outdate rpc reply from server 0
flag 72468 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 67951 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 0
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 272->271
------------------------------------------------------
term 45 leader 2 nextIndex[0]: 259  matchIndex[0]: 0
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 81539 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
term 45 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 270 matchIndex[0] 269 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 43 rf.commitIndex 269 rf.lastApplied 269
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55670 term 45 leader 2 nextIndex[0]: 270  matchIndex[0]: 269
term 45 leader 2 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 48569 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 85097 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 83562 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
flag 34583 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 50928 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68505 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 46784 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
flag 49383 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 59872 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43434 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 49946 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93550 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 87207 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
flag 40438 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 22777 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57615 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 74241 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78406 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 51709 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
term 45 server 1 not vote for server 2, 任期不够新
term 45 server 2 get outdate rpc reply from server 1
flag 56339 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 2420 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
flag 35493 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 18075 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74326 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 93200 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
term 45 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 45 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32254 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 21991 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
flag 92964 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 55710 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
flag 27905 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 93960 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
flag 81518 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 12957 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=272
update matchIndex[1]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=272
update matchIndex[0]=271
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271}]
------------------------------------------------------
client write log 5888781707754963507 (index 272) to leader 2
flag 8384 term 45 leader 2 nextIndex[0]: 272  matchIndex[0]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
flag 67416 term 45 leader 2 nextIndex[1]: 272  matchIndex[1]: 271
term 45 leader 2 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 43 leaderCommit: 270 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271} {5888781707754963507 45 272}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271} {5888781707754963507 45 272}]
------------------------------------------------------
flag 49147 term 45 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
flag 21916 term 45 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271} {5888781707754963507 45 272}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271} {5888781707754963507 45 272}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84230 term 45 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
flag 18268 term 45 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271} {5888781707754963507 45 272}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271} {5888781707754963507 45 272}]
------------------------------------------------------
flag 23589 term 45 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
flag 35315 term 45 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271} {5888781707754963507 45 272}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271} {5888781707754963507 45 272}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41872 term 45 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
flag 15025 term 45 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271} {5888781707754963507 45 272}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271} {5888781707754963507 45 272}]
------------------------------------------------------
flag 78679 term 45 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
flag 15023 term 45 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271} {5888781707754963507 45 272}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271} {5888781707754963507 45 272}]
------------------------------------------------------
flag 5727 term 45 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
flag 40200 term 45 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:272 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=273
update matchIndex[0]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271} {5888781707754963507 45 272}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=272
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271} {5888781707754963507 45 272}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2205122652779794942 (index 273) to leader 2
flag 61827 term 45 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
flag 41690 term 45 leader 2 nextIndex[1]: 273  matchIndex[1]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 272 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:272 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271} {5888781707754963507 45 272} {2205122652779794942 45 273}]
------------------------------------------------------
flag 62253 term 45 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 273 
------------------------------------------------------
flag 83501 term 45 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 45 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 45 leaderCommit: 273 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271} {5888781707754963507 45 272} {2205122652779794942 45 273}]
------------------------------------------------------
client write log 6868701875965418292 (index 274) to leader 2
client write log 4502886338663088892 (index 275) to leader 2
client write log 7736555616144383600 (index 276) to leader 2
client write log 7084336331699581559 (index 277) to leader 2
client write log 9037881717850992035 (index 278) to leader 2
client write log 7205044501086736931 (index 279) to leader 2
client write log 550102235155975656 (index 280) to leader 2
client write log 2977256215983984242 (index 281) to leader 2
client write log 6670801877969019152 (index 282) to leader 2
client write log 7797430879461421335 (index 283) to leader 2
client write log 2107460553889498343 (index 284) to leader 2
client write log 8169204880302750107 (index 285) to leader 2
client write log 9173221337522396174 (index 286) to leader 2
client write log 1995360041939889446 (index 287) to leader 2
flag 39898 term 45 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 45 leader 2 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 45 leaderCommit: 273 
------------------------------------------------------
flag 48294 term 45 leader 2 nextIndex[1]: 274  matchIndex[1]: 273
term 45 leader 2 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 45 leaderCommit: 273 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 43 269} {9006267022217591537 43 270} {5888781707754963507 43 271} {5888781707754963507 45 272} {2205122652779794942 45 273} {6868701875965418292 45 274} {4502886338663088892 45 275} {7736555616144383600 45 276} {7084336331699581559 45 277} {9037881717850992035 45 278} {7205044501086736931 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287}]
------------------------------------------------------
term 45 Server2 start snapshot! index=279
term 45 server2 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=287
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 leader 2 nextIndex[0]: 273  matchIndex[0]: 272
term 45 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 73226 term 45 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 45 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287}]
------------------------------------------------------
term 45 Server1 start snapshot! index=279
term 45 server1 snapshot success
lastIncludedIndex=279 lastApplied=279 lastIndex=287
-------------------------------------------------------------
!!!!!!connect server 0
client write log 4432209797246630755 (index 288) to leader 2
term 45 server 2 not vote for server 0, 日志不够新
term 45 server 1 not vote for server 0, 日志不够新
term 47 server 1 vote for server 2
term 47 server 0 vote for server 2
term 47 server 2 get vote from server 1
term 47 server 2 become leader
------------------------------------------------------
term 47 server 2 get outdate rpc reply from server 0
flag 79621 term 47 leader 2 nextIndex[0]: 289  matchIndex[0]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 31298 term 47 leader 2 nextIndex[1]: 289  matchIndex[1]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 47 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 289->288
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 289->288
------------------------------------------------------
term 47 leader 2 nextIndex[0]: 273  matchIndex[0]: 0
term 47 leader 2 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 84648 term 47 leader 2 nextIndex[1]: 288  matchIndex[1]: 0
term 47 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
term 47 server 0 InstallSnapshot success
------------------------------------------------------
term 47 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 280 matchIndex[0] 279 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 45 rf.commitIndex 279 rf.lastApplied 279
flag 88819 term 47 leader 2 nextIndex[0]: 280  matchIndex[0]: 279
term 47 leader 2 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 82486 term 47 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
flag 12641 term 47 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 15960 term 47 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
term 47 server 1 not vote for server 0, 任期不够新
term 47 server 0 get outdate rpc reply from server 1
flag 59437 term 47 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 72748 term 47 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98161 term 47 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 59965 term 47 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
term 47 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 88120 term 47 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 51148 term 47 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
flag 5301 term 47 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 19672 term 47 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
term 47 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 65152 term 47 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 51426 term 47 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
flag 30124 term 47 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 59523 term 47 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85172 term 47 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 97246 term 47 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
flag 3710 term 47 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 89845 term 47 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
flag 86683 term 47 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 25629 term 47 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
flag 20292 term 47 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 41027 term 47 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
flag 74798 term 47 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 85356 term 47 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
flag 441 term 47 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 8384 term 47 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
flag 6639 term 47 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 91509 term 47 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
flag 70896 term 47 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 98610 term 47 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
flag 50865 term 47 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 59687 term 47 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7005 term 47 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 18629 term 47 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=289
update matchIndex[0]=288
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288}]
------------------------------------------------------
client write log 4432209797246630755 (index 289) to leader 2
flag 66845 term 47 leader 2 nextIndex[0]: 289  matchIndex[0]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 91124 term 47 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 47 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288} {4432209797246630755 47 289}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 45 279} {550102235155975656 45 280} {2977256215983984242 45 281} {6670801877969019152 45 282} {7797430879461421335 45 283} {2107460553889498343 45 284} {8169204880302750107 45 285} {9173221337522396174 45 286} {1995360041939889446 45 287} {4432209797246630755 45 288} {4432209797246630755 47 289}]
------------------------------------------------------
term 47 Server2 start snapshot! index=289
term 47 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
flag 77637 term 47 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 47 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
flag 30971 term 47 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 47 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 47 289}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 47 289}]
------------------------------------------------------
term 47 Server0 start snapshot! index=289
term 47 server0 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
term 47 Server1 start snapshot! index=289
term 47 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
flag 33925 term 47 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 47 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
flag 60671 term 47 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 47 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 47 289}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 47 289}]
------------------------------------------------------
flag 22046 term 47 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 47 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
flag 61016 term 47 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 47 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 47 289}]
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 47 289}]
------------------------------------------------------
flag 57259 term 47 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 47 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
flag 59959 term 47 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 47 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
term 47 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
update leader CommitIndex=289
leader log:
[{snapshot 47 289}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 47 289}]
------------------------------------------------------
term 47 server 2 not vote for server 0, 任期不够新
term 47 server 0 get outdate rpc reply from server 2
flag 3370 term 47 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 47 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
flag 13506 term 47 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 47 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
term 47 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 47 289}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 47 289}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 29426 term 47 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 47 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
flag 4508 term 47 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 47 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
flag 74662 term 47 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 47 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
flag 19796 term 47 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 47 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
term 47 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 71314 term 47 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 47 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
flag 34433 term 47 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 47 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
term 48 server 0 vote for server 1
term 48 server 1 get vote from server 0
term 48 server 1 become leader
------------------------------------------------------
flag 18858 term 48 leader 1 nextIndex[0]: 290  matchIndex[0]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
flag 86510 term 48 leader 1 nextIndex[2]: 290  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 47 289}]
------------------------------------------------------
client write log 4360757474166522952 (index 290) to leader 1
flag 29468 term 47 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 47 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
flag 56769 term 47 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 47 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
flag 44467 term 48 leader 1 nextIndex[0]: 290  matchIndex[0]: 289
term 48 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
flag 18115 term 48 leader 1 nextIndex[2]: 290  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 47 289} {4360757474166522952 48 290}]
------------------------------------------------------
flag 25026 term 47 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 47 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
flag 62856 term 47 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 47 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
flag 66725 term 48 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 48 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 90615 term 48 leader 1 nextIndex[2]: 290  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 290 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 47 289} {4360757474166522952 48 290}]
------------------------------------------------------
client write log 9188511544263325416 (index 291) to leader 1
flag 10179 term 47 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 47 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
flag 473 term 47 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 47 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
flag 83210 term 48 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 48 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
flag 58411 term 48 leader 1 nextIndex[2]: 290  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 290 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 47 289} {4360757474166522952 48 290} {9188511544263325416 48 291}]
------------------------------------------------------
flag 88464 term 47 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 47 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
flag 46471 term 47 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 47 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
flag 9021 term 48 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 48 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 291 
------------------------------------------------------
flag 39708 term 48 leader 1 nextIndex[2]: 290  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 291 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 47 289} {4360757474166522952 48 290} {9188511544263325416 48 291}]
------------------------------------------------------
!!!!!!connect server 2
client write log 5087140517355045054 (index 292) to leader 1
flag 42926 term 47 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 47 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
flag 5398 term 47 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 47 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 289 
------------------------------------------------------
term 48 server 1 AppendEntries false 领导者任期过期 args.Term 47
------------------------------------------------------
term 48 server 0 AppendEntries false 领导者任期过期 args.Term 47
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63289 term 48 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 48 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 48 leaderCommit: 291 
------------------------------------------------------
flag 81273 term 48 leader 1 nextIndex[2]: 290  matchIndex[2]: 0
term 48 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 47 leaderCommit: 291 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {4360757474166522952 48 290} {9188511544263325416 48 291} {5087140517355045054 48 292}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {4360757474166522952 48 290} {9188511544263325416 48 291} {5087140517355045054 48 292}]
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 74551 term 48 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 48 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
flag 94626 term 48 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 48 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {4360757474166522952 48 290} {9188511544263325416 48 291} {5087140517355045054 48 292}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {4360757474166522952 48 290} {9188511544263325416 48 291} {5087140517355045054 48 292}]
------------------------------------------------------
flag 17231 term 48 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 48 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
flag 19260 term 48 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 48 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {4360757474166522952 48 290} {9188511544263325416 48 291} {5087140517355045054 48 292}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {4360757474166522952 48 290} {9188511544263325416 48 291} {5087140517355045054 48 292}]
------------------------------------------------------
flag 32949 term 48 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 48 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
flag 32420 term 48 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 48 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {4360757474166522952 48 290} {9188511544263325416 48 291} {5087140517355045054 48 292}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {4360757474166522952 48 290} {9188511544263325416 48 291} {5087140517355045054 48 292}]
------------------------------------------------------
flag 15954 term 48 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 48 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
flag 64807 term 48 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 48 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {4360757474166522952 48 290} {9188511544263325416 48 291} {5087140517355045054 48 292}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {4360757474166522952 48 290} {9188511544263325416 48 291} {5087140517355045054 48 292}]
------------------------------------------------------
flag 60948 term 48 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 48 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
flag 16663 term 48 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 48 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {4360757474166522952 48 290} {9188511544263325416 48 291} {5087140517355045054 48 292}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {4360757474166522952 48 290} {9188511544263325416 48 291} {5087140517355045054 48 292}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3112 term 48 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 48 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
flag 20940 term 48 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 48 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 48 server 2 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=293
update matchIndex[2]=292
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {4360757474166522952 48 290} {9188511544263325416 48 291} {5087140517355045054 48 292}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 47 289} {4360757474166522952 48 290} {9188511544263325416 48 291} {5087140517355045054 48 292}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5153766369023349211 (index 293) to leader 1
flag 7788 term 48 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 48 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
flag 88957 term 48 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 48 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 292 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 47 289} {4360757474166522952 48 290} {9188511544263325416 48 291} {5087140517355045054 48 292} {5153766369023349211 48 293}]
------------------------------------------------------
flag 37417 term 48 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 48 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 293 
------------------------------------------------------
flag 8021 term 48 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 48 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 293 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=294
update matchIndex[0]=293
update leader CommitIndex=293
leader log:
[{snapshot 47 289} {4360757474166522952 48 290} {9188511544263325416 48 291} {5087140517355045054 48 292} {5153766369023349211 48 293}]
------------------------------------------------------
client write log 2483305764825650150 (index 294) to leader 1
client write log 4741434297730647190 (index 295) to leader 1
client write log 3136423162162545987 (index 296) to leader 1
client write log 5554526276695159259 (index 297) to leader 1
client write log 7190760475915390474 (index 298) to leader 1
client write log 1771763098856035385 (index 299) to leader 1
client write log 6219679332553718785 (index 300) to leader 1
client write log 6651767370118858624 (index 301) to leader 1
client write log 7347130340491331398 (index 302) to leader 1
flag 36696 term 48 leader 1 nextIndex[0]: 294  matchIndex[0]: 293
term 48 leader 1 sendAppendEntries PrevLogIndex: 293  PrevLogTerm: 48 leaderCommit: 293 
------------------------------------------------------
flag 72791 term 48 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 48 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 48 leaderCommit: 293 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:293 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 47 289} {4360757474166522952 48 290} {9188511544263325416 48 291} {5087140517355045054 48 292} {5153766369023349211 48 293} {2483305764825650150 48 294} {4741434297730647190 48 295} {3136423162162545987 48 296} {5554526276695159259 48 297} {7190760475915390474 48 298} {1771763098856035385 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302}]
------------------------------------------------------
term 48 Server1 start snapshot! index=299
term 48 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=302
-------------------------------------------------------------
flag 52341 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302}]
------------------------------------------------------
term 48 Server0 start snapshot! index=299
term 48 server0 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=302
-------------------------------------------------------------
!!!!!!connect server 2
client write log 501274702668460316 (index 303) to leader 1
flag 28740 term 48 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 48 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
term 48 leader 1 nextIndex[2]: 293  matchIndex[2]: 292
term 48 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
term 49 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 server 2 vote for server 1
term 50 server 0 vote for server 1
term 50 server 1 get vote from server 2
term 50 server 1 become leader
------------------------------------------------------
term 50 server 1 get outdate rpc reply from server 0
flag 38014 term 50 leader 1 nextIndex[0]: 304  matchIndex[0]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
flag 24027 term 50 leader 1 nextIndex[2]: 304  matchIndex[2]: 0
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
term 50 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 304->303
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
flag 49698 term 50 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 293  matchIndex[2]: 0
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 48
------------------------------------------------------
term 50 server 2 InstallSnapshot success
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 48 rf.commitIndex 299 rf.lastApplied 299
term 50 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46089 term 50 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
flag 1397 term 50 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 50 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
flag 78979 term 50 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
flag 49356 term 50 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60206 term 50 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
flag 77565 term 50 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
flag 11288 term 50 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
flag 99751 term 50 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
flag 31856 term 50 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
flag 28265 term 50 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
flag 95132 term 50 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
flag 71540 term 50 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
flag 30990 term 50 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
flag 77281 term 50 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
term 50 server 0 not vote for server 2, 任期不够新
term 50 server 2 get outdate rpc reply from server 0
flag 87906 term 50 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
flag 69400 term 50 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
flag 85205 term 50 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
flag 66258 term 50 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
flag 12410 term 50 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
flag 9876 term 50 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
flag 99829 term 50 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
flag 46212 term 50 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
flag 17067 term 50 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
flag 19731 term 50 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
flag 63848 term 50 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
flag 77995 term 50 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
flag 14675 term 50 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
flag 79166 term 50 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92740 term 50 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
flag 35617 term 50 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
flag 68735 term 50 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
flag 34054 term 50 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=302
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 501274702668460316 (index 304) to leader 1
flag 52998 term 50 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
flag 67849 term 50 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 50 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 48 leaderCommit: 302 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303} {501274702668460316 50 304}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:302 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303} {501274702668460316 50 304}]
------------------------------------------------------
flag 62416 term 50 leader 1 nextIndex[0]: 305  matchIndex[0]: 304
term 50 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 50 leaderCommit: 304 
------------------------------------------------------
flag 54060 term 50 leader 1 nextIndex[2]: 305  matchIndex[2]: 304
term 50 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 50 leaderCommit: 304 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303} {501274702668460316 50 304}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303} {501274702668460316 50 304}]
------------------------------------------------------
flag 79659 term 50 leader 1 nextIndex[0]: 305  matchIndex[0]: 304
term 50 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 50 leaderCommit: 304 
------------------------------------------------------
flag 49894 term 50 leader 1 nextIndex[2]: 305  matchIndex[2]: 304
term 50 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 50 leaderCommit: 304 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303} {501274702668460316 50 304}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303} {501274702668460316 50 304}]
------------------------------------------------------
flag 51149 term 50 leader 1 nextIndex[0]: 305  matchIndex[0]: 304
term 50 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 50 leaderCommit: 304 
------------------------------------------------------
flag 54475 term 50 leader 1 nextIndex[2]: 305  matchIndex[2]: 304
term 50 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 50 leaderCommit: 304 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303} {501274702668460316 50 304}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303} {501274702668460316 50 304}]
------------------------------------------------------
flag 17582 term 50 leader 1 nextIndex[0]: 305  matchIndex[0]: 304
term 50 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 50 leaderCommit: 304 
------------------------------------------------------
flag 71506 term 50 leader 1 nextIndex[2]: 305  matchIndex[2]: 304
term 50 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 50 leaderCommit: 304 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303} {501274702668460316 50 304}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303} {501274702668460316 50 304}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48506 term 50 leader 1 nextIndex[0]: 305  matchIndex[0]: 304
term 50 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 50 leaderCommit: 304 
------------------------------------------------------
flag 57071 term 50 leader 1 nextIndex[2]: 305  matchIndex[2]: 304
term 50 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 50 leaderCommit: 304 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303} {501274702668460316 50 304}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303} {501274702668460316 50 304}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27836 term 50 leader 1 nextIndex[0]: 305  matchIndex[0]: 304
term 50 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 50 leaderCommit: 304 
------------------------------------------------------
flag 24524 term 50 leader 1 nextIndex[2]: 305  matchIndex[2]: 304
term 50 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 50 leaderCommit: 304 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303} {501274702668460316 50 304}]
------------------------------------------------------
term 50 server 2 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=305
update matchIndex[2]=304
update leader CommitIndex=304
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303} {501274702668460316 50 304}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 4641889111402247753 (index 305) to leader 1
flag 82371 term 50 leader 1 nextIndex[0]: 305  matchIndex[0]: 304
term 50 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 50 leaderCommit: 304 
------------------------------------------------------
flag 8738 term 50 leader 1 nextIndex[2]: 305  matchIndex[2]: 304
term 50 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 50 leaderCommit: 304 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303} {501274702668460316 50 304} {4641889111402247753 50 305}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29332 term 50 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 50 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
flag 86165 term 50 leader 1 nextIndex[2]: 305  matchIndex[2]: 304
term 50 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=306
update matchIndex[0]=305
update leader CommitIndex=305
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303} {501274702668460316 50 304} {4641889111402247753 50 305}]
------------------------------------------------------
client write log 2268209909855977790 (index 306) to leader 1
client write log 2248439870297276848 (index 307) to leader 1
client write log 703979557587055809 (index 308) to leader 1
client write log 7395167494801848133 (index 309) to leader 1
client write log 5116377067074343123 (index 310) to leader 1
client write log 1473700571028427491 (index 311) to leader 1
client write log 5486526882839382056 (index 312) to leader 1
client write log 5356033435006869143 (index 313) to leader 1
client write log 8321642587621104000 (index 314) to leader 1
client write log 1322920047358333073 (index 315) to leader 1
client write log 8727626934970281282 (index 316) to leader 1
client write log 5403652030579325574 (index 317) to leader 1
client write log 8620965725871364674 (index 318) to leader 1
client write log 8242462965770579390 (index 319) to leader 1
flag 92240 term 50 leader 1 nextIndex[0]: 306  matchIndex[0]: 305
term 50 leader 1 sendAppendEntries PrevLogIndex: 305  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
flag 94859 term 50 leader 1 nextIndex[2]: 305  matchIndex[2]: 304
term 50 leader 1 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 50 leaderCommit: 305 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:305 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 48 299} {6219679332553718785 48 300} {6651767370118858624 48 301} {7347130340491331398 48 302} {501274702668460316 48 303} {501274702668460316 50 304} {4641889111402247753 50 305} {2268209909855977790 50 306} {2248439870297276848 50 307} {703979557587055809 50 308} {7395167494801848133 50 309} {5116377067074343123 50 310} {1473700571028427491 50 311} {5486526882839382056 50 312} {5356033435006869143 50 313} {8321642587621104000 50 314} {1322920047358333073 50 315} {8727626934970281282 50 316} {5403652030579325574 50 317} {8620965725871364674 50 318} {8242462965770579390 50 319}]
------------------------------------------------------
term 50 Server1 start snapshot! index=309
term 50 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=319
-------------------------------------------------------------
term 50 Server1 start snapshot! index=319
term 50 server1 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24663 term 50 leader 1 nextIndex[0]: 320  matchIndex[0]: 319
term 50 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
term 50 leader 1 nextIndex[2]: 305  matchIndex[2]: 304
term 50 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=320
update matchIndex[0]=319
update leader CommitIndex=319
leader log:
[{snapshot 50 319}]
------------------------------------------------------
term 50 Server0 start snapshot! index=309
term 50 server0 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=319
-------------------------------------------------------------
term 50 Server0 start snapshot! index=319
term 50 server0 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=319
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2336133100800046196 (index 320) to leader 1
term 50 server 1 not vote for server 2, 日志不够新
term 50 server 0 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 server 2 vote for server 1
term 52 server 1 get vote from server 2
term 52 server 1 become leader
------------------------------------------------------
term 52 server 0 vote for server 1
term 52 server 1 get outdate rpc reply from server 0
flag 34593 term 52 leader 1 nextIndex[0]: 321  matchIndex[0]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 77741 term 52 leader 1 nextIndex[2]: 321  matchIndex[2]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
term 52 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 321->320
------------------------------------------------------
term 52 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 321->320
------------------------------------------------------
flag 99779 term 52 leader 1 nextIndex[0]: 320  matchIndex[0]: 0
term 52 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 305  matchIndex[2]: 0
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
term 52 server 2 InstallSnapshot success
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot success
term 52 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
nextIndex[2] 320 matchIndex[2] 319 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 50 rf.commitIndex 319 rf.lastApplied 319
flag 13496 term 52 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 49486 term 52 leader 1 nextIndex[2]: 320  matchIndex[2]: 319
term 52 leader 1 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
flag 12024 term 52 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 51162 term 52 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
flag 94485 term 52 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 91136 term 52 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
flag 33826 term 52 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 10018 term 52 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
flag 86070 term 52 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 85501 term 52 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
flag 14023 term 52 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 51026 term 52 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
flag 46526 term 52 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 92419 term 52 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 server 2 not vote for server 1, 任期不够新
term 52 server 1 get outdate rpc reply from server 2
flag 51203 term 52 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 85524 term 52 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48360 term 52 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 67850 term 52 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
term 52 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86904 term 52 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 47089 term 52 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
flag 96881 term 52 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 43293 term 52 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
flag 8095 term 52 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 4513 term 52 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
flag 34567 term 52 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 53657 term 52 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
flag 43084 term 52 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 33814 term 52 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
flag 16716 term 52 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 53586 term 52 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
flag 25580 term 52 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 84144 term 52 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
term 52 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40154 term 52 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 49173 term 52 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=321
update matchIndex[2]=320
update leader CommitIndex=319
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=321
update matchIndex[0]=320
update leader CommitIndex=319
leader log:
[{snapshot 50 319} {2336133100800046196 50 320}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 2336133100800046196 (index 321) to leader 1
flag 93427 term 52 leader 1 nextIndex[0]: 321  matchIndex[0]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
flag 21430 term 52 leader 1 nextIndex[2]: 321  matchIndex[2]: 320
term 52 leader 1 sendAppendEntries PrevLogIndex: 320  PrevLogTerm: 50 leaderCommit: 319 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321}]
------------------------------------------------------
flag 4450 term 52 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 52 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 52 leaderCommit: 321 
------------------------------------------------------
flag 45925 term 52 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 52 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 52 leaderCommit: 321 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321}]
------------------------------------------------------
flag 34986 term 52 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 52 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 52 leaderCommit: 321 
------------------------------------------------------
flag 33048 term 52 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 52 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 52 leaderCommit: 321 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321}]
------------------------------------------------------
flag 32379 term 52 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 52 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 52 leaderCommit: 321 
------------------------------------------------------
flag 87839 term 52 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 52 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 52 leaderCommit: 321 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321}]
------------------------------------------------------
flag 34535 term 52 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 52 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 52 leaderCommit: 321 
------------------------------------------------------
flag 11427 term 52 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 52 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 52 leaderCommit: 321 
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86793 term 52 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 52 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 52 leaderCommit: 321 
------------------------------------------------------
flag 89132 term 52 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 52 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 52 leaderCommit: 321 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=322
update matchIndex[0]=321
update leader CommitIndex=321
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321}]
------------------------------------------------------
term 52 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 18832 term 52 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 52 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 52 leaderCommit: 321 
------------------------------------------------------
flag 8406 term 52 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 52 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 52 leaderCommit: 321 
------------------------------------------------------
flag 87221 term 52 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 52 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 52 leaderCommit: 321 
------------------------------------------------------
flag 55673 term 52 leader 1 nextIndex[2]: 322  matchIndex[2]: 321
term 52 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 52 leaderCommit: 321 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 322->321
------------------------------------------------------
flag 4289 term 52 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 52 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 52 leaderCommit: 321 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 0  matchIndex[2]: 321
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
flag 80188 term 52 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 52 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 52 leaderCommit: 321 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 0  matchIndex[2]: 321
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
term 53 server 2 vote for server 0
term 53 server 0 get vote from server 2
term 53 server 0 become leader
------------------------------------------------------
flag 45574 term 53 leader 0 nextIndex[1]: 322  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 52 leaderCommit: 321 
------------------------------------------------------
flag 70126 term 53 leader 0 nextIndex[2]: 322  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 52 leaderCommit: 321 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=322
update matchIndex[2]=321
update leader CommitIndex=321
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321}]
------------------------------------------------------
client write log 448480159461123893 (index 322) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12369 term 52 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 52 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 52 leaderCommit: 321 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 0  matchIndex[2]: 321
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
flag 44619 term 53 leader 0 nextIndex[1]: 322  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 52 leaderCommit: 321 
------------------------------------------------------
flag 55524 term 53 leader 0 nextIndex[2]: 322  matchIndex[2]: 321
term 53 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 52 leaderCommit: 321 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322}]
------------------------------------------------------
flag 86291 term 52 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 52 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 52 leaderCommit: 321 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 0  matchIndex[2]: 321
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 48202 term 53 leader 0 nextIndex[1]: 322  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 52 leaderCommit: 322 
------------------------------------------------------
flag 44220 term 53 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 53 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 53 leaderCommit: 322 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=323
update matchIndex[2]=322
update leader CommitIndex=322
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322}]
------------------------------------------------------
client write log 6355598302593224112 (index 323) to leader 0
flag 22390 term 52 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 52 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 52 leaderCommit: 321 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 0  matchIndex[2]: 321
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
flag 27628 term 53 leader 0 nextIndex[1]: 322  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 52 leaderCommit: 322 
------------------------------------------------------
flag 9775 term 53 leader 0 nextIndex[2]: 323  matchIndex[2]: 322
term 53 leader 0 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 53 leaderCommit: 322 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
flag 6536 term 52 leader 1 nextIndex[0]: 322  matchIndex[0]: 321
term 52 leader 1 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 52 leaderCommit: 321 
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 0  matchIndex[2]: 321
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
flag 88763 term 53 leader 0 nextIndex[1]: 322  matchIndex[1]: 0
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 322->321
------------------------------------------------------
term 53 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 57091 term 53 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
!!!!!!connect server 1
client write log 8595675403854974516 (index 322) to leader 1
term 52 leader 1 nextIndex[0]: 0  matchIndex[0]: 321
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
term 52 leader 1 nextIndex[2]: 0  matchIndex[2]: 321
term 52 leader 1 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
term 53 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 53 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 52 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 53 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69930 term 53 leader 0 nextIndex[1]: 322  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 52 leaderCommit: 323 
------------------------------------------------------
flag 68638 term 53 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:322 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
term 53 server 1 not vote for server 2, 任期不够新
term 53 server 2 get outdate rpc reply from server 1
flag 50124 term 53 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
flag 25417 term 53 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
flag 26126 term 53 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
flag 90011 term 53 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 324->323
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 0  matchIndex[1]: 323
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
flag 66557 term 53 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
term 53 server 1 InstallSnapshot fail
rf.commitIndex 323 args.LastIncludedIndex 319
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
flag 38398 term 53 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 323 
------------------------------------------------------
flag 46755 term 53 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
flag 59402 term 53 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
flag 34588 term 53 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
flag 35772 term 53 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
flag 47030 term 53 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
flag 13253 term 53 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
flag 35145 term 53 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
flag 67239 term 53 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
flag 32093 term 53 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
flag 12348 term 53 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
flag 95223 term 53 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
flag 94964 term 53 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
flag 71228 term 53 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
flag 55475 term 53 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
flag 54567 term 53 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
flag 96226 term 53 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
flag 47341 term 53 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
flag 41438 term 53 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
flag 92662 term 53 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
flag 81244 term 53 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
flag 29356 term 53 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
flag 68561 term 53 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
flag 58641 term 53 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30932 term 53 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
flag 3387 term 53 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
flag 76093 term 53 leader 0 nextIndex[1]: 324  matchIndex[1]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
flag 56400 term 53 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 324->323
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 0  matchIndex[1]: 323
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
flag 70122 term 53 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
term 53 server 1 InstallSnapshot fail
rf.commitIndex 323 args.LastIncludedIndex 319
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 53 server 1 not vote for server 0, 日志不够新
term 53 server 0 get outdate rpc reply from server 1
flag 20479 term 53 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 323 
------------------------------------------------------
flag 27683 term 53 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=324
update matchIndex[2]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323}]
------------------------------------------------------
client write log 8595675403854974516 (index 324) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 324->323
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 0  matchIndex[1]: 323
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 50
------------------------------------------------------
flag 84830 term 53 leader 0 nextIndex[2]: 324  matchIndex[2]: 323
term 53 leader 0 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 53 leaderCommit: 323 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323} {8595675403854974516 53 324}]
------------------------------------------------------
term 53 server 1 InstallSnapshot fail
rf.commitIndex 323 args.LastIncludedIndex 319
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86460 term 53 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 53 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 50 leaderCommit: 324 
------------------------------------------------------
flag 78269 term 53 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 53 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323} {8595675403854974516 53 324}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323} {8595675403854974516 53 324}]
------------------------------------------------------
term 53 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 93386 term 53 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 53 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
flag 35835 term 53 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 53 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323} {8595675403854974516 53 324}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323} {8595675403854974516 53 324}]
------------------------------------------------------
flag 27342 term 53 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 53 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
flag 57357 term 53 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 53 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323} {8595675403854974516 53 324}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323} {8595675403854974516 53 324}]
------------------------------------------------------
flag 55369 term 53 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 53 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
flag 67451 term 53 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 53 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323} {8595675403854974516 53 324}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323} {8595675403854974516 53 324}]
------------------------------------------------------
flag 65239 term 53 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 53 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
flag 29746 term 53 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 53 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323} {8595675403854974516 53 324}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323} {8595675403854974516 53 324}]
------------------------------------------------------
flag 92107 term 53 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 53 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
flag 63469 term 53 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 53 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=325
update matchIndex[2]=324
update leader CommitIndex=324
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323} {8595675403854974516 53 324}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323} {8595675403854974516 53 324}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3633559283209396861 (index 325) to leader 0
flag 97542 term 53 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 53 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
flag 14532 term 53 leader 0 nextIndex[2]: 325  matchIndex[2]: 324
term 53 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 324 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323} {8595675403854974516 53 324} {3633559283209396861 53 325}]
------------------------------------------------------
flag 6168 term 53 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 53 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 325 
------------------------------------------------------
flag 15919 term 53 leader 0 nextIndex[2]: 326  matchIndex[2]: 325
term 53 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 53 leaderCommit: 325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=326
update matchIndex[2]=325
update leader CommitIndex=325
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323} {8595675403854974516 53 324} {3633559283209396861 53 325}]
------------------------------------------------------
client write log 8737321035787578639 (index 326) to leader 0
client write log 8030265993043563887 (index 327) to leader 0
client write log 2181241430357508906 (index 328) to leader 0
client write log 1240541678705286239 (index 329) to leader 0
client write log 3523553974503840366 (index 330) to leader 0
client write log 1286269077594008377 (index 331) to leader 0
client write log 638613867392171895 (index 332) to leader 0
flag 19841 term 53 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 53 leader 0 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 53 leaderCommit: 325 
------------------------------------------------------
flag 16035 term 53 leader 0 nextIndex[2]: 326  matchIndex[2]: 325
term 53 leader 0 sendAppendEntries PrevLogIndex: 325  PrevLogTerm: 53 leaderCommit: 325 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:325 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 50 319} {2336133100800046196 50 320} {2336133100800046196 52 321} {448480159461123893 53 322} {6355598302593224112 53 323} {8595675403854974516 53 324} {3633559283209396861 53 325} {8737321035787578639 53 326} {8030265993043563887 53 327} {2181241430357508906 53 328} {1240541678705286239 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332}]
------------------------------------------------------
term 53 Server0 start snapshot! index=329
term 53 server0 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=332
-------------------------------------------------------------
term 53 leader 0 nextIndex[1]: 325  matchIndex[1]: 324
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 53
------------------------------------------------------
flag 60363 term 53 leader 0 nextIndex[2]: 333  matchIndex[2]: 332
term 53 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=333
update matchIndex[2]=332
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332}]
------------------------------------------------------
term 53 Server2 start snapshot! index=329
term 53 server2 snapshot success
lastIncludedIndex=329 lastApplied=329 lastIndex=332
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3166804151018119803 (index 333) to leader 0
term 53 server 2 not vote for server 1, 日志不够新
term 53 server 0 not vote for server 1, 日志不够新
term 55 server 2 vote for server 0
term 55 server 0 get vote from server 2
term 55 server 0 become leader
------------------------------------------------------
term 55 server 1 vote for server 0
term 55 server 0 get outdate rpc reply from server 1
flag 97167 term 55 leader 0 nextIndex[1]: 334  matchIndex[1]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 47025 term 55 leader 0 nextIndex[2]: 334  matchIndex[2]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 55 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 334->333
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 334->333
------------------------------------------------------
term 55 leader 0 nextIndex[1]: 325  matchIndex[1]: 0
term 55 leader 0 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 53
------------------------------------------------------
flag 17571 term 55 leader 0 nextIndex[2]: 333  matchIndex[2]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
term 55 server 1 InstallSnapshot success
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 53 rf.commitIndex 329 rf.lastApplied 329
term 55 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 330 matchIndex[1] 329 
------------------------------------------------------------------------
flag 65287 term 55 leader 0 nextIndex[1]: 330  matchIndex[1]: 329
term 55 leader 0 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 39701 term 55 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
flag 16253 term 55 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 46540 term 55 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29798 term 55 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 68544 term 55 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34639 term 55 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 98000 term 55 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97717 term 55 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 30173 term 55 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
flag 58898 term 55 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 42365 term 55 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
flag 31764 term 55 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 21765 term 55 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85118 term 55 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 17805 term 55 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
flag 11936 term 55 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 423 term 55 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
flag 3044 term 55 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 17454 term 55 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
flag 46575 term 55 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 59004 term 55 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
flag 71358 term 55 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 5005 term 55 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
flag 31169 term 55 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 85322 term 55 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
flag 81093 term 55 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 72215 term 55 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
flag 59721 term 55 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 26001 term 55 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
term 55 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14844 term 55 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 6342 term 55 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
flag 59715 term 55 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 80827 term 55 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33122 term 55 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 93335 term 55 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=334
update matchIndex[2]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333}]
------------------------------------------------------
client write log 3166804151018119803 (index 334) to leader 0
flag 91539 term 55 leader 0 nextIndex[1]: 334  matchIndex[1]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
flag 26058 term 55 leader 0 nextIndex[2]: 334  matchIndex[2]: 333
term 55 leader 0 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 53 leaderCommit: 332 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333} {3166804151018119803 55 334}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333} {3166804151018119803 55 334}]
------------------------------------------------------
flag 49571 term 55 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 55 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 55 leaderCommit: 334 
------------------------------------------------------
flag 68108 term 55 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 55 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 55 leaderCommit: 334 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333} {3166804151018119803 55 334}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333} {3166804151018119803 55 334}]
------------------------------------------------------
flag 77965 term 55 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 55 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 55 leaderCommit: 334 
------------------------------------------------------
flag 57383 term 55 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 55 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 55 leaderCommit: 334 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333} {3166804151018119803 55 334}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333} {3166804151018119803 55 334}]
------------------------------------------------------
flag 54670 term 55 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 55 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 55 leaderCommit: 334 
------------------------------------------------------
flag 3036 term 55 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 55 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 55 leaderCommit: 334 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333} {3166804151018119803 55 334}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333} {3166804151018119803 55 334}]
------------------------------------------------------
flag 63584 term 55 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 55 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 55 leaderCommit: 334 
------------------------------------------------------
flag 54161 term 55 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 55 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 55 leaderCommit: 334 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333} {3166804151018119803 55 334}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333} {3166804151018119803 55 334}]
------------------------------------------------------
term 55 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12387 term 55 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 55 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 55 leaderCommit: 334 
------------------------------------------------------
flag 14826 term 55 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 55 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 55 leaderCommit: 334 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 55 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
update nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333} {3166804151018119803 55 334}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333} {3166804151018119803 55 334}]
------------------------------------------------------
flag 91377 term 55 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 55 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 55 leaderCommit: 334 
------------------------------------------------------
flag 69868 term 55 leader 0 nextIndex[2]: 335  matchIndex[2]: 334
term 55 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 55 leaderCommit: 334 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=335
update matchIndex[2]=334
update leader CommitIndex=334
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333} {3166804151018119803 55 334}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 53 329} {3523553974503840366 53 330} {1286269077594008377 53 331} {638613867392171895 53 332} {3166804151018119803 53 333} {3166804151018119803 55 334}]
------------------------------------------------------
  ... Passed --  86.0  3 1944  861378  334
--- PASS: TestSnapshotInstall2D (86.01s)
PASS
