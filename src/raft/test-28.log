=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 0 vote for server 2
term 1 server 2 get outdate rpc reply from server 0
flag 72603 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 36312 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 8248939302129695896 (index 1) to leader 2
flag 78608 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 83159 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8248939302129695896 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8248939302129695896 1 1}]
------------------------------------------------------
flag 73860 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 39479 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8248939302129695896 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8248939302129695896 1 1}]
------------------------------------------------------
flag 40186 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 2955 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8248939302129695896 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8248939302129695896 1 1}]
------------------------------------------------------
flag 74691 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 92839 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8248939302129695896 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8248939302129695896 1 1}]
------------------------------------------------------
flag 96444 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 55872 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8248939302129695896 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8248939302129695896 1 1}]
------------------------------------------------------
flag 46138 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 29383 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8248939302129695896 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8248939302129695896 1 1}]
------------------------------------------------------
flag 62509 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 43571 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8248939302129695896 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {8248939302129695896 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1628083789313073572 (index 2) to leader 2
flag 26868 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 61962 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {8248939302129695896 1 1} {1628083789313073572 1 2}]
------------------------------------------------------
flag 52542 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 96977 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {8248939302129695896 1 1} {1628083789313073572 1 2}]
------------------------------------------------------
client write log 7291313436102930504 (index 3) to leader 2
client write log 4399397460292732866 (index 4) to leader 2
client write log 3255683241686480130 (index 5) to leader 2
client write log 1598225553414571773 (index 6) to leader 2
client write log 3391049873750183960 (index 7) to leader 2
client write log 6382731430273982539 (index 8) to leader 2
client write log 1778565161213309196 (index 9) to leader 2
flag 47239 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 94477 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{<nil> 0 0} {8248939302129695896 1 1} {1628083789313073572 1 2} {7291313436102930504 1 3} {4399397460292732866 1 4} {3255683241686480130 1 5} {1598225553414571773 1 6} {3391049873750183960 1 7} {6382731430273982539 1 8} {1778565161213309196 1 9}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 95397 term 1 leader 2 nextIndex[1]: 10  matchIndex[1]: 9
term 1 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=10
update matchIndex[1]=9
update leader CommitIndex=9
leader log:
[{snapshot 1 9}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=9 lastIndex=9
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7918646474402876454 (index 10) to leader 2
term 1 server 2 not vote for server 0, 日志不够新
term 1 server 1 not vote for server 0, 日志不够新
term 3 server 0 vote for server 2
term 3 server 1 vote for server 2
term 3 server 2 get vote from server 0
term 3 server 2 become leader
------------------------------------------------------
term 3 server 2 get outdate rpc reply from server 1
flag 48565 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 99207 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 11->10
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 11->10
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 28875 term 3 leader 2 nextIndex[1]: 10  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 45800 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 8170 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
flag 82681 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 97383 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
flag 71460 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 7355 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
flag 40673 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 37583 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
flag 50008 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 82509 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
flag 27772 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 79253 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
flag 18166 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 63100 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
flag 63519 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 73356 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
flag 11327 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 62586 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
flag 75441 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 88304 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
flag 99822 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 30698 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
flag 70406 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 85924 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
flag 13925 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 91385 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
flag 61203 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 37645 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
flag 31938 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 96094 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38151 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 6434 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
flag 69001 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 52911 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10}]
------------------------------------------------------
flag 7372 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 69969 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
client write log 7918646474402876454 (index 11) to leader 2
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=11
update matchIndex[0]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=11
update matchIndex[1]=10
update leader CommitIndex=9
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11}]
------------------------------------------------------
flag 41755 term 3 leader 2 nextIndex[0]: 11  matchIndex[0]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
flag 21803 term 3 leader 2 nextIndex[1]: 11  matchIndex[1]: 10
term 3 leader 2 sendAppendEntries PrevLogIndex: 10  PrevLogTerm: 1 leaderCommit: 9 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:9 
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11}]
------------------------------------------------------
flag 61130 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 41105 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11}]
------------------------------------------------------
flag 60917 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 5958 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11}]
------------------------------------------------------
flag 72382 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 16452 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11}]
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11}]
------------------------------------------------------
flag 33112 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 88394 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11}]
------------------------------------------------------
flag 64079 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 60627 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11}]
------------------------------------------------------
flag 91526 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 70913 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 93868 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 72319 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 57433 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 72993 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95509 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 73906 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 4 server 0 vote for server 1
term 4 server 1 get vote from server 0
term 4 server 1 become leader
------------------------------------------------------
flag 6596 term 4 leader 1 nextIndex[0]: 12  matchIndex[0]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 72742 term 4 leader 1 nextIndex[2]: 12  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=12
update matchIndex[0]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11}]
------------------------------------------------------
flag 69205 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 86284 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
client write log 3580154409450771803 (index 12) to leader 1
flag 22842 term 4 leader 1 nextIndex[0]: 12  matchIndex[0]: 11
term 4 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 2891 term 4 leader 1 nextIndex[2]: 12  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11} {3580154409450771803 4 12}]
------------------------------------------------------
flag 60303 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 90972 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 1327 term 4 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 49826 term 4 leader 1 nextIndex[2]: 12  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11} {3580154409450771803 4 12}]
------------------------------------------------------
flag 23472 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 48774 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
client write log 8046451723637329374 (index 13) to leader 1
term 3 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 32410 term 4 leader 1 nextIndex[0]: 13  matchIndex[0]: 12
term 4 leader 1 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 4 leaderCommit: 12 
------------------------------------------------------
flag 42507 term 4 leader 1 nextIndex[2]: 12  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 12 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11} {3580154409450771803 4 12} {8046451723637329374 4 13}]
------------------------------------------------------
flag 86490 term 3 leader 2 nextIndex[0]: 12  matchIndex[0]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
flag 1406 term 3 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 3 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 12->11
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 12->11
------------------------------------------------------
flag 98540 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 92288 term 4 leader 1 nextIndex[2]: 12  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=14
update matchIndex[0]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11} {3580154409450771803 4 12} {8046451723637329374 4 13}]
------------------------------------------------------
!!!!!!connect server 2
client write log 3346544353710167854 (index 14) to leader 1
term 3 leader 2 nextIndex[0]: 0  matchIndex[0]: 11
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 11
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 3 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27456 term 4 leader 1 nextIndex[0]: 14  matchIndex[0]: 13
term 4 leader 1 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 23955 term 4 leader 1 nextIndex[2]: 12  matchIndex[2]: 0
term 4 leader 1 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 3 leaderCommit: 13 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11} {3580154409450771803 4 12} {8046451723637329374 4 13} {3346544353710167854 4 14}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11} {3580154409450771803 4 12} {8046451723637329374 4 13} {3346544353710167854 4 14}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 15->14
------------------------------------------------------
flag 28499 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 0  matchIndex[2]: 14
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 2 InstallSnapshot fail
rf.commitIndex 11 args.LastIncludedIndex 9
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11} {3580154409450771803 4 12} {8046451723637329374 4 13} {3346544353710167854 4 14}]
------------------------------------------------------
flag 25786 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 830 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11} {3580154409450771803 4 12} {8046451723637329374 4 13} {3346544353710167854 4 14}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11} {3580154409450771803 4 12} {8046451723637329374 4 13} {3346544353710167854 4 14}]
------------------------------------------------------
flag 83034 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 36786 term 4 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11} {3580154409450771803 4 12} {8046451723637329374 4 13} {3346544353710167854 4 14}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11} {3580154409450771803 4 12} {8046451723637329374 4 13} {3346544353710167854 4 14}]
------------------------------------------------------
flag 34023 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 38087 term 4 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11} {3580154409450771803 4 12} {8046451723637329374 4 13} {3346544353710167854 4 14}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11} {3580154409450771803 4 12} {8046451723637329374 4 13} {3346544353710167854 4 14}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 15->14
------------------------------------------------------
flag 87973 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 0  matchIndex[2]: 14
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 2 InstallSnapshot fail
rf.commitIndex 14 args.LastIncludedIndex 9
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 10 matchIndex[2] 9 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11} {3580154409450771803 4 12} {8046451723637329374 4 13} {3346544353710167854 4 14}]
------------------------------------------------------
flag 50030 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 25289 term 4 leader 1 nextIndex[2]: 10  matchIndex[2]: 9
term 4 leader 1 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 14 
------------------------------------------------------
term 4 server 2 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=15
update matchIndex[2]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11} {3580154409450771803 4 12} {8046451723637329374 4 13} {3346544353710167854 4 14}]
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=15
update matchIndex[0]=14
update leader CommitIndex=14
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11} {3580154409450771803 4 12} {8046451723637329374 4 13} {3346544353710167854 4 14}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5992180482217692481 (index 15) to leader 1
flag 69444 term 4 leader 1 nextIndex[0]: 15  matchIndex[0]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
flag 99482 term 4 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 14 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:14 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11} {3580154409450771803 4 12} {8046451723637329374 4 13} {3346544353710167854 4 14} {5992180482217692481 4 15}]
------------------------------------------------------
flag 82343 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 72720 term 4 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=16
update matchIndex[0]=15
update leader CommitIndex=15
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11} {3580154409450771803 4 12} {8046451723637329374 4 13} {3346544353710167854 4 14} {5992180482217692481 4 15}]
------------------------------------------------------
client write log 361855363966872507 (index 16) to leader 1
client write log 5710182446692834857 (index 17) to leader 1
client write log 2928831452286784587 (index 18) to leader 1
client write log 3278726767003173983 (index 19) to leader 1
client write log 9051697737643479348 (index 20) to leader 1
client write log 2256844337291390850 (index 21) to leader 1
client write log 7266084038043232746 (index 22) to leader 1
client write log 7849815984088472231 (index 23) to leader 1
client write log 8276641114936645895 (index 24) to leader 1
client write log 6141729942762731751 (index 25) to leader 1
client write log 7849643770581419979 (index 26) to leader 1
client write log 5976689775425795709 (index 27) to leader 1
client write log 1241539251323842302 (index 28) to leader 1
flag 9459 term 4 leader 1 nextIndex[0]: 16  matchIndex[0]: 15
term 4 leader 1 sendAppendEntries PrevLogIndex: 15  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
flag 96690 term 4 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 1 sendAppendEntries PrevLogIndex: 14  PrevLogTerm: 4 leaderCommit: 15 
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:15 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 1 9} {7918646474402876454 1 10} {7918646474402876454 3 11} {3580154409450771803 4 12} {8046451723637329374 4 13} {3346544353710167854 4 14} {5992180482217692481 4 15} {361855363966872507 4 16} {5710182446692834857 4 17} {2928831452286784587 4 18} {3278726767003173983 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=28
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 3598 term 4 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 4 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 15  matchIndex[2]: 14
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=29
update matchIndex[0]=28
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=28
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8454228302242680009 (index 29) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 15->14
------------------------------------------------------
flag 82905 term 4 leader 1 nextIndex[0]: 29  matchIndex[0]: 28
term 4 leader 1 sendAppendEntries PrevLogIndex: 28  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 4 leader 1 nextIndex[2]: 0  matchIndex[2]: 14
term 4 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 5 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 4 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 2 vote for server 1
term 6 server 0 vote for server 1
term 6 server 1 get vote from server 2
term 6 server 1 become leader
------------------------------------------------------
term 6 server 1 get outdate rpc reply from server 0
flag 9079 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 44533 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 0
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 30->29
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
flag 62184 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 15  matchIndex[2]: 0
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 6 server 2 InstallSnapshot success
------------------------------------------------------
term 6 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
flag 765 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 34099 term 6 leader 1 nextIndex[2]: 20  matchIndex[2]: 19
term 6 leader 1 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38843 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 5539 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
flag 11230 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 82919 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63694 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 73425 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79285 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 84620 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18827 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 92408 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44210 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 88123 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
term 6 server 0 not vote for server 2, 任期不够新
term 6 server 2 get outdate rpc reply from server 0
flag 99184 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 64579 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
flag 32493 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 24253 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
flag 4027 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 77765 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
flag 24293 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 81109 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56608 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 42043 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
flag 69893 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 47958 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
flag 38008 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 76819 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 server 2 not vote for server 1, 任期不够新
term 6 server 1 get outdate rpc reply from server 2
flag 35900 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 31758 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
flag 33368 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 8318 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
flag 39523 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 16177 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=30
update matchIndex[2]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=30
update matchIndex[0]=29
update leader CommitIndex=28
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29}]
------------------------------------------------------
client write log 8454228302242680009 (index 30) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48646 term 6 leader 1 nextIndex[0]: 30  matchIndex[0]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
flag 28207 term 6 leader 1 nextIndex[2]: 30  matchIndex[2]: 29
term 6 leader 1 sendAppendEntries PrevLogIndex: 29  PrevLogTerm: 4 leaderCommit: 28 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:28 
term 6 server 2 AppendEntries true commitIndex:28 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29} {8454228302242680009 6 30}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 19} {9051697737643479348 4 20} {2256844337291390850 4 21} {7266084038043232746 4 22} {7849815984088472231 4 23} {8276641114936645895 4 24} {6141729942762731751 4 25} {7849643770581419979 4 26} {5976689775425795709 4 27} {1241539251323842302 4 28} {8454228302242680009 4 29} {8454228302242680009 6 30}]
------------------------------------------------------
term 6 Server1 start snapshot! index=29
term 6 server1 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=30
-------------------------------------------------------------
flag 49004 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 48718 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {8454228302242680009 6 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {8454228302242680009 6 30}]
------------------------------------------------------
term 6 Server0 start snapshot! index=29
term 6 server0 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=30
-------------------------------------------------------------
term 6 Server2 start snapshot! index=29
term 6 server2 snapshot success
lastIncludedIndex=29 lastApplied=30 lastIndex=30
-------------------------------------------------------------
flag 61118 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 91499 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {8454228302242680009 6 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {8454228302242680009 6 30}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5362 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 35991 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {8454228302242680009 6 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {8454228302242680009 6 30}]
------------------------------------------------------
flag 12370 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 74383 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {8454228302242680009 6 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {8454228302242680009 6 30}]
------------------------------------------------------
flag 70188 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 19109 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {8454228302242680009 6 30}]
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {8454228302242680009 6 30}]
------------------------------------------------------
flag 91171 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 17628 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:30 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=31
update matchIndex[2]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {8454228302242680009 6 30}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=31
update matchIndex[0]=30
update leader CommitIndex=30
leader log:
[{snapshot 4 29} {8454228302242680009 6 30}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 9216388680085664487 (index 31) to leader 1
term 6 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62951 term 6 leader 1 nextIndex[0]: 31  matchIndex[0]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
flag 90068 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 30 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:30 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8454228302242680009 6 30} {9216388680085664487 6 31}]
------------------------------------------------------
flag 35727 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 57426 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=32
update matchIndex[0]=31
update leader CommitIndex=31
leader log:
[{snapshot 4 29} {8454228302242680009 6 30} {9216388680085664487 6 31}]
------------------------------------------------------
client write log 5938612282884165170 (index 32) to leader 1
client write log 7480770619425594294 (index 33) to leader 1
client write log 7587793153724415071 (index 34) to leader 1
client write log 4711450939058619222 (index 35) to leader 1
client write log 5851057720979102517 (index 36) to leader 1
client write log 429920663683233340 (index 37) to leader 1
client write log 3515334264262066713 (index 38) to leader 1
client write log 6562395765663175964 (index 39) to leader 1
client write log 1782214634863364831 (index 40) to leader 1
client write log 4288013247024605407 (index 41) to leader 1
client write log 3982047110008504761 (index 42) to leader 1
client write log 572286209602095729 (index 43) to leader 1
client write log 7820442619663846281 (index 44) to leader 1
client write log 1653771469363786779 (index 45) to leader 1
client write log 8533806535529006497 (index 46) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91951 term 6 leader 1 nextIndex[0]: 32  matchIndex[0]: 31
term 6 leader 1 sendAppendEntries PrevLogIndex: 31  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
flag 45387 term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendAppendEntries PrevLogIndex: 30  PrevLogTerm: 6 leaderCommit: 31 
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:31 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 4 29} {8454228302242680009 6 30} {9216388680085664487 6 31} {5938612282884165170 6 32} {7480770619425594294 6 33} {7587793153724415071 6 34} {4711450939058619222 6 35} {5851057720979102517 6 36} {429920663683233340 6 37} {3515334264262066713 6 38} {6562395765663175964 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46}]
------------------------------------------------------
term 6 Server1 start snapshot! index=39
term 6 server1 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=46
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50651 term 6 leader 1 nextIndex[0]: 47  matchIndex[0]: 46
term 6 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 6 leader 1 nextIndex[2]: 31  matchIndex[2]: 30
term 6 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 6 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=47
update matchIndex[0]=46
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46}]
------------------------------------------------------
term 6 Server0 start snapshot! index=39
term 6 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=46
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2880913132439302897 (index 47) to leader 1
term 6 server 1 not vote for server 2, 日志不够新
term 6 server 0 not vote for server 2, 日志不够新
term 8 server 2 vote for server 1
term 8 server 1 get vote from server 2
term 8 server 1 become leader
------------------------------------------------------
term 8 server 0 vote for server 1
term 8 server 1 get outdate rpc reply from server 0
flag 54356 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 33197 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 8 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 48->47
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 48->47
------------------------------------------------------
term 8 server 1 not vote for server 2, 任期不够新
term 8 server 2 get outdate rpc reply from server 1
flag 10769 term 8 leader 1 nextIndex[0]: 47  matchIndex[0]: 0
term 8 leader 1 sendAppendEntries PrevLogIndex: 46  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 leader 1 nextIndex[2]: 31  matchIndex[2]: 0
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
term 8 server 2 InstallSnapshot success
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 40 matchIndex[2] 39 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
flag 53697 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 42296 term 8 leader 1 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 1 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
flag 93352 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 47538 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
flag 70860 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 15507 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
flag 67716 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 82411 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
flag 82388 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 91857 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 44660 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 74830 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
flag 61438 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 27152 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
flag 55365 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 41600 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
flag 72955 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 53944 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12820 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 83062 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62609 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 93097 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
flag 97563 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 75370 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
flag 76259 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 36776 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
flag 19384 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 37520 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
flag 23623 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 24269 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
flag 32158 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 23492 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 8 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 91382 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 68405 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=48
update matchIndex[2]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=48
update matchIndex[0]=47
update leader CommitIndex=46
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47}]
------------------------------------------------------
client write log 2880913132439302897 (index 48) to leader 1
flag 69795 term 8 leader 1 nextIndex[0]: 48  matchIndex[0]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
flag 38391 term 8 leader 1 nextIndex[2]: 48  matchIndex[2]: 47
term 8 leader 1 sendAppendEntries PrevLogIndex: 47  PrevLogTerm: 6 leaderCommit: 46 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47} {2880913132439302897 8 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:46 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47} {2880913132439302897 8 48}]
------------------------------------------------------
flag 85350 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 73678 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47} {2880913132439302897 8 48}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47} {2880913132439302897 8 48}]
------------------------------------------------------
flag 31249 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 83158 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47} {2880913132439302897 8 48}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47} {2880913132439302897 8 48}]
------------------------------------------------------
flag 29895 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 7592 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47} {2880913132439302897 8 48}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47} {2880913132439302897 8 48}]
------------------------------------------------------
flag 5684 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 35981 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47} {2880913132439302897 8 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47} {2880913132439302897 8 48}]
------------------------------------------------------
flag 90352 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 7485 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47} {2880913132439302897 8 48}]
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47} {2880913132439302897 8 48}]
------------------------------------------------------
flag 33166 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 41588 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:48 
------------------------------------------------------
term 8 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=49
update matchIndex[2]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47} {2880913132439302897 8 48}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47} {2880913132439302897 8 48}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 17302 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 18327 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5881 term 8 leader 1 nextIndex[0]: 49  matchIndex[0]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 86734 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 49->48
------------------------------------------------------
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 48
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 26269 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 9 server 0 vote for server 2
term 9 server 2 get vote from server 0
term 9 server 2 become leader
------------------------------------------------------
flag 56277 term 9 leader 2 nextIndex[0]: 49  matchIndex[0]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 61094 term 9 leader 2 nextIndex[1]: 49  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=49
update matchIndex[0]=48
update leader CommitIndex=48
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47} {2880913132439302897 8 48}]
------------------------------------------------------
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 48
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 45938 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
client write log 2154165497858156919 (index 49) to leader 2
flag 90051 term 9 leader 2 nextIndex[0]: 49  matchIndex[0]: 48
term 9 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 19554 term 9 leader 2 nextIndex[1]: 49  matchIndex[1]: 0
term 9 leader 2 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:48 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 6 39} {1782214634863364831 6 40} {4288013247024605407 6 41} {3982047110008504761 6 42} {572286209602095729 6 43} {7820442619663846281 6 44} {1653771469363786779 6 45} {8533806535529006497 6 46} {2880913132439302897 6 47} {2880913132439302897 8 48} {2154165497858156919 9 49}]
------------------------------------------------------
term 9 Server2 start snapshot! index=49
term 9 server2 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 48
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 89693 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 59330 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 49  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=50
update matchIndex[0]=49
update leader CommitIndex=49
leader log:
[{snapshot 9 49}]
------------------------------------------------------
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 48
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 5919 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
term 9 Server0 start snapshot! index=49
term 9 server0 snapshot success
lastIncludedIndex=49 lastApplied=49 lastIndex=49
-------------------------------------------------------------
client write log 8168212585304180370 (index 50) to leader 2
client write log 7179741663753795374 (index 51) to leader 2
client write log 3493510441993124014 (index 52) to leader 2
client write log 6645842751961868733 (index 53) to leader 2
client write log 4864494040132613688 (index 54) to leader 2
client write log 788384972144519572 (index 55) to leader 2
client write log 2074903193818634947 (index 56) to leader 2
client write log 7558786365880314602 (index 57) to leader 2
client write log 1525171930147456234 (index 58) to leader 2
client write log 4054671071613840795 (index 59) to leader 2
client write log 2628576095847714161 (index 60) to leader 2
client write log 2286338782362873556 (index 61) to leader 2
client write log 9196501704993483299 (index 62) to leader 2
client write log 4985507702420893072 (index 63) to leader 2
client write log 1241235627648762084 (index 64) to leader 2
flag 39131 term 9 leader 2 nextIndex[0]: 50  matchIndex[0]: 49
term 9 leader 2 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 9 leaderCommit: 49 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 49  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 49} {8168212585304180370 9 50} {7179741663753795374 9 51} {3493510441993124014 9 52} {6645842751961868733 9 53} {4864494040132613688 9 54} {788384972144519572 9 55} {2074903193818634947 9 56} {7558786365880314602 9 57} {1525171930147456234 9 58} {4054671071613840795 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
term 9 Server2 start snapshot! index=59
term 9 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=64
-------------------------------------------------------------
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 48
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 63531 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
flag 57278 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 49  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
term 9 Server0 start snapshot! index=59
term 9 server0 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=64
-------------------------------------------------------------
term 8 leader 1 nextIndex[0]: 0  matchIndex[0]: 48
term 8 leader 1 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 44765 term 8 leader 1 nextIndex[2]: 49  matchIndex[2]: 48
term 8 leader 1 sendAppendEntries PrevLogIndex: 48  PrevLogTerm: 8 leaderCommit: 48 
------------------------------------------------------
!!!!!!connect server 1
client write log 3399977093208041839 (index 49) to leader 1
flag 71787 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 leader 2 nextIndex[1]: 49  matchIndex[1]: 0
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 9
------------------------------------------------------
term 9 server 1 InstallSnapshot success
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 9 rf.commitIndex 59 rf.lastApplied 59
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
flag 379 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 11102 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
flag 22375 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 94240 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94930 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 10149 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
flag 219 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 87512 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
flag 66084 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 47856 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
flag 77224 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 46124 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
flag 26648 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 44826 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
flag 88533 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 53671 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueterm 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
update nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
flag 91973 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 40927 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
flag 67425 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 42153 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
term 9 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 95515 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 63547 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
flag 54506 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 83945 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68492 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 19793 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
flag 51689 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 30610 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 1992 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 78896 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
flag 11870 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 80031 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
flag 43419 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 64044 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
flag 55629 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 78697 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
term 9 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 59464 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 23877 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=65
update matchIndex[1]=64
update leader CommitIndex=64
leader log:
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=65
update matchIndex[0]=64
update leader CommitIndex=64
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64}]
------------------------------------------------------
client write log 3399977093208041839 (index 65) to leader 2
flag 55625 term 9 leader 2 nextIndex[0]: 65  matchIndex[0]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
flag 9664 term 9 leader 2 nextIndex[1]: 65  matchIndex[1]: 64
term 9 leader 2 sendAppendEntries PrevLogIndex: 64  PrevLogTerm: 9 leaderCommit: 64 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64} {3399977093208041839 9 65}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:64 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64} {3399977093208041839 9 65}]
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
flag 20005 term 9 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 48713 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64} {3399977093208041839 9 65}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64} {3399977093208041839 9 65}]
------------------------------------------------------
flag 8657 term 9 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 21845 term 9 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64} {3399977093208041839 9 65}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64} {3399977093208041839 9 65}]
------------------------------------------------------
term 9 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 60 matchIndex[1] 59 
------------------------------------------------------------------------
flag 66842 term 9 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 11120 term 9 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 9 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64} {3399977093208041839 9 65}]
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64} {3399977093208041839 9 65}]
------------------------------------------------------
flag 10108 term 9 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 85826 term 9 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64} {3399977093208041839 9 65}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64} {3399977093208041839 9 65}]
------------------------------------------------------
flag 83090 term 9 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 27445 term 9 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 9 server 0 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=66
update matchIndex[0]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64} {3399977093208041839 9 65}]
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=66
update matchIndex[1]=65
update leader CommitIndex=65
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64} {3399977093208041839 9 65}]
------------------------------------------------------
term 9 server 1 not vote for server 2, 日志不够新
term 9 server 2 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2615565850065960291 (index 66) to leader 2
flag 14976 term 9 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
flag 40314 term 9 leader 2 nextIndex[1]: 66  matchIndex[1]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 65 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:65 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64} {3399977093208041839 9 65} {2615565850065960291 9 66}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61287 term 9 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 39014 term 9 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 9 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=67
update matchIndex[1]=66
update leader CommitIndex=66
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64} {3399977093208041839 9 65} {2615565850065960291 9 66}]
------------------------------------------------------
client write log 1469368383630945563 (index 67) to leader 2
client write log 4171215110497035782 (index 68) to leader 2
client write log 3086464988925640513 (index 69) to leader 2
client write log 5327285346686816004 (index 70) to leader 2
client write log 1337051514845900695 (index 71) to leader 2
client write log 1188582305823427112 (index 72) to leader 2
client write log 2531161945160123487 (index 73) to leader 2
client write log 7776696076287054894 (index 74) to leader 2
client write log 8666010960445068624 (index 75) to leader 2
flag 9246 term 9 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 9 leader 2 sendAppendEntries PrevLogIndex: 65  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
flag 99654 term 9 leader 2 nextIndex[1]: 67  matchIndex[1]: 66
term 9 leader 2 sendAppendEntries PrevLogIndex: 66  PrevLogTerm: 9 leaderCommit: 66 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:66 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 59} {2628576095847714161 9 60} {2286338782362873556 9 61} {9196501704993483299 9 62} {4985507702420893072 9 63} {1241235627648762084 9 64} {3399977093208041839 9 65} {2615565850065960291 9 66} {1469368383630945563 9 67} {4171215110497035782 9 68} {3086464988925640513 9 69} {5327285346686816004 9 70} {1337051514845900695 9 71} {1188582305823427112 9 72} {2531161945160123487 9 73} {7776696076287054894 9 74} {8666010960445068624 9 75}]
------------------------------------------------------
term 9 Server2 start snapshot! index=69
term 9 server2 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=75
-------------------------------------------------------------
term 9 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
flag 36892 term 9 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 9 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 9 69} {5327285346686816004 9 70} {1337051514845900695 9 71} {1188582305823427112 9 72} {2531161945160123487 9 73} {7776696076287054894 9 74} {8666010960445068624 9 75}]
------------------------------------------------------
term 9 Server1 start snapshot! index=69
term 9 server1 snapshot success
lastIncludedIndex=69 lastApplied=70 lastIndex=75
-------------------------------------------------------------
!!!!!!connect server 0
client write log 2798360574431252101 (index 76) to leader 2
term 9 leader 2 nextIndex[0]: 66  matchIndex[0]: 65
term 9 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
flag 24859 term 9 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 9 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 9 leaderCommit: 75 
------------------------------------------------------
term 9 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {5327285346686816004 9 70} {1337051514845900695 9 71} {1188582305823427112 9 72} {2531161945160123487 9 73} {7776696076287054894 9 74} {8666010960445068624 9 75} {2798360574431252101 9 76}]
------------------------------------------------------
term 10 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 9 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 11 server 1 vote for server 2
term 11 server 0 vote for server 2
term 11 server 2 get vote from server 1
term 11 server 2 become leader
------------------------------------------------------
term 11 server 2 get outdate rpc reply from server 0
flag 26270 term 11 leader 2 nextIndex[0]: 77  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 97120 term 11 leader 2 nextIndex[1]: 77  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {5327285346686816004 9 70} {1337051514845900695 9 71} {1188582305823427112 9 72} {2531161945160123487 9 73} {7776696076287054894 9 74} {8666010960445068624 9 75} {2798360574431252101 9 76}]
------------------------------------------------------
term 11 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 77->76
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 11 leader 2 nextIndex[0]: 66  matchIndex[0]: 0
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 9
------------------------------------------------------
flag 8715 term 11 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {5327285346686816004 9 70} {1337051514845900695 9 71} {1188582305823427112 9 72} {2531161945160123487 9 73} {7776696076287054894 9 74} {8666010960445068624 9 75} {2798360574431252101 9 76}]
------------------------------------------------------
term 11 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 9 rf.commitIndex 69 rf.lastApplied 69
term 11 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
flag 95049 term 11 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 11 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 50885 term 11 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {5327285346686816004 9 70} {1337051514845900695 9 71} {1188582305823427112 9 72} {2531161945160123487 9 73} {7776696076287054894 9 74} {8666010960445068624 9 75} {2798360574431252101 9 76}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {5327285346686816004 9 70} {1337051514845900695 9 71} {1188582305823427112 9 72} {2531161945160123487 9 73} {7776696076287054894 9 74} {8666010960445068624 9 75} {2798360574431252101 9 76}]
------------------------------------------------------
flag 60331 term 11 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 11 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 9555 term 11 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {5327285346686816004 9 70} {1337051514845900695 9 71} {1188582305823427112 9 72} {2531161945160123487 9 73} {7776696076287054894 9 74} {8666010960445068624 9 75} {2798360574431252101 9 76}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {5327285346686816004 9 70} {1337051514845900695 9 71} {1188582305823427112 9 72} {2531161945160123487 9 73} {7776696076287054894 9 74} {8666010960445068624 9 75} {2798360574431252101 9 76}]
------------------------------------------------------
flag 51904 term 11 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 11 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 89013 term 11 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {5327285346686816004 9 70} {1337051514845900695 9 71} {1188582305823427112 9 72} {2531161945160123487 9 73} {7776696076287054894 9 74} {8666010960445068624 9 75} {2798360574431252101 9 76}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {5327285346686816004 9 70} {1337051514845900695 9 71} {1188582305823427112 9 72} {2531161945160123487 9 73} {7776696076287054894 9 74} {8666010960445068624 9 75} {2798360574431252101 9 76}]
------------------------------------------------------
flag 54320 term 11 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 11 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 48658 term 11 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {5327285346686816004 9 70} {1337051514845900695 9 71} {1188582305823427112 9 72} {2531161945160123487 9 73} {7776696076287054894 9 74} {8666010960445068624 9 75} {2798360574431252101 9 76}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {5327285346686816004 9 70} {1337051514845900695 9 71} {1188582305823427112 9 72} {2531161945160123487 9 73} {7776696076287054894 9 74} {8666010960445068624 9 75} {2798360574431252101 9 76}]
------------------------------------------------------
flag 3821 term 11 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 11 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 62201 term 11 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {5327285346686816004 9 70} {1337051514845900695 9 71} {1188582305823427112 9 72} {2531161945160123487 9 73} {7776696076287054894 9 74} {8666010960445068624 9 75} {2798360574431252101 9 76}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {5327285346686816004 9 70} {1337051514845900695 9 71} {1188582305823427112 9 72} {2531161945160123487 9 73} {7776696076287054894 9 74} {8666010960445068624 9 75} {2798360574431252101 9 76}]
------------------------------------------------------
term 11 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 99424 term 11 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 11 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 13517 term 11 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
term 11 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
[{snapshot 9 69} {5327285346686816004 9 70} {1337051514845900695 9 71} {1188582305823427112 9 72} {2531161945160123487 9 73} {7776696076287054894 9 74} {8666010960445068624 9 75} {2798360574431252101 9 76}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {5327285346686816004 9 70} {1337051514845900695 9 71} {1188582305823427112 9 72} {2531161945160123487 9 73} {7776696076287054894 9 74} {8666010960445068624 9 75} {2798360574431252101 9 76}]
------------------------------------------------------
flag 55151 term 11 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 11 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 3005 term 11 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=77
update matchIndex[1]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {5327285346686816004 9 70} {1337051514845900695 9 71} {1188582305823427112 9 72} {2531161945160123487 9 73} {7776696076287054894 9 74} {8666010960445068624 9 75} {2798360574431252101 9 76}]
term 11 server 0 AppendEntries true commitIndex:76 
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=77
update matchIndex[0]=76
update leader CommitIndex=76
leader log:
[{snapshot 9 69} {5327285346686816004 9 70} {1337051514845900695 9 71} {1188582305823427112 9 72} {2531161945160123487 9 73} {7776696076287054894 9 74} {8666010960445068624 9 75} {2798360574431252101 9 76}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2952007496913854796 (index 77) to leader 2
flag 93095 term 11 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 11 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
flag 18850 term 11 leader 2 nextIndex[1]: 77  matchIndex[1]: 76
term 11 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 76 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:76 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {5327285346686816004 9 70} {1337051514845900695 9 71} {1188582305823427112 9 72} {2531161945160123487 9 73} {7776696076287054894 9 74} {8666010960445068624 9 75} {2798360574431252101 9 76} {2952007496913854796 11 77}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34812 term 11 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 11 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
flag 512 term 11 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 11 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=78
update matchIndex[1]=77
update leader CommitIndex=77
leader log:
[{snapshot 9 69} {5327285346686816004 9 70} {1337051514845900695 9 71} {1188582305823427112 9 72} {2531161945160123487 9 73} {7776696076287054894 9 74} {8666010960445068624 9 75} {2798360574431252101 9 76} {2952007496913854796 11 77}]
------------------------------------------------------
client write log 4741198398184581084 (index 78) to leader 2
client write log 3173536847078429840 (index 79) to leader 2
client write log 3572947435938679343 (index 80) to leader 2
client write log 2390001401290385072 (index 81) to leader 2
client write log 3911309220342230751 (index 82) to leader 2
client write log 1940038681702072988 (index 83) to leader 2
client write log 8066246833567028263 (index 84) to leader 2
client write log 4924411927324680861 (index 85) to leader 2
client write log 4618289004386323631 (index 86) to leader 2
client write log 2624092259452927578 (index 87) to leader 2
client write log 4341038705912441316 (index 88) to leader 2
flag 76688 term 11 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 11 leader 2 sendAppendEntries PrevLogIndex: 76  PrevLogTerm: 9 leaderCommit: 77 
------------------------------------------------------
flag 76222 term 11 leader 2 nextIndex[1]: 78  matchIndex[1]: 77
term 11 leader 2 sendAppendEntries PrevLogIndex: 77  PrevLogTerm: 11 leaderCommit: 77 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:77 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 9 69} {5327285346686816004 9 70} {1337051514845900695 9 71} {1188582305823427112 9 72} {2531161945160123487 9 73} {7776696076287054894 9 74} {8666010960445068624 9 75} {2798360574431252101 9 76} {2952007496913854796 11 77} {4741198398184581084 11 78} {3173536847078429840 11 79} {3572947435938679343 11 80} {2390001401290385072 11 81} {3911309220342230751 11 82} {1940038681702072988 11 83} {8066246833567028263 11 84} {4924411927324680861 11 85} {4618289004386323631 11 86} {2624092259452927578 11 87} {4341038705912441316 11 88}]
------------------------------------------------------
term 11 Server2 start snapshot! index=79
term 11 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=88
-------------------------------------------------------------
term 11 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 78370 term 11 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 11 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=89
update matchIndex[1]=88
update leader CommitIndex=88
leader log:
[{snapshot 11 79} {3572947435938679343 11 80} {2390001401290385072 11 81} {3911309220342230751 11 82} {1940038681702072988 11 83} {8066246833567028263 11 84} {4924411927324680861 11 85} {4618289004386323631 11 86} {2624092259452927578 11 87} {4341038705912441316 11 88}]
------------------------------------------------------
term 11 Server1 start snapshot! index=79
term 11 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=88
-------------------------------------------------------------
!!!!!!connect server 0
client write log 5194576709195361599 (index 89) to leader 2
term 11 leader 2 nextIndex[0]: 77  matchIndex[0]: 76
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 79  LastIncludedTerm: 11
------------------------------------------------------
flag 90363 term 11 leader 2 nextIndex[1]: 89  matchIndex[1]: 88
term 11 leader 2 sendAppendEntries PrevLogIndex: 88  PrevLogTerm: 11 leaderCommit: 88 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:88 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 79} {3572947435938679343 11 80} {2390001401290385072 11 81} {3911309220342230751 11 82} {1940038681702072988 11 83} {8066246833567028263 11 84} {4924411927324680861 11 85} {4618289004386323631 11 86} {2624092259452927578 11 87} {4341038705912441316 11 88} {5194576709195361599 11 89}]
------------------------------------------------------
term 12 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 12 Server2 start snapshot! index=89
term 12 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 server 1 vote for server 2
term 13 server 2 get vote from server 1
term 13 server 2 become leader
------------------------------------------------------
term 13 server 0 vote for server 2
term 13 server 2 get outdate rpc reply from server 0
flag 57064 term 13 leader 2 nextIndex[0]: 90  matchIndex[0]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 8576 term 13 leader 2 nextIndex[1]: 90  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 89}]
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 90->89
------------------------------------------------------
term 13 Server1 start snapshot! index=89
term 13 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
term 13 leader 2 nextIndex[0]: 77  matchIndex[0]: 0
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 11
------------------------------------------------------
flag 96037 term 13 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
term 13 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 89}]
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 11 rf.commitIndex 89 rf.lastApplied 89
term 13 server 1 not vote for server 0, 任期不够新
term 13 server 0 get outdate rpc reply from server 1
flag 93263 term 13 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 37436 term 13 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 89}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 89}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 34991 term 13 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 32705 term 13 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 89}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 89}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75907 term 13 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 67664 term 13 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 89}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 89}]
------------------------------------------------------
flag 64769 term 13 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 88591 term 13 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 89}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 89}]
------------------------------------------------------
flag 49903 term 13 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 67769 term 13 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 89}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=90
update matchIndex[0]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 89}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 65923 term 13 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 33985 term 13 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 70347 term 13 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 40386 term 13 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 13 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 79319 term 13 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 8984 term 13 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 14 server 1 vote for server 0
term 14 server 0 get vote from server 1
term 14 server 0 become leader
------------------------------------------------------
flag 21425 term 14 leader 0 nextIndex[1]: 90  matchIndex[1]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 1037 term 14 leader 0 nextIndex[2]: 90  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 89}]
------------------------------------------------------
term 14 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 4256 term 13 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 36600 term 13 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
client write log 1935574702693240973 (index 90) to leader 0
flag 50575 term 14 leader 0 nextIndex[1]: 90  matchIndex[1]: 89
term 14 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 79365 term 14 leader 0 nextIndex[2]: 90  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 11 89} {1935574702693240973 14 90}]
------------------------------------------------------
flag 39622 term 13 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 94508 term 13 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 40775 term 14 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 24309 term 14 leader 0 nextIndex[2]: 90  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=90
leader log:
[{snapshot 11 89} {1935574702693240973 14 90}]
------------------------------------------------------
client write log 8387052788513269226 (index 91) to leader 0
client write log 2245814681018070382 (index 92) to leader 0
client write log 1161865214232390069 (index 93) to leader 0
client write log 1293003208323412148 (index 94) to leader 0
client write log 7843492088076225744 (index 95) to leader 0
client write log 8571603035719806986 (index 96) to leader 0
client write log 4997152034298001539 (index 97) to leader 0
client write log 6360242735011255395 (index 98) to leader 0
client write log 216125943269742129 (index 99) to leader 0
client write log 5969674656547648053 (index 100) to leader 0
client write log 7598470168417842178 (index 101) to leader 0
client write log 2085138234240362251 (index 102) to leader 0
client write log 9141424792624292376 (index 103) to leader 0
client write log 2099651183279158706 (index 104) to leader 0
client write log 7048872292697645684 (index 105) to leader 0
flag 24668 term 13 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 2847 term 13 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79609 term 14 leader 0 nextIndex[1]: 91  matchIndex[1]: 90
term 14 leader 0 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 14 leaderCommit: 90 
------------------------------------------------------
flag 99895 term 14 leader 0 nextIndex[2]: 90  matchIndex[2]: 0
term 14 leader 0 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 90 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:90 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 11 89} {1935574702693240973 14 90} {8387052788513269226 14 91} {2245814681018070382 14 92} {1161865214232390069 14 93} {1293003208323412148 14 94} {7843492088076225744 14 95} {8571603035719806986 14 96} {4997152034298001539 14 97} {6360242735011255395 14 98} {216125943269742129 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
term 14 Server0 start snapshot! index=99
term 14 server0 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=105
-------------------------------------------------------------
term 14 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 45631 term 13 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 52079 term 13 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 67069 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 90  matchIndex[2]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
term 14 Server1 start snapshot! index=99
term 14 server1 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=105
-------------------------------------------------------------
!!!!!!connect server 2
client write log 473423119469974243 (index 90) to leader 2
flag 66110 term 13 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
flag 23285 term 13 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 11 leaderCommit: 89 
------------------------------------------------------
term 14 server 0 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
term 14 server 1 AppendEntries false 领导者任期过期 args.Term 13
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 90->89
------------------------------------------------------
flag 22723 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 2 InstallSnapshot success
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 14 rf.commitIndex 99 rf.lastApplied 99
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4653 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 49351 term 14 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 14 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
flag 98028 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 51589 term 14 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 14 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32586 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 61226 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
flag 642 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 41673 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
flag 28918 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 76488 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
flag 37540 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 9297 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
flag 127 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 28186 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
flag 97227 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 2610 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29390 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 40820 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
flag 21940 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 45828 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 106->105
------------------------------------------------------
flag 40190 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 0  matchIndex[2]: 105
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 2 InstallSnapshot fail
rf.commitIndex 105 args.LastIncludedIndex 99
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
flag 37103 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 44486 term 14 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 14 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
flag 40753 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 27329 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67938 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 62283 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
flag 67154 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 66876 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
flag 94942 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 20679 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
flag 40211 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 62969 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
flag 5384 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 45640 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
flag 16484 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 34212 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=106
update matchIndex[2]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=106
update matchIndex[1]=105
update leader CommitIndex=105
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105}]
------------------------------------------------------
client write log 473423119469974243 (index 106) to leader 0
flag 35701 term 14 leader 0 nextIndex[1]: 106  matchIndex[1]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
flag 22690 term 14 leader 0 nextIndex[2]: 106  matchIndex[2]: 105
term 14 leader 0 sendAppendEntries PrevLogIndex: 105  PrevLogTerm: 14 leaderCommit: 105 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105} {473423119469974243 14 106}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:105 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105} {473423119469974243 14 106}]
------------------------------------------------------
flag 18935 term 14 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 12766 term 14 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105} {473423119469974243 14 106}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105} {473423119469974243 14 106}]
------------------------------------------------------
flag 28356 term 14 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 12317 term 14 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105} {473423119469974243 14 106}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105} {473423119469974243 14 106}]
------------------------------------------------------
flag 43619 term 14 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 46298 term 14 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105} {473423119469974243 14 106}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105} {473423119469974243 14 106}]
------------------------------------------------------
flag 60512 term 14 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 20081 term 14 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105} {473423119469974243 14 106}]
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105} {473423119469974243 14 106}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47487 term 14 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 42589 term 14 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105} {473423119469974243 14 106}]
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105} {473423119469974243 14 106}]
------------------------------------------------------
flag 57870 term 14 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 4393 term 14 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
term 14 server 1 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=107
update matchIndex[2]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105} {473423119469974243 14 106}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=107
update matchIndex[1]=106
update leader CommitIndex=106
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105} {473423119469974243 14 106}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 565197176359696858 (index 107) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55972 term 14 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
flag 93754 term 14 leader 0 nextIndex[2]: 107  matchIndex[2]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 106 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:106 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105} {473423119469974243 14 106} {565197176359696858 14 107}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61062 term 14 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 107 
------------------------------------------------------
flag 41216 term 14 leader 0 nextIndex[2]: 108  matchIndex[2]: 107
term 14 leader 0 sendAppendEntries PrevLogIndex: 107  PrevLogTerm: 14 leaderCommit: 107 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=108
update matchIndex[2]=107
update leader CommitIndex=107
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105} {473423119469974243 14 106} {565197176359696858 14 107}]
------------------------------------------------------
client write log 3625512923819231543 (index 108) to leader 0
client write log 6837587614099079060 (index 109) to leader 0
client write log 997279881413230617 (index 110) to leader 0
client write log 4372865272203233469 (index 111) to leader 0
client write log 2267979263248773450 (index 112) to leader 0
client write log 7951559818993374750 (index 113) to leader 0
client write log 5693405684498196576 (index 114) to leader 0
client write log 1595577108697826666 (index 115) to leader 0
client write log 7312493716342451366 (index 116) to leader 0
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 108->107
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85032 term 14 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 107 
------------------------------------------------------
term 14 leader 0 nextIndex[2]: 0  matchIndex[2]: 107
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 14
------------------------------------------------------
term 14 server 2 InstallSnapshot fail
rf.commitIndex 107 args.LastIncludedIndex 99
------------------------------------------------------
term 14 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
term 14 server 2 not vote for server 0, 任期不够新
term 14 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99795 term 14 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 14 leader 0 sendAppendEntries PrevLogIndex: 106  PrevLogTerm: 14 leaderCommit: 107 
------------------------------------------------------
flag 37485 term 14 leader 0 nextIndex[2]: 100  matchIndex[2]: 99
term 14 leader 0 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 14 leaderCommit: 107 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:107 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 14 99} {5969674656547648053 14 100} {7598470168417842178 14 101} {2085138234240362251 14 102} {9141424792624292376 14 103} {2099651183279158706 14 104} {7048872292697645684 14 105} {473423119469974243 14 106} {565197176359696858 14 107} {3625512923819231543 14 108} {6837587614099079060 14 109} {997279881413230617 14 110} {4372865272203233469 14 111} {2267979263248773450 14 112} {7951559818993374750 14 113} {5693405684498196576 14 114} {1595577108697826666 14 115} {7312493716342451366 14 116}]
------------------------------------------------------
term 14 Server0 start snapshot! index=109
term 14 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=116
-------------------------------------------------------------
term 14 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 14
------------------------------------------------------
flag 30126 term 14 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 14 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 116 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 14 109} {997279881413230617 14 110} {4372865272203233469 14 111} {2267979263248773450 14 112} {7951559818993374750 14 113} {5693405684498196576 14 114} {1595577108697826666 14 115} {7312493716342451366 14 116}]
------------------------------------------------------
term 14 Server2 start snapshot! index=109
term 14 server2 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=116
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5359088832662941054 (index 117) to leader 0
term 14 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 14 leader 0 nextIndex[1]: 107  matchIndex[1]: 106
term 14 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 14
------------------------------------------------------
flag 90506 term 14 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 14 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 14 leaderCommit: 116 
------------------------------------------------------
term 14 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {997279881413230617 14 110} {4372865272203233469 14 111} {2267979263248773450 14 112} {7951559818993374750 14 113} {5693405684498196576 14 114} {1595577108697826666 14 115} {7312493716342451366 14 116} {5359088832662941054 14 117}]
------------------------------------------------------
term 15 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 16 server 2 vote for server 0
term 16 server 1 vote for server 0
term 16 server 0 get vote from server 1
term 16 server 0 become leader
------------------------------------------------------
term 16 server 0 get outdate rpc reply from server 2
flag 8264 term 16 leader 0 nextIndex[1]: 118  matchIndex[1]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
flag 43158 term 16 leader 0 nextIndex[2]: 118  matchIndex[2]: 0
term 16 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
term 16 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 118->117
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {997279881413230617 14 110} {4372865272203233469 14 111} {2267979263248773450 14 112} {7951559818993374750 14 113} {5693405684498196576 14 114} {1595577108697826666 14 115} {7312493716342451366 14 116} {5359088832662941054 14 117}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 2 not vote for server 0, 任期不够新
term 16 server 0 get outdate rpc reply from server 2
term 16 leader 0 nextIndex[1]: 107  matchIndex[1]: 0
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 14
------------------------------------------------------
flag 65315 term 16 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 16 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
term 16 server 1 InstallSnapshot success
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {997279881413230617 14 110} {4372865272203233469 14 111} {2267979263248773450 14 112} {7951559818993374750 14 113} {5693405684498196576 14 114} {1595577108697826666 14 115} {7312493716342451366 14 116} {5359088832662941054 14 117}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 14 rf.commitIndex 109 rf.lastApplied 109
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 1 not vote for server 0, 任期不够新
term 16 server 0 get outdate rpc reply from server 1
flag 74063 term 16 leader 0 nextIndex[1]: 110  matchIndex[1]: 109
term 16 leader 0 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
flag 35448 term 16 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 16 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {997279881413230617 14 110} {4372865272203233469 14 111} {2267979263248773450 14 112} {7951559818993374750 14 113} {5693405684498196576 14 114} {1595577108697826666 14 115} {7312493716342451366 14 116} {5359088832662941054 14 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {997279881413230617 14 110} {4372865272203233469 14 111} {2267979263248773450 14 112} {7951559818993374750 14 113} {5693405684498196576 14 114} {1595577108697826666 14 115} {7312493716342451366 14 116} {5359088832662941054 14 117}]
------------------------------------------------------
flag 77651 term 16 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 16 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
flag 47829 term 16 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 16 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {997279881413230617 14 110} {4372865272203233469 14 111} {2267979263248773450 14 112} {7951559818993374750 14 113} {5693405684498196576 14 114} {1595577108697826666 14 115} {7312493716342451366 14 116} {5359088832662941054 14 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {997279881413230617 14 110} {4372865272203233469 14 111} {2267979263248773450 14 112} {7951559818993374750 14 113} {5693405684498196576 14 114} {1595577108697826666 14 115} {7312493716342451366 14 116} {5359088832662941054 14 117}]
------------------------------------------------------
flag 28906 term 16 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 16 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
flag 22544 term 16 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 16 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {997279881413230617 14 110} {4372865272203233469 14 111} {2267979263248773450 14 112} {7951559818993374750 14 113} {5693405684498196576 14 114} {1595577108697826666 14 115} {7312493716342451366 14 116} {5359088832662941054 14 117}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {997279881413230617 14 110} {4372865272203233469 14 111} {2267979263248773450 14 112} {7951559818993374750 14 113} {5693405684498196576 14 114} {1595577108697826666 14 115} {7312493716342451366 14 116} {5359088832662941054 14 117}]
------------------------------------------------------
flag 50846 term 16 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 16 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
flag 25497 term 16 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 16 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {997279881413230617 14 110} {4372865272203233469 14 111} {2267979263248773450 14 112} {7951559818993374750 14 113} {5693405684498196576 14 114} {1595577108697826666 14 115} {7312493716342451366 14 116} {5359088832662941054 14 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {997279881413230617 14 110} {4372865272203233469 14 111} {2267979263248773450 14 112} {7951559818993374750 14 113} {5693405684498196576 14 114} {1595577108697826666 14 115} {7312493716342451366 14 116} {5359088832662941054 14 117}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8073 term 16 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 16 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
flag 24003 term 16 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 16 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {997279881413230617 14 110} {4372865272203233469 14 111} {2267979263248773450 14 112} {7951559818993374750 14 113} {5693405684498196576 14 114} {1595577108697826666 14 115} {7312493716342451366 14 116} {5359088832662941054 14 117}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {997279881413230617 14 110} {4372865272203233469 14 111} {2267979263248773450 14 112} {7951559818993374750 14 113} {5693405684498196576 14 114} {1595577108697826666 14 115} {7312493716342451366 14 116} {5359088832662941054 14 117}]
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 83230 term 16 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 16 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
flag 30913 term 16 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 16 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {997279881413230617 14 110} {4372865272203233469 14 111} {2267979263248773450 14 112} {7951559818993374750 14 113} {5693405684498196576 14 114} {1595577108697826666 14 115} {7312493716342451366 14 116} {5359088832662941054 14 117}]
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {997279881413230617 14 110} {4372865272203233469 14 111} {2267979263248773450 14 112} {7951559818993374750 14 113} {5693405684498196576 14 114} {1595577108697826666 14 115} {7312493716342451366 14 116} {5359088832662941054 14 117}]
------------------------------------------------------
flag 60661 term 16 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 16 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
flag 3400 term 16 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 16 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
term 16 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {997279881413230617 14 110} {4372865272203233469 14 111} {2267979263248773450 14 112} {7951559818993374750 14 113} {5693405684498196576 14 114} {1595577108697826666 14 115} {7312493716342451366 14 116} {5359088832662941054 14 117}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 14 109} {997279881413230617 14 110} {4372865272203233469 14 111} {2267979263248773450 14 112} {7951559818993374750 14 113} {5693405684498196576 14 114} {1595577108697826666 14 115} {7312493716342451366 14 116} {5359088832662941054 14 117}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 7783904475451528341 (index 118) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35871 term 16 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 16 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
flag 43849 term 16 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 16 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 14 leaderCommit: 117 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 14 109} {997279881413230617 14 110} {4372865272203233469 14 111} {2267979263248773450 14 112} {7951559818993374750 14 113} {5693405684498196576 14 114} {1595577108697826666 14 115} {7312493716342451366 14 116} {5359088832662941054 14 117} {7783904475451528341 16 118}]
------------------------------------------------------
flag 60357 term 16 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 16 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 14 leaderCommit: 118 
------------------------------------------------------
flag 63455 term 16 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 16 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 16 leaderCommit: 118 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 14 109} {997279881413230617 14 110} {4372865272203233469 14 111} {2267979263248773450 14 112} {7951559818993374750 14 113} {5693405684498196576 14 114} {1595577108697826666 14 115} {7312493716342451366 14 116} {5359088832662941054 14 117} {7783904475451528341 16 118}]
------------------------------------------------------
client write log 1430381394285180260 (index 119) to leader 0
client write log 3113120198433852705 (index 120) to leader 0
client write log 8580898730779652645 (index 121) to leader 0
client write log 5465586735170106951 (index 122) to leader 0
client write log 5287725969133163946 (index 123) to leader 0
client write log 6938113326449258648 (index 124) to leader 0
client write log 4977651810719700853 (index 125) to leader 0
flag 58881 term 16 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 16 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 14 leaderCommit: 118 
------------------------------------------------------
flag 81951 term 16 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 16 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 16 leaderCommit: 118 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 14 109} {997279881413230617 14 110} {4372865272203233469 14 111} {2267979263248773450 14 112} {7951559818993374750 14 113} {5693405684498196576 14 114} {1595577108697826666 14 115} {7312493716342451366 14 116} {5359088832662941054 14 117} {7783904475451528341 16 118} {1430381394285180260 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125}]
------------------------------------------------------
term 16 Server0 start snapshot! index=119
term 16 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=125
-------------------------------------------------------------
term 16 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 16 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 31794 term 16 leader 0 nextIndex[2]: 126  matchIndex[2]: 125
term 16 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=126
update matchIndex[2]=125
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125}]
------------------------------------------------------
term 16 Server2 start snapshot! index=119
term 16 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=125
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3941329646016638838 (index 126) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 2 not vote for server 1, 日志不够新
term 16 server 0 not vote for server 1, 日志不够新
term 18 server 2 vote for server 0
term 18 server 1 vote for server 0
term 18 server 0 get vote from server 2
term 18 server 0 become leader
------------------------------------------------------
term 18 server 0 get outdate rpc reply from server 1
flag 37546 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
flag 39517 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 18 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 127->126
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 127->126
------------------------------------------------------
term 18 server 2 not vote for server 0, 任期不够新
term 18 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 leader 0 nextIndex[1]: 118  matchIndex[1]: 0
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 20943 term 18 leader 0 nextIndex[2]: 126  matchIndex[2]: 0
term 18 leader 0 sendAppendEntries PrevLogIndex: 125  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
term 18 server 1 InstallSnapshot success
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 120 matchIndex[1] 119 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 119 rf.lastIncludedTerm 16 rf.commitIndex 119 rf.lastApplied 119
term 18 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
flag 8288 term 18 leader 0 nextIndex[1]: 120  matchIndex[1]: 119
term 18 leader 0 sendAppendEntries PrevLogIndex: 119  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
flag 34579 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:119 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67672 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
flag 24982 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26292 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
flag 88934 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
flag 40927 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
flag 86851 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
flag 72788 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
flag 36096 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
flag 38507 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
flag 58077 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
flag 26574 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
flag 63813 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
flag 54310 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
flag 77038 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
flag 63812 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
flag 33867 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
flag 17794 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
flag 48297 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54902 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
flag 10014 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
term 18 server 0 not vote for server 1, 任期不够新
term 18 server 1 get outdate rpc reply from server 0
flag 28752 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
flag 61447 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
term 18 server 2 not vote for server 1, 任期不够新
term 18 server 1 get outdate rpc reply from server 2
flag 78617 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
flag 4961 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45193 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
flag 26003 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
flag 3426 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
flag 91282 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
flag 41763 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
flag 82904 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=125
leader log:
term 18 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
flag 56113 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
flag 38440 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
flag 95353 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
flag 6021 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=127
update matchIndex[2]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=127
update matchIndex[1]=126
update leader CommitIndex=125
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126}]
------------------------------------------------------
client write log 3941329646016638838 (index 127) to leader 0
flag 21106 term 18 leader 0 nextIndex[1]: 127  matchIndex[1]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
flag 4491 term 18 leader 0 nextIndex[2]: 127  matchIndex[2]: 126
term 18 leader 0 sendAppendEntries PrevLogIndex: 126  PrevLogTerm: 16 leaderCommit: 125 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:125 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:125 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126} {3941329646016638838 18 127}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126} {3941329646016638838 18 127}]
------------------------------------------------------
flag 10423 term 18 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 18 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 13780 term 18 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 18 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:127 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126} {3941329646016638838 18 127}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126} {3941329646016638838 18 127}]
------------------------------------------------------
flag 48124 term 18 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 18 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 98865 term 18 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 18 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126} {3941329646016638838 18 127}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126} {3941329646016638838 18 127}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82203 term 18 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 18 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 83064 term 18 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 18 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126} {3941329646016638838 18 127}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126} {3941329646016638838 18 127}]
------------------------------------------------------
flag 10874 term 18 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 18 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 91374 term 18 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 18 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126} {3941329646016638838 18 127}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126} {3941329646016638838 18 127}]
------------------------------------------------------
flag 83362 term 18 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 18 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 42577 term 18 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 18 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126} {3941329646016638838 18 127}]
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126} {3941329646016638838 18 127}]
------------------------------------------------------
flag 78814 term 18 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 18 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 69607 term 18 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 18 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
term 18 server 1 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=128
update matchIndex[1]=127
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126} {3941329646016638838 18 127}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126} {3941329646016638838 18 127}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 66476 term 18 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 18 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 6274 term 18 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 18 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 41190 term 18 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 18 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 43124 term 18 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 18 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 86492 term 18 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 18 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 48664 term 18 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 18 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 82295 term 18 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 18 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 87019 term 18 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 18 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 19 server 2 vote for server 1
term 19 server 1 get vote from server 2
term 19 server 1 become leader
------------------------------------------------------
flag 78232 term 19 leader 1 nextIndex[0]: 128  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 37863 term 19 leader 1 nextIndex[2]: 128  matchIndex[2]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=128
update matchIndex[2]=127
update leader CommitIndex=127
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126} {3941329646016638838 18 127}]
------------------------------------------------------
client write log 4856943052544615238 (index 128) to leader 1
flag 78331 term 18 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 18 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 50463 term 18 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 18 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 76927 term 19 leader 1 nextIndex[0]: 128  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 82917 term 19 leader 1 nextIndex[2]: 128  matchIndex[2]: 127
term 19 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:127 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126} {3941329646016638838 18 127} {4856943052544615238 19 128}]
------------------------------------------------------
flag 98425 term 18 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 18 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 72951 term 18 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 18 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 42195 term 19 leader 1 nextIndex[0]: 128  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
flag 86783 term 19 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 19 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=129
update matchIndex[2]=128
update leader CommitIndex=128
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126} {3941329646016638838 18 127} {4856943052544615238 19 128}]
------------------------------------------------------
client write log 6332502851281697525 (index 129) to leader 1
client write log 4434041715474027255 (index 130) to leader 1
client write log 7236166771983059426 (index 131) to leader 1
client write log 2132133073511089457 (index 132) to leader 1
client write log 1756765041152775559 (index 133) to leader 1
client write log 5572823954275205608 (index 134) to leader 1
client write log 3854901627222774517 (index 135) to leader 1
client write log 7144772481415020413 (index 136) to leader 1
client write log 245699940585182926 (index 137) to leader 1
client write log 7301400241754805988 (index 138) to leader 1
client write log 5442998878129990117 (index 139) to leader 1
client write log 2690199551838905829 (index 140) to leader 1
client write log 1930797667292792010 (index 141) to leader 1
flag 92062 term 18 leader 0 nextIndex[1]: 128  matchIndex[1]: 127
term 18 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
flag 2455 term 18 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 18 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 128->127
------------------------------------------------------
flag 18405 term 19 leader 1 nextIndex[0]: 128  matchIndex[0]: 0
term 19 leader 1 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 128 
------------------------------------------------------
flag 89769 term 19 leader 1 nextIndex[2]: 129  matchIndex[2]: 128
term 19 leader 1 sendAppendEntries PrevLogIndex: 128  PrevLogTerm: 19 leaderCommit: 128 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:128 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 16 119} {3113120198433852705 16 120} {8580898730779652645 16 121} {5465586735170106951 16 122} {5287725969133163946 16 123} {6938113326449258648 16 124} {4977651810719700853 16 125} {3941329646016638838 16 126} {3941329646016638838 18 127} {4856943052544615238 19 128} {6332502851281697525 19 129} {4434041715474027255 19 130} {7236166771983059426 19 131} {2132133073511089457 19 132} {1756765041152775559 19 133} {5572823954275205608 19 134} {3854901627222774517 19 135} {7144772481415020413 19 136} {245699940585182926 19 137} {7301400241754805988 19 138} {5442998878129990117 19 139} {2690199551838905829 19 140} {1930797667292792010 19 141}]
------------------------------------------------------
term 19 Server1 start snapshot! index=129
term 19 server1 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=141
-------------------------------------------------------------
term 19 Server1 start snapshot! index=139
term 19 server1 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=141
-------------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 18 leader 0 nextIndex[1]: 0  matchIndex[1]: 127
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 76370 term 18 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 18 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 19 leader 1 nextIndex[0]: 128  matchIndex[0]: 0
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 19
------------------------------------------------------
flag 84367 term 19 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 19 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 141 
------------------------------------------------------
term 19 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=142
update matchIndex[2]=141
update leader CommitIndex=141
leader log:
[{snapshot 19 139} {2690199551838905829 19 140} {1930797667292792010 19 141}]
------------------------------------------------------
term 19 Server2 start snapshot! index=129
term 19 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=141
-------------------------------------------------------------
term 19 Server2 start snapshot! index=139
term 19 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=141
-------------------------------------------------------------
!!!!!!connect server 0
client write log 3539932773871226904 (index 142) to leader 1
term 18 leader 0 nextIndex[1]: 0  matchIndex[1]: 127
term 18 leader 0 sendInstallSnapshot LastIncludedIndex: 119  LastIncludedTerm: 16
------------------------------------------------------
flag 58598 term 18 leader 0 nextIndex[2]: 128  matchIndex[2]: 127
term 18 leader 0 sendAppendEntries PrevLogIndex: 127  PrevLogTerm: 18 leaderCommit: 127 
------------------------------------------------------
term 19 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 19 server 2 AppendEntries false 领导者任期过期 args.Term 18
------------------------------------------------------
term 18 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 19 leader 1 nextIndex[0]: 128  matchIndex[0]: 0
term 19 leader 1 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 19
------------------------------------------------------
flag 91316 term 19 leader 1 nextIndex[2]: 142  matchIndex[2]: 141
term 19 leader 1 sendAppendEntries PrevLogIndex: 141  PrevLogTerm: 19 leaderCommit: 141 
------------------------------------------------------
term 19 server 0 InstallSnapshot success
------------------------------------------------------
term 19 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 140 matchIndex[0] 139 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 19 rf.commitIndex 139 rf.lastApplied 139
term 19 server 2 AppendEntries true commitIndex:141 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {2690199551838905829 19 140} {1930797667292792010 19 141} {3539932773871226904 19 142}]
------------------------------------------------------
term 19 server 2 not vote for server 0, 日志不够新
term 19 server 1 not vote for server 0, 日志不够新
term 21 server 2 vote for server 1
term 21 server 0 vote for server 1
term 21 server 1 get vote from server 2
term 21 server 1 become leader
------------------------------------------------------
term 21 server 1 get outdate rpc reply from server 0
flag 11045 term 21 leader 1 nextIndex[0]: 143  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
flag 56152 term 21 leader 1 nextIndex[2]: 143  matchIndex[2]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 21 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 143->142
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {2690199551838905829 19 140} {1930797667292792010 19 141} {3539932773871226904 19 142}]
------------------------------------------------------
flag 68969 term 21 leader 1 nextIndex[0]: 140  matchIndex[0]: 0
term 21 leader 1 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
flag 78074 term 21 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 21 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {2690199551838905829 19 140} {1930797667292792010 19 141} {3539932773871226904 19 142}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {2690199551838905829 19 140} {1930797667292792010 19 141} {3539932773871226904 19 142}]
------------------------------------------------------
flag 12477 term 21 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 21 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
flag 70153 term 21 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 21 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {2690199551838905829 19 140} {1930797667292792010 19 141} {3539932773871226904 19 142}]
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {2690199551838905829 19 140} {1930797667292792010 19 141} {3539932773871226904 19 142}]
------------------------------------------------------
flag 24539 term 21 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 21 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
flag 7358 term 21 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 21 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {2690199551838905829 19 140} {1930797667292792010 19 141} {3539932773871226904 19 142}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {2690199551838905829 19 140} {1930797667292792010 19 141} {3539932773871226904 19 142}]
------------------------------------------------------
flag 85493 term 21 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 21 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
flag 16838 term 21 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 21 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {2690199551838905829 19 140} {1930797667292792010 19 141} {3539932773871226904 19 142}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {2690199551838905829 19 140} {1930797667292792010 19 141} {3539932773871226904 19 142}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4492 term 21 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 21 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
flag 26039 term 21 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 21 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {2690199551838905829 19 140} {1930797667292792010 19 141} {3539932773871226904 19 142}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {2690199551838905829 19 140} {1930797667292792010 19 141} {3539932773871226904 19 142}]
------------------------------------------------------
flag 17212 term 21 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 21 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
flag 46648 term 21 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 21 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
term 21 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
[{snapshot 19 139} {2690199551838905829 19 140} {1930797667292792010 19 141} {3539932773871226904 19 142}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {2690199551838905829 19 140} {1930797667292792010 19 141} {3539932773871226904 19 142}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51021 term 21 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 21 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
flag 74561 term 21 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 21 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=143
update matchIndex[2]=142
update leader CommitIndex=142
leader log:
term 21 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
[{snapshot 19 139} {2690199551838905829 19 140} {1930797667292792010 19 141} {3539932773871226904 19 142}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=143
update matchIndex[0]=142
update leader CommitIndex=142
leader log:
[{snapshot 19 139} {2690199551838905829 19 140} {1930797667292792010 19 141} {3539932773871226904 19 142}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7228233286049195798 (index 143) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23904 term 21 leader 1 nextIndex[0]: 143  matchIndex[0]: 142
term 21 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
flag 36088 term 21 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 21 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 19 leaderCommit: 142 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:142 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {2690199551838905829 19 140} {1930797667292792010 19 141} {3539932773871226904 19 142} {7228233286049195798 21 143}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73262 term 21 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 21 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 43763 term 21 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 21 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=144
update matchIndex[0]=143
update leader CommitIndex=143
leader log:
[{snapshot 19 139} {2690199551838905829 19 140} {1930797667292792010 19 141} {3539932773871226904 19 142} {7228233286049195798 21 143}]
------------------------------------------------------
client write log 3930948603596295073 (index 144) to leader 1
client write log 6539448197890423057 (index 145) to leader 1
client write log 8918841767062474992 (index 146) to leader 1
client write log 8170179363437485178 (index 147) to leader 1
client write log 2941094260972068422 (index 148) to leader 1
client write log 6757180428340256837 (index 149) to leader 1
client write log 3501098269607562970 (index 150) to leader 1
client write log 191766299365772021 (index 151) to leader 1
client write log 7231780168769395819 (index 152) to leader 1
client write log 6194940828306847317 (index 153) to leader 1
client write log 1876687973226734937 (index 154) to leader 1
client write log 2084771744033419216 (index 155) to leader 1
client write log 2094470921581245503 (index 156) to leader 1
client write log 8271296531286441174 (index 157) to leader 1
client write log 4596416311688846971 (index 158) to leader 1
flag 84553 term 21 leader 1 nextIndex[0]: 144  matchIndex[0]: 143
term 21 leader 1 sendAppendEntries PrevLogIndex: 143  PrevLogTerm: 21 leaderCommit: 143 
------------------------------------------------------
flag 351 term 21 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 21 leader 1 sendAppendEntries PrevLogIndex: 142  PrevLogTerm: 19 leaderCommit: 143 
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:143 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 19 139} {2690199551838905829 19 140} {1930797667292792010 19 141} {3539932773871226904 19 142} {7228233286049195798 21 143} {3930948603596295073 21 144} {6539448197890423057 21 145} {8918841767062474992 21 146} {8170179363437485178 21 147} {2941094260972068422 21 148} {6757180428340256837 21 149} {3501098269607562970 21 150} {191766299365772021 21 151} {7231780168769395819 21 152} {6194940828306847317 21 153} {1876687973226734937 21 154} {2084771744033419216 21 155} {2094470921581245503 21 156} {8271296531286441174 21 157} {4596416311688846971 21 158}]
------------------------------------------------------
term 21 Server1 start snapshot! index=149
term 21 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=158
-------------------------------------------------------------
flag 74035 term 21 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 21 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=159
update matchIndex[0]=158
update leader CommitIndex=158
leader log:
[{snapshot 21 149} {3501098269607562970 21 150} {191766299365772021 21 151} {7231780168769395819 21 152} {6194940828306847317 21 153} {1876687973226734937 21 154} {2084771744033419216 21 155} {2094470921581245503 21 156} {8271296531286441174 21 157} {4596416311688846971 21 158}]
------------------------------------------------------
term 21 Server0 start snapshot! index=149
term 21 server0 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=158
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5563653284686009394 (index 159) to leader 1
flag 96071 term 21 leader 1 nextIndex[0]: 159  matchIndex[0]: 158
term 21 leader 1 sendAppendEntries PrevLogIndex: 158  PrevLogTerm: 21 leaderCommit: 158 
------------------------------------------------------
term 21 leader 1 nextIndex[2]: 143  matchIndex[2]: 142
term 21 leader 1 sendInstallSnapshot LastIncludedIndex: 149  LastIncludedTerm: 21
------------------------------------------------------
term 21 server 0 AppendEntries true commitIndex:158 
------------------------------------------------------
term 22 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 21 149} {3501098269607562970 21 150} {191766299365772021 21 151} {7231780168769395819 21 152} {6194940828306847317 21 153} {1876687973226734937 21 154} {2084771744033419216 21 155} {2094470921581245503 21 156} {8271296531286441174 21 157} {4596416311688846971 21 158} {5563653284686009394 21 159}]
------------------------------------------------------
term 21 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 22 Server1 start snapshot! index=159
term 22 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 server 2 vote for server 1
term 23 server 0 vote for server 1
term 23 server 1 get vote from server 2
term 23 server 1 become leader
------------------------------------------------------
term 23 server 1 get outdate rpc reply from server 0
flag 85946 term 23 leader 1 nextIndex[0]: 160  matchIndex[0]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 159 
------------------------------------------------------
flag 94554 term 23 leader 1 nextIndex[2]: 160  matchIndex[2]: 0
term 23 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 159 
------------------------------------------------------
term 23 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 160->159
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 21 159}]
------------------------------------------------------
term 23 Server0 start snapshot! index=159
term 23 server0 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=159
-------------------------------------------------------------
flag 78239 term 23 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 23 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 159 
------------------------------------------------------
term 23 leader 1 nextIndex[2]: 143  matchIndex[2]: 0
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 21
------------------------------------------------------
term 23 server 2 InstallSnapshot success
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 160 matchIndex[2] 159 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 21 rf.commitIndex 159 rf.lastApplied 159
term 23 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 21 159}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45947 term 23 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 23 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 159 
------------------------------------------------------
flag 24889 term 23 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 23 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 159 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 21 159}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 21 159}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70575 term 23 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 23 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 159 
------------------------------------------------------
flag 62407 term 23 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 23 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 159 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 21 159}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 21 159}]
------------------------------------------------------
flag 25108 term 23 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 23 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 159 
------------------------------------------------------
flag 83514 term 23 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 23 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 159 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 21 159}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 21 159}]
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6231 term 23 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 23 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 159 
------------------------------------------------------
flag 86508 term 23 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 23 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 159 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=160
update matchIndex[2]=159
update leader CommitIndex=159
leader log:
[{snapshot 21 159}]
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=160
update matchIndex[0]=159
update leader CommitIndex=159
leader log:
[{snapshot 21 159}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 server 0 not vote for server 2, 任期不够新
term 23 server 2 get outdate rpc reply from server 0
!!!!!!diconnect server 2
client write log 8265252337127724797 (index 160) to leader 1
flag 15115 term 23 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 23 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 159 
------------------------------------------------------
flag 29459 term 23 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 23 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 159 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {8265252337127724797 23 160}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 46726 term 23 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 23 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
flag 42863 term 23 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 23 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=161
update matchIndex[0]=160
update leader CommitIndex=160
leader log:
[{snapshot 21 159} {8265252337127724797 23 160}]
------------------------------------------------------
client write log 2243482593327256762 (index 161) to leader 1
client write log 6833932743183158022 (index 162) to leader 1
client write log 3202587527226525561 (index 163) to leader 1
client write log 2233983552534207049 (index 164) to leader 1
client write log 8373680418022640028 (index 165) to leader 1
client write log 4727237626822336734 (index 166) to leader 1
client write log 6343850570299979182 (index 167) to leader 1
client write log 951543647464881846 (index 168) to leader 1
client write log 8066606391662471932 (index 169) to leader 1
client write log 4716988489846792204 (index 170) to leader 1
client write log 8563846865759024589 (index 171) to leader 1
client write log 2505393602295923048 (index 172) to leader 1
client write log 6665547229104101699 (index 173) to leader 1
client write log 1663012208016985317 (index 174) to leader 1
client write log 8960085754423934646 (index 175) to leader 1
flag 62022 term 23 leader 1 nextIndex[0]: 161  matchIndex[0]: 160
term 23 leader 1 sendAppendEntries PrevLogIndex: 160  PrevLogTerm: 23 leaderCommit: 160 
------------------------------------------------------
flag 64187 term 23 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 23 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 21 leaderCommit: 160 
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:160 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 21 159} {8265252337127724797 23 160} {2243482593327256762 23 161} {6833932743183158022 23 162} {3202587527226525561 23 163} {2233983552534207049 23 164} {8373680418022640028 23 165} {4727237626822336734 23 166} {6343850570299979182 23 167} {951543647464881846 23 168} {8066606391662471932 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 Server1 start snapshot! index=169
term 23 server1 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=175
-------------------------------------------------------------
flag 75922 term 23 leader 1 nextIndex[0]: 176  matchIndex[0]: 175
term 23 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
term 23 leader 1 nextIndex[2]: 160  matchIndex[2]: 159
term 23 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 23
------------------------------------------------------
term 23 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=176
update matchIndex[0]=175
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175}]
------------------------------------------------------
term 23 Server0 start snapshot! index=169
term 23 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=175
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2535185444357197233 (index 176) to leader 1
term 23 server 1 not vote for server 2, 日志不够新
term 23 server 0 not vote for server 2, 日志不够新
term 25 server 2 vote for server 1
term 25 server 1 get vote from server 2
term 25 server 0 vote for server 1
term 25 server 1 become leader
------------------------------------------------------
term 25 server 1 get outdate rpc reply from server 0
flag 85360 term 25 leader 1 nextIndex[0]: 177  matchIndex[0]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 72772 term 25 leader 1 nextIndex[2]: 177  matchIndex[2]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
term 25 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 25 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 177->176
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 177->176
------------------------------------------------------
flag 81490 term 25 leader 1 nextIndex[0]: 176  matchIndex[0]: 0
term 25 leader 1 sendAppendEntries PrevLogIndex: 175  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
term 25 leader 1 nextIndex[2]: 160  matchIndex[2]: 0
term 25 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 23
------------------------------------------------------
term 25 server 2 InstallSnapshot success
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
term 25 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 170 matchIndex[2] 169 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 23 rf.commitIndex 169 rf.lastApplied 169
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
flag 78545 term 25 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 11350 term 25 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 25 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11729 term 25 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 82417 term 25 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
flag 11899 term 25 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 36824 term 25 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 server 0 not vote for server 1, 任期不够新
term 25 server 1 get outdate rpc reply from server 0
flag 57592 term 25 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 62715 term 25 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
flag 94655 term 25 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 59943 term 25 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
flag 32938 term 25 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 59866 term 25 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
flag 89146 term 25 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 26629 term 25 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
flag 44225 term 25 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 55066 term 25 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
flag 72128 term 25 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 69754 term 25 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
term 25 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25733 term 25 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 30892 term 25 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
term 25 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
flag 90937 term 25 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 3863 term 25 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
flag 50118 term 25 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 28700 term 25 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
flag 45054 term 25 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 89839 term 25 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
flag 6867 term 25 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 51866 term 25 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
flag 12829 term 25 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 55002 term 25 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
flag 5039 term 25 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 62031 term 25 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
term 25 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18522 term 25 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 82229 term 25 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=177
update matchIndex[2]=176
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=177
update matchIndex[0]=176
update leader CommitIndex=175
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176}]
------------------------------------------------------
client write log 2535185444357197233 (index 177) to leader 1
flag 24635 term 25 leader 1 nextIndex[0]: 177  matchIndex[0]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
flag 34185 term 25 leader 1 nextIndex[2]: 177  matchIndex[2]: 176
term 25 leader 1 sendAppendEntries PrevLogIndex: 176  PrevLogTerm: 23 leaderCommit: 175 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176} {2535185444357197233 25 177}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:175 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176} {2535185444357197233 25 177}]
------------------------------------------------------
term 25 server 1 not vote for server 2, 任期不够新
term 25 server 2 get outdate rpc reply from server 1
flag 78186 term 25 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 25 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
flag 36501 term 25 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 25 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176} {2535185444357197233 25 177}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176} {2535185444357197233 25 177}]
------------------------------------------------------
flag 16717 term 25 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 25 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
flag 60587 term 25 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 25 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176} {2535185444357197233 25 177}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176} {2535185444357197233 25 177}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27682 term 25 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 25 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
flag 20876 term 25 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 25 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176} {2535185444357197233 25 177}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176} {2535185444357197233 25 177}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28517 term 25 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 25 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
flag 9971 term 25 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 25 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176} {2535185444357197233 25 177}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176} {2535185444357197233 25 177}]
------------------------------------------------------
flag 59652 term 25 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 25 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
flag 12663 term 25 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 25 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176} {2535185444357197233 25 177}]
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176} {2535185444357197233 25 177}]
------------------------------------------------------
flag 220 term 25 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 25 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
flag 43285 term 25 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 25 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 25 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=178
update matchIndex[2]=177
update leader CommitIndex=177
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176} {2535185444357197233 25 177}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176} {2535185444357197233 25 177}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 93138 term 25 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 25 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
flag 89894 term 25 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 25 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
flag 93693 term 25 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 25 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
flag 94636 term 25 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 25 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
flag 77232 term 25 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 25 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
flag 18704 term 25 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 25 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
flag 98628 term 25 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 25 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
flag 27261 term 25 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 25 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
term 26 server 0 vote for server 2
term 26 server 2 get vote from server 0
term 26 server 2 become leader
------------------------------------------------------
flag 78437 term 26 leader 2 nextIndex[0]: 178  matchIndex[0]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
flag 40006 term 26 leader 2 nextIndex[1]: 178  matchIndex[1]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176} {2535185444357197233 25 177}]
------------------------------------------------------
client write log 2980896512691009490 (index 178) to leader 2
flag 77649 term 25 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 25 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
flag 21471 term 25 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 25 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19235 term 26 leader 2 nextIndex[0]: 178  matchIndex[0]: 177
term 26 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
flag 15703 term 26 leader 2 nextIndex[1]: 178  matchIndex[1]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176} {2535185444357197233 25 177} {2980896512691009490 26 178}]
------------------------------------------------------
flag 64441 term 25 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 25 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
flag 47389 term 25 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 25 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
flag 71887 term 26 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 26 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 23307 term 26 leader 2 nextIndex[1]: 178  matchIndex[1]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=178
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176} {2535185444357197233 25 177} {2980896512691009490 26 178}]
------------------------------------------------------
client write log 4745893204500628879 (index 179) to leader 2
client write log 3387407693149770204 (index 180) to leader 2
client write log 4838460837645715202 (index 181) to leader 2
client write log 4768364063539919036 (index 182) to leader 2
client write log 2053109117289058025 (index 183) to leader 2
client write log 4229429125560458517 (index 184) to leader 2
client write log 28243332375564930 (index 185) to leader 2
client write log 5202086089974418851 (index 186) to leader 2
client write log 9028579276719022617 (index 187) to leader 2
client write log 261861364687062505 (index 188) to leader 2
client write log 3783853481873227923 (index 189) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29498 term 25 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 25 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
flag 1978 term 25 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 25 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83463 term 26 leader 2 nextIndex[0]: 179  matchIndex[0]: 178
term 26 leader 2 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 26 leaderCommit: 178 
------------------------------------------------------
flag 40193 term 26 leader 2 nextIndex[1]: 178  matchIndex[1]: 0
term 26 leader 2 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 178 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:178 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 23 169} {4716988489846792204 23 170} {8563846865759024589 23 171} {2505393602295923048 23 172} {6665547229104101699 23 173} {1663012208016985317 23 174} {8960085754423934646 23 175} {2535185444357197233 23 176} {2535185444357197233 25 177} {2980896512691009490 26 178} {4745893204500628879 26 179} {3387407693149770204 26 180} {4838460837645715202 26 181} {4768364063539919036 26 182} {2053109117289058025 26 183} {4229429125560458517 26 184} {28243332375564930 26 185} {5202086089974418851 26 186} {9028579276719022617 26 187} {261861364687062505 26 188} {3783853481873227923 26 189}]
------------------------------------------------------
term 26 Server2 start snapshot! index=179
term 26 server2 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=189
-------------------------------------------------------------
term 26 Server2 start snapshot! index=189
term 26 server2 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
flag 68011 term 25 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 25 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
flag 36147 term 25 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 25 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
flag 62722 term 26 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 26 leader 2 nextIndex[1]: 178  matchIndex[1]: 0
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
term 26 Server0 start snapshot! index=179
term 26 server0 snapshot success
lastIncludedIndex=179 lastApplied=180 lastIndex=189
-------------------------------------------------------------
term 26 Server0 start snapshot! index=189
term 26 server0 snapshot success
lastIncludedIndex=189 lastApplied=189 lastIndex=189
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7787173712771071345 (index 178) to leader 1
flag 28117 term 25 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 25 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
flag 80491 term 25 leader 1 nextIndex[2]: 178  matchIndex[2]: 177
term 25 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 25 leaderCommit: 177 
------------------------------------------------------
term 26 server 2 AppendEntries false 领导者任期过期 args.Term 25
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 26 server 0 AppendEntries false 领导者任期过期 args.Term 25
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98738 term 26 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 26 leader 2 nextIndex[1]: 178  matchIndex[1]: 0
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 1 InstallSnapshot success
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
term 26 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 190 matchIndex[1] 189 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 189 rf.lastIncludedTerm 26 rf.commitIndex 189 rf.lastApplied 189
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 14742 term 26 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 50127 term 26 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
flag 30473 term 26 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 81793 term 26 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
term 26 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6707 term 26 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 42342 term 26 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
term 26 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 4969 term 26 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 44293 term 26 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
flag 95246 term 26 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 93411 term 26 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
flag 55067 term 26 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 11473 term 26 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16023 term 26 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 38553 term 26 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
flag 57178 term 26 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 24677 term 26 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81103 term 26 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 84615 term 26 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
flag 38046 term 26 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 53820 term 26 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
flag 23470 term 26 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 24718 term 26 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
flag 22401 term 26 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 15395 term 26 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
flag 42722 term 26 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 73054 term 26 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12207 term 26 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 5273 term 26 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
flag 96646 term 26 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 21957 term 26 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98025 term 26 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 79297 term 26 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
flag 86189 term 26 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 91984 term 26 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 2698 term 26 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 45919 term 26 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
flag 75779 term 26 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 47902 term 26 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=190
update matchIndex[1]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=189
leader log:
[{snapshot 26 189}]
------------------------------------------------------
client write log 7787173712771071345 (index 190) to leader 2
flag 19822 term 26 leader 2 nextIndex[0]: 190  matchIndex[0]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
flag 31750 term 26 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 189 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {7787173712771071345 26 190}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:189 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {7787173712771071345 26 190}]
------------------------------------------------------
flag 93293 term 26 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 26 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 93066 term 26 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 26 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {7787173712771071345 26 190}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {7787173712771071345 26 190}]
------------------------------------------------------
flag 9863 term 26 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 26 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 59 term 26 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 26 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {7787173712771071345 26 190}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {7787173712771071345 26 190}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 191->190
------------------------------------------------------
flag 95637 term 26 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 26 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 26 leader 2 nextIndex[1]: 0  matchIndex[1]: 190
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 26
------------------------------------------------------
term 26 server 1 InstallSnapshot fail
rf.commitIndex 190 args.LastIncludedIndex 189
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {7787173712771071345 26 190}]
------------------------------------------------------
term 26 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 190 matchIndex[1] 189 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14463 term 26 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 26 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 56978 term 26 leader 2 nextIndex[1]: 190  matchIndex[1]: 189
term 26 leader 2 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {7787173712771071345 26 190}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {7787173712771071345 26 190}]
------------------------------------------------------
flag 71651 term 26 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 26 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 70336 term 26 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 26 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {7787173712771071345 26 190}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {7787173712771071345 26 190}]
------------------------------------------------------
flag 20560 term 26 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 26 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 96528 term 26 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 26 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=191
update matchIndex[1]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {7787173712771071345 26 190}]
------------------------------------------------------
term 26 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 26 189} {7787173712771071345 26 190}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 1390181478507512580 (index 191) to leader 2
flag 84746 term 26 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 26 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
flag 18203 term 26 leader 2 nextIndex[1]: 191  matchIndex[1]: 190
term 26 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 190 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {7787173712771071345 26 190} {1390181478507512580 26 191}]
------------------------------------------------------
flag 28278 term 26 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 26 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
flag 55504 term 26 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 26 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=192
update matchIndex[1]=191
update leader CommitIndex=191
leader log:
[{snapshot 26 189} {7787173712771071345 26 190} {1390181478507512580 26 191}]
------------------------------------------------------
client write log 1100341225791830459 (index 192) to leader 2
client write log 543880613214651037 (index 193) to leader 2
client write log 3892516447530981382 (index 194) to leader 2
client write log 3107942183244887705 (index 195) to leader 2
client write log 4515611134270587081 (index 196) to leader 2
client write log 3183109403435588808 (index 197) to leader 2
client write log 4817075338478056254 (index 198) to leader 2
client write log 5512953811146770919 (index 199) to leader 2
client write log 7142473958275898199 (index 200) to leader 2
client write log 227937143401463810 (index 201) to leader 2
flag 83196 term 26 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 26 leader 2 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
flag 27538 term 26 leader 2 nextIndex[1]: 192  matchIndex[1]: 191
term 26 leader 2 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 26 leaderCommit: 191 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 26 189} {7787173712771071345 26 190} {1390181478507512580 26 191} {1100341225791830459 26 192} {543880613214651037 26 193} {3892516447530981382 26 194} {3107942183244887705 26 195} {4515611134270587081 26 196} {3183109403435588808 26 197} {4817075338478056254 26 198} {5512953811146770919 26 199} {7142473958275898199 26 200} {227937143401463810 26 201}]
------------------------------------------------------
term 26 Server2 start snapshot! index=199
term 26 server2 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=201
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 26 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 26
------------------------------------------------------
flag 58329 term 26 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 26 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 26 leaderCommit: 201 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=202
update matchIndex[1]=201
update leader CommitIndex=201
leader log:
[{snapshot 26 199} {7142473958275898199 26 200} {227937143401463810 26 201}]
------------------------------------------------------
term 26 Server1 start snapshot! index=199
term 26 server1 snapshot success
lastIncludedIndex=199 lastApplied=199 lastIndex=201
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7918126857300187503 (index 202) to leader 2
term 26 leader 2 nextIndex[0]: 191  matchIndex[0]: 190
term 26 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 26
------------------------------------------------------
flag 48491 term 26 leader 2 nextIndex[1]: 202  matchIndex[1]: 201
term 26 leader 2 sendAppendEntries PrevLogIndex: 201  PrevLogTerm: 26 leaderCommit: 201 
------------------------------------------------------
term 26 server 1 AppendEntries true commitIndex:201 
------------------------------------------------------
term 27 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 26 199} {7142473958275898199 26 200} {227937143401463810 26 201} {7918126857300187503 26 202}]
------------------------------------------------------
term 26 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 28 server 1 vote for server 2
term 28 server 2 get vote from server 1
term 28 server 2 become leader
------------------------------------------------------
term 28 server 0 vote for server 2
term 28 server 2 get outdate rpc reply from server 0
flag 99023 term 28 leader 2 nextIndex[0]: 203  matchIndex[0]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 26 leaderCommit: 202 
------------------------------------------------------
flag 69399 term 28 leader 2 nextIndex[1]: 203  matchIndex[1]: 0
term 28 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 26 leaderCommit: 202 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
term 28 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
[{snapshot 26 199} {7142473958275898199 26 200} {227937143401463810 26 201} {7918126857300187503 26 202}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 203->202
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 2 nextIndex[0]: 191  matchIndex[0]: 0
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 26
------------------------------------------------------
flag 26013 term 28 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 28 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 26 leaderCommit: 202 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 26 199} {7142473958275898199 26 200} {227937143401463810 26 201} {7918126857300187503 26 202}]
------------------------------------------------------
term 28 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 199 rf.lastIncludedTerm 26 rf.commitIndex 199 rf.lastApplied 199
term 28 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 200 matchIndex[0] 199 
------------------------------------------------------------------------
flag 88457 term 28 leader 2 nextIndex[0]: 200  matchIndex[0]: 199
term 28 leader 2 sendAppendEntries PrevLogIndex: 199  PrevLogTerm: 26 leaderCommit: 202 
------------------------------------------------------
flag 62095 term 28 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 28 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 26 leaderCommit: 202 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:199 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 26 199} {7142473958275898199 26 200} {227937143401463810 26 201} {7918126857300187503 26 202}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 26 199} {7142473958275898199 26 200} {227937143401463810 26 201} {7918126857300187503 26 202}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 35534 term 28 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 28 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 26 leaderCommit: 202 
------------------------------------------------------
flag 79752 term 28 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 28 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 26 leaderCommit: 202 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 26 199} {7142473958275898199 26 200} {227937143401463810 26 201} {7918126857300187503 26 202}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 26 199} {7142473958275898199 26 200} {227937143401463810 26 201} {7918126857300187503 26 202}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66100 term 28 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 28 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 26 leaderCommit: 202 
------------------------------------------------------
flag 2689 term 28 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 28 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 26 leaderCommit: 202 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 26 199} {7142473958275898199 26 200} {227937143401463810 26 201} {7918126857300187503 26 202}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 26 199} {7142473958275898199 26 200} {227937143401463810 26 201} {7918126857300187503 26 202}]
------------------------------------------------------
flag 60026 term 28 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 28 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 26 leaderCommit: 202 
------------------------------------------------------
flag 38256 term 28 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 28 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 26 leaderCommit: 202 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 26 199} {7142473958275898199 26 200} {227937143401463810 26 201} {7918126857300187503 26 202}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 26 199} {7142473958275898199 26 200} {227937143401463810 26 201} {7918126857300187503 26 202}]
------------------------------------------------------
flag 18373 term 28 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 28 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 26 leaderCommit: 202 
------------------------------------------------------
flag 70833 term 28 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 28 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 26 leaderCommit: 202 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 26 199} {7142473958275898199 26 200} {227937143401463810 26 201} {7918126857300187503 26 202}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 26 199} {7142473958275898199 26 200} {227937143401463810 26 201} {7918126857300187503 26 202}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65312 term 28 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 28 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 26 leaderCommit: 202 
------------------------------------------------------
flag 60747 term 28 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 28 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 26 leaderCommit: 202 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=203
update matchIndex[1]=202
update leader CommitIndex=202
leader log:
[{snapshot 26 199} {7142473958275898199 26 200} {227937143401463810 26 201} {7918126857300187503 26 202}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=203
update matchIndex[0]=202
update leader CommitIndex=202
leader log:
[{snapshot 26 199} {7142473958275898199 26 200} {227937143401463810 26 201} {7918126857300187503 26 202}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8878176954791423488 (index 203) to leader 2
flag 35834 term 28 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 28 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 26 leaderCommit: 202 
------------------------------------------------------
flag 95731 term 28 leader 2 nextIndex[1]: 203  matchIndex[1]: 202
term 28 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 26 leaderCommit: 202 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:202 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 26 199} {7142473958275898199 26 200} {227937143401463810 26 201} {7918126857300187503 26 202} {8878176954791423488 28 203}]
------------------------------------------------------
flag 99622 term 28 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 28 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 26 leaderCommit: 203 
------------------------------------------------------
flag 56280 term 28 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 28 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 28 leaderCommit: 203 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=204
update matchIndex[1]=203
update leader CommitIndex=203
leader log:
[{snapshot 26 199} {7142473958275898199 26 200} {227937143401463810 26 201} {7918126857300187503 26 202} {8878176954791423488 28 203}]
------------------------------------------------------
client write log 7886670119461352691 (index 204) to leader 2
client write log 6275134015556167961 (index 205) to leader 2
client write log 468524847864289306 (index 206) to leader 2
client write log 2320114293807286159 (index 207) to leader 2
client write log 1728724973038093584 (index 208) to leader 2
client write log 311280630655821901 (index 209) to leader 2
flag 84560 term 28 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 28 leader 2 sendAppendEntries PrevLogIndex: 202  PrevLogTerm: 26 leaderCommit: 203 
------------------------------------------------------
flag 69668 term 28 leader 2 nextIndex[1]: 204  matchIndex[1]: 203
term 28 leader 2 sendAppendEntries PrevLogIndex: 203  PrevLogTerm: 28 leaderCommit: 203 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:203 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 26 199} {7142473958275898199 26 200} {227937143401463810 26 201} {7918126857300187503 26 202} {8878176954791423488 28 203} {7886670119461352691 28 204} {6275134015556167961 28 205} {468524847864289306 28 206} {2320114293807286159 28 207} {1728724973038093584 28 208} {311280630655821901 28 209}]
------------------------------------------------------
term 28 Server2 start snapshot! index=209
term 28 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
term 28 leader 2 nextIndex[0]: 203  matchIndex[0]: 202
term 28 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 28
------------------------------------------------------
flag 1256 term 28 leader 2 nextIndex[1]: 210  matchIndex[1]: 209
term 28 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
term 28 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 28 209}]
------------------------------------------------------
term 28 Server1 start snapshot! index=209
term 28 server1 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6613964051222313815 (index 210) to leader 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 28 server 2 not vote for server 0, 日志不够新
term 28 server 1 not vote for server 0, 日志不够新
term 30 server 1 vote for server 2
term 30 server 0 vote for server 2
term 30 server 2 get vote from server 1
term 30 server 2 become leader
------------------------------------------------------
term 30 server 2 get outdate rpc reply from server 0
flag 45343 term 30 leader 2 nextIndex[0]: 211  matchIndex[0]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
flag 34219 term 30 leader 2 nextIndex[1]: 211  matchIndex[1]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
term 30 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 30 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 211->210
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 211->210
------------------------------------------------------
term 30 server 1 not vote for server 2, 任期不够新
term 30 server 2 get outdate rpc reply from server 1
term 30 leader 2 nextIndex[0]: 203  matchIndex[0]: 0
term 30 leader 2 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 28
------------------------------------------------------
flag 88760 term 30 leader 2 nextIndex[1]: 210  matchIndex[1]: 0
term 30 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
term 30 server 0 InstallSnapshot success
------------------------------------------------------
term 30 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 210 matchIndex[0] 209 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 28 rf.commitIndex 209 rf.lastApplied 209
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32651 term 30 leader 2 nextIndex[0]: 210  matchIndex[0]: 209
term 30 leader 2 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
flag 75896 term 30 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22154 term 30 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
flag 88107 term 30 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
flag 60354 term 30 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
flag 98343 term 30 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
flag 17730 term 30 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
flag 11172 term 30 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
flag 28130 term 30 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
flag 1535 term 30 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52801 term 30 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
flag 19330 term 30 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
flag 96121 term 30 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
flag 12119 term 30 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99717 term 30 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
flag 42300 term 30 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70048 term 30 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
flag 82928 term 30 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:209 
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
flag 93301 term 30 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
flag 83953 term 30 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
flag 72224 term 30 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
flag 5048 term 30 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
flag 48932 term 30 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
flag 23203 term 30 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 95913 term 30 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
flag 16756 term 30 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:209 
term 30 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
flag 14749 term 30 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
flag 98741 term 30 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39210 term 30 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
flag 3712 term 30 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 80441 term 30 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
flag 76387 term 30 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
flag 67344 term 30 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
flag 18818 term 30 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 38467 term 30 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
flag 75635 term 30 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=211
update matchIndex[1]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=211
update matchIndex[0]=210
update leader CommitIndex=209
leader log:
[{snapshot 28 209} {6613964051222313815 28 210}]
------------------------------------------------------
client write log 6613964051222313815 (index 211) to leader 2
flag 4676 term 30 leader 2 nextIndex[0]: 211  matchIndex[0]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
flag 23707 term 30 leader 2 nextIndex[1]: 211  matchIndex[1]: 210
term 30 leader 2 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 28 leaderCommit: 209 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55946 term 30 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 30 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 22965 term 30 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 30 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211}]
------------------------------------------------------
flag 88026 term 30 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 30 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 28661 term 30 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 30 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211}]
------------------------------------------------------
flag 72 term 30 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 30 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 68361 term 30 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 30 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211}]
------------------------------------------------------
flag 61763 term 30 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 30 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 74573 term 30 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 30 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211}]
------------------------------------------------------
flag 43421 term 30 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 30 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 94706 term 30 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 30 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
term 30 server 1 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=212
update matchIndex[1]=211
update leader CommitIndex=211
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211}]
------------------------------------------------------
term 30 server 1 not vote for server 0, 任期不够新
term 30 server 0 get outdate rpc reply from server 1
!!!!!!diconnect server 2
flag 19104 term 30 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 30 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 61847 term 30 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 30 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 54769 term 30 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 30 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 51721 term 30 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 30 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 94712 term 30 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 30 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 1375 term 30 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 30 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 94565 term 30 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 30 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 1058 term 30 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 30 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
term 31 server 0 vote for server 1
term 31 server 1 get vote from server 0
term 31 server 1 become leader
------------------------------------------------------
flag 6618 term 31 leader 1 nextIndex[0]: 212  matchIndex[0]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 24630 term 31 leader 1 nextIndex[2]: 212  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=212
update matchIndex[0]=211
update leader CommitIndex=211
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211}]
------------------------------------------------------
client write log 986736521626148823 (index 212) to leader 1
flag 56294 term 30 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 30 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 8373 term 30 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 30 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 92517 term 31 leader 1 nextIndex[0]: 212  matchIndex[0]: 211
term 31 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 62557 term 31 leader 1 nextIndex[2]: 212  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211} {986736521626148823 31 212}]
------------------------------------------------------
flag 31729 term 30 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 30 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 94776 term 30 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 30 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78454 term 31 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 212 
------------------------------------------------------
flag 99713 term 31 leader 1 nextIndex[2]: 212  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 212 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=213
update matchIndex[0]=212
update leader CommitIndex=212
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211} {986736521626148823 31 212}]
------------------------------------------------------
client write log 3105061245535845486 (index 213) to leader 1
flag 25961 term 30 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 30 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 57648 term 30 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 30 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 69672 term 31 leader 1 nextIndex[0]: 213  matchIndex[0]: 212
term 31 leader 1 sendAppendEntries PrevLogIndex: 212  PrevLogTerm: 31 leaderCommit: 212 
------------------------------------------------------
flag 87099 term 31 leader 1 nextIndex[2]: 212  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 212 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:212 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211} {986736521626148823 31 212} {3105061245535845486 31 213}]
------------------------------------------------------
flag 42064 term 30 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 30 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 52632 term 30 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 30 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 14796 term 31 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 31 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
flag 31467 term 31 leader 1 nextIndex[2]: 212  matchIndex[2]: 0
term 31 leader 1 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 213 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=214
update matchIndex[0]=213
update leader CommitIndex=213
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211} {986736521626148823 31 212} {3105061245535845486 31 213}]
------------------------------------------------------
!!!!!!connect server 2
client write log 6290612947434546840 (index 214) to leader 1
flag 80450 term 30 leader 2 nextIndex[0]: 212  matchIndex[0]: 211
term 30 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
flag 95647 term 30 leader 2 nextIndex[1]: 212  matchIndex[1]: 211
term 30 leader 2 sendAppendEntries PrevLogIndex: 211  PrevLogTerm: 30 leaderCommit: 211 
------------------------------------------------------
term 31 server 1 AppendEntries false 领导者任期过期 args.Term 30
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 31 server 0 AppendEntries false 领导者任期过期 args.Term 30
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 212->211
------------------------------------------------------
flag 26952 term 31 leader 1 nextIndex[0]: 214  matchIndex[0]: 213
term 31 leader 1 sendAppendEntries PrevLogIndex: 213  PrevLogTerm: 31 leaderCommit: 213 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 0  matchIndex[2]: 0
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 28
------------------------------------------------------
term 31 server 2 InstallSnapshot fail
rf.commitIndex 211 args.LastIncludedIndex 209
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 210 matchIndex[2] 209 
------------------------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:213 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211} {986736521626148823 31 212} {3105061245535845486 31 213} {6290612947434546840 31 214}]
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62543 term 31 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 26079 term 31 leader 1 nextIndex[2]: 210  matchIndex[2]: 209
term 31 leader 1 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 28 leaderCommit: 214 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:211 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211} {986736521626148823 31 212} {3105061245535845486 31 213} {6290612947434546840 31 214}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211} {986736521626148823 31 212} {3105061245535845486 31 213} {6290612947434546840 31 214}]
------------------------------------------------------
flag 40251 term 31 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 18264 term 31 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211} {986736521626148823 31 212} {3105061245535845486 31 213} {6290612947434546840 31 214}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211} {986736521626148823 31 212} {3105061245535845486 31 213} {6290612947434546840 31 214}]
------------------------------------------------------
flag 78878 term 31 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 11919 term 31 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211} {986736521626148823 31 212} {3105061245535845486 31 213} {6290612947434546840 31 214}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211} {986736521626148823 31 212} {3105061245535845486 31 213} {6290612947434546840 31 214}]
------------------------------------------------------
term 31 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 7182 term 31 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 85867 term 31 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211} {986736521626148823 31 212} {3105061245535845486 31 213} {6290612947434546840 31 214}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211} {986736521626148823 31 212} {3105061245535845486 31 213} {6290612947434546840 31 214}]
------------------------------------------------------
flag 676 term 31 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 35432 term 31 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211} {986736521626148823 31 212} {3105061245535845486 31 213} {6290612947434546840 31 214}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211} {986736521626148823 31 212} {3105061245535845486 31 213} {6290612947434546840 31 214}]
------------------------------------------------------
flag 7796 term 31 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 53402 term 31 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211} {986736521626148823 31 212} {3105061245535845486 31 213} {6290612947434546840 31 214}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211} {986736521626148823 31 212} {3105061245535845486 31 213} {6290612947434546840 31 214}]
------------------------------------------------------
flag 59440 term 31 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 88319 term 31 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 31 server 2 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=215
update matchIndex[2]=214
update leader CommitIndex=214
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211} {986736521626148823 31 212} {3105061245535845486 31 213} {6290612947434546840 31 214}]
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=215
update matchIndex[0]=214
update leader CommitIndex=214
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211} {986736521626148823 31 212} {3105061245535845486 31 213} {6290612947434546840 31 214}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7234859991626927112 (index 215) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41543 term 31 leader 1 nextIndex[0]: 215  matchIndex[0]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
flag 68533 term 31 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 214 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:214 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211} {986736521626148823 31 212} {3105061245535845486 31 213} {6290612947434546840 31 214} {7234859991626927112 31 215}]
------------------------------------------------------
flag 21154 term 31 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 31 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 215 
------------------------------------------------------
flag 86016 term 31 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 215 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=216
update matchIndex[0]=215
update leader CommitIndex=215
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211} {986736521626148823 31 212} {3105061245535845486 31 213} {6290612947434546840 31 214} {7234859991626927112 31 215}]
------------------------------------------------------
client write log 5062540522730052015 (index 216) to leader 1
client write log 7257135832969156369 (index 217) to leader 1
client write log 7516717563713313431 (index 218) to leader 1
client write log 4901226303811151552 (index 219) to leader 1
client write log 5146461983942133985 (index 220) to leader 1
client write log 9133697465292795436 (index 221) to leader 1
client write log 2299186469502236649 (index 222) to leader 1
client write log 1667821026896178931 (index 223) to leader 1
client write log 8310320605073986805 (index 224) to leader 1
client write log 6613051530164953487 (index 225) to leader 1
flag 58891 term 31 leader 1 nextIndex[0]: 216  matchIndex[0]: 215
term 31 leader 1 sendAppendEntries PrevLogIndex: 215  PrevLogTerm: 31 leaderCommit: 215 
------------------------------------------------------
flag 61739 term 31 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 31 leader 1 sendAppendEntries PrevLogIndex: 214  PrevLogTerm: 31 leaderCommit: 215 
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:215 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 28 209} {6613964051222313815 28 210} {6613964051222313815 30 211} {986736521626148823 31 212} {3105061245535845486 31 213} {6290612947434546840 31 214} {7234859991626927112 31 215} {5062540522730052015 31 216} {7257135832969156369 31 217} {7516717563713313431 31 218} {4901226303811151552 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225}]
------------------------------------------------------
term 31 Server1 start snapshot! index=219
term 31 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=225
-------------------------------------------------------------
flag 85680 term 31 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 31 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 215  matchIndex[2]: 214
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=226
update matchIndex[0]=225
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225}]
------------------------------------------------------
term 31 Server0 start snapshot! index=219
term 31 server0 snapshot success
lastIncludedIndex=219 lastApplied=220 lastIndex=225
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5297046150295015442 (index 226) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 215->214
------------------------------------------------------
flag 88929 term 31 leader 1 nextIndex[0]: 226  matchIndex[0]: 225
term 31 leader 1 sendAppendEntries PrevLogIndex: 225  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 31 leader 1 nextIndex[2]: 0  matchIndex[2]: 214
term 31 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
term 32 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 31 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 31 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 2 vote for server 1
term 33 server 0 vote for server 1
term 33 server 1 get vote from server 2
term 33 server 1 become leader
------------------------------------------------------
term 33 server 1 get outdate rpc reply from server 0
flag 2444 term 33 leader 1 nextIndex[0]: 227  matchIndex[0]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 30314 term 33 leader 1 nextIndex[2]: 227  matchIndex[2]: 0
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
term 33 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 227->226
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57945 term 33 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 215  matchIndex[2]: 0
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 31
------------------------------------------------------
term 33 server 2 InstallSnapshot success
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 220 matchIndex[2] 219 
------------------------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 219 rf.lastIncludedTerm 31 rf.commitIndex 219 rf.lastApplied 219
flag 22218 term 33 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 69487 term 33 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 33 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
flag 3338 term 33 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 33086 term 33 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
flag 88336 term 33 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 29369 term 33 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
term 33 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
flag 45049 term 33 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 41336 term 33 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
flag 4453 term 33 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 99125 term 33 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
flag 76839 term 33 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 23744 term 33 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 33 server 2 not vote for server 1, 任期不够新
term 33 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
term 33 server 1 get outdate rpc reply from server 2
term 33 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
flag 57768 term 33 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 23588 term 33 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
flag 85027 term 33 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 88624 term 33 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
flag 4086 term 33 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 5409 term 33 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 50286 term 33 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 40949 term 33 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
flag 8904 term 33 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 57311 term 33 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
flag 46701 term 33 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 57841 term 33 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
flag 59918 term 33 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 14643 term 33 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
flag 37650 term 33 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 24353 term 33 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
flag 86001 term 33 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 64587 term 33 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
term 33 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51946 term 33 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 99216 term 33 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=227
update matchIndex[0]=226
update leader CommitIndex=225
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226}]
------------------------------------------------------
client write log 5297046150295015442 (index 227) to leader 1
flag 65400 term 33 leader 1 nextIndex[0]: 227  matchIndex[0]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
flag 27828 term 33 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 33 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 31 leaderCommit: 225 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226} {5297046150295015442 33 227}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:225 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226} {5297046150295015442 33 227}]
------------------------------------------------------
flag 36756 term 33 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 33 leaderCommit: 227 
------------------------------------------------------
flag 90842 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 33 leaderCommit: 227 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226} {5297046150295015442 33 227}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226} {5297046150295015442 33 227}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94915 term 33 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 33 leaderCommit: 227 
------------------------------------------------------
flag 76408 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 33 leaderCommit: 227 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226} {5297046150295015442 33 227}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226} {5297046150295015442 33 227}]
------------------------------------------------------
flag 30325 term 33 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 33 leaderCommit: 227 
------------------------------------------------------
flag 98961 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 33 leaderCommit: 227 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226} {5297046150295015442 33 227}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226} {5297046150295015442 33 227}]
------------------------------------------------------
flag 39327 term 33 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 33 leaderCommit: 227 
------------------------------------------------------
flag 47766 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 33 leaderCommit: 227 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226} {5297046150295015442 33 227}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226} {5297046150295015442 33 227}]
------------------------------------------------------
term 33 server 2 not vote for server 0, 任期不够新
term 33 server 0 get outdate rpc reply from server 2
flag 52053 term 33 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 33 leaderCommit: 227 
------------------------------------------------------
flag 27953 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 33 leaderCommit: 227 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226} {5297046150295015442 33 227}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226} {5297046150295015442 33 227}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39403 term 33 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 33 leaderCommit: 227 
------------------------------------------------------
flag 1684 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 33 leaderCommit: 227 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226} {5297046150295015442 33 227}]
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226} {5297046150295015442 33 227}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 436649272780971318 (index 228) to leader 1
flag 55490 term 33 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 33 leaderCommit: 227 
------------------------------------------------------
flag 13971 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 33 leaderCommit: 227 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226} {5297046150295015442 33 227} {436649272780971318 33 228}]
------------------------------------------------------
flag 57763 term 33 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 33 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 33 leaderCommit: 228 
------------------------------------------------------
flag 5343 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 33 leaderCommit: 228 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226} {5297046150295015442 33 227} {436649272780971318 33 228}]
------------------------------------------------------
client write log 8994135100136310745 (index 229) to leader 1
client write log 655476381756996305 (index 230) to leader 1
client write log 8398241930063469709 (index 231) to leader 1
client write log 7774172878508358358 (index 232) to leader 1
client write log 4325747115535179205 (index 233) to leader 1
client write log 341081421215945814 (index 234) to leader 1
client write log 5954036098077904503 (index 235) to leader 1
client write log 1131447543003223129 (index 236) to leader 1
client write log 7773822364441551312 (index 237) to leader 1
client write log 6445288811728538791 (index 238) to leader 1
client write log 7898185798748100633 (index 239) to leader 1
client write log 7509933096556732638 (index 240) to leader 1
client write log 4179956502985962362 (index 241) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6247 term 33 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 33 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 33 leaderCommit: 228 
------------------------------------------------------
flag 82751 term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 33 leaderCommit: 228 
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 31 219} {5146461983942133985 31 220} {9133697465292795436 31 221} {2299186469502236649 31 222} {1667821026896178931 31 223} {8310320605073986805 31 224} {6613051530164953487 31 225} {5297046150295015442 31 226} {5297046150295015442 33 227} {436649272780971318 33 228} {8994135100136310745 33 229} {655476381756996305 33 230} {8398241930063469709 33 231} {7774172878508358358 33 232} {4325747115535179205 33 233} {341081421215945814 33 234} {5954036098077904503 33 235} {1131447543003223129 33 236} {7773822364441551312 33 237} {6445288811728538791 33 238} {7898185798748100633 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241}]
------------------------------------------------------
term 33 Server1 start snapshot! index=229
term 33 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=241
-------------------------------------------------------------
term 33 Server1 start snapshot! index=239
term 33 server1 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=241
-------------------------------------------------------------
flag 96111 term 33 leader 1 nextIndex[0]: 242  matchIndex[0]: 241
term 33 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
term 33 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 33 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 33
------------------------------------------------------
term 33 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=242
update matchIndex[0]=241
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241}]
------------------------------------------------------
term 33 Server0 start snapshot! index=229
term 33 server0 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=241
-------------------------------------------------------------
term 33 Server0 start snapshot! index=239
term 33 server0 snapshot success
lastIncludedIndex=239 lastApplied=240 lastIndex=241
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7711220677945250830 (index 242) to leader 1
term 33 server 1 not vote for server 2, 日志不够新
term 33 server 0 not vote for server 2, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 server 2 vote for server 1
term 35 server 0 vote for server 1
term 35 server 1 get vote from server 2
term 35 server 1 become leader
------------------------------------------------------
term 35 server 1 get outdate rpc reply from server 0
flag 8779 term 35 leader 1 nextIndex[0]: 243  matchIndex[0]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
flag 9942 term 35 leader 1 nextIndex[2]: 243  matchIndex[2]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
term 35 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 243->242
------------------------------------------------------
term 35 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 243->242
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70725 term 35 leader 1 nextIndex[0]: 242  matchIndex[0]: 0
term 35 leader 1 sendAppendEntries PrevLogIndex: 241  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
term 35 leader 1 nextIndex[2]: 228  matchIndex[2]: 0
term 35 leader 1 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 33
------------------------------------------------------
term 35 server 2 InstallSnapshot success
------------------------------------------------------
term 35 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 240 matchIndex[2] 239 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 239 rf.lastIncludedTerm 33 rf.commitIndex 239 rf.lastApplied 239
term 35 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49053 term 35 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
flag 28542 term 35 leader 1 nextIndex[2]: 240  matchIndex[2]: 239
term 35 leader 1 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:239 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26892 term 35 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
flag 76433 term 35 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54509 term 35 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
flag 42766 term 35 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15180 term 35 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
flag 23118 term 35 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93685 term 35 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
flag 89360 term 35 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
flag 48207 term 35 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
flag 46471 term 35 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
flag 66875 term 35 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
flag 8927 term 35 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
flag 69160 term 35 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
flag 48648 term 35 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98214 term 35 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
flag 32187 term 35 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90401 term 35 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
flag 93817 term 35 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 35 server 1 not vote for server 2, 任期不够新
term 35 server 2 get outdate rpc reply from server 1
flag 6155 term 35 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
flag 67405 term 35 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
flag 10269 term 35 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
flag 41984 term 35 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
flag 79055 term 35 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
flag 43202 term 35 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40251 term 35 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
flag 39519 term 35 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
flag 74529 term 35 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
flag 64236 term 35 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
term 35 server 0 not vote for server 2, 任期不够新
term 35 server 2 get outdate rpc reply from server 0
flag 33943 term 35 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
flag 8918 term 35 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81398 term 35 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
flag 2904 term 35 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=243
update matchIndex[2]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=243
update matchIndex[0]=242
update leader CommitIndex=241
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242}]
------------------------------------------------------
client write log 7711220677945250830 (index 243) to leader 1
flag 94915 term 35 leader 1 nextIndex[0]: 243  matchIndex[0]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
flag 85154 term 35 leader 1 nextIndex[2]: 243  matchIndex[2]: 242
term 35 leader 1 sendAppendEntries PrevLogIndex: 242  PrevLogTerm: 33 leaderCommit: 241 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:241 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:241 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37624 term 35 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 35 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
flag 30471 term 35 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 35 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243}]
------------------------------------------------------
flag 75525 term 35 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 35 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
flag 50228 term 35 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 35 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243}]
------------------------------------------------------
flag 21559 term 35 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 35 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
flag 65165 term 35 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 35 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86865 term 35 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 35 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
flag 43769 term 35 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 35 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243}]
------------------------------------------------------
flag 26847 term 35 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 35 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
flag 15674 term 35 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 35 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243}]
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243}]
------------------------------------------------------
flag 35219 term 35 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 35 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
flag 36222 term 35 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 35 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
term 35 server 0 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=244
update matchIndex[0]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243}]
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 89645 term 35 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 35 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
flag 85309 term 35 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 35 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
flag 30573 term 35 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 35 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
flag 49421 term 35 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 35 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
flag 66685 term 35 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 35 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
flag 30979 term 35 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 35 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
flag 51312 term 35 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 35 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
flag 15788 term 35 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 35 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 vote for server 0
term 36 server 0 get vote from server 2
term 36 server 0 become leader
------------------------------------------------------
flag 45580 term 36 leader 0 nextIndex[1]: 244  matchIndex[1]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
flag 59626 term 36 leader 0 nextIndex[2]: 244  matchIndex[2]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=244
update matchIndex[2]=243
update leader CommitIndex=243
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243}]
------------------------------------------------------
client write log 2154498546059315196 (index 244) to leader 0
flag 21528 term 35 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 35 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
flag 63934 term 35 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 35 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
flag 27400 term 36 leader 0 nextIndex[1]: 244  matchIndex[1]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
flag 73578 term 36 leader 0 nextIndex[2]: 244  matchIndex[2]: 243
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:243 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244}]
------------------------------------------------------
flag 80486 term 35 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 35 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
flag 60344 term 35 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 35 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
flag 4834 term 36 leader 0 nextIndex[1]: 244  matchIndex[1]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
flag 23470 term 36 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=245
update matchIndex[2]=244
update leader CommitIndex=244
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244}]
------------------------------------------------------
client write log 93473244289739147 (index 245) to leader 0
flag 19731 term 35 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 35 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
flag 67956 term 35 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 35 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
flag 52944 term 36 leader 0 nextIndex[1]: 244  matchIndex[1]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 244 
------------------------------------------------------
flag 19407 term 36 leader 0 nextIndex[2]: 245  matchIndex[2]: 244
term 36 leader 0 sendAppendEntries PrevLogIndex: 244  PrevLogTerm: 36 leaderCommit: 244 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
flag 86215 term 35 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 35 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
flag 39119 term 35 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 35 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
flag 46518 term 36 leader 0 nextIndex[1]: 244  matchIndex[1]: 0
term 36 leader 0 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 245 
------------------------------------------------------
flag 49602 term 36 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
!!!!!!connect server 1
client write log 4960959849120051393 (index 244) to leader 1
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 244->243
------------------------------------------------------
flag 39006 term 35 leader 1 nextIndex[0]: 244  matchIndex[0]: 243
term 35 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
flag 16171 term 35 leader 1 nextIndex[2]: 244  matchIndex[2]: 243
term 35 leader 1 sendAppendEntries PrevLogIndex: 243  PrevLogTerm: 35 leaderCommit: 243 
------------------------------------------------------
term 36 server 2 AppendEntries false 领导者任期过期 args.Term 35
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 36 server 0 AppendEntries false 领导者任期过期 args.Term 35
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 36 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 33
------------------------------------------------------
flag 83838 term 36 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 1 InstallSnapshot fail
rf.commitIndex 243 args.LastIncludedIndex 239
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 240 matchIndex[1] 239 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
flag 58185 term 36 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 36 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 33 leaderCommit: 245 
------------------------------------------------------
flag 40385 term 36 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:244 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49051 term 36 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 31267 term 36 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
flag 82793 term 36 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 32487 term 36 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
flag 88497 term 36 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 62816 term 36 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
flag 71547 term 36 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 56108 term 36 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
flag 72218 term 36 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 20221 term 36 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
flag 92062 term 36 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 63710 term 36 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
flag 75503 term 36 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 50608 term 36 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 246->245
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 0  matchIndex[1]: 245
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 239  LastIncludedTerm: 33
------------------------------------------------------
flag 32879 term 36 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:245 
term 36 server 1 InstallSnapshot fail
rf.commitIndex 245 args.LastIncludedIndex 239
------------------------------------------------------
------------------------------------------------------
term 36 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 240 matchIndex[1] 239 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
flag 37668 term 36 leader 0 nextIndex[1]: 240  matchIndex[1]: 239
term 36 leader 0 sendAppendEntries PrevLogIndex: 239  PrevLogTerm: 33 leaderCommit: 245 
------------------------------------------------------
flag 60510 term 36 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30196 term 36 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 98337 term 36 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
flag 671 term 36 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 76877 term 36 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
flag 41946 term 36 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 73546 term 36 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:245 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
flag 46162 term 36 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 96412 term 36 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
flag 21897 term 36 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 28320 term 36 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49944 term 36 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 11798 term 36 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
flag 85712 term 36 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 58096 term 36 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
flag 71528 term 36 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 50583 term 36 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=246
update matchIndex[2]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=246
update matchIndex[1]=245
update leader CommitIndex=245
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245}]
------------------------------------------------------
client write log 4960959849120051393 (index 246) to leader 0
flag 22466 term 36 leader 0 nextIndex[1]: 246  matchIndex[1]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
flag 89301 term 36 leader 0 nextIndex[2]: 246  matchIndex[2]: 245
term 36 leader 0 sendAppendEntries PrevLogIndex: 245  PrevLogTerm: 36 leaderCommit: 245 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245} {4960959849120051393 36 246}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:245 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245} {4960959849120051393 36 246}]
------------------------------------------------------
flag 24918 term 36 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 36 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 82604 term 36 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 36 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245} {4960959849120051393 36 246}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245} {4960959849120051393 36 246}]
------------------------------------------------------
flag 92942 term 36 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 36 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 58626 term 36 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 36 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245} {4960959849120051393 36 246}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245} {4960959849120051393 36 246}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98311 term 36 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 36 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 1708 term 36 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 36 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245} {4960959849120051393 36 246}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245} {4960959849120051393 36 246}]
------------------------------------------------------
flag 5468 term 36 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 36 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 46472 term 36 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 36 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245} {4960959849120051393 36 246}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245} {4960959849120051393 36 246}]
------------------------------------------------------
flag 3929 term 36 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 36 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 19783 term 36 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 36 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245} {4960959849120051393 36 246}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245} {4960959849120051393 36 246}]
------------------------------------------------------
flag 52270 term 36 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 36 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 49455 term 36 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 36 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=247
update matchIndex[2]=246
update leader CommitIndex=246
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245} {4960959849120051393 36 246}]
------------------------------------------------------
term 36 server 1 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=247
update matchIndex[1]=246
update leader CommitIndex=246
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245} {4960959849120051393 36 246}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2210479559328924648 (index 247) to leader 0
flag 44966 term 36 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 36 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
flag 45298 term 36 leader 0 nextIndex[2]: 247  matchIndex[2]: 246
term 36 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 246 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:246 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245} {4960959849120051393 36 246} {2210479559328924648 36 247}]
------------------------------------------------------
flag 41641 term 36 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 36 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
flag 75175 term 36 leader 0 nextIndex[2]: 248  matchIndex[2]: 247
term 36 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=248
update matchIndex[2]=247
update leader CommitIndex=247
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245} {4960959849120051393 36 246} {2210479559328924648 36 247}]
------------------------------------------------------
client write log 5666190714869749285 (index 248) to leader 0
client write log 8653041540878894107 (index 249) to leader 0
client write log 8640589949727647605 (index 250) to leader 0
client write log 3327362592736104419 (index 251) to leader 0
client write log 3724234249729871278 (index 252) to leader 0
client write log 2196482150584771069 (index 253) to leader 0
client write log 8651545943680022348 (index 254) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77381 term 36 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 36 leader 0 sendAppendEntries PrevLogIndex: 246  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
flag 8179 term 36 leader 0 nextIndex[2]: 248  matchIndex[2]: 247
term 36 leader 0 sendAppendEntries PrevLogIndex: 247  PrevLogTerm: 36 leaderCommit: 247 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:247 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 33 239} {7509933096556732638 33 240} {4179956502985962362 33 241} {7711220677945250830 33 242} {7711220677945250830 35 243} {2154498546059315196 36 244} {93473244289739147 36 245} {4960959849120051393 36 246} {2210479559328924648 36 247} {5666190714869749285 36 248} {8653041540878894107 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254}]
------------------------------------------------------
term 36 Server0 start snapshot! index=249
term 36 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=254
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 36 leader 0 nextIndex[1]: 247  matchIndex[1]: 246
term 36 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
flag 86675 term 36 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 36 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
term 36 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254}]
------------------------------------------------------
term 36 Server2 start snapshot! index=249
term 36 server2 snapshot success
lastIncludedIndex=249 lastApplied=250 lastIndex=254
-------------------------------------------------------------
!!!!!!connect server 1
client write log 1924057026969223447 (index 255) to leader 0
term 36 server 2 not vote for server 1, 日志不够新
term 36 server 0 not vote for server 1, 日志不够新
term 38 server 2 vote for server 0
term 38 server 1 vote for server 0
term 38 server 0 get vote from server 2
term 38 server 0 become leader
------------------------------------------------------
term 38 server 0 get outdate rpc reply from server 1
flag 41459 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
flag 87965 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
term 38 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 256->255
------------------------------------------------------
term 38 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 256->255
------------------------------------------------------
term 38 leader 0 nextIndex[1]: 247  matchIndex[1]: 0
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 36
------------------------------------------------------
flag 84040 term 38 leader 0 nextIndex[2]: 255  matchIndex[2]: 0
term 38 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
term 38 server 1 InstallSnapshot success
------------------------------------------------------
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 36 rf.commitIndex 249 rf.lastApplied 249
term 38 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
flag 28134 term 38 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 38 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
flag 1503 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
flag 77294 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
flag 26781 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
flag 34004 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
flag 62559 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
flag 7261 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
flag 60592 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
flag 47233 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
flag 90195 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8369 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
flag 87902 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
flag 96033 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
flag 43211 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98743 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
flag 69095 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
flag 94940 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
flag 20035 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31212 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
flag 20732 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93507 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
flag 75086 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42746 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
flag 4701 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
flag 96894 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
flag 45298 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
flag 22224 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
flag 96475 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57615 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
flag 49279 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
flag 63439 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
flag 14620 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
flag 88217 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
flag 84479 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
term 38 server 1 not vote for server 0, 任期不够新
term 38 server 0 get outdate rpc reply from server 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26559 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
flag 97378 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=256
update matchIndex[1]=255
update leader CommitIndex=254
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255}]
------------------------------------------------------
client write log 1924057026969223447 (index 256) to leader 0
flag 92647 term 38 leader 0 nextIndex[1]: 256  matchIndex[1]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
flag 88627 term 38 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 38 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 36 leaderCommit: 254 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255} {1924057026969223447 38 256}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255} {1924057026969223447 38 256}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37336 term 38 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
flag 19240 term 38 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255} {1924057026969223447 38 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255} {1924057026969223447 38 256}]
------------------------------------------------------
flag 25150 term 38 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
flag 54890 term 38 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255} {1924057026969223447 38 256}]
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255} {1924057026969223447 38 256}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 71027 term 38 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
flag 54204 term 38 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255} {1924057026969223447 38 256}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255} {1924057026969223447 38 256}]
------------------------------------------------------
flag 97858 term 38 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
flag 42979 term 38 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255} {1924057026969223447 38 256}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255} {1924057026969223447 38 256}]
------------------------------------------------------
flag 43680 term 38 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
flag 53778 term 38 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 38 server 1 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=257
update matchIndex[1]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255} {1924057026969223447 38 256}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=257
update matchIndex[2]=256
update leader CommitIndex=256
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255} {1924057026969223447 38 256}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3991046995166967353 (index 257) to leader 0
flag 6853 term 38 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
flag 61438 term 38 leader 0 nextIndex[2]: 257  matchIndex[2]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 256 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:256 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255} {1924057026969223447 38 256} {3991046995166967353 38 257}]
------------------------------------------------------
flag 60236 term 38 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
flag 64393 term 38 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 38 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=258
update matchIndex[2]=257
update leader CommitIndex=257
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255} {1924057026969223447 38 256} {3991046995166967353 38 257}]
------------------------------------------------------
client write log 6307290056989002090 (index 258) to leader 0
client write log 2292077445694684742 (index 259) to leader 0
client write log 7928337651336358450 (index 260) to leader 0
client write log 1390186404872438744 (index 261) to leader 0
client write log 302623738563372546 (index 262) to leader 0
client write log 1867130790295124433 (index 263) to leader 0
client write log 7329415270842661210 (index 264) to leader 0
client write log 4013218123352991508 (index 265) to leader 0
client write log 6523152533296543120 (index 266) to leader 0
client write log 5423131649470164129 (index 267) to leader 0
client write log 302750039072038385 (index 268) to leader 0
client write log 1986095104717640 (index 269) to leader 0
client write log 787315956656618666 (index 270) to leader 0
client write log 4267506257131944397 (index 271) to leader 0
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41264 term 38 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 38 leader 0 sendAppendEntries PrevLogIndex: 256  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
flag 5444 term 38 leader 0 nextIndex[2]: 258  matchIndex[2]: 257
term 38 leader 0 sendAppendEntries PrevLogIndex: 257  PrevLogTerm: 38 leaderCommit: 257 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:257 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 36 249} {8640589949727647605 36 250} {3327362592736104419 36 251} {3724234249729871278 36 252} {2196482150584771069 36 253} {8651545943680022348 36 254} {1924057026969223447 36 255} {1924057026969223447 38 256} {3991046995166967353 38 257} {6307290056989002090 38 258} {2292077445694684742 38 259} {7928337651336358450 38 260} {1390186404872438744 38 261} {302623738563372546 38 262} {1867130790295124433 38 263} {7329415270842661210 38 264} {4013218123352991508 38 265} {6523152533296543120 38 266} {5423131649470164129 38 267} {302750039072038385 38 268} {1986095104717640 38 269} {787315956656618666 38 270} {4267506257131944397 38 271}]
------------------------------------------------------
term 38 Server0 start snapshot! index=259
term 38 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=271
-------------------------------------------------------------
term 38 Server0 start snapshot! index=269
term 38 server0 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=271
-------------------------------------------------------------
term 38 leader 0 nextIndex[1]: 257  matchIndex[1]: 256
term 38 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 38
------------------------------------------------------
flag 44110 term 38 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 38 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271}]
------------------------------------------------------
term 38 Server2 start snapshot! index=259
term 38 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=271
-------------------------------------------------------------
term 38 Server2 start snapshot! index=269
term 38 server2 snapshot success
lastIncludedIndex=269 lastApplied=269 lastIndex=271
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7300861496632082607 (index 272) to leader 0
term 38 server 2 not vote for server 1, 日志不够新
term 38 server 0 not vote for server 1, 日志不够新
term 40 server 2 vote for server 0
term 40 server 0 get vote from server 2
term 40 server 1 vote for server 0
term 40 server 0 become leader
------------------------------------------------------
term 40 server 0 get outdate rpc reply from server 1
flag 20296 term 40 leader 0 nextIndex[1]: 273  matchIndex[1]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
flag 69926 term 40 leader 0 nextIndex[2]: 273  matchIndex[2]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
term 40 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 273->272
------------------------------------------------------
term 40 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 273->272
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 40 leader 0 nextIndex[1]: 257  matchIndex[1]: 0
term 40 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 38
------------------------------------------------------
flag 55865 term 40 leader 0 nextIndex[2]: 272  matchIndex[2]: 0
term 40 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
term 40 server 1 InstallSnapshot success
------------------------------------------------------
term 40 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 270 matchIndex[1] 269 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 269 rf.lastIncludedTerm 38 rf.commitIndex 269 rf.lastApplied 269
term 40 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79197 term 40 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 40 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
flag 77803 term 40 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:269 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
flag 86448 term 40 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
flag 6511 term 40 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
flag 68618 term 40 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
flag 41135 term 40 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
flag 74177 term 40 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
flag 5470 term 40 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
flag 76828 term 40 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
flag 8315 term 40 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96201 term 40 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
flag 39018 term 40 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
flag 5935 term 40 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
flag 21656 term 40 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
flag 61342 term 40 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
flag 86748 term 40 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
flag 82318 term 40 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
flag 39603 term 40 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
flag 54016 term 40 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
flag 86261 term 40 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
flag 31208 term 40 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
flag 24154 term 40 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
flag 25083 term 40 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
flag 11742 term 40 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69521 term 40 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
flag 32092 term 40 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
flag 545 term 40 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
flag 13708 term 40 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
flag 28816 term 40 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
flag 5204 term 40 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
flag 37606 term 40 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
flag 497 term 40 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32795 term 40 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
flag 12258 term 40 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=273
update matchIndex[2]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=273
update matchIndex[1]=272
update leader CommitIndex=271
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272}]
------------------------------------------------------
client write log 7300861496632082607 (index 273) to leader 0
flag 19547 term 40 leader 0 nextIndex[1]: 273  matchIndex[1]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
flag 84688 term 40 leader 0 nextIndex[2]: 273  matchIndex[2]: 272
term 40 leader 0 sendAppendEntries PrevLogIndex: 272  PrevLogTerm: 38 leaderCommit: 271 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272} {7300861496632082607 40 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272} {7300861496632082607 40 273}]
------------------------------------------------------
flag 9022 term 40 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 40 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
flag 83530 term 40 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 40 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272} {7300861496632082607 40 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272} {7300861496632082607 40 273}]
------------------------------------------------------
flag 6884 term 40 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 40 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
flag 84903 term 40 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 40 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272} {7300861496632082607 40 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272} {7300861496632082607 40 273}]
------------------------------------------------------
flag 57102 term 40 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 40 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
flag 92184 term 40 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 40 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272} {7300861496632082607 40 273}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272} {7300861496632082607 40 273}]
------------------------------------------------------
flag 69428 term 40 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 40 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
flag 61829 term 40 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 40 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272} {7300861496632082607 40 273}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272} {7300861496632082607 40 273}]
------------------------------------------------------
flag 25802 term 40 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 40 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
flag 24158 term 40 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 40 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272} {7300861496632082607 40 273}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272} {7300861496632082607 40 273}]
------------------------------------------------------
flag 51971 term 40 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 40 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
flag 44698 term 40 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 40 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272} {7300861496632082607 40 273}]
------------------------------------------------------
term 40 server 1 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=274
update matchIndex[1]=273
update leader CommitIndex=273
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272} {7300861496632082607 40 273}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 34286 term 40 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 40 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
flag 96318 term 40 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 40 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
flag 71693 term 40 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 40 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
flag 75754 term 40 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 40 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
flag 86230 term 40 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 40 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
flag 31812 term 40 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 40 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
term 41 server 2 vote for server 1
term 41 server 1 get vote from server 2
term 41 server 1 become leader
------------------------------------------------------
flag 60162 term 40 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 40 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
flag 66404 term 40 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 40 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
flag 9864 term 41 leader 1 nextIndex[0]: 274  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
flag 37073 term 41 leader 1 nextIndex[2]: 274  matchIndex[2]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=274
update matchIndex[2]=273
update leader CommitIndex=273
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272} {7300861496632082607 40 273}]
------------------------------------------------------
client write log 1454554968766030053 (index 274) to leader 1
flag 10301 term 40 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 40 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
flag 57866 term 40 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 40 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
flag 6751 term 41 leader 1 nextIndex[0]: 274  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
flag 8890 term 41 leader 1 nextIndex[2]: 274  matchIndex[2]: 273
term 41 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:273 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272} {7300861496632082607 40 273} {1454554968766030053 41 274}]
------------------------------------------------------
flag 5720 term 40 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 40 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
flag 17035 term 40 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 40 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
flag 2240 term 41 leader 1 nextIndex[0]: 274  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
flag 94619 term 41 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 41 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=275
update matchIndex[2]=274
update leader CommitIndex=274
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272} {7300861496632082607 40 273} {1454554968766030053 41 274}]
------------------------------------------------------
client write log 5458807704082378142 (index 275) to leader 1
client write log 2053440510877147605 (index 276) to leader 1
client write log 3129801218622410220 (index 277) to leader 1
client write log 7708126599472444873 (index 278) to leader 1
client write log 7556376343494500682 (index 279) to leader 1
client write log 4460619060009103648 (index 280) to leader 1
flag 79935 term 40 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 40 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
flag 17066 term 40 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 40 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
flag 93555 term 41 leader 1 nextIndex[0]: 274  matchIndex[0]: 0
term 41 leader 1 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 274 
------------------------------------------------------
flag 55225 term 41 leader 1 nextIndex[2]: 275  matchIndex[2]: 274
term 41 leader 1 sendAppendEntries PrevLogIndex: 274  PrevLogTerm: 41 leaderCommit: 274 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:274 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 38 269} {787315956656618666 38 270} {4267506257131944397 38 271} {7300861496632082607 38 272} {7300861496632082607 40 273} {1454554968766030053 41 274} {5458807704082378142 41 275} {2053440510877147605 41 276} {3129801218622410220 41 277} {7708126599472444873 41 278} {7556376343494500682 41 279} {4460619060009103648 41 280}]
------------------------------------------------------
term 41 Server1 start snapshot! index=279
term 41 server1 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=280
-------------------------------------------------------------
flag 98569 term 40 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 40 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
flag 13364 term 40 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 40 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
term 41 leader 1 nextIndex[0]: 274  matchIndex[0]: 0
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 41
------------------------------------------------------
flag 51204 term 41 leader 1 nextIndex[2]: 281  matchIndex[2]: 280
term 41 leader 1 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=281
update matchIndex[2]=280
update leader CommitIndex=280
leader log:
[{snapshot 41 279} {4460619060009103648 41 280}]
------------------------------------------------------
term 41 Server2 start snapshot! index=279
term 41 server2 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=280
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7008657723185093468 (index 281) to leader 1
flag 65305 term 40 leader 0 nextIndex[1]: 274  matchIndex[1]: 273
term 40 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
flag 77526 term 40 leader 0 nextIndex[2]: 274  matchIndex[2]: 273
term 40 leader 0 sendAppendEntries PrevLogIndex: 273  PrevLogTerm: 40 leaderCommit: 273 
------------------------------------------------------
term 41 server 2 AppendEntries false 领导者任期过期 args.Term 40
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 41 server 1 AppendEntries false 领导者任期过期 args.Term 40
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 41 leader 1 nextIndex[0]: 274  matchIndex[0]: 0
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 41
------------------------------------------------------
flag 31064 term 41 leader 1 nextIndex[2]: 281  matchIndex[2]: 280
term 41 leader 1 sendAppendEntries PrevLogIndex: 280  PrevLogTerm: 41 leaderCommit: 280 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:280 
------------------------------------------------------
term 41 server 0 InstallSnapshot success
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 41 279} {4460619060009103648 41 280} {7008657723185093468 41 281}]
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 41 rf.commitIndex 279 rf.lastApplied 279
term 41 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 280 matchIndex[0] 279 
------------------------------------------------------------------------
term 41 server 0 not vote for server 1, 日志不够新
term 41 server 1 get outdate rpc reply from server 0
flag 73225 term 41 leader 1 nextIndex[0]: 280  matchIndex[0]: 279
term 41 leader 1 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 41 leaderCommit: 281 
------------------------------------------------------
flag 71374 term 41 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 41 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 281 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 41 279} {4460619060009103648 41 280} {7008657723185093468 41 281}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 41 279} {4460619060009103648 41 280} {7008657723185093468 41 281}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 26162 term 41 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 41 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 281 
------------------------------------------------------
flag 90330 term 41 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 41 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 281 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 41 279} {4460619060009103648 41 280} {7008657723185093468 41 281}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 41 279} {4460619060009103648 41 280} {7008657723185093468 41 281}]
------------------------------------------------------
flag 32977 term 41 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 41 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 281 
------------------------------------------------------
flag 19081 term 41 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 41 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 281 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 41 279} {4460619060009103648 41 280} {7008657723185093468 41 281}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 41 279} {4460619060009103648 41 280} {7008657723185093468 41 281}]
------------------------------------------------------
flag 32107 term 41 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 41 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 281 
------------------------------------------------------
flag 67487 term 41 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 41 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 281 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 41 279} {4460619060009103648 41 280} {7008657723185093468 41 281}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 41 279} {4460619060009103648 41 280} {7008657723185093468 41 281}]
------------------------------------------------------
flag 59717 term 41 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 41 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 281 
------------------------------------------------------
flag 6554 term 41 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 41 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 281 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 41 279} {4460619060009103648 41 280} {7008657723185093468 41 281}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 41 279} {4460619060009103648 41 280} {7008657723185093468 41 281}]
------------------------------------------------------
flag 47504 term 41 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 41 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 281 
------------------------------------------------------
flag 10685 term 41 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 41 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 281 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 41 279} {4460619060009103648 41 280} {7008657723185093468 41 281}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 41 279} {4460619060009103648 41 280} {7008657723185093468 41 281}]
------------------------------------------------------
flag 22616 term 41 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 41 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 281 
------------------------------------------------------
flag 69440 term 41 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 41 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 281 
------------------------------------------------------
term 41 server 2 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=282
update matchIndex[2]=281
update leader CommitIndex=281
leader log:
[{snapshot 41 279} {4460619060009103648 41 280} {7008657723185093468 41 281}]
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=282
update matchIndex[0]=281
update leader CommitIndex=281
leader log:
[{snapshot 41 279} {4460619060009103648 41 280} {7008657723185093468 41 281}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 7437146588354529948 (index 282) to leader 1
flag 14093 term 41 leader 1 nextIndex[0]: 282  matchIndex[0]: 281
term 41 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 281 
------------------------------------------------------
flag 41325 term 41 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 41 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 281 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:281 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 41 279} {4460619060009103648 41 280} {7008657723185093468 41 281} {7437146588354529948 41 282}]
------------------------------------------------------
flag 93413 term 41 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 41 leaderCommit: 282 
------------------------------------------------------
flag 55165 term 41 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 41 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 282 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=283
update matchIndex[0]=282
update leader CommitIndex=282
leader log:
[{snapshot 41 279} {4460619060009103648 41 280} {7008657723185093468 41 281} {7437146588354529948 41 282}]
------------------------------------------------------
client write log 297680860439653786 (index 283) to leader 1
client write log 6448869461832336097 (index 284) to leader 1
client write log 99432720800830321 (index 285) to leader 1
client write log 6728930340095195419 (index 286) to leader 1
client write log 7263470807224595965 (index 287) to leader 1
client write log 2553872383899465710 (index 288) to leader 1
client write log 8887921740057336143 (index 289) to leader 1
client write log 734642861141501607 (index 290) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85606 term 41 leader 1 nextIndex[0]: 283  matchIndex[0]: 282
term 41 leader 1 sendAppendEntries PrevLogIndex: 282  PrevLogTerm: 41 leaderCommit: 282 
------------------------------------------------------
flag 64250 term 41 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 41 leader 1 sendAppendEntries PrevLogIndex: 281  PrevLogTerm: 41 leaderCommit: 282 
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:282 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 279} {4460619060009103648 41 280} {7008657723185093468 41 281} {7437146588354529948 41 282} {297680860439653786 41 283} {6448869461832336097 41 284} {99432720800830321 41 285} {6728930340095195419 41 286} {7263470807224595965 41 287} {2553872383899465710 41 288} {8887921740057336143 41 289} {734642861141501607 41 290}]
------------------------------------------------------
term 41 Server1 start snapshot! index=289
term 41 server1 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=290
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72348 term 41 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 41 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=291
update matchIndex[0]=290
update leader CommitIndex=290
leader log:
[{snapshot 41 289} {734642861141501607 41 290}]
------------------------------------------------------
term 41 Server0 start snapshot! index=289
term 41 server0 snapshot success
lastIncludedIndex=289 lastApplied=290 lastIndex=290
-------------------------------------------------------------
!!!!!!connect server 2
client write log 8131482483618881258 (index 291) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86390 term 41 leader 1 nextIndex[0]: 291  matchIndex[0]: 290
term 41 leader 1 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 41 leaderCommit: 290 
------------------------------------------------------
term 41 leader 1 nextIndex[2]: 282  matchIndex[2]: 281
term 41 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
term 41 server 0 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {734642861141501607 41 290} {8131482483618881258 41 291}]
------------------------------------------------------
term 42 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 41 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 43 server 2 vote for server 1
term 43 server 1 get vote from server 2
term 43 server 1 become leader
------------------------------------------------------
term 43 server 0 vote for server 1
term 43 server 1 get outdate rpc reply from server 0
flag 48737 term 43 leader 1 nextIndex[0]: 292  matchIndex[0]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
flag 37944 term 43 leader 1 nextIndex[2]: 292  matchIndex[2]: 0
term 43 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
term 43 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 292->291
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {734642861141501607 41 290} {8131482483618881258 41 291}]
------------------------------------------------------
flag 19307 term 43 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 43 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 282  matchIndex[2]: 0
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 41
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {734642861141501607 41 290} {8131482483618881258 41 291}]
------------------------------------------------------
term 43 server 2 InstallSnapshot success
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 290 matchIndex[2] 289 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 289 rf.lastIncludedTerm 41 rf.commitIndex 289 rf.lastApplied 289
flag 4910 term 43 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 43 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
flag 95374 term 43 leader 1 nextIndex[2]: 290  matchIndex[2]: 289
term 43 leader 1 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {734642861141501607 41 290} {8131482483618881258 41 291}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {734642861141501607 41 290} {8131482483618881258 41 291}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11122 term 43 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 43 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
flag 26129 term 43 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 43 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {734642861141501607 41 290} {8131482483618881258 41 291}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {734642861141501607 41 290} {8131482483618881258 41 291}]
------------------------------------------------------
flag 41475 term 43 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 43 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
flag 28517 term 43 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 43 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {734642861141501607 41 290} {8131482483618881258 41 291}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {734642861141501607 41 290} {8131482483618881258 41 291}]
------------------------------------------------------
flag 72596 term 43 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 43 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
flag 80569 term 43 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 43 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {734642861141501607 41 290} {8131482483618881258 41 291}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {734642861141501607 41 290} {8131482483618881258 41 291}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 5161 term 43 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 43 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
flag 33885 term 43 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 43 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {734642861141501607 41 290} {8131482483618881258 41 291}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {734642861141501607 41 290} {8131482483618881258 41 291}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93838 term 43 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 43 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
flag 81237 term 43 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 43 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {734642861141501607 41 290} {8131482483618881258 41 291}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {734642861141501607 41 290} {8131482483618881258 41 291}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50107 term 43 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 43 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
flag 9315 term 43 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 43 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=292
update matchIndex[2]=291
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {734642861141501607 41 290} {8131482483618881258 41 291}]
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=292
update matchIndex[0]=291
update leader CommitIndex=291
leader log:
[{snapshot 41 289} {734642861141501607 41 290} {8131482483618881258 41 291}]
------------------------------------------------------
term 43 server 0 not vote for server 2, 任期不够新
term 43 server 2 get outdate rpc reply from server 0
!!!!!!diconnect server 2
client write log 6579952595955234501 (index 292) to leader 1
flag 1392 term 43 leader 1 nextIndex[0]: 292  matchIndex[0]: 291
term 43 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
flag 40623 term 43 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 43 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 41 leaderCommit: 291 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:291 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {734642861141501607 41 290} {8131482483618881258 41 291} {6579952595955234501 43 292}]
------------------------------------------------------
flag 906 term 43 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 43 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 292 
------------------------------------------------------
flag 60534 term 43 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 43 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=293
update matchIndex[0]=292
update leader CommitIndex=292
leader log:
[{snapshot 41 289} {734642861141501607 41 290} {8131482483618881258 41 291} {6579952595955234501 43 292}]
------------------------------------------------------
client write log 4130962564012680679 (index 293) to leader 1
client write log 3852396030654975225 (index 294) to leader 1
client write log 7167879793893509294 (index 295) to leader 1
client write log 7155902790464254723 (index 296) to leader 1
client write log 847447935528154802 (index 297) to leader 1
client write log 9211640093341160397 (index 298) to leader 1
client write log 8738569021088795344 (index 299) to leader 1
client write log 957258784292967247 (index 300) to leader 1
client write log 8214946818508072050 (index 301) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62664 term 43 leader 1 nextIndex[0]: 293  matchIndex[0]: 292
term 43 leader 1 sendAppendEntries PrevLogIndex: 292  PrevLogTerm: 43 leaderCommit: 292 
------------------------------------------------------
flag 77929 term 43 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 43 leader 1 sendAppendEntries PrevLogIndex: 291  PrevLogTerm: 41 leaderCommit: 292 
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:292 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 41 289} {734642861141501607 41 290} {8131482483618881258 41 291} {6579952595955234501 43 292} {4130962564012680679 43 293} {3852396030654975225 43 294} {7167879793893509294 43 295} {7155902790464254723 43 296} {847447935528154802 43 297} {9211640093341160397 43 298} {8738569021088795344 43 299} {957258784292967247 43 300} {8214946818508072050 43 301}]
------------------------------------------------------
term 43 Server1 start snapshot! index=299
term 43 server1 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=301
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49222 term 43 leader 1 nextIndex[0]: 302  matchIndex[0]: 301
term 43 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 43 leader 1 nextIndex[2]: 292  matchIndex[2]: 291
term 43 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 43
------------------------------------------------------
term 43 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=302
update matchIndex[0]=301
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301}]
------------------------------------------------------
term 43 Server0 start snapshot! index=299
term 43 server0 snapshot success
lastIncludedIndex=299 lastApplied=300 lastIndex=301
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1595729325857032686 (index 302) to leader 1
term 43 server 1 not vote for server 2, 日志不够新
term 43 server 0 not vote for server 2, 日志不够新
term 45 server 2 vote for server 1
term 45 server 1 get vote from server 2
term 45 server 0 vote for server 1
term 45 server 1 become leader
------------------------------------------------------
term 45 server 1 get outdate rpc reply from server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60204 term 45 leader 1 nextIndex[0]: 303  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 79518 term 45 leader 1 nextIndex[2]: 303  matchIndex[2]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 45 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 303->302
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 303->302
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20132 term 45 leader 1 nextIndex[0]: 302  matchIndex[0]: 0
term 45 leader 1 sendAppendEntries PrevLogIndex: 301  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 292  matchIndex[2]: 0
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 43
------------------------------------------------------
term 45 server 2 InstallSnapshot success
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 300 matchIndex[2] 299 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 299 rf.lastIncludedTerm 43 rf.commitIndex 299 rf.lastApplied 299
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
flag 3166 term 45 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 9934 term 45 leader 1 nextIndex[2]: 300  matchIndex[2]: 299
term 45 leader 1 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
flag 15314 term 45 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 31305 term 45 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
flag 25889 term 45 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 55524 term 45 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 79471 term 45 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 15516 term 45 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
term 45 server 1 not vote for server 2, 任期不够新
term 45 server 2 get outdate rpc reply from server 1
flag 34274 term 45 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 60842 term 45 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
flag 69305 term 45 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 8641 term 45 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17051 term 45 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 66499 term 45 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
flag 93174 term 45 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 84174 term 45 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
flag 16075 term 45 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 28400 term 45 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
flag 41121 term 45 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 76434 term 45 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
flag 44771 term 45 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 31467 term 45 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17430 term 45 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 54049 term 45 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
flag 84106 term 45 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 54520 term 45 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
flag 12602 term 45 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 75870 term 45 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
flag 10045 term 45 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 63209 term 45 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 86310 term 45 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 79007 term 45 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
flag 38024 term 45 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 85496 term 45 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
flag 43046 term 45 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 17160 term 45 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=303
update matchIndex[2]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
client write log 1595729325857032686 (index 303) to leader 1
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=303
update matchIndex[0]=302
update leader CommitIndex=301
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302} {1595729325857032686 45 303}]
------------------------------------------------------
flag 26514 term 45 leader 1 nextIndex[0]: 303  matchIndex[0]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
flag 54571 term 45 leader 1 nextIndex[2]: 303  matchIndex[2]: 302
term 45 leader 1 sendAppendEntries PrevLogIndex: 302  PrevLogTerm: 43 leaderCommit: 301 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302} {1595729325857032686 45 303}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:301 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302} {1595729325857032686 45 303}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92777 term 45 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 45 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
flag 65196 term 45 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 45 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
term 45 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302} {1595729325857032686 45 303}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302} {1595729325857032686 45 303}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22946 term 45 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 45 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
flag 72727 term 45 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 45 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302} {1595729325857032686 45 303}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302} {1595729325857032686 45 303}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 60439 term 45 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 45 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
flag 37118 term 45 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 45 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302} {1595729325857032686 45 303}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302} {1595729325857032686 45 303}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61457 term 45 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 45 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
flag 50055 term 45 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 45 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
update leader CommitIndex=303
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302} {1595729325857032686 45 303}]
------------------------------------------------------
term 45 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302} {1595729325857032686 45 303}]
------------------------------------------------------
flag 80156 term 45 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 45 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
flag 42499 term 45 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 45 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=304
update matchIndex[2]=303
term 45 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
update leader CommitIndex=303
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302} {1595729325857032686 45 303}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302} {1595729325857032686 45 303}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 98597 term 45 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 45 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
flag 58110 term 45 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 45 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67957 term 45 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 45 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
flag 45186 term 45 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 45 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37069 term 45 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 45 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
flag 96787 term 45 leader 1 nextIndex[2]: 304  matchIndex[2]: 303
term 45 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 304->303
------------------------------------------------------
flag 77682 term 45 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 45 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 0  matchIndex[2]: 303
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 43
------------------------------------------------------
term 46 server 0 vote for server 2
term 46 server 2 get vote from server 0
term 46 server 2 become leader
------------------------------------------------------
flag 90038 term 46 leader 2 nextIndex[0]: 304  matchIndex[0]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
flag 78246 term 46 leader 2 nextIndex[1]: 304  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=304
update matchIndex[0]=303
update leader CommitIndex=303
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302} {1595729325857032686 45 303}]
------------------------------------------------------
client write log 7476814701609916082 (index 304) to leader 2
flag 66405 term 45 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 45 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 0  matchIndex[2]: 303
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 43
------------------------------------------------------
flag 80839 term 46 leader 2 nextIndex[0]: 304  matchIndex[0]: 303
term 46 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
flag 77750 term 46 leader 2 nextIndex[1]: 304  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:303 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302} {1595729325857032686 45 303} {7476814701609916082 46 304}]
------------------------------------------------------
term 45 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 25448 term 45 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 45 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 0  matchIndex[2]: 303
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 43
------------------------------------------------------
flag 26037 term 46 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 46 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 46 leaderCommit: 304 
------------------------------------------------------
flag 33918 term 46 leader 2 nextIndex[1]: 304  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=305
update matchIndex[0]=304
update leader CommitIndex=304
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302} {1595729325857032686 45 303} {7476814701609916082 46 304}]
------------------------------------------------------
client write log 4484827563756201087 (index 305) to leader 2
client write log 1512471612521190979 (index 306) to leader 2
client write log 2413586385567643481 (index 307) to leader 2
client write log 5619239797876128299 (index 308) to leader 2
client write log 5479359938339817143 (index 309) to leader 2
client write log 7578475258461340457 (index 310) to leader 2
client write log 6267907106144764901 (index 311) to leader 2
flag 19882 term 45 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 45 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 0  matchIndex[2]: 303
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 43
------------------------------------------------------
flag 63655 term 46 leader 2 nextIndex[0]: 305  matchIndex[0]: 304
term 46 leader 2 sendAppendEntries PrevLogIndex: 304  PrevLogTerm: 46 leaderCommit: 304 
------------------------------------------------------
flag 42789 term 46 leader 2 nextIndex[1]: 304  matchIndex[1]: 0
term 46 leader 2 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 304 
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:304 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 43 299} {957258784292967247 43 300} {8214946818508072050 43 301} {1595729325857032686 43 302} {1595729325857032686 45 303} {7476814701609916082 46 304} {4484827563756201087 46 305} {1512471612521190979 46 306} {2413586385567643481 46 307} {5619239797876128299 46 308} {5479359938339817143 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
term 46 Server2 start snapshot! index=309
term 46 server2 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=311
-------------------------------------------------------------
flag 97002 term 45 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 45 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 0  matchIndex[2]: 303
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 43
------------------------------------------------------
flag 4272 term 46 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 46 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 304  matchIndex[1]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
term 46 Server0 start snapshot! index=309
term 46 server0 snapshot success
lastIncludedIndex=309 lastApplied=310 lastIndex=311
-------------------------------------------------------------
!!!!!!connect server 1
client write log 917467413392244106 (index 304) to leader 1
flag 50448 term 45 leader 1 nextIndex[0]: 304  matchIndex[0]: 303
term 45 leader 1 sendAppendEntries PrevLogIndex: 303  PrevLogTerm: 45 leaderCommit: 303 
------------------------------------------------------
term 45 leader 1 nextIndex[2]: 0  matchIndex[2]: 303
term 45 leader 1 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 43
------------------------------------------------------
term 46 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 45 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 46 server 0 AppendEntries false 领导者任期过期 args.Term 45
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 61109 term 46 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 46 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
term 46 leader 2 nextIndex[1]: 304  matchIndex[1]: 0
term 46 leader 2 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 46
------------------------------------------------------
term 46 server 1 InstallSnapshot success
------------------------------------------------------
term 46 leader 2 -> server 1 sendInstallSnapshot success
nextIndex[1] 310 matchIndex[1] 309 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 46 rf.commitIndex 309 rf.lastApplied 309
term 46 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
term 46 server 2 not vote for server 1, 日志不够新
term 46 server 0 not vote for server 1, 日志不够新
term 48 server 1 vote for server 2
term 48 server 0 vote for server 2
term 48 server 2 get vote from server 1
term 48 server 2 become leader
------------------------------------------------------
term 48 server 2 get outdate rpc reply from server 0
flag 26934 term 48 leader 2 nextIndex[0]: 312  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
flag 76210 term 48 leader 2 nextIndex[1]: 312  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
term 48 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 312->311
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32192 term 48 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
flag 42227 term 48 leader 2 nextIndex[1]: 310  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
flag 92276 term 48 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
flag 87059 term 48 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 55838 term 48 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
flag 90815 term 48 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
flag 36390 term 48 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
flag 24795 term 48 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
flag 82593 term 48 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
flag 94603 term 48 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 29577 term 48 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
flag 3472 term 48 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
flag 26112 term 48 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
flag 84734 term 48 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
flag 86773 term 48 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
flag 1485 term 48 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:311 
term 48 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19670 term 48 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
flag 13673 term 48 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
flag 59582 term 48 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
flag 10198 term 48 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
flag 4192 term 48 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
flag 88881 term 48 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68567 term 48 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
flag 68875 term 48 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
flag 15659 term 48 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
flag 38370 term 48 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
flag 80000 term 48 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
flag 94820 term 48 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
flag 60616 term 48 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
flag 62776 term 48 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
flag 80172 term 48 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
flag 57278 term 48 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
flag 6103 term 48 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
flag 38325 term 48 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
term 48 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 50017 term 48 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
flag 57509 term 48 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=312
update matchIndex[1]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=312
update matchIndex[0]=311
update leader CommitIndex=311
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311}]
------------------------------------------------------
client write log 917467413392244106 (index 312) to leader 2
flag 9405 term 48 leader 2 nextIndex[0]: 312  matchIndex[0]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
flag 79630 term 48 leader 2 nextIndex[1]: 312  matchIndex[1]: 311
term 48 leader 2 sendAppendEntries PrevLogIndex: 311  PrevLogTerm: 46 leaderCommit: 311 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311} {917467413392244106 48 312}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:311 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311} {917467413392244106 48 312}]
------------------------------------------------------
flag 26229 term 48 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 48 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 60866 term 48 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 48 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311} {917467413392244106 48 312}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311} {917467413392244106 48 312}]
------------------------------------------------------
flag 26318 term 48 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 48 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 54954 term 48 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 48 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311} {917467413392244106 48 312}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311} {917467413392244106 48 312}]
------------------------------------------------------
flag 8818 term 48 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 48 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 50206 term 48 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 48 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311} {917467413392244106 48 312}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311} {917467413392244106 48 312}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27311 term 48 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 48 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 74456 term 48 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 48 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311} {917467413392244106 48 312}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311} {917467413392244106 48 312}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40969 term 48 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 48 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 83168 term 48 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 48 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311} {917467413392244106 48 312}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311} {917467413392244106 48 312}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 66323 term 48 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 48 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 31156 term 48 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 48 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:312 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=313
update matchIndex[0]=312
update leader CommitIndex=312
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311} {917467413392244106 48 312}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=313
update matchIndex[1]=312
update leader CommitIndex=312
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311} {917467413392244106 48 312}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 5481039510126640337 (index 313) to leader 2
flag 59096 term 48 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 48 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
flag 93507 term 48 leader 2 nextIndex[1]: 313  matchIndex[1]: 312
term 48 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 312 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:312 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311} {917467413392244106 48 312} {5481039510126640337 48 313}]
------------------------------------------------------
flag 79066 term 48 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 48 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 313 
------------------------------------------------------
flag 78368 term 48 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 48 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 313 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=314
update matchIndex[1]=313
update leader CommitIndex=313
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311} {917467413392244106 48 312} {5481039510126640337 48 313}]
------------------------------------------------------
client write log 4726651456943012645 (index 314) to leader 2
client write log 283018851293705411 (index 315) to leader 2
client write log 1559914744087805201 (index 316) to leader 2
client write log 5216902284503470579 (index 317) to leader 2
client write log 7231246099008904728 (index 318) to leader 2
client write log 662802207263800586 (index 319) to leader 2
client write log 6828795034617775628 (index 320) to leader 2
client write log 7657793362370152129 (index 321) to leader 2
flag 77940 term 48 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 48 leader 2 sendAppendEntries PrevLogIndex: 312  PrevLogTerm: 48 leaderCommit: 313 
------------------------------------------------------
flag 69059 term 48 leader 2 nextIndex[1]: 314  matchIndex[1]: 313
term 48 leader 2 sendAppendEntries PrevLogIndex: 313  PrevLogTerm: 48 leaderCommit: 313 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:313 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 46 309} {7578475258461340457 46 310} {6267907106144764901 46 311} {917467413392244106 48 312} {5481039510126640337 48 313} {4726651456943012645 48 314} {283018851293705411 48 315} {1559914744087805201 48 316} {5216902284503470579 48 317} {7231246099008904728 48 318} {662802207263800586 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321}]
------------------------------------------------------
term 48 Server2 start snapshot! index=319
term 48 server2 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=321
-------------------------------------------------------------
term 48 leader 2 nextIndex[0]: 313  matchIndex[0]: 312
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 48
------------------------------------------------------
flag 66287 term 48 leader 2 nextIndex[1]: 322  matchIndex[1]: 321
term 48 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=322
update matchIndex[1]=321
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321}]
------------------------------------------------------
term 48 Server1 start snapshot! index=319
term 48 server1 snapshot success
lastIncludedIndex=319 lastApplied=319 lastIndex=321
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6577800033385982210 (index 322) to leader 2
term 48 server 2 not vote for server 0, 日志不够新
term 48 server 1 not vote for server 0, 日志不够新
term 50 server 1 vote for server 2
term 50 server 2 get vote from server 1
term 50 server 2 become leader
------------------------------------------------------
term 50 server 0 vote for server 2
term 50 server 2 get outdate rpc reply from server 0
flag 18470 term 50 leader 2 nextIndex[0]: 323  matchIndex[0]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 13799 term 50 leader 2 nextIndex[1]: 323  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 50 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 50 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 323->322
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 323->322
------------------------------------------------------
term 50 leader 2 nextIndex[0]: 313  matchIndex[0]: 0
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 48
------------------------------------------------------
flag 54100 term 50 leader 2 nextIndex[1]: 322  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 321  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
term 50 server 0 InstallSnapshot success
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 320 matchIndex[0] 319 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 48 rf.commitIndex 319 rf.lastApplied 319
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63388 term 50 leader 2 nextIndex[0]: 320  matchIndex[0]: 319
term 50 leader 2 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 88293 term 50 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
flag 24784 term 50 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 93704 term 50 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
flag 54943 term 50 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 91794 term 50 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
flag 27418 term 50 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 15073 term 50 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 57420 term 50 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 97416 term 50 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=321
leader log:
term 50 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
term 50 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 49327 term 50 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 15805 term 50 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
flag 67775 term 50 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 66093 term 50 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
flag 63548 term 50 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 66574 term 50 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
flag 77867 term 50 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 62242 term 50 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 4720 term 50 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 89149 term 50 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
flag 47834 term 50 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 44589 term 50 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
flag 15077 term 50 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 41312 term 50 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 82893 term 50 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 11954 term 50 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54882 term 50 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 21303 term 50 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
flag 30412 term 50 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 68051 term 50 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
flag 47025 term 50 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 4959 term 50 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=321
term 50 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
flag 3382 term 50 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 87617 term 50 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=323
update matchIndex[1]=322
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=323
update matchIndex[0]=322
update leader CommitIndex=321
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 6577800033385982210 (index 323) to leader 2
flag 70368 term 50 leader 2 nextIndex[0]: 323  matchIndex[0]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
flag 41905 term 50 leader 2 nextIndex[1]: 323  matchIndex[1]: 322
term 50 leader 2 sendAppendEntries PrevLogIndex: 322  PrevLogTerm: 48 leaderCommit: 321 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:321 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:321 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322} {6577800033385982210 50 323}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322} {6577800033385982210 50 323}]
------------------------------------------------------
flag 46227 term 50 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 50 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 50 leaderCommit: 323 
------------------------------------------------------
flag 68428 term 50 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 50 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 50 leaderCommit: 323 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322} {6577800033385982210 50 323}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322} {6577800033385982210 50 323}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13410 term 50 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 50 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 50 leaderCommit: 323 
------------------------------------------------------
flag 87628 term 50 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 50 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 50 leaderCommit: 323 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322} {6577800033385982210 50 323}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322} {6577800033385982210 50 323}]
------------------------------------------------------
flag 3716 term 50 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 50 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 50 leaderCommit: 323 
------------------------------------------------------
flag 53519 term 50 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 50 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 50 leaderCommit: 323 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322} {6577800033385982210 50 323}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322} {6577800033385982210 50 323}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98575 term 50 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 50 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 50 leaderCommit: 323 
------------------------------------------------------
flag 78911 term 50 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 50 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 50 leaderCommit: 323 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322} {6577800033385982210 50 323}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322} {6577800033385982210 50 323}]
------------------------------------------------------
flag 44587 term 50 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 50 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 50 leaderCommit: 323 
------------------------------------------------------
flag 56438 term 50 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 50 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 50 leaderCommit: 323 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=324
update matchIndex[0]=323
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322} {6577800033385982210 50 323}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=324
update matchIndex[1]=323
update leader CommitIndex=323
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322} {6577800033385982210 50 323}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6186049597447058209 (index 324) to leader 2
flag 4532 term 50 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 50 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 50 leaderCommit: 323 
------------------------------------------------------
flag 97112 term 50 leader 2 nextIndex[1]: 324  matchIndex[1]: 323
term 50 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 50 leaderCommit: 323 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:323 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322} {6577800033385982210 50 323} {6186049597447058209 50 324}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 8854 term 50 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 50 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 50 leaderCommit: 324 
------------------------------------------------------
flag 82687 term 50 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 50 leaderCommit: 324 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=325
update matchIndex[1]=324
update leader CommitIndex=324
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322} {6577800033385982210 50 323} {6186049597447058209 50 324}]
------------------------------------------------------
client write log 8358344487952004298 (index 325) to leader 2
client write log 3012316972518518083 (index 326) to leader 2
client write log 5866587879774428896 (index 327) to leader 2
client write log 1605669133771793866 (index 328) to leader 2
client write log 3860830017473705162 (index 329) to leader 2
client write log 8045562046408184259 (index 330) to leader 2
client write log 8037548121421681223 (index 331) to leader 2
client write log 8747957856332867019 (index 332) to leader 2
flag 69281 term 50 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 50 leader 2 sendAppendEntries PrevLogIndex: 323  PrevLogTerm: 50 leaderCommit: 324 
------------------------------------------------------
flag 96463 term 50 leader 2 nextIndex[1]: 325  matchIndex[1]: 324
term 50 leader 2 sendAppendEntries PrevLogIndex: 324  PrevLogTerm: 50 leaderCommit: 324 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:324 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 48 319} {6828795034617775628 48 320} {7657793362370152129 48 321} {6577800033385982210 48 322} {6577800033385982210 50 323} {6186049597447058209 50 324} {8358344487952004298 50 325} {3012316972518518083 50 326} {5866587879774428896 50 327} {1605669133771793866 50 328} {3860830017473705162 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332}]
------------------------------------------------------
term 50 Server2 start snapshot! index=329
term 50 server2 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=332
-------------------------------------------------------------
term 50 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 50
------------------------------------------------------
flag 2561 term 50 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 50 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=333
update matchIndex[1]=332
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332}]
------------------------------------------------------
term 50 Server1 start snapshot! index=329
term 50 server1 snapshot success
lastIncludedIndex=329 lastApplied=330 lastIndex=332
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1241493360139889368 (index 333) to leader 2
term 50 leader 2 nextIndex[0]: 324  matchIndex[0]: 323
term 50 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 50
------------------------------------------------------
flag 21189 term 50 leader 2 nextIndex[1]: 333  matchIndex[1]: 332
term 50 leader 2 sendAppendEntries PrevLogIndex: 332  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
term 51 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 server 1 vote for server 2
term 52 server 0 vote for server 2
term 52 server 2 get vote from server 1
term 52 server 2 become leader
------------------------------------------------------
term 52 server 2 get outdate rpc reply from server 0
flag 12485 term 52 leader 2 nextIndex[0]: 334  matchIndex[0]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
flag 86891 term 52 leader 2 nextIndex[1]: 334  matchIndex[1]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
term 52 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 334->333
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
term 52 leader 2 nextIndex[0]: 324  matchIndex[0]: 0
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 329  LastIncludedTerm: 50
------------------------------------------------------
flag 98625 term 52 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
term 52 server 0 InstallSnapshot success
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
term 52 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 330 matchIndex[0] 329 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 329 rf.lastIncludedTerm 50 rf.commitIndex 329 rf.lastApplied 329
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
flag 93246 term 52 leader 2 nextIndex[0]: 330  matchIndex[0]: 329
term 52 leader 2 sendAppendEntries PrevLogIndex: 329  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
flag 833 term 52 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:329 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
term 52 server 1 not vote for server 2, 任期不够新
term 52 server 2 get outdate rpc reply from server 1
flag 36846 term 52 leader 2 nextIndex[0]: 334  matchIndex[0]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
flag 74891 term 52 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
flag 81122 term 52 leader 2 nextIndex[0]: 334  matchIndex[0]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
flag 2174 term 52 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
flag 63134 term 52 leader 2 nextIndex[0]: 334  matchIndex[0]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
flag 40592 term 52 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82774 term 52 leader 2 nextIndex[0]: 334  matchIndex[0]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
flag 8584 term 52 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
flag 66663 term 52 leader 2 nextIndex[0]: 334  matchIndex[0]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
flag 52862 term 52 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
flag 26033 term 52 leader 2 nextIndex[0]: 334  matchIndex[0]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
flag 92007 term 52 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
flag 38108 term 52 leader 2 nextIndex[0]: 334  matchIndex[0]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
flag 2245 term 52 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
flag 45123 term 52 leader 2 nextIndex[0]: 334  matchIndex[0]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
flag 17669 term 52 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
flag 1399 term 52 leader 2 nextIndex[0]: 334  matchIndex[0]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
flag 28021 term 52 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
flag 16880 term 52 leader 2 nextIndex[0]: 334  matchIndex[0]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
flag 93873 term 52 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
flag 38210 term 52 leader 2 nextIndex[0]: 334  matchIndex[0]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
flag 70174 term 52 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
flag 982 term 52 leader 2 nextIndex[0]: 334  matchIndex[0]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
flag 82767 term 52 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
flag 14440 term 52 leader 2 nextIndex[0]: 334  matchIndex[0]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
flag 96721 term 52 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
flag 42324 term 52 leader 2 nextIndex[0]: 334  matchIndex[0]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
flag 4082 term 52 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
flag 85393 term 52 leader 2 nextIndex[0]: 334  matchIndex[0]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
flag 68957 term 52 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69257 term 52 leader 2 nextIndex[0]: 334  matchIndex[0]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
flag 42654 term 52 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=334
update matchIndex[0]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=334
update matchIndex[1]=333
update leader CommitIndex=332
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333}]
------------------------------------------------------
client write log 1241493360139889368 (index 334) to leader 2
flag 36711 term 52 leader 2 nextIndex[0]: 334  matchIndex[0]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
flag 3559 term 52 leader 2 nextIndex[1]: 334  matchIndex[1]: 333
term 52 leader 2 sendAppendEntries PrevLogIndex: 333  PrevLogTerm: 50 leaderCommit: 332 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333} {1241493360139889368 52 334}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:332 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333} {1241493360139889368 52 334}]
------------------------------------------------------
flag 67827 term 52 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 52 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 52 leaderCommit: 334 
------------------------------------------------------
flag 55581 term 52 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 52 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 52 leaderCommit: 334 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333} {1241493360139889368 52 334}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333} {1241493360139889368 52 334}]
------------------------------------------------------
flag 23420 term 52 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 52 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 52 leaderCommit: 334 
------------------------------------------------------
flag 8872 term 52 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 52 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 52 leaderCommit: 334 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333} {1241493360139889368 52 334}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333} {1241493360139889368 52 334}]
------------------------------------------------------
flag 43602 term 52 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 52 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 52 leaderCommit: 334 
------------------------------------------------------
flag 57537 term 52 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 52 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 52 leaderCommit: 334 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333} {1241493360139889368 52 334}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333} {1241493360139889368 52 334}]
------------------------------------------------------
flag 33705 term 52 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 52 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 52 leaderCommit: 334 
------------------------------------------------------
flag 74162 term 52 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 52 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 52 leaderCommit: 334 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333} {1241493360139889368 52 334}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333} {1241493360139889368 52 334}]
------------------------------------------------------
flag 38907 term 52 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 52 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 52 leaderCommit: 334 
------------------------------------------------------
flag 74304 term 52 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 52 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 52 leaderCommit: 334 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333} {1241493360139889368 52 334}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=335
update matchIndex[0]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333} {1241493360139889368 52 334}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 13546 term 52 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 52 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 52 leaderCommit: 334 
------------------------------------------------------
flag 25772 term 52 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 52 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 52 leaderCommit: 334 
------------------------------------------------------
flag 53554 term 52 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 52 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 52 leaderCommit: 334 
------------------------------------------------------
flag 86127 term 52 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 52 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 52 leaderCommit: 334 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43801 term 52 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 52 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 52 leaderCommit: 334 
------------------------------------------------------
flag 20705 term 52 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 52 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 52 leaderCommit: 334 
------------------------------------------------------
term 53 server 1 vote for server 0
term 53 server 0 get vote from server 1
term 53 server 0 become leader
------------------------------------------------------
flag 5196 term 53 leader 0 nextIndex[1]: 335  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 52 leaderCommit: 334 
------------------------------------------------------
flag 88946 term 53 leader 0 nextIndex[2]: 335  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 52 leaderCommit: 334 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=335
update matchIndex[1]=334
update leader CommitIndex=334
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333} {1241493360139889368 52 334}]
------------------------------------------------------
client write log 5846211554154376966 (index 335) to leader 0
flag 33100 term 52 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 52 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 52 leaderCommit: 334 
------------------------------------------------------
flag 54170 term 52 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 52 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 52 leaderCommit: 334 
------------------------------------------------------
flag 27313 term 53 leader 0 nextIndex[1]: 335  matchIndex[1]: 334
term 53 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 52 leaderCommit: 334 
------------------------------------------------------
flag 52604 term 53 leader 0 nextIndex[2]: 335  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 52 leaderCommit: 334 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:334 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333} {1241493360139889368 52 334} {5846211554154376966 53 335}]
------------------------------------------------------
flag 74118 term 52 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 52 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 52 leaderCommit: 334 
------------------------------------------------------
flag 11826 term 52 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 52 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 52 leaderCommit: 334 
------------------------------------------------------
flag 85729 term 53 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 53 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 53 leaderCommit: 335 
------------------------------------------------------
flag 63876 term 53 leader 0 nextIndex[2]: 335  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 52 leaderCommit: 335 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=336
update matchIndex[1]=335
update leader CommitIndex=335
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333} {1241493360139889368 52 334} {5846211554154376966 53 335}]
------------------------------------------------------
client write log 2508441129212650667 (index 336) to leader 0
client write log 407803597380746166 (index 337) to leader 0
client write log 5257222342201138870 (index 338) to leader 0
client write log 2188423390158152303 (index 339) to leader 0
client write log 8049283520037935457 (index 340) to leader 0
client write log 3450451204611501151 (index 341) to leader 0
client write log 2652502423698125493 (index 342) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16806 term 52 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 52 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 52 leaderCommit: 334 
------------------------------------------------------
flag 71358 term 52 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 52 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 52 leaderCommit: 334 
------------------------------------------------------
flag 11823 term 53 leader 0 nextIndex[1]: 336  matchIndex[1]: 335
term 53 leader 0 sendAppendEntries PrevLogIndex: 335  PrevLogTerm: 53 leaderCommit: 335 
------------------------------------------------------
flag 66594 term 53 leader 0 nextIndex[2]: 335  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 52 leaderCommit: 335 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:335 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 50 329} {8045562046408184259 50 330} {8037548121421681223 50 331} {8747957856332867019 50 332} {1241493360139889368 50 333} {1241493360139889368 52 334} {5846211554154376966 53 335} {2508441129212650667 53 336} {407803597380746166 53 337} {5257222342201138870 53 338} {2188423390158152303 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
term 53 Server0 start snapshot! index=339
term 53 server0 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=342
-------------------------------------------------------------
flag 12122 term 52 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 52 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 52 leaderCommit: 334 
------------------------------------------------------
flag 63526 term 52 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 52 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 52 leaderCommit: 334 
------------------------------------------------------
flag 14796 term 53 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
term 53 leader 0 nextIndex[2]: 335  matchIndex[2]: 0
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
term 53 Server1 start snapshot! index=339
term 53 server1 snapshot success
lastIncludedIndex=339 lastApplied=339 lastIndex=342
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2827834105153440421 (index 335) to leader 2
flag 9355 term 52 leader 2 nextIndex[0]: 335  matchIndex[0]: 334
term 52 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 52 leaderCommit: 334 
------------------------------------------------------
flag 73201 term 52 leader 2 nextIndex[1]: 335  matchIndex[1]: 334
term 52 leader 2 sendAppendEntries PrevLogIndex: 334  PrevLogTerm: 52 leaderCommit: 334 
------------------------------------------------------
term 53 server 0 AppendEntries false 领导者任期过期 args.Term 52
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false 任期过期
------------------------------------------------------
term 53 server 1 AppendEntries false 领导者任期过期 args.Term 52
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22995 term 53 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
term 53 leader 0 nextIndex[2]: 335  matchIndex[2]: 0
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 2 InstallSnapshot success
------------------------------------------------------
term 53 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 340 matchIndex[2] 339 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 339 rf.lastIncludedTerm 53 rf.commitIndex 339 rf.lastApplied 339
term 53 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
term 53 server 2 not vote for server 0, 任期不够新
term 53 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16768 term 53 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
flag 22651 term 53 leader 0 nextIndex[2]: 340  matchIndex[2]: 339
term 53 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:339 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
flag 59249 term 53 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
flag 43162 term 53 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
flag 71559 term 53 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
flag 697 term 53 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
flag 37710 term 53 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
flag 5286 term 53 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
flag 42033 term 53 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
flag 31179 term 53 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 343->342
------------------------------------------------------
flag 8249 term 53 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
term 53 leader 0 nextIndex[2]: 0  matchIndex[2]: 342
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 339  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 2 InstallSnapshot fail
rf.commitIndex 342 args.LastIncludedIndex 339
------------------------------------------------------
term 53 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 340 matchIndex[2] 339 
------------------------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
flag 62344 term 53 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
flag 26100 term 53 leader 0 nextIndex[2]: 340  matchIndex[2]: 339
term 53 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 72856 term 53 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
flag 52988 term 53 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
flag 80352 term 53 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
flag 35287 term 53 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
term 53 server 2 not vote for server 0, 日志不够新
term 53 server 0 get outdate rpc reply from server 2
flag 61233 term 53 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
flag 52804 term 53 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
flag 87022 term 53 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
flag 32152 term 53 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
term 53 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
term 53 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 340 matchIndex[2] 339 
------------------------------------------------------------------------
flag 84752 term 53 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
flag 9347 term 53 leader 0 nextIndex[2]: 340  matchIndex[2]: 339
term 53 leader 0 sendAppendEntries PrevLogIndex: 339  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 78417 term 53 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
flag 50951 term 53 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
term 53 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
term 53 server 1 not vote for server 0, 任期不够新
term 53 server 0 get outdate rpc reply from server 1
flag 48030 term 53 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
flag 90338 term 53 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
flag 13710 term 53 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
flag 38359 term 53 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85048 term 53 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
flag 81713 term 53 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
flag 8269 term 53 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
flag 61080 term 53 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
flag 39358 term 53 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
flag 27333 term 53 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
flag 22546 term 53 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
flag 86479 term 53 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=343
term 53 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
update matchIndex[2]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=343
update matchIndex[1]=342
update leader CommitIndex=342
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342}]
------------------------------------------------------
client write log 2827834105153440421 (index 343) to leader 0
flag 7947 term 53 leader 0 nextIndex[1]: 343  matchIndex[1]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
flag 93029 term 53 leader 0 nextIndex[2]: 343  matchIndex[2]: 342
term 53 leader 0 sendAppendEntries PrevLogIndex: 342  PrevLogTerm: 53 leaderCommit: 342 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342} {2827834105153440421 53 343}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:342 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342} {2827834105153440421 53 343}]
------------------------------------------------------
flag 78624 term 53 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 53 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 53 leaderCommit: 343 
------------------------------------------------------
flag 22798 term 53 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 53 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 53 leaderCommit: 343 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342} {2827834105153440421 53 343}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342} {2827834105153440421 53 343}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 98197 term 53 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 53 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 53 leaderCommit: 343 
------------------------------------------------------
flag 71868 term 53 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 53 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 53 leaderCommit: 343 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342} {2827834105153440421 53 343}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342} {2827834105153440421 53 343}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 12354 term 53 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 53 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 53 leaderCommit: 343 
------------------------------------------------------
flag 41755 term 53 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 53 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 53 leaderCommit: 343 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342} {2827834105153440421 53 343}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342} {2827834105153440421 53 343}]
------------------------------------------------------
flag 58653 term 53 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 53 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 53 leaderCommit: 343 
------------------------------------------------------
flag 99121 term 53 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 53 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 53 leaderCommit: 343 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342} {2827834105153440421 53 343}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342} {2827834105153440421 53 343}]
------------------------------------------------------
flag 81762 term 53 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 53 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 53 leaderCommit: 343 
------------------------------------------------------
flag 45564 term 53 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 53 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 53 leaderCommit: 343 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342} {2827834105153440421 53 343}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342} {2827834105153440421 53 343}]
------------------------------------------------------
flag 26895 term 53 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 53 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 53 leaderCommit: 343 
------------------------------------------------------
flag 46369 term 53 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 53 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 53 leaderCommit: 343 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=344
update matchIndex[2]=343
update leader CommitIndex=343
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342} {2827834105153440421 53 343}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=344
update matchIndex[1]=343
update leader CommitIndex=343
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342} {2827834105153440421 53 343}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2559298715688344508 (index 344) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 91278 term 53 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 53 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 53 leaderCommit: 343 
------------------------------------------------------
flag 11630 term 53 leader 0 nextIndex[2]: 344  matchIndex[2]: 343
term 53 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 53 leaderCommit: 343 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:343 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342} {2827834105153440421 53 343} {2559298715688344508 53 344}]
------------------------------------------------------
flag 53793 term 53 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 53 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
flag 60417 term 53 leader 0 nextIndex[2]: 345  matchIndex[2]: 344
term 53 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=345
update matchIndex[2]=344
update leader CommitIndex=344
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342} {2827834105153440421 53 343} {2559298715688344508 53 344}]
------------------------------------------------------
client write log 2570499400590435641 (index 345) to leader 0
client write log 8007609887513439504 (index 346) to leader 0
client write log 1286578004483422513 (index 347) to leader 0
client write log 4028815985870695073 (index 348) to leader 0
client write log 6909516670468070288 (index 349) to leader 0
client write log 7668112212476723005 (index 350) to leader 0
client write log 5116809229513774214 (index 351) to leader 0
client write log 3649929865129445514 (index 352) to leader 0
flag 87265 term 53 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 53 leader 0 sendAppendEntries PrevLogIndex: 343  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
flag 15860 term 53 leader 0 nextIndex[2]: 345  matchIndex[2]: 344
term 53 leader 0 sendAppendEntries PrevLogIndex: 344  PrevLogTerm: 53 leaderCommit: 344 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:344 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=353
update matchIndex[2]=352
update leader CommitIndex=352
leader log:
[{snapshot 53 339} {8049283520037935457 53 340} {3450451204611501151 53 341} {2652502423698125493 53 342} {2827834105153440421 53 343} {2559298715688344508 53 344} {2570499400590435641 53 345} {8007609887513439504 53 346} {1286578004483422513 53 347} {4028815985870695073 53 348} {6909516670468070288 53 349} {7668112212476723005 53 350} {5116809229513774214 53 351} {3649929865129445514 53 352}]
------------------------------------------------------
term 53 Server0 start snapshot! index=349
term 53 server0 snapshot success
lastIncludedIndex=349 lastApplied=350 lastIndex=352
-------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 353->352
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 53
------------------------------------------------------
term 53 leader 0 nextIndex[2]: 0  matchIndex[2]: 352
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 349 rf.lastIncludedTerm 53 rf.commitIndex 349 rf.lastApplied 349
term 53 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 350 matchIndex[2] 349 
------------------------------------------------------------------------
term 53 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 53
------------------------------------------------------
flag 66146 term 53 leader 0 nextIndex[2]: 350  matchIndex[2]: 349
term 53 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 53 leaderCommit: 352 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=353
update matchIndex[2]=352
update leader CommitIndex=352
leader log:
[{snapshot 53 349} {7668112212476723005 53 350} {5116809229513774214 53 351} {3649929865129445514 53 352}]
------------------------------------------------------
!!!!!!connect server 1
client write log 2878379667599970769 (index 353) to leader 0
term 53 leader 0 nextIndex[1]: 344  matchIndex[1]: 343
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 53
------------------------------------------------------
flag 70513 term 53 leader 0 nextIndex[2]: 353  matchIndex[2]: 352
term 53 leader 0 sendAppendEntries PrevLogIndex: 352  PrevLogTerm: 53 leaderCommit: 352 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:352 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 53 349} {7668112212476723005 53 350} {5116809229513774214 53 351} {3649929865129445514 53 352} {2878379667599970769 53 353}]
------------------------------------------------------
term 54 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 55 server 2 vote for server 0
term 55 server 1 vote for server 0
term 55 server 0 get vote from server 2
term 55 server 0 become leader
------------------------------------------------------
term 55 server 0 get outdate rpc reply from server 1
flag 8794 term 55 leader 0 nextIndex[1]: 354  matchIndex[1]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 53 leaderCommit: 353 
------------------------------------------------------
flag 51482 term 55 leader 0 nextIndex[2]: 354  matchIndex[2]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 53 leaderCommit: 353 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 53 349} {7668112212476723005 53 350} {5116809229513774214 53 351} {3649929865129445514 53 352} {2878379667599970769 53 353}]
------------------------------------------------------
term 55 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 354->353
------------------------------------------------------
term 55 leader 0 nextIndex[1]: 344  matchIndex[1]: 0
term 55 leader 0 sendInstallSnapshot LastIncludedIndex: 349  LastIncludedTerm: 53
------------------------------------------------------
flag 28730 term 55 leader 0 nextIndex[2]: 354  matchIndex[2]: 353
term 55 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 53 leaderCommit: 353 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 53 349} {7668112212476723005 53 350} {5116809229513774214 53 351} {3649929865129445514 53 352} {2878379667599970769 53 353}]
------------------------------------------------------
term 55 server 1 InstallSnapshot success
------------------------------------------------------
term 55 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 350 matchIndex[1] 349 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 349 rf.lastIncludedTerm 53 rf.commitIndex 349 rf.lastApplied 349
flag 88230 term 55 leader 0 nextIndex[1]: 350  matchIndex[1]: 349
term 55 leader 0 sendAppendEntries PrevLogIndex: 349  PrevLogTerm: 53 leaderCommit: 353 
------------------------------------------------------
flag 57642 term 55 leader 0 nextIndex[2]: 354  matchIndex[2]: 353
term 55 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 53 leaderCommit: 353 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
term 55 server 1 AppendEntries true commitIndex:349 
------------------------------------------------------
[{snapshot 53 349} {7668112212476723005 53 350} {5116809229513774214 53 351} {3649929865129445514 53 352} {2878379667599970769 53 353}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 53 349} {7668112212476723005 53 350} {5116809229513774214 53 351} {3649929865129445514 53 352} {2878379667599970769 53 353}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 55 server 0 not vote for server 1, 任期不够新
term 55 server 1 get outdate rpc reply from server 0
flag 83760 term 55 leader 0 nextIndex[1]: 354  matchIndex[1]: 353
term 55 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 53 leaderCommit: 353 
------------------------------------------------------
flag 6125 term 55 leader 0 nextIndex[2]: 354  matchIndex[2]: 353
term 55 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 53 leaderCommit: 353 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 53 349} {7668112212476723005 53 350} {5116809229513774214 53 351} {3649929865129445514 53 352} {2878379667599970769 53 353}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 53 349} {7668112212476723005 53 350} {5116809229513774214 53 351} {3649929865129445514 53 352} {2878379667599970769 53 353}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 22508 term 55 leader 0 nextIndex[1]: 354  matchIndex[1]: 353
term 55 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 53 leaderCommit: 353 
------------------------------------------------------
flag 38330 term 55 leader 0 nextIndex[2]: 354  matchIndex[2]: 353
term 55 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 53 leaderCommit: 353 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 53 349} {7668112212476723005 53 350} {5116809229513774214 53 351} {3649929865129445514 53 352} {2878379667599970769 53 353}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 53 349} {7668112212476723005 53 350} {5116809229513774214 53 351} {3649929865129445514 53 352} {2878379667599970769 53 353}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58826 term 55 leader 0 nextIndex[1]: 354  matchIndex[1]: 353
term 55 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 53 leaderCommit: 353 
------------------------------------------------------
flag 94148 term 55 leader 0 nextIndex[2]: 354  matchIndex[2]: 353
term 55 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 53 leaderCommit: 353 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 53 349} {7668112212476723005 53 350} {5116809229513774214 53 351} {3649929865129445514 53 352} {2878379667599970769 53 353}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 53 349} {7668112212476723005 53 350} {5116809229513774214 53 351} {3649929865129445514 53 352} {2878379667599970769 53 353}]
------------------------------------------------------
flag 74630 term 55 leader 0 nextIndex[1]: 354  matchIndex[1]: 353
term 55 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 53 leaderCommit: 353 
------------------------------------------------------
flag 80913 term 55 leader 0 nextIndex[2]: 354  matchIndex[2]: 353
term 55 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 53 leaderCommit: 353 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 53 349} {7668112212476723005 53 350} {5116809229513774214 53 351} {3649929865129445514 53 352} {2878379667599970769 53 353}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 53 349} {7668112212476723005 53 350} {5116809229513774214 53 351} {3649929865129445514 53 352} {2878379667599970769 53 353}]
------------------------------------------------------
flag 95000 term 55 leader 0 nextIndex[1]: 354  matchIndex[1]: 353
term 55 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 53 leaderCommit: 353 
------------------------------------------------------
flag 71568 term 55 leader 0 nextIndex[2]: 354  matchIndex[2]: 353
term 55 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 53 leaderCommit: 353 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 53 349} {7668112212476723005 53 350} {5116809229513774214 53 351} {3649929865129445514 53 352} {2878379667599970769 53 353}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 53 349} {7668112212476723005 53 350} {5116809229513774214 53 351} {3649929865129445514 53 352} {2878379667599970769 53 353}]
------------------------------------------------------
flag 41230 term 55 leader 0 nextIndex[1]: 354  matchIndex[1]: 353
term 55 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 53 leaderCommit: 353 
------------------------------------------------------
flag 70102 term 55 leader 0 nextIndex[2]: 354  matchIndex[2]: 353
term 55 leader 0 sendAppendEntries PrevLogIndex: 353  PrevLogTerm: 53 leaderCommit: 353 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:353 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:353 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=354
update matchIndex[2]=353
update leader CommitIndex=353
leader log:
[{snapshot 53 349} {7668112212476723005 53 350} {5116809229513774214 53 351} {3649929865129445514 53 352} {2878379667599970769 53 353}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=354
update matchIndex[1]=353
update leader CommitIndex=353
leader log:
[{snapshot 53 349} {7668112212476723005 53 350} {5116809229513774214 53 351} {3649929865129445514 53 352} {2878379667599970769 53 353}]
------------------------------------------------------
  ... Passed --  77.7  3 1787  787268  353
--- PASS: TestSnapshotInstall2D (77.65s)
PASS
