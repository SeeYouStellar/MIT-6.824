=== RUN   TestSnapshotInstall2D
Test (2D): install snapshots (disconnect) ...
term 1 server 1 vote for server 2
term 1 server 0 vote for server 2
term 1 server 2 get vote from server 1
term 1 server 2 become leader
------------------------------------------------------
term 1 server 2 get outdate rpc reply from server 0
flag 90463 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 15512 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=1
update matchIndex[1]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=1
update matchIndex[0]=0
update leader CommitIndex=0
leader log:
[{<nil> 0 0}]
------------------------------------------------------
client write log 677749768318733372 (index 1) to leader 2
flag 55322 term 1 leader 2 nextIndex[0]: 1  matchIndex[0]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
flag 90347 term 1 leader 2 nextIndex[1]: 1  matchIndex[1]: 0
term 1 leader 2 sendAppendEntries PrevLogIndex: 0  PrevLogTerm: 0 leaderCommit: 0 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {677749768318733372 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:0 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {677749768318733372 1 1}]
------------------------------------------------------
flag 20627 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 67052 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {677749768318733372 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {677749768318733372 1 1}]
------------------------------------------------------
flag 44341 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 42687 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {677749768318733372 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {677749768318733372 1 1}]
------------------------------------------------------
flag 559 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 27805 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {677749768318733372 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {677749768318733372 1 1}]
------------------------------------------------------
flag 7579 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 9652 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {677749768318733372 1 1}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {677749768318733372 1 1}]
------------------------------------------------------
flag 39811 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 31755 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=2
update matchIndex[1]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {677749768318733372 1 1}]
------------------------------------------------------
term 1 server 0 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=2
update matchIndex[0]=1
update leader CommitIndex=1
leader log:
[{<nil> 0 0} {677749768318733372 1 1}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 8234470359700964171 (index 2) to leader 2
flag 79113 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
flag 535 term 1 leader 2 nextIndex[1]: 2  matchIndex[1]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 1 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:1 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {677749768318733372 1 1} {8234470359700964171 1 2}]
------------------------------------------------------
flag 76057 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 45856 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=3
update matchIndex[1]=2
update leader CommitIndex=2
leader log:
[{<nil> 0 0} {677749768318733372 1 1} {8234470359700964171 1 2}]
------------------------------------------------------
client write log 9188454501307152501 (index 3) to leader 2
client write log 3572730258542499022 (index 4) to leader 2
client write log 5555022277533391560 (index 5) to leader 2
client write log 4089513526945325159 (index 6) to leader 2
client write log 2685336547133506278 (index 7) to leader 2
client write log 4395780267992506266 (index 8) to leader 2
client write log 3547572350381483404 (index 9) to leader 2
client write log 6902329838294600709 (index 10) to leader 2
client write log 3782349572677719566 (index 11) to leader 2
flag 14582 term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendAppendEntries PrevLogIndex: 1  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
flag 98832 term 1 leader 2 nextIndex[1]: 3  matchIndex[1]: 2
term 1 leader 2 sendAppendEntries PrevLogIndex: 2  PrevLogTerm: 1 leaderCommit: 2 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:2 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{<nil> 0 0} {677749768318733372 1 1} {8234470359700964171 1 2} {9188454501307152501 1 3} {3572730258542499022 1 4} {5555022277533391560 1 5} {4089513526945325159 1 6} {2685336547133506278 1 7} {4395780267992506266 1 8} {3547572350381483404 1 9} {6902329838294600709 1 10} {3782349572677719566 1 11}]
------------------------------------------------------
term 1 Server2 start snapshot! index=9
term 1 server2 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=11
-------------------------------------------------------------
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 82149 term 1 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 1 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=12
update matchIndex[1]=11
update leader CommitIndex=11
leader log:
[{snapshot 1 9} {6902329838294600709 1 10} {3782349572677719566 1 11}]
------------------------------------------------------
term 1 Server1 start snapshot! index=9
term 1 server1 snapshot success
lastIncludedIndex=9 lastApplied=10 lastIndex=11
-------------------------------------------------------------
!!!!!!connect server 0
client write log 8410343914325063884 (index 12) to leader 2
term 1 leader 2 nextIndex[0]: 2  matchIndex[0]: 1
term 1 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 37790 term 1 leader 2 nextIndex[1]: 12  matchIndex[1]: 11
term 1 leader 2 sendAppendEntries PrevLogIndex: 11  PrevLogTerm: 1 leaderCommit: 11 
------------------------------------------------------
term 1 server 1 AppendEntries true commitIndex:11 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6902329838294600709 1 10} {3782349572677719566 1 11} {8410343914325063884 1 12}]
------------------------------------------------------
term 2 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 1 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 3 server 1 vote for server 2
term 3 server 2 get vote from server 1
term 3 server 0 vote for server 2
term 3 server 2 become leader
------------------------------------------------------
term 3 server 2 get outdate rpc reply from server 0
flag 46517 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 33170 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 0
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6902329838294600709 1 10} {3782349572677719566 1 11} {8410343914325063884 1 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 13->12
------------------------------------------------------
term 3 leader 2 nextIndex[0]: 2  matchIndex[0]: 0
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 42494 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 InstallSnapshot success
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6902329838294600709 1 10} {3782349572677719566 1 11} {8410343914325063884 1 12}]
------------------------------------------------------
term 3 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 10 matchIndex[0] 9 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 9 rf.lastIncludedTerm 1 rf.commitIndex 9 rf.lastApplied 9
flag 93392 term 3 leader 2 nextIndex[0]: 10  matchIndex[0]: 9
term 3 leader 2 sendAppendEntries PrevLogIndex: 9  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 23360 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6902329838294600709 1 10} {3782349572677719566 1 11} {8410343914325063884 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:9 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6902329838294600709 1 10} {3782349572677719566 1 11} {8410343914325063884 1 12}]
------------------------------------------------------
flag 60731 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 55987 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6902329838294600709 1 10} {3782349572677719566 1 11} {8410343914325063884 1 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6902329838294600709 1 10} {3782349572677719566 1 11} {8410343914325063884 1 12}]
------------------------------------------------------
flag 2340 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 71319 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6902329838294600709 1 10} {3782349572677719566 1 11} {8410343914325063884 1 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6902329838294600709 1 10} {3782349572677719566 1 11} {8410343914325063884 1 12}]
------------------------------------------------------
flag 24082 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 79544 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6902329838294600709 1 10} {3782349572677719566 1 11} {8410343914325063884 1 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6902329838294600709 1 10} {3782349572677719566 1 11} {8410343914325063884 1 12}]
------------------------------------------------------
flag 49229 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 57452 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6902329838294600709 1 10} {3782349572677719566 1 11} {8410343914325063884 1 12}]
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6902329838294600709 1 10} {3782349572677719566 1 11} {8410343914325063884 1 12}]
------------------------------------------------------
flag 11210 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 78496 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6902329838294600709 1 10} {3782349572677719566 1 11} {8410343914325063884 1 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6902329838294600709 1 10} {3782349572677719566 1 11} {8410343914325063884 1 12}]
------------------------------------------------------
flag 32162 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 35778 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 server 0 AppendEntries true commitIndex:12 
------------------------------------------------------
term 3 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=13
update matchIndex[0]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6902329838294600709 1 10} {3782349572677719566 1 11} {8410343914325063884 1 12}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6902329838294600709 1 10} {3782349572677719566 1 11} {8410343914325063884 1 12}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 7197 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 18538 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 28535 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 35991 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 11308 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 40556 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 vote for server 0
term 4 server 0 get vote from server 1
term 4 server 0 become leader
------------------------------------------------------
flag 66563 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 61213 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 18612 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 91732 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=13
update matchIndex[1]=12
update leader CommitIndex=12
leader log:
[{snapshot 1 9} {6902329838294600709 1 10} {3782349572677719566 1 11} {8410343914325063884 1 12}]
------------------------------------------------------
client write log 3932492926876470619 (index 13) to leader 0
flag 19311 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 1167 term 3 leader 2 nextIndex[1]: 13  matchIndex[1]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 35226 term 4 leader 0 nextIndex[1]: 13  matchIndex[1]: 12
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
flag 12282 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:12 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6902329838294600709 1 10} {3782349572677719566 1 11} {8410343914325063884 1 12} {3932492926876470619 4 13}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 13->12
------------------------------------------------------
flag 14299 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 12
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 16314 term 4 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
flag 94576 term 4 leader 0 nextIndex[2]: 13  matchIndex[2]: 0
term 4 leader 0 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 13 
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=14
update matchIndex[1]=13
update leader CommitIndex=13
leader log:
[{snapshot 1 9} {6902329838294600709 1 10} {3782349572677719566 1 11} {8410343914325063884 1 12} {3932492926876470619 4 13}]
------------------------------------------------------
client write log 6214659760906300477 (index 14) to leader 0
client write log 7077479835735292842 (index 15) to leader 0
client write log 8852552610277442514 (index 16) to leader 0
client write log 9132399997608927145 (index 17) to leader 0
client write log 6818162425410130646 (index 18) to leader 0
client write log 345279863699682416 (index 19) to leader 0
client write log 4219543120194907551 (index 20) to leader 0
client write log 8729145299207141784 (index 21) to leader 0
client write log 3571758393980790650 (index 22) to leader 0
client write log 3483230733840232317 (index 23) to leader 0
client write log 5427737137099206603 (index 24) to leader 0
client write log 864465287281509611 (index 25) to leader 0
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 13->12
------------------------------------------------------
flag 67454 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 12
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 41159 term 4 leader 0 nextIndex[1]: 14  matchIndex[1]: 13
term 4 leader 0 sendAppendEntries PrevLogIndex: 13  PrevLogTerm: 4 leaderCommit: 13 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:13 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 1 9} {6902329838294600709 1 10} {3782349572677719566 1 11} {8410343914325063884 1 12} {3932492926876470619 4 13} {6214659760906300477 4 14} {7077479835735292842 4 15} {8852552610277442514 4 16} {9132399997608927145 4 17} {6818162425410130646 4 18} {345279863699682416 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
term 4 Server0 start snapshot! index=19
term 4 server0 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=25
-------------------------------------------------------------
flag 85850 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 12
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
flag 3706 term 4 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
term 4 Server1 start snapshot! index=19
term 4 server1 snapshot success
lastIncludedIndex=19 lastApplied=19 lastIndex=25
-------------------------------------------------------------
!!!!!!connect server 2
client write log 6299055620468786228 (index 13) to leader 2
flag 17174 term 3 leader 2 nextIndex[0]: 13  matchIndex[0]: 12
term 3 leader 2 sendAppendEntries PrevLogIndex: 12  PrevLogTerm: 1 leaderCommit: 12 
------------------------------------------------------
term 3 leader 2 nextIndex[1]: 0  matchIndex[1]: 12
term 3 leader 2 sendInstallSnapshot LastIncludedIndex: 9  LastIncludedTerm: 1
------------------------------------------------------
term 4 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 3 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 4 server 0 AppendEntries false 领导者任期过期 args.Term 3
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 42181 term 4 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 4 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 4 leader 0 nextIndex[2]: 0  matchIndex[2]: 0
term 4 leader 0 sendInstallSnapshot LastIncludedIndex: 19  LastIncludedTerm: 4
------------------------------------------------------
term 4 server 2 InstallSnapshot success
------------------------------------------------------
term 4 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 20 matchIndex[2] 19 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 19 rf.lastIncludedTerm 4 rf.commitIndex 19 rf.lastApplied 19
term 4 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
term 4 server 2 not vote for server 0, 日志不够新
term 4 server 0 get outdate rpc reply from server 2
term 4 server 1 not vote for server 2, 日志不够新
term 4 server 0 not vote for server 2, 日志不够新
term 6 server 2 vote for server 0
term 6 server 1 vote for server 0
term 6 server 0 get vote from server 2
term 6 server 0 become leader
------------------------------------------------------
term 6 server 0 get outdate rpc reply from server 1
flag 30624 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 45983 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 26->25
------------------------------------------------------
flag 79079 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 47967 term 6 leader 0 nextIndex[2]: 20  matchIndex[2]: 0
term 6 leader 0 sendAppendEntries PrevLogIndex: 19  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:19 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
term 6 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6696 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 20873 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
flag 60543 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 18057 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
flag 29018 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 20157 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
flag 93947 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 2294 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32854 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 95511 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
flag 25977 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 79729 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
flag 10807 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 50947 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
flag 87547 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 15570 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
flag 77355 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 33603 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 74636 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 97766 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
flag 92485 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 6813 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
flag 98858 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 54660 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 10327 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 6369 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
flag 37770 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 63977 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45932 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 96125 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
flag 85268 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 89392 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
flag 55391 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 86415 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=26
update matchIndex[2]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25}]
------------------------------------------------------
client write log 6299055620468786228 (index 26) to leader 0
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=26
update matchIndex[1]=25
update leader CommitIndex=25
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25} {6299055620468786228 6 26}]
------------------------------------------------------
term 6 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 37371 term 6 leader 0 nextIndex[1]: 26  matchIndex[1]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
flag 76218 term 6 leader 0 nextIndex[2]: 26  matchIndex[2]: 25
term 6 leader 0 sendAppendEntries PrevLogIndex: 25  PrevLogTerm: 4 leaderCommit: 25 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:25 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:25 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25} {6299055620468786228 6 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25} {6299055620468786228 6 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 75775 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 961 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25} {6299055620468786228 6 26}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25} {6299055620468786228 6 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 6 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40944 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 66582 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25} {6299055620468786228 6 26}]
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25} {6299055620468786228 6 26}]
------------------------------------------------------
flag 80175 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 68559 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25} {6299055620468786228 6 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25} {6299055620468786228 6 26}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99840 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 62119 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25} {6299055620468786228 6 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25} {6299055620468786228 6 26}]
------------------------------------------------------
flag 78284 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 35868 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25} {6299055620468786228 6 26}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25} {6299055620468786228 6 26}]
------------------------------------------------------
flag 7840 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 90127 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=27
update matchIndex[2]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25} {6299055620468786228 6 26}]
------------------------------------------------------
term 6 server 1 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=27
update matchIndex[1]=26
update leader CommitIndex=26
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25} {6299055620468786228 6 26}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 788472357461496037 (index 27) to leader 0
flag 59518 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
flag 53082 term 6 leader 0 nextIndex[2]: 27  matchIndex[2]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 26 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:26 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25} {6299055620468786228 6 26} {788472357461496037 6 27}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18508 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 3168 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=28
update matchIndex[2]=27
update leader CommitIndex=27
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25} {6299055620468786228 6 26} {788472357461496037 6 27}]
------------------------------------------------------
client write log 5215519941703459099 (index 28) to leader 0
client write log 3955622127196134642 (index 29) to leader 0
client write log 4745488284449639142 (index 30) to leader 0
client write log 4763273769101913069 (index 31) to leader 0
client write log 5093047918102649524 (index 32) to leader 0
client write log 1117101157861575013 (index 33) to leader 0
client write log 1342656868332792557 (index 34) to leader 0
client write log 1069494832351969843 (index 35) to leader 0
client write log 6522151238209677765 (index 36) to leader 0
client write log 2416042389951430907 (index 37) to leader 0
client write log 3006613145170109134 (index 38) to leader 0
flag 10089 term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendAppendEntries PrevLogIndex: 26  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
flag 50628 term 6 leader 0 nextIndex[2]: 28  matchIndex[2]: 27
term 6 leader 0 sendAppendEntries PrevLogIndex: 27  PrevLogTerm: 6 leaderCommit: 27 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:27 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 4 19} {4219543120194907551 4 20} {8729145299207141784 4 21} {3571758393980790650 4 22} {3483230733840232317 4 23} {5427737137099206603 4 24} {864465287281509611 4 25} {6299055620468786228 6 26} {788472357461496037 6 27} {5215519941703459099 6 28} {3955622127196134642 6 29} {4745488284449639142 6 30} {4763273769101913069 6 31} {5093047918102649524 6 32} {1117101157861575013 6 33} {1342656868332792557 6 34} {1069494832351969843 6 35} {6522151238209677765 6 36} {2416042389951430907 6 37} {3006613145170109134 6 38}]
------------------------------------------------------
term 6 Server0 start snapshot! index=29
term 6 server0 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=38
-------------------------------------------------------------
term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 60017 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=39
update matchIndex[2]=38
update leader CommitIndex=38
leader log:
[{snapshot 6 29} {4745488284449639142 6 30} {4763273769101913069 6 31} {5093047918102649524 6 32} {1117101157861575013 6 33} {1342656868332792557 6 34} {1069494832351969843 6 35} {6522151238209677765 6 36} {2416042389951430907 6 37} {3006613145170109134 6 38}]
------------------------------------------------------
term 6 Server2 start snapshot! index=29
term 6 server2 snapshot success
lastIncludedIndex=29 lastApplied=29 lastIndex=38
-------------------------------------------------------------
!!!!!!connect server 1
client write log 4865251851288073087 (index 39) to leader 0
term 6 leader 0 nextIndex[1]: 27  matchIndex[1]: 26
term 6 leader 0 sendInstallSnapshot LastIncludedIndex: 29  LastIncludedTerm: 6
------------------------------------------------------
flag 86341 term 6 leader 0 nextIndex[2]: 39  matchIndex[2]: 38
term 6 leader 0 sendAppendEntries PrevLogIndex: 38  PrevLogTerm: 6 leaderCommit: 38 
------------------------------------------------------
term 6 server 2 AppendEntries true commitIndex:38 
------------------------------------------------------
term 7 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 29} {4745488284449639142 6 30} {4763273769101913069 6 31} {5093047918102649524 6 32} {1117101157861575013 6 33} {1342656868332792557 6 34} {1069494832351969843 6 35} {6522151238209677765 6 36} {2416042389951430907 6 37} {3006613145170109134 6 38} {4865251851288073087 6 39}]
------------------------------------------------------
term 6 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 7 Server0 start snapshot! index=39
term 7 server0 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
term 8 server 2 vote for server 0
term 8 server 1 vote for server 0
term 8 server 0 get vote from server 2
term 8 server 0 become leader
------------------------------------------------------
term 8 server 0 get outdate rpc reply from server 1
flag 36296 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 21066 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 0
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
term 8 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 40->39
------------------------------------------------------
term 8 Server2 start snapshot! index=39
term 8 server2 snapshot success
lastIncludedIndex=39 lastApplied=39 lastIndex=39
-------------------------------------------------------------
term 8 leader 0 nextIndex[1]: 27  matchIndex[1]: 0
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 39  LastIncludedTerm: 6
------------------------------------------------------
flag 35467 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
term 8 server 1 InstallSnapshot success
------------------------------------------------------
term 8 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 40 matchIndex[1] 39 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 39 rf.lastIncludedTerm 6 rf.commitIndex 39 rf.lastApplied 39
flag 4770 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 89411 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
flag 40559 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 90829 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41966 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 47524 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
[{snapshot 6 39}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 58122 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 9883 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=40
update matchIndex[2]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
term 8 server 1 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=40
update matchIndex[1]=39
update leader CommitIndex=39
leader log:
[{snapshot 6 39}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 908799868642968831 (index 40) to leader 0
flag 26091 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
flag 77924 term 8 leader 0 nextIndex[2]: 40  matchIndex[2]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 39 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:39 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {908799868642968831 8 40}]
------------------------------------------------------
flag 79447 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 50451 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=41
update matchIndex[2]=40
update leader CommitIndex=40
leader log:
[{snapshot 6 39} {908799868642968831 8 40}]
------------------------------------------------------
client write log 881799384625398494 (index 41) to leader 0
client write log 1766494941129732167 (index 42) to leader 0
client write log 1726411245050836092 (index 43) to leader 0
client write log 812083040564964569 (index 44) to leader 0
client write log 9055628905922925420 (index 45) to leader 0
client write log 3608120649207475732 (index 46) to leader 0
client write log 6556449165957828241 (index 47) to leader 0
client write log 525548132395369002 (index 48) to leader 0
client write log 5714231119223644101 (index 49) to leader 0
client write log 7431944729631470943 (index 50) to leader 0
client write log 6643729311522665273 (index 51) to leader 0
client write log 3582307800268088598 (index 52) to leader 0
client write log 80327754246455106 (index 53) to leader 0
client write log 2355020542791945493 (index 54) to leader 0
client write log 5401147682557284887 (index 55) to leader 0
flag 63216 term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendAppendEntries PrevLogIndex: 39  PrevLogTerm: 6 leaderCommit: 40 
------------------------------------------------------
flag 60916 term 8 leader 0 nextIndex[2]: 41  matchIndex[2]: 40
term 8 leader 0 sendAppendEntries PrevLogIndex: 40  PrevLogTerm: 8 leaderCommit: 40 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:40 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 6 39} {908799868642968831 8 40} {881799384625398494 8 41} {1766494941129732167 8 42} {1726411245050836092 8 43} {812083040564964569 8 44} {9055628905922925420 8 45} {3608120649207475732 8 46} {6556449165957828241 8 47} {525548132395369002 8 48} {5714231119223644101 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55}]
------------------------------------------------------
term 8 Server0 start snapshot! index=49
term 8 server0 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=55
-------------------------------------------------------------
term 8 leader 0 nextIndex[1]: 40  matchIndex[1]: 39
term 8 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 3234 term 8 leader 0 nextIndex[2]: 56  matchIndex[2]: 55
term 8 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 8 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=56
update matchIndex[2]=55
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55}]
------------------------------------------------------
term 8 Server2 start snapshot! index=49
term 8 server2 snapshot success
lastIncludedIndex=49 lastApplied=50 lastIndex=55
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8188371695691321009 (index 56) to leader 0
term 8 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 8 server 2 not vote for server 1, 日志不够新
term 8 server 0 not vote for server 1, 日志不够新
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 10 server 2 vote for server 0
term 10 server 1 vote for server 0
term 10 server 0 get vote from server 2
term 10 server 0 become leader
------------------------------------------------------
term 10 server 0 get outdate rpc reply from server 1
flag 84884 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
flag 50068 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 10 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 57->56
------------------------------------------------------
term 10 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 57->56
------------------------------------------------------
term 10 leader 0 nextIndex[1]: 40  matchIndex[1]: 0
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 82358 term 10 leader 0 nextIndex[2]: 56  matchIndex[2]: 0
term 10 leader 0 sendAppendEntries PrevLogIndex: 55  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 10 server 1 InstallSnapshot success
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 49 rf.lastIncludedTerm 8 rf.commitIndex 49 rf.lastApplied 49
term 10 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 50 matchIndex[1] 49 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82773 term 10 leader 0 nextIndex[1]: 50  matchIndex[1]: 49
term 10 leader 0 sendAppendEntries PrevLogIndex: 49  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
flag 33858 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:49 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
flag 14246 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
flag 64532 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
flag 16493 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
flag 18728 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
term 10 server 2 not vote for server 0, 任期不够新
term 10 server 0 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 10 server 1 not vote for server 0, 任期不够新
term 10 server 0 get outdate rpc reply from server 1
flag 99931 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
flag 19163 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 55573 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
flag 8262 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17580 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
flag 99876 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
flag 49606 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
flag 36974 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
flag 59347 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
flag 4788 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
flag 45159 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
flag 78508 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
flag 52816 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
flag 43867 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 88067 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
flag 97358 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33071 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
flag 78522 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
flag 33575 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
flag 36884 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
flag 99772 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
flag 25414 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
flag 40228 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
flag 68272 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 67226 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
flag 20721 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
flag 56672 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
flag 298 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=57
update matchIndex[2]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=57
update matchIndex[1]=56
update leader CommitIndex=55
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56}]
------------------------------------------------------
client write log 8188371695691321009 (index 57) to leader 0
flag 99636 term 10 leader 0 nextIndex[1]: 57  matchIndex[1]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
flag 72333 term 10 leader 0 nextIndex[2]: 57  matchIndex[2]: 56
term 10 leader 0 sendAppendEntries PrevLogIndex: 56  PrevLogTerm: 8 leaderCommit: 55 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:55 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:55 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56} {8188371695691321009 10 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56} {8188371695691321009 10 57}]
------------------------------------------------------
flag 11574 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 56139 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56} {8188371695691321009 10 57}]
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56} {8188371695691321009 10 57}]
------------------------------------------------------
flag 95925 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 73430 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56} {8188371695691321009 10 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56} {8188371695691321009 10 57}]
------------------------------------------------------
flag 44271 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 7562 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56} {8188371695691321009 10 57}]
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56} {8188371695691321009 10 57}]
------------------------------------------------------
term 10 server 0 not vote for server 1, 任期不够新
term 10 server 1 get outdate rpc reply from server 0
term 10 leader 2 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 47479 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 98716 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56} {8188371695691321009 10 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56} {8188371695691321009 10 57}]
------------------------------------------------------
flag 40012 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 21625 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56} {8188371695691321009 10 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56} {8188371695691321009 10 57}]
------------------------------------------------------
flag 48154 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 28310 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 10 server 2 AppendEntries true commitIndex:57 
------------------------------------------------------
term 10 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56} {8188371695691321009 10 57}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=58
update matchIndex[2]=57
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56} {8188371695691321009 10 57}]
------------------------------------------------------
!!!!!!diconnect server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73791 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 13650 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 2199 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 43437 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 31806 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 40984 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 11 server 1 vote for server 2
term 11 server 2 get vote from server 1
term 11 server 2 become leader
------------------------------------------------------
flag 76288 term 11 leader 2 nextIndex[0]: 58  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 8508 term 11 leader 2 nextIndex[1]: 58  matchIndex[1]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=58
update matchIndex[1]=57
update leader CommitIndex=57
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56} {8188371695691321009 10 57}]
------------------------------------------------------
flag 87793 term 10 leader 0 nextIndex[1]: 58  matchIndex[1]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 80231 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
client write log 1018629970586408567 (index 58) to leader 2
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 58->57
------------------------------------------------------
flag 10380 term 11 leader 2 nextIndex[0]: 58  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 91951 term 11 leader 2 nextIndex[1]: 58  matchIndex[1]: 57
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:57 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56} {8188371695691321009 10 57} {1018629970586408567 11 58}]
------------------------------------------------------
term 10 leader 0 nextIndex[1]: 0  matchIndex[1]: 57
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 49115 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
flag 50235 term 11 leader 2 nextIndex[0]: 58  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 58 
------------------------------------------------------
flag 13033 term 11 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 11 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=59
update matchIndex[1]=58
update leader CommitIndex=58
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56} {8188371695691321009 10 57} {1018629970586408567 11 58}]
------------------------------------------------------
term 10 leader 0 nextIndex[1]: 0  matchIndex[1]: 57
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
flag 90265 term 10 leader 0 nextIndex[2]: 58  matchIndex[2]: 57
term 10 leader 0 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 57 
------------------------------------------------------
client write log 1518071114900111745 (index 59) to leader 2
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 58->57
------------------------------------------------------
flag 77537 term 11 leader 2 nextIndex[0]: 58  matchIndex[0]: 0
term 11 leader 2 sendAppendEntries PrevLogIndex: 57  PrevLogTerm: 10 leaderCommit: 58 
------------------------------------------------------
flag 32885 term 11 leader 2 nextIndex[1]: 59  matchIndex[1]: 58
term 11 leader 2 sendAppendEntries PrevLogIndex: 58  PrevLogTerm: 11 leaderCommit: 58 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:58 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 8 49} {7431944729631470943 8 50} {6643729311522665273 8 51} {3582307800268088598 8 52} {80327754246455106 8 53} {2355020542791945493 8 54} {5401147682557284887 8 55} {8188371695691321009 8 56} {8188371695691321009 10 57} {1018629970586408567 11 58} {1518071114900111745 11 59}]
------------------------------------------------------
term 11 Server2 start snapshot! index=59
term 11 server2 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
term 10 leader 0 nextIndex[1]: 0  matchIndex[1]: 57
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
term 10 leader 0 nextIndex[2]: 0  matchIndex[2]: 57
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
term 11 leader 2 nextIndex[0]: 58  matchIndex[0]: 0
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 31547 term 11 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=60
update matchIndex[1]=59
update leader CommitIndex=59
leader log:
[{snapshot 11 59}]
------------------------------------------------------
term 11 Server1 start snapshot! index=59
term 11 server1 snapshot success
lastIncludedIndex=59 lastApplied=59 lastIndex=59
-------------------------------------------------------------
term 10 leader 0 nextIndex[1]: 0  matchIndex[1]: 57
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
term 10 leader 0 nextIndex[2]: 0  matchIndex[2]: 57
term 10 leader 0 sendInstallSnapshot LastIncludedIndex: 49  LastIncludedTerm: 8
------------------------------------------------------
!!!!!!connect server 0
client write log 8824141536326885555 (index 60) to leader 2
term 11 leader 2 nextIndex[0]: 58  matchIndex[0]: 0
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 59  LastIncludedTerm: 11
------------------------------------------------------
flag 36749 term 11 leader 2 nextIndex[1]: 60  matchIndex[1]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 59 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {8824141536326885555 11 60}]
------------------------------------------------------
term 11 server 0 InstallSnapshot success
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 59 rf.lastIncludedTerm 11 rf.commitIndex 59 rf.lastApplied 59
term 11 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 60 matchIndex[0] 59 
------------------------------------------------------------------------
flag 465 term 11 leader 2 nextIndex[0]: 60  matchIndex[0]: 59
term 11 leader 2 sendAppendEntries PrevLogIndex: 59  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 49826 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:59 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {8824141536326885555 11 60}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {8824141536326885555 11 60}]
------------------------------------------------------
flag 29458 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 37201 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {8824141536326885555 11 60}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {8824141536326885555 11 60}]
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 38107 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 36766 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {8824141536326885555 11 60}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {8824141536326885555 11 60}]
------------------------------------------------------
flag 73412 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 9188 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {8824141536326885555 11 60}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {8824141536326885555 11 60}]
------------------------------------------------------
flag 80615 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 40884 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {8824141536326885555 11 60}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {8824141536326885555 11 60}]
------------------------------------------------------
flag 77145 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 35727 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {8824141536326885555 11 60}]
------------------------------------------------------
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {8824141536326885555 11 60}]
------------------------------------------------------
flag 72142 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 86930 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=61
update matchIndex[1]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {8824141536326885555 11 60}]
------------------------------------------------------
term 11 server 0 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=61
update matchIndex[0]=60
update leader CommitIndex=60
leader log:
[{snapshot 11 59} {8824141536326885555 11 60}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 6041036644764497337 (index 61) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 31708 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
flag 61990 term 11 leader 2 nextIndex[1]: 61  matchIndex[1]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 60 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:60 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {8824141536326885555 11 60} {6041036644764497337 11 61}]
------------------------------------------------------
term 11 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 26040 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
flag 38876 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=62
update matchIndex[1]=61
update leader CommitIndex=61
leader log:
[{snapshot 11 59} {8824141536326885555 11 60} {6041036644764497337 11 61}]
------------------------------------------------------
client write log 7349620210614519778 (index 62) to leader 2
client write log 7022170862433826744 (index 63) to leader 2
client write log 9061225503119970791 (index 64) to leader 2
client write log 8796192008762939196 (index 65) to leader 2
client write log 1166885912249869796 (index 66) to leader 2
client write log 8820209819383083450 (index 67) to leader 2
client write log 8354029130204576516 (index 68) to leader 2
client write log 1505065776747433718 (index 69) to leader 2
client write log 4969958278830601802 (index 70) to leader 2
client write log 3239443520593541344 (index 71) to leader 2
client write log 7861537431232677370 (index 72) to leader 2
client write log 2647098523367969570 (index 73) to leader 2
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9654 term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendAppendEntries PrevLogIndex: 60  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
flag 90191 term 11 leader 2 nextIndex[1]: 62  matchIndex[1]: 61
term 11 leader 2 sendAppendEntries PrevLogIndex: 61  PrevLogTerm: 11 leaderCommit: 61 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:61 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 59} {8824141536326885555 11 60} {6041036644764497337 11 61} {7349620210614519778 11 62} {7022170862433826744 11 63} {9061225503119970791 11 64} {8796192008762939196 11 65} {1166885912249869796 11 66} {8820209819383083450 11 67} {8354029130204576516 11 68} {1505065776747433718 11 69} {4969958278830601802 11 70} {3239443520593541344 11 71} {7861537431232677370 11 72} {2647098523367969570 11 73}]
------------------------------------------------------
term 11 Server2 start snapshot! index=69
term 11 server2 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=73
-------------------------------------------------------------
term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 77148 term 11 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 11 leaderCommit: 73 
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=74
update matchIndex[1]=73
update leader CommitIndex=73
leader log:
[{snapshot 11 69} {4969958278830601802 11 70} {3239443520593541344 11 71} {7861537431232677370 11 72} {2647098523367969570 11 73}]
------------------------------------------------------
term 11 Server1 start snapshot! index=69
term 11 server1 snapshot success
lastIncludedIndex=69 lastApplied=69 lastIndex=73
-------------------------------------------------------------
!!!!!!connect server 0
client write log 6192162261792510662 (index 74) to leader 2
term 11 server 2 not vote for server 1, 任期不够新
term 11 server 1 get outdate rpc reply from server 2
term 11 leader 2 nextIndex[0]: 61  matchIndex[0]: 60
term 11 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 18147 term 11 leader 2 nextIndex[1]: 74  matchIndex[1]: 73
term 11 leader 2 sendAppendEntries PrevLogIndex: 73  PrevLogTerm: 11 leaderCommit: 73 
------------------------------------------------------
term 12 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 11 server 1 AppendEntries true commitIndex:73 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {4969958278830601802 11 70} {3239443520593541344 11 71} {7861537431232677370 11 72} {2647098523367969570 11 73} {6192162261792510662 11 74}]
------------------------------------------------------
term 11 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 13 server 1 vote for server 2
term 13 server 0 vote for server 2
term 13 server 2 get vote from server 1
term 13 server 2 become leader
------------------------------------------------------
term 13 server 2 get outdate rpc reply from server 0
flag 81722 term 13 leader 2 nextIndex[0]: 75  matchIndex[0]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
flag 27518 term 13 leader 2 nextIndex[1]: 75  matchIndex[1]: 0
term 13 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 13 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 75->74
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {4969958278830601802 11 70} {3239443520593541344 11 71} {7861537431232677370 11 72} {2647098523367969570 11 73} {6192162261792510662 11 74}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 61  matchIndex[0]: 0
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 69  LastIncludedTerm: 11
------------------------------------------------------
flag 33247 term 13 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 13 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 13 server 0 InstallSnapshot success
------------------------------------------------------
term 13 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 70 matchIndex[0] 69 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 69 rf.lastIncludedTerm 11 rf.commitIndex 69 rf.lastApplied 69
term 13 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {4969958278830601802 11 70} {3239443520593541344 11 71} {7861537431232677370 11 72} {2647098523367969570 11 73} {6192162261792510662 11 74}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52306 term 13 leader 2 nextIndex[0]: 70  matchIndex[0]: 69
term 13 leader 2 sendAppendEntries PrevLogIndex: 69  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
flag 44502 term 13 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 13 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:69 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {4969958278830601802 11 70} {3239443520593541344 11 71} {7861537431232677370 11 72} {2647098523367969570 11 73} {6192162261792510662 11 74}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {4969958278830601802 11 70} {3239443520593541344 11 71} {7861537431232677370 11 72} {2647098523367969570 11 73} {6192162261792510662 11 74}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92008 term 13 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 13 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
flag 14336 term 13 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 13 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {4969958278830601802 11 70} {3239443520593541344 11 71} {7861537431232677370 11 72} {2647098523367969570 11 73} {6192162261792510662 11 74}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {4969958278830601802 11 70} {3239443520593541344 11 71} {7861537431232677370 11 72} {2647098523367969570 11 73} {6192162261792510662 11 74}]
------------------------------------------------------
flag 11118 term 13 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 13 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
flag 32827 term 13 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 13 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
term 13 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
[{snapshot 11 69} {4969958278830601802 11 70} {3239443520593541344 11 71} {7861537431232677370 11 72} {2647098523367969570 11 73} {6192162261792510662 11 74}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {4969958278830601802 11 70} {3239443520593541344 11 71} {7861537431232677370 11 72} {2647098523367969570 11 73} {6192162261792510662 11 74}]
------------------------------------------------------
flag 44921 term 13 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 13 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
flag 55664 term 13 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 13 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {4969958278830601802 11 70} {3239443520593541344 11 71} {7861537431232677370 11 72} {2647098523367969570 11 73} {6192162261792510662 11 74}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {4969958278830601802 11 70} {3239443520593541344 11 71} {7861537431232677370 11 72} {2647098523367969570 11 73} {6192162261792510662 11 74}]
------------------------------------------------------
flag 88754 term 13 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 13 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
flag 39859 term 13 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 13 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {4969958278830601802 11 70} {3239443520593541344 11 71} {7861537431232677370 11 72} {2647098523367969570 11 73} {6192162261792510662 11 74}]
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {4969958278830601802 11 70} {3239443520593541344 11 71} {7861537431232677370 11 72} {2647098523367969570 11 73} {6192162261792510662 11 74}]
------------------------------------------------------
flag 99043 term 13 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 13 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
flag 32373 term 13 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 13 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
term 13 server 0 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=75
update matchIndex[1]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {4969958278830601802 11 70} {3239443520593541344 11 71} {7861537431232677370 11 72} {2647098523367969570 11 73} {6192162261792510662 11 74}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=75
update matchIndex[0]=74
update leader CommitIndex=74
leader log:
[{snapshot 11 69} {4969958278830601802 11 70} {3239443520593541344 11 71} {7861537431232677370 11 72} {2647098523367969570 11 73} {6192162261792510662 11 74}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 0
client write log 2927536133408800978 (index 75) to leader 2
flag 79881 term 13 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 13 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
flag 75728 term 13 leader 2 nextIndex[1]: 75  matchIndex[1]: 74
term 13 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 11 leaderCommit: 74 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:74 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {4969958278830601802 11 70} {3239443520593541344 11 71} {7861537431232677370 11 72} {2647098523367969570 11 73} {6192162261792510662 11 74} {2927536133408800978 13 75}]
------------------------------------------------------
flag 56429 term 13 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 13 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 66129 term 13 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=76
update matchIndex[1]=75
update leader CommitIndex=75
leader log:
[{snapshot 11 69} {4969958278830601802 11 70} {3239443520593541344 11 71} {7861537431232677370 11 72} {2647098523367969570 11 73} {6192162261792510662 11 74} {2927536133408800978 13 75}]
------------------------------------------------------
client write log 697045975228686854 (index 76) to leader 2
client write log 7314533982096418966 (index 77) to leader 2
client write log 1612877673171222002 (index 78) to leader 2
client write log 5234584381550451850 (index 79) to leader 2
client write log 7690853314073223714 (index 80) to leader 2
client write log 8171638096446821210 (index 81) to leader 2
client write log 8301343386608020029 (index 82) to leader 2
client write log 2724337388213894384 (index 83) to leader 2
client write log 8818053530647061094 (index 84) to leader 2
client write log 8644897706754701382 (index 85) to leader 2
client write log 3841109795124486983 (index 86) to leader 2
client write log 2278207690395146977 (index 87) to leader 2
client write log 9094017137241570503 (index 88) to leader 2
client write log 7517835210085683410 (index 89) to leader 2
flag 87325 term 13 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 13 leader 2 sendAppendEntries PrevLogIndex: 74  PrevLogTerm: 11 leaderCommit: 75 
------------------------------------------------------
flag 72900 term 13 leader 2 nextIndex[1]: 76  matchIndex[1]: 75
term 13 leader 2 sendAppendEntries PrevLogIndex: 75  PrevLogTerm: 13 leaderCommit: 75 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:75 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 11 69} {4969958278830601802 11 70} {3239443520593541344 11 71} {7861537431232677370 11 72} {2647098523367969570 11 73} {6192162261792510662 11 74} {2927536133408800978 13 75} {697045975228686854 13 76} {7314533982096418966 13 77} {1612877673171222002 13 78} {5234584381550451850 13 79} {7690853314073223714 13 80} {8171638096446821210 13 81} {8301343386608020029 13 82} {2724337388213894384 13 83} {8818053530647061094 13 84} {8644897706754701382 13 85} {3841109795124486983 13 86} {2278207690395146977 13 87} {9094017137241570503 13 88} {7517835210085683410 13 89}]
------------------------------------------------------
term 13 Server2 start snapshot! index=79
term 13 server2 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=89
-------------------------------------------------------------
term 13 Server2 start snapshot! index=89
term 13 server2 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 13 leader 2 nextIndex[0]: 75  matchIndex[0]: 74
term 13 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 13
------------------------------------------------------
flag 82257 term 13 leader 2 nextIndex[1]: 90  matchIndex[1]: 89
term 13 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 13 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=90
update matchIndex[1]=89
update leader CommitIndex=89
leader log:
[{snapshot 13 89}]
------------------------------------------------------
term 13 Server1 start snapshot! index=79
term 13 server1 snapshot success
lastIncludedIndex=79 lastApplied=79 lastIndex=89
-------------------------------------------------------------
term 13 Server1 start snapshot! index=89
term 13 server1 snapshot success
lastIncludedIndex=89 lastApplied=89 lastIndex=89
-------------------------------------------------------------
!!!!!!connect server 0
client write log 7377098549917951992 (index 90) to leader 2
term 13 server 2 not vote for server 0, 日志不够新
term 13 server 1 not vote for server 0, 日志不够新
term 14 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 15 server 1 vote for server 2
term 15 server 2 get vote from server 1
term 15 server 2 become leader
------------------------------------------------------
term 15 server 0 vote for server 2
term 15 server 2 get outdate rpc reply from server 0
flag 11139 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 61830 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 15 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 91->90
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 91->90
------------------------------------------------------
term 15 leader 2 nextIndex[0]: 75  matchIndex[0]: 0
term 15 leader 2 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 13
------------------------------------------------------
flag 95356 term 15 leader 2 nextIndex[1]: 90  matchIndex[1]: 0
term 15 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
term 15 server 0 InstallSnapshot success
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 90 matchIndex[0] 89 
------------------------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 89 rf.lastIncludedTerm 13 rf.commitIndex 89 rf.lastApplied 89
flag 88294 term 15 leader 2 nextIndex[0]: 90  matchIndex[0]: 89
term 15 leader 2 sendAppendEntries PrevLogIndex: 89  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 81872 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
flag 50023 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 15688 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
flag 50567 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 11229 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
term 15 server 1 not vote for server 0, 任期不够新
term 15 server 0 get outdate rpc reply from server 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82473 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 3293 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
flag 66970 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 17733 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
flag 62030 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 2273 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
flag 28168 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 44692 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
flag 75118 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 4528 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
flag 3217 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 85047 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
flag 13581 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 65072 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
flag 10035 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 72348 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
flag 89545 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 5321 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
term 15 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 86924 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 14770 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 82148 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 77553 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
flag 95656 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 70621 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99736 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 72678 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
term 15 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 6619 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 52567 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=91
update matchIndex[1]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=91
update matchIndex[0]=90
update leader CommitIndex=89
leader log:
[{snapshot 13 89} {7377098549917951992 13 90}]
------------------------------------------------------
client write log 7377098549917951992 (index 91) to leader 2
flag 33254 term 15 leader 2 nextIndex[0]: 91  matchIndex[0]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
flag 87193 term 15 leader 2 nextIndex[1]: 91  matchIndex[1]: 90
term 15 leader 2 sendAppendEntries PrevLogIndex: 90  PrevLogTerm: 13 leaderCommit: 89 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:89 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:89 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91}]
------------------------------------------------------
term 15 server 0 not vote for server 2, 任期不够新
term 15 server 2 get outdate rpc reply from server 0
flag 64321 term 15 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 69567 term 15 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91}]
------------------------------------------------------
flag 83602 term 15 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 99261 term 15 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91}]
------------------------------------------------------
flag 69400 term 15 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 87939 term 15 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91}]
------------------------------------------------------
flag 36580 term 15 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 18937 term 15 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 20453 term 15 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 9758 term 15 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91}]
------------------------------------------------------
term 15 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 62851 term 15 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 48779 term 15 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 15 server 1 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=92
update matchIndex[1]=91
update leader CommitIndex=91
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91}]
------------------------------------------------------
term 15 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 3622 term 15 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 60822 term 15 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 15 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13664 term 15 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 15827 term 15 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 47765 term 15 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 18383 term 15 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 server 0 vote for server 1
term 16 server 1 get vote from server 0
term 16 server 1 become leader
------------------------------------------------------
flag 82493 term 16 leader 1 nextIndex[0]: 92  matchIndex[0]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 10423 term 16 leader 1 nextIndex[2]: 92  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=92
update matchIndex[0]=91
update leader CommitIndex=91
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91}]
------------------------------------------------------
flag 71485 term 15 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 35179 term 15 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
client write log 516430973131812646 (index 92) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18297 term 16 leader 1 nextIndex[0]: 92  matchIndex[0]: 91
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 85650 term 16 leader 1 nextIndex[2]: 92  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:91 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91} {516430973131812646 16 92}]
------------------------------------------------------
flag 72472 term 15 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 11512 term 15 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 63909 term 16 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 16 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 7697 term 16 leader 1 nextIndex[2]: 92  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=93
update matchIndex[0]=92
update leader CommitIndex=92
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91} {516430973131812646 16 92}]
------------------------------------------------------
flag 37374 term 15 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 16078 term 15 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
client write log 3001358261549520123 (index 93) to leader 1
flag 65897 term 16 leader 1 nextIndex[0]: 93  matchIndex[0]: 92
term 16 leader 1 sendAppendEntries PrevLogIndex: 92  PrevLogTerm: 16 leaderCommit: 92 
------------------------------------------------------
flag 16001 term 16 leader 1 nextIndex[2]: 92  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 92 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:92 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91} {516430973131812646 16 92} {3001358261549520123 16 93}]
------------------------------------------------------
flag 79473 term 15 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 11897 term 15 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 87473 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
flag 58449 term 16 leader 1 nextIndex[2]: 92  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 93 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=94
update matchIndex[0]=93
update leader CommitIndex=93
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91} {516430973131812646 16 92} {3001358261549520123 16 93}]
------------------------------------------------------
flag 26264 term 15 leader 2 nextIndex[0]: 92  matchIndex[0]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
flag 67259 term 15 leader 2 nextIndex[1]: 92  matchIndex[1]: 91
term 15 leader 2 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 91 
------------------------------------------------------
!!!!!!connect server 2
client write log 4068625673762426467 (index 94) to leader 1
flag 44185 term 16 leader 1 nextIndex[0]: 94  matchIndex[0]: 93
term 16 leader 1 sendAppendEntries PrevLogIndex: 93  PrevLogTerm: 16 leaderCommit: 93 
------------------------------------------------------
flag 32813 term 16 leader 1 nextIndex[2]: 92  matchIndex[2]: 0
term 16 leader 1 sendAppendEntries PrevLogIndex: 91  PrevLogTerm: 15 leaderCommit: 93 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:91 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:93 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91} {516430973131812646 16 92} {3001358261549520123 16 93} {4068625673762426467 16 94}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91} {516430973131812646 16 92} {3001358261549520123 16 93} {4068625673762426467 16 94}]
------------------------------------------------------
flag 31784 term 16 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
flag 29320 term 16 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91} {516430973131812646 16 92} {3001358261549520123 16 93} {4068625673762426467 16 94}]
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91} {516430973131812646 16 92} {3001358261549520123 16 93} {4068625673762426467 16 94}]
------------------------------------------------------
flag 10616 term 16 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
flag 82441 term 16 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91} {516430973131812646 16 92} {3001358261549520123 16 93} {4068625673762426467 16 94}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91} {516430973131812646 16 92} {3001358261549520123 16 93} {4068625673762426467 16 94}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 16 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 66848 term 16 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
flag 26356 term 16 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91} {516430973131812646 16 92} {3001358261549520123 16 93} {4068625673762426467 16 94}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91} {516430973131812646 16 92} {3001358261549520123 16 93} {4068625673762426467 16 94}]
------------------------------------------------------
term 16 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 1451 term 16 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
flag 21966 term 16 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91} {516430973131812646 16 92} {3001358261549520123 16 93} {4068625673762426467 16 94}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91} {516430973131812646 16 92} {3001358261549520123 16 93} {4068625673762426467 16 94}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92588 term 16 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
flag 6857 term 16 leader 1 nextIndex[2]: 95  matchIndex[2]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
term 16 server 2 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=95
update matchIndex[2]=94
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91} {516430973131812646 16 92} {3001358261549520123 16 93} {4068625673762426467 16 94}]
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91} {516430973131812646 16 92} {3001358261549520123 16 93} {4068625673762426467 16 94}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 95->94
------------------------------------------------------
flag 62060 term 16 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 0  matchIndex[2]: 94
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 13
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=95
update matchIndex[0]=94
update leader CommitIndex=94
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91} {516430973131812646 16 92} {3001358261549520123 16 93} {4068625673762426467 16 94}]
------------------------------------------------------
term 16 server 2 InstallSnapshot fail
rf.commitIndex 94 args.LastIncludedIndex 89
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 90 matchIndex[2] 89 
------------------------------------------------------------------------
!!!!!!diconnect server 2
client write log 943876530410142511 (index 95) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 90->89
------------------------------------------------------
flag 28555 term 16 leader 1 nextIndex[0]: 95  matchIndex[0]: 94
term 16 leader 1 sendAppendEntries PrevLogIndex: 94  PrevLogTerm: 16 leaderCommit: 94 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 0  matchIndex[2]: 89
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 13
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:94 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91} {516430973131812646 16 92} {3001358261549520123 16 93} {4068625673762426467 16 94} {943876530410142511 16 95}]
------------------------------------------------------
flag 9620 term 16 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 16 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 0  matchIndex[2]: 89
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 13
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=96
update matchIndex[0]=95
update leader CommitIndex=95
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91} {516430973131812646 16 92} {3001358261549520123 16 93} {4068625673762426467 16 94} {943876530410142511 16 95}]
------------------------------------------------------
client write log 364290885413747322 (index 96) to leader 1
client write log 8615429180928464703 (index 97) to leader 1
client write log 431164047048124222 (index 98) to leader 1
client write log 4046969296210475917 (index 99) to leader 1
client write log 2292876873185929084 (index 100) to leader 1
client write log 1757566627037055020 (index 101) to leader 1
flag 9118 term 16 leader 1 nextIndex[0]: 96  matchIndex[0]: 95
term 16 leader 1 sendAppendEntries PrevLogIndex: 95  PrevLogTerm: 16 leaderCommit: 95 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 0  matchIndex[2]: 89
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 89  LastIncludedTerm: 13
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:95 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 13 89} {7377098549917951992 13 90} {7377098549917951992 15 91} {516430973131812646 16 92} {3001358261549520123 16 93} {4068625673762426467 16 94} {943876530410142511 16 95} {364290885413747322 16 96} {8615429180928464703 16 97} {431164047048124222 16 98} {4046969296210475917 16 99} {2292876873185929084 16 100} {1757566627037055020 16 101}]
------------------------------------------------------
term 16 Server1 start snapshot! index=99
term 16 server1 snapshot success
lastIncludedIndex=99 lastApplied=100 lastIndex=101
-------------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 0->-1
------------------------------------------------------
flag 6852 term 16 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 16 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 0  matchIndex[2]: 89
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=102
update matchIndex[0]=101
update leader CommitIndex=101
leader log:
[{snapshot 16 99} {2292876873185929084 16 100} {1757566627037055020 16 101}]
------------------------------------------------------
term 16 Server0 start snapshot! index=99
term 16 server0 snapshot success
lastIncludedIndex=99 lastApplied=99 lastIndex=101
-------------------------------------------------------------
!!!!!!connect server 2
client write log 7248063803083070801 (index 102) to leader 1
flag 10527 term 16 leader 1 nextIndex[0]: 102  matchIndex[0]: 101
term 16 leader 1 sendAppendEntries PrevLogIndex: 101  PrevLogTerm: 16 leaderCommit: 101 
------------------------------------------------------
term 16 leader 1 nextIndex[2]: 0  matchIndex[2]: 89
term 16 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 16 server 0 AppendEntries true commitIndex:101 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {2292876873185929084 16 100} {1757566627037055020 16 101} {7248063803083070801 16 102}]
------------------------------------------------------
term 17 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 16 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 server 0 vote for server 1
term 18 server 1 get vote from server 0
term 18 server 2 vote for server 1
term 18 server 1 become leader
------------------------------------------------------
term 18 server 1 get outdate rpc reply from server 2
flag 56584 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
flag 66834 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 0
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 18 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 103->102
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {2292876873185929084 16 100} {1757566627037055020 16 101} {7248063803083070801 16 102}]
------------------------------------------------------
flag 20428 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 95  matchIndex[2]: 0
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 99  LastIncludedTerm: 16
------------------------------------------------------
term 18 server 2 InstallSnapshot success
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 100 matchIndex[2] 99 
------------------------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 99 rf.lastIncludedTerm 16 rf.commitIndex 99 rf.lastApplied 99
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {2292876873185929084 16 100} {1757566627037055020 16 101} {7248063803083070801 16 102}]
------------------------------------------------------
term 18 server 2 not vote for server 1, 任期不够新
term 18 server 1 get outdate rpc reply from server 2
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27740 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
flag 10339 term 18 leader 1 nextIndex[2]: 100  matchIndex[2]: 99
term 18 leader 1 sendAppendEntries PrevLogIndex: 99  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:99 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {2292876873185929084 16 100} {1757566627037055020 16 101} {7248063803083070801 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {2292876873185929084 16 100} {1757566627037055020 16 101} {7248063803083070801 16 102}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81452 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
flag 21655 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {2292876873185929084 16 100} {1757566627037055020 16 101} {7248063803083070801 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {2292876873185929084 16 100} {1757566627037055020 16 101} {7248063803083070801 16 102}]
------------------------------------------------------
flag 75982 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
flag 19239 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {2292876873185929084 16 100} {1757566627037055020 16 101} {7248063803083070801 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {2292876873185929084 16 100} {1757566627037055020 16 101} {7248063803083070801 16 102}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 47479 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
flag 86846 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {2292876873185929084 16 100} {1757566627037055020 16 101} {7248063803083070801 16 102}]
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {2292876873185929084 16 100} {1757566627037055020 16 101} {7248063803083070801 16 102}]
------------------------------------------------------
flag 81902 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
flag 19322 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {2292876873185929084 16 100} {1757566627037055020 16 101} {7248063803083070801 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {2292876873185929084 16 100} {1757566627037055020 16 101} {7248063803083070801 16 102}]
------------------------------------------------------
flag 25331 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
flag 28246 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {2292876873185929084 16 100} {1757566627037055020 16 101} {7248063803083070801 16 102}]
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {2292876873185929084 16 100} {1757566627037055020 16 101} {7248063803083070801 16 102}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32834 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
flag 68625 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
term 18 server 2 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=103
update matchIndex[0]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {2292876873185929084 16 100} {1757566627037055020 16 101} {7248063803083070801 16 102}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=103
update matchIndex[2]=102
update leader CommitIndex=102
leader log:
[{snapshot 16 99} {2292876873185929084 16 100} {1757566627037055020 16 101} {7248063803083070801 16 102}]
------------------------------------------------------
term 18 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 2
client write log 6322504622430318098 (index 103) to leader 1
flag 45643 term 18 leader 1 nextIndex[0]: 103  matchIndex[0]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
flag 20425 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 102 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:102 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {2292876873185929084 16 100} {1757566627037055020 16 101} {7248063803083070801 16 102} {6322504622430318098 18 103}]
------------------------------------------------------
flag 40380 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 46554 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=104
update matchIndex[0]=103
update leader CommitIndex=103
leader log:
[{snapshot 16 99} {2292876873185929084 16 100} {1757566627037055020 16 101} {7248063803083070801 16 102} {6322504622430318098 18 103}]
------------------------------------------------------
client write log 4481801582526388229 (index 104) to leader 1
client write log 2231858401713098198 (index 105) to leader 1
client write log 6394846744231130963 (index 106) to leader 1
client write log 2447874094479785774 (index 107) to leader 1
client write log 6501898778922818796 (index 108) to leader 1
client write log 4983092900305586506 (index 109) to leader 1
client write log 101268824650845661 (index 110) to leader 1
client write log 5882261167119712849 (index 111) to leader 1
client write log 5128390777022819424 (index 112) to leader 1
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 18 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 98212 term 18 leader 1 nextIndex[0]: 104  matchIndex[0]: 103
term 18 leader 1 sendAppendEntries PrevLogIndex: 103  PrevLogTerm: 18 leaderCommit: 103 
------------------------------------------------------
flag 76026 term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendAppendEntries PrevLogIndex: 102  PrevLogTerm: 16 leaderCommit: 103 
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:103 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 16 99} {2292876873185929084 16 100} {1757566627037055020 16 101} {7248063803083070801 16 102} {6322504622430318098 18 103} {4481801582526388229 18 104} {2231858401713098198 18 105} {6394846744231130963 18 106} {2447874094479785774 18 107} {6501898778922818796 18 108} {4983092900305586506 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112}]
------------------------------------------------------
term 18 Server1 start snapshot! index=109
term 18 server1 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=112
-------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94282 term 18 leader 1 nextIndex[0]: 113  matchIndex[0]: 112
term 18 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 18 leader 1 nextIndex[2]: 103  matchIndex[2]: 102
term 18 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
term 18 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=113
update matchIndex[0]=112
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112}]
------------------------------------------------------
term 18 Server0 start snapshot! index=109
term 18 server0 snapshot success
lastIncludedIndex=109 lastApplied=109 lastIndex=112
-------------------------------------------------------------
!!!!!!connect server 2
client write log 5338238359127235206 (index 113) to leader 1
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 103->102
------------------------------------------------------
term 18 server 1 not vote for server 2, 日志不够新
term 18 server 0 not vote for server 2, 日志不够新
term 20 server 2 vote for server 1
term 20 server 0 vote for server 1
term 20 server 1 get vote from server 2
term 20 server 1 become leader
------------------------------------------------------
term 20 server 1 get outdate rpc reply from server 0
flag 85235 term 20 leader 1 nextIndex[0]: 114  matchIndex[0]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 40593 term 20 leader 1 nextIndex[2]: 114  matchIndex[2]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 20 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 114->113
------------------------------------------------------
term 20 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 114->113
------------------------------------------------------
flag 44239 term 20 leader 1 nextIndex[0]: 113  matchIndex[0]: 0
term 20 leader 1 sendAppendEntries PrevLogIndex: 112  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 20 leader 1 nextIndex[2]: 103  matchIndex[2]: 0
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
term 20 server 2 InstallSnapshot success
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 109 rf.lastIncludedTerm 18 rf.commitIndex 109 rf.lastApplied 109
term 20 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 110 matchIndex[2] 109 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
flag 92037 term 20 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 19242 term 20 leader 1 nextIndex[2]: 110  matchIndex[2]: 109
term 20 leader 1 sendAppendEntries PrevLogIndex: 109  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:109 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
flag 35176 term 20 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 64866 term 20 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
flag 63549 term 20 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 7911 term 20 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
flag 95906 term 20 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 95823 term 20 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13630 term 20 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 33229 term 20 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
flag 97498 term 20 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 39330 term 20 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15685 term 20 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 15300 term 20 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:112 
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
flag 99291 term 20 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 90334 term 20 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
flag 33709 term 20 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 62214 term 20 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
flag 75369 term 20 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 91814 term 20 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
flag 49990 term 20 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 35502 term 20 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
flag 37342 term 20 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 98504 term 20 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
flag 86403 term 20 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 17785 term 20 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
flag 11157 term 20 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 41223 term 20 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
flag 47067 term 20 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 60528 term 20 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
flag 94135 term 20 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 63867 term 20 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
flag 41175 term 20 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 99440 term 20 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
flag 44351 term 20 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 67009 term 20 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=114
update matchIndex[0]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=114
update matchIndex[2]=113
update leader CommitIndex=112
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113}]
------------------------------------------------------
client write log 5338238359127235206 (index 114) to leader 1
term 20 server 2 not vote for server 0, 任期不够新
term 20 server 0 get outdate rpc reply from server 2
flag 78030 term 20 leader 1 nextIndex[0]: 114  matchIndex[0]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
flag 28059 term 20 leader 1 nextIndex[2]: 114  matchIndex[2]: 113
term 20 leader 1 sendAppendEntries PrevLogIndex: 113  PrevLogTerm: 18 leaderCommit: 112 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:112 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:112 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114}]
------------------------------------------------------
flag 69501 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
flag 5111 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114}]
------------------------------------------------------
flag 14423 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
flag 52652 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114}]
------------------------------------------------------
flag 29870 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
flag 98225 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114}]
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114}]
------------------------------------------------------
flag 92930 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
flag 72518 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114}]
------------------------------------------------------
flag 92215 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
flag 15164 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
term 20 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114}]
------------------------------------------------------
term 20 server 0 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=115
update matchIndex[0]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
flag 21167 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
flag 18810 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
flag 49917 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
flag 10247 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
term 20 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 20 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 65004 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
flag 66521 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 server 2 vote for server 0
term 21 server 0 get vote from server 2
term 21 server 0 become leader
------------------------------------------------------
flag 81488 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
flag 9172 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=115
update matchIndex[2]=114
update leader CommitIndex=114
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114}]
------------------------------------------------------
client write log 6314178902406859792 (index 115) to leader 0
flag 34629 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
flag 41508 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21237 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
flag 82046 term 21 leader 0 nextIndex[2]: 115  matchIndex[2]: 114
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:114 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115}]
------------------------------------------------------
flag 93245 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
flag 6622 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
flag 40862 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 62583 term 21 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=116
update matchIndex[2]=115
update leader CommitIndex=115
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115}]
------------------------------------------------------
client write log 5522987244349106960 (index 116) to leader 0
flag 48188 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
flag 13767 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
flag 69737 term 21 leader 0 nextIndex[1]: 115  matchIndex[1]: 0
term 21 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 115 
------------------------------------------------------
flag 34074 term 21 leader 0 nextIndex[2]: 116  matchIndex[2]: 115
term 21 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 115 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
flag 50245 term 20 leader 1 nextIndex[0]: 115  matchIndex[0]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
flag 70055 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 115->114
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 115->114
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
flag 75500 term 21 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 21 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
!!!!!!connect server 1
client write log 6344841225330575225 (index 115) to leader 1
term 20 leader 1 nextIndex[0]: 0  matchIndex[0]: 114
term 20 leader 1 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
flag 59792 term 20 leader 1 nextIndex[2]: 115  matchIndex[2]: 114
term 20 leader 1 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 114 
------------------------------------------------------
term 21 server 2 AppendEntries false 领导者任期过期 args.Term 20
------------------------------------------------------
term 21 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 20 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 21 leader 0 nextIndex[1]: 0  matchIndex[1]: 0
term 21 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
flag 17133 term 21 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 21 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 21 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
term 21 server 1 InstallSnapshot fail
rf.commitIndex 114 args.LastIncludedIndex 109
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
term 21 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 110 matchIndex[1] 109 
------------------------------------------------------------------------
term 21 server 2 not vote for server 1, 日志不够新
term 21 server 0 not vote for server 1, 日志不够新
term 23 server 2 vote for server 0
term 23 server 1 vote for server 0
term 23 server 0 get vote from server 2
term 23 server 0 become leader
------------------------------------------------------
term 23 server 0 get outdate rpc reply from server 1
flag 82727 term 23 leader 0 nextIndex[1]: 117  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 54756 term 23 leader 0 nextIndex[2]: 117  matchIndex[2]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 117->116
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77491 term 23 leader 0 nextIndex[1]: 116  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 115  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 10006 term 23 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 23 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 116->115
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 59784 term 23 leader 0 nextIndex[1]: 115  matchIndex[1]: 0
term 23 leader 0 sendAppendEntries PrevLogIndex: 114  PrevLogTerm: 20 leaderCommit: 116 
------------------------------------------------------
flag 50066 term 23 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:115 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
flag 27016 term 23 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 25604 term 23 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
flag 44029 term 23 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 81797 term 23 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62237 term 23 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 97809 term 23 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
flag 15128 term 23 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 8117 term 23 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
flag 23877 term 23 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 57147 term 23 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
flag 21005 term 23 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 71019 term 23 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
term 23 server 1 not vote for server 2, 任期不够新
term 23 server 2 get outdate rpc reply from server 1
flag 53765 term 23 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 2163 term 23 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
flag 14361 term 23 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 89731 term 23 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57444 term 23 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 36680 term 23 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
flag 868 term 23 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 51921 term 23 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48184 term 23 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 56130 term 23 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
flag 69236 term 23 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 89666 term 23 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
flag 49123 term 23 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 20223 term 23 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
flag 89847 term 23 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 33326 term 23 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
flag 56107 term 23 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 4011 term 23 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=117
update matchIndex[1]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=117
update matchIndex[2]=116
update leader CommitIndex=116
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 6344841225330575225 (index 117) to leader 0
flag 54924 term 23 leader 0 nextIndex[1]: 117  matchIndex[1]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
flag 26247 term 23 leader 0 nextIndex[2]: 117  matchIndex[2]: 116
term 23 leader 0 sendAppendEntries PrevLogIndex: 116  PrevLogTerm: 21 leaderCommit: 116 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116} {6344841225330575225 23 117}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:116 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116} {6344841225330575225 23 117}]
------------------------------------------------------
term 23 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 90987 term 23 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 23 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 23 leaderCommit: 117 
------------------------------------------------------
flag 17101 term 23 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 23 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 23 leaderCommit: 117 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116} {6344841225330575225 23 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116} {6344841225330575225 23 117}]
------------------------------------------------------
term 23 server 0 not vote for server 2, 任期不够新
term 23 server 2 get outdate rpc reply from server 0
flag 94627 term 23 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 23 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 23 leaderCommit: 117 
------------------------------------------------------
flag 64502 term 23 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 23 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 23 leaderCommit: 117 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116} {6344841225330575225 23 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116} {6344841225330575225 23 117}]
------------------------------------------------------
flag 87806 term 23 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 23 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 23 leaderCommit: 117 
------------------------------------------------------
flag 77304 term 23 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 23 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 23 leaderCommit: 117 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116} {6344841225330575225 23 117}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116} {6344841225330575225 23 117}]
------------------------------------------------------
flag 31776 term 23 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 23 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 23 leaderCommit: 117 
------------------------------------------------------
flag 14521 term 23 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 23 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 23 leaderCommit: 117 
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116} {6344841225330575225 23 117}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116} {6344841225330575225 23 117}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 27110 term 23 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 23 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 23 leaderCommit: 117 
------------------------------------------------------
flag 94706 term 23 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 23 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 23 leaderCommit: 117 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=118
update matchIndex[2]=117
update leader CommitIndex=117
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116} {6344841225330575225 23 117}]
------------------------------------------------------
term 23 server 1 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=118
update matchIndex[1]=117
update leader CommitIndex=117
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116} {6344841225330575225 23 117}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 1299960730092308594 (index 118) to leader 0
flag 36815 term 23 leader 0 nextIndex[1]: 118  matchIndex[1]: 117
term 23 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 23 leaderCommit: 117 
------------------------------------------------------
flag 29823 term 23 leader 0 nextIndex[2]: 118  matchIndex[2]: 117
term 23 leader 0 sendAppendEntries PrevLogIndex: 117  PrevLogTerm: 23 leaderCommit: 117 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:117 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116} {6344841225330575225 23 117} {1299960730092308594 23 118}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 118->117
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 leader 0 nextIndex[1]: 0  matchIndex[1]: 117
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
flag 1354 term 23 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 23 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 23 leaderCommit: 118 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=119
update matchIndex[2]=118
update leader CommitIndex=118
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116} {6344841225330575225 23 117} {1299960730092308594 23 118}]
------------------------------------------------------
client write log 3922293412022599034 (index 119) to leader 0
client write log 4286253959894006383 (index 120) to leader 0
client write log 1302902881013544632 (index 121) to leader 0
client write log 9078278017796341187 (index 122) to leader 0
client write log 977797901619487786 (index 123) to leader 0
client write log 3573547816822646053 (index 124) to leader 0
client write log 2073241340654824299 (index 125) to leader 0
client write log 8124860051193975701 (index 126) to leader 0
client write log 2607447908136851254 (index 127) to leader 0
client write log 1385423074244199987 (index 128) to leader 0
client write log 4493735275069116478 (index 129) to leader 0
client write log 3977280131176456916 (index 130) to leader 0
client write log 6191178565659514986 (index 131) to leader 0
client write log 9009310496337360924 (index 132) to leader 0
client write log 586862278901586149 (index 133) to leader 0
term 23 leader 0 nextIndex[1]: 0  matchIndex[1]: 117
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 109  LastIncludedTerm: 18
------------------------------------------------------
flag 90522 term 23 leader 0 nextIndex[2]: 119  matchIndex[2]: 118
term 23 leader 0 sendAppendEntries PrevLogIndex: 118  PrevLogTerm: 23 leaderCommit: 118 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:118 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 18 109} {101268824650845661 18 110} {5882261167119712849 18 111} {5128390777022819424 18 112} {5338238359127235206 18 113} {5338238359127235206 20 114} {6314178902406859792 21 115} {5522987244349106960 21 116} {6344841225330575225 23 117} {1299960730092308594 23 118} {3922293412022599034 23 119} {4286253959894006383 23 120} {1302902881013544632 23 121} {9078278017796341187 23 122} {977797901619487786 23 123} {3573547816822646053 23 124} {2073241340654824299 23 125} {8124860051193975701 23 126} {2607447908136851254 23 127} {1385423074244199987 23 128} {4493735275069116478 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133}]
------------------------------------------------------
term 23 Server0 start snapshot! index=119
term 23 server0 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=133
-------------------------------------------------------------
term 23 Server0 start snapshot! index=129
term 23 server0 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=133
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 23 leader 0 nextIndex[1]: 0  matchIndex[1]: 117
term 23 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
flag 40353 term 23 leader 0 nextIndex[2]: 134  matchIndex[2]: 133
term 23 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 23 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=134
update matchIndex[2]=133
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133}]
------------------------------------------------------
term 23 Server2 start snapshot! index=119
term 23 server2 snapshot success
lastIncludedIndex=119 lastApplied=120 lastIndex=133
-------------------------------------------------------------
term 23 Server2 start snapshot! index=129
term 23 server2 snapshot success
lastIncludedIndex=129 lastApplied=130 lastIndex=133
-------------------------------------------------------------
!!!!!!connect server 1
client write log 7883029995082159936 (index 134) to leader 0
term 23 server 2 not vote for server 1, 日志不够新
term 23 server 0 not vote for server 1, 日志不够新
term 25 server 2 vote for server 0
term 25 server 1 vote for server 0
term 25 server 0 get vote from server 2
term 25 server 0 become leader
------------------------------------------------------
term 25 server 0 get outdate rpc reply from server 1
flag 2625 term 25 leader 0 nextIndex[1]: 135  matchIndex[1]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 94424 term 25 leader 0 nextIndex[2]: 135  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 25 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 135->134
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 135->134
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 leader 0 nextIndex[1]: 118  matchIndex[1]: 0
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 129  LastIncludedTerm: 23
------------------------------------------------------
flag 72591 term 25 leader 0 nextIndex[2]: 134  matchIndex[2]: 0
term 25 leader 0 sendAppendEntries PrevLogIndex: 133  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 1 InstallSnapshot success
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 129 rf.lastIncludedTerm 23 rf.commitIndex 129 rf.lastApplied 129
term 25 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 130 matchIndex[1] 129 
------------------------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14463 term 25 leader 0 nextIndex[1]: 130  matchIndex[1]: 129
term 25 leader 0 sendAppendEntries PrevLogIndex: 129  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 64664 term 25 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:129 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
flag 78589 term 25 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 66485 term 25 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
flag 86503 term 25 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 96709 term 25 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
flag 36672 term 25 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 19214 term 25 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
flag 64103 term 25 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 18444 term 25 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
flag 6928 term 25 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 38739 term 25 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
flag 56459 term 25 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 66712 term 25 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
flag 16348 term 25 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 28220 term 25 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
flag 81358 term 25 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 59801 term 25 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
flag 80873 term 25 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 5396 term 25 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52152 term 25 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 82559 term 25 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
term 25 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49647 term 25 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 70901 term 25 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 27561 term 25 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 85345 term 25 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
flag 7087 term 25 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 91049 term 25 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 74590 term 25 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 22922 term 25 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
flag 34861 term 25 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 56178 term 25 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
flag 28669 term 25 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 20670 term 25 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
flag 14466 term 25 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 5939 term 25 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=135
update matchIndex[2]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=135
update matchIndex[1]=134
update leader CommitIndex=133
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134}]
------------------------------------------------------
client write log 7883029995082159936 (index 135) to leader 0
flag 9984 term 25 leader 0 nextIndex[1]: 135  matchIndex[1]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
flag 47340 term 25 leader 0 nextIndex[2]: 135  matchIndex[2]: 134
term 25 leader 0 sendAppendEntries PrevLogIndex: 134  PrevLogTerm: 23 leaderCommit: 133 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:133 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:133 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134} {7883029995082159936 25 135}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134} {7883029995082159936 25 135}]
------------------------------------------------------
flag 89493 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 5898 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134} {7883029995082159936 25 135}]
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134} {7883029995082159936 25 135}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19374 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 48778 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134} {7883029995082159936 25 135}]
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134} {7883029995082159936 25 135}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63989 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 67986 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134} {7883029995082159936 25 135}]
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134} {7883029995082159936 25 135}]
------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40457 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 36850 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134} {7883029995082159936 25 135}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134} {7883029995082159936 25 135}]
------------------------------------------------------
flag 26738 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 97537 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134} {7883029995082159936 25 135}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134} {7883029995082159936 25 135}]
------------------------------------------------------
flag 95118 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 59799 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
term 25 server 1 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=136
update matchIndex[2]=135
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134} {7883029995082159936 25 135}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=136
update matchIndex[1]=135
update leader CommitIndex=135
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134} {7883029995082159936 25 135}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 2034972994235891854 (index 136) to leader 0
flag 18239 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
flag 78696 term 25 leader 0 nextIndex[2]: 136  matchIndex[2]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 135 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:135 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134} {7883029995082159936 25 135} {2034972994235891854 25 136}]
------------------------------------------------------
flag 15532 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 52004 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=137
update matchIndex[2]=136
update leader CommitIndex=136
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134} {7883029995082159936 25 135} {2034972994235891854 25 136}]
------------------------------------------------------
client write log 3210049321388104129 (index 137) to leader 0
client write log 6483738615248751396 (index 138) to leader 0
client write log 1334994098550544445 (index 139) to leader 0
client write log 4054916362129449237 (index 140) to leader 0
client write log 6576954296285009334 (index 141) to leader 0
client write log 1103636627763259285 (index 142) to leader 0
client write log 7291098656995270665 (index 143) to leader 0
client write log 7344030320005398225 (index 144) to leader 0
flag 3978 term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendAppendEntries PrevLogIndex: 135  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
flag 68628 term 25 leader 0 nextIndex[2]: 137  matchIndex[2]: 136
term 25 leader 0 sendAppendEntries PrevLogIndex: 136  PrevLogTerm: 25 leaderCommit: 136 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:136 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 23 129} {3977280131176456916 23 130} {6191178565659514986 23 131} {9009310496337360924 23 132} {586862278901586149 23 133} {7883029995082159936 23 134} {7883029995082159936 25 135} {2034972994235891854 25 136} {3210049321388104129 25 137} {6483738615248751396 25 138} {1334994098550544445 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144}]
------------------------------------------------------
term 25 Server0 start snapshot! index=139
term 25 server0 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=144
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 25
------------------------------------------------------
flag 67937 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=145
update matchIndex[2]=144
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144}]
------------------------------------------------------
term 25 Server2 start snapshot! index=139
term 25 server2 snapshot success
lastIncludedIndex=139 lastApplied=140 lastIndex=144
-------------------------------------------------------------
!!!!!!connect server 1
client write log 8629472918732628437 (index 145) to leader 0
term 25 leader 0 nextIndex[1]: 136  matchIndex[1]: 135
term 25 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 25
------------------------------------------------------
flag 8122 term 25 leader 0 nextIndex[2]: 145  matchIndex[2]: 144
term 25 leader 0 sendAppendEntries PrevLogIndex: 144  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 26 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 25 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 25 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 27 server 2 vote for server 0
term 27 server 1 vote for server 0
term 27 server 0 get vote from server 1
term 27 server 0 become leader
------------------------------------------------------
term 27 server 0 get outdate rpc reply from server 2
flag 84730 term 27 leader 0 nextIndex[1]: 146  matchIndex[1]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
flag 47311 term 27 leader 0 nextIndex[2]: 146  matchIndex[2]: 0
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 27 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 146->145
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
term 27 leader 0 nextIndex[1]: 136  matchIndex[1]: 0
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 25
------------------------------------------------------
flag 89003 term 27 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 27 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueServer1 get CondInstallSnapshot!
rf.lastIncludedIndex 139 rf.lastIncludedTerm 25 rf.commitIndex 139 rf.lastApplied 139
update nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
term 27 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 140 matchIndex[1] 139 
------------------------------------------------------------------------
term 27 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 27 server 1 not vote for server 0, 任期不够新
term 27 server 0 get outdate rpc reply from server 1
flag 58173 term 27 leader 0 nextIndex[1]: 140  matchIndex[1]: 139
term 27 leader 0 sendAppendEntries PrevLogIndex: 139  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
flag 45566 term 27 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:139 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
flag 84740 term 27 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
flag 99984 term 27 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
flag 47144 term 27 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
flag 4032 term 27 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
flag 99380 term 27 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
flag 98924 term 27 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
flag 81870 term 27 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
flag 81225 term 27 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
flag 63612 term 27 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
flag 94237 term 27 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
flag 33942 term 27 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
flag 3533 term 27 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
flag 19272 term 27 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
flag 54991 term 27 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
flag 70252 term 27 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
flag 75964 term 27 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
flag 41606 term 27 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
flag 46116 term 27 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
term 27 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
flag 10344 term 27 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
flag 48602 term 27 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
flag 67689 term 27 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
flag 67599 term 27 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
flag 5317 term 27 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
flag 43284 term 27 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
flag 61941 term 27 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
flag 4360 term 27 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
flag 55084 term 27 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
flag 41130 term 27 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
flag 13047 term 27 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
flag 36655 term 27 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=146
update matchIndex[2]=145
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=146
update matchIndex[1]=145
update leader CommitIndex=144
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145}]
------------------------------------------------------
client write log 8629472918732628437 (index 146) to leader 0
flag 25210 term 27 leader 0 nextIndex[1]: 146  matchIndex[1]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
flag 96741 term 27 leader 0 nextIndex[2]: 146  matchIndex[2]: 145
term 27 leader 0 sendAppendEntries PrevLogIndex: 145  PrevLogTerm: 25 leaderCommit: 144 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:144 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:144 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145} {8629472918732628437 27 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145} {8629472918732628437 27 146}]
------------------------------------------------------
flag 20177 term 27 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 27 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
flag 34967 term 27 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 27 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145} {8629472918732628437 27 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145} {8629472918732628437 27 146}]
------------------------------------------------------
flag 48144 term 27 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 27 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
flag 50958 term 27 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 27 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
term 27 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145} {8629472918732628437 27 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145} {8629472918732628437 27 146}]
------------------------------------------------------
flag 91862 term 27 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 27 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
flag 44046 term 27 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 27 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145} {8629472918732628437 27 146}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145} {8629472918732628437 27 146}]
------------------------------------------------------
flag 85866 term 27 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 27 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
flag 95010 term 27 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 27 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145} {8629472918732628437 27 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145} {8629472918732628437 27 146}]
------------------------------------------------------
flag 41609 term 27 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 27 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
flag 1476 term 27 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 27 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145} {8629472918732628437 27 146}]
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145} {8629472918732628437 27 146}]
------------------------------------------------------
flag 96099 term 27 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 27 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
flag 23331 term 27 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 27 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 27 server 1 AppendEntries true commitIndex:146 
------------------------------------------------------
term 27 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=147
update matchIndex[1]=146
update leader CommitIndex=146
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145} {8629472918732628437 27 146}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=147
update matchIndex[2]=146
update leader CommitIndex=146
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145} {8629472918732628437 27 146}]
------------------------------------------------------
!!!!!!diconnect server 0
term 27 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 30698 term 27 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 27 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
flag 91396 term 27 leader 0 nextIndex[2]: 147  matchIndex[2]: 146
term 27 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 147->146
------------------------------------------------------
flag 88641 term 27 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 27 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 27 leader 0 nextIndex[2]: 0  matchIndex[2]: 146
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 25
------------------------------------------------------
flag 92923 term 27 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 27 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 27 leader 0 nextIndex[2]: 0  matchIndex[2]: 146
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 25
------------------------------------------------------
flag 96432 term 27 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 27 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 27 leader 0 nextIndex[2]: 0  matchIndex[2]: 146
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 25
------------------------------------------------------
term 28 server 2 vote for server 1
term 28 server 1 get vote from server 2
term 28 server 1 become leader
------------------------------------------------------
client write log 6425978270682693625 (index 147) to leader 1
flag 82474 term 28 leader 1 nextIndex[0]: 147  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
flag 92847 term 28 leader 1 nextIndex[2]: 147  matchIndex[2]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:146 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145} {8629472918732628437 27 146} {6425978270682693625 28 147}]
------------------------------------------------------
flag 58844 term 27 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 27 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 27 leader 0 nextIndex[2]: 0  matchIndex[2]: 146
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 25
------------------------------------------------------
flag 79422 term 28 leader 1 nextIndex[0]: 147  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
flag 84951 term 28 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 28 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 28 leaderCommit: 147 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=148
update matchIndex[2]=147
update leader CommitIndex=147
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145} {8629472918732628437 27 146} {6425978270682693625 28 147}]
------------------------------------------------------
client write log 3614939652157038972 (index 148) to leader 1
client write log 2867012662821355914 (index 149) to leader 1
client write log 6621768003812310536 (index 150) to leader 1
client write log 7136033483094917718 (index 151) to leader 1
client write log 3100314707755898650 (index 152) to leader 1
client write log 4471194965591742498 (index 153) to leader 1
client write log 2547501987878607354 (index 154) to leader 1
client write log 7624880274245070705 (index 155) to leader 1
client write log 7637796054797449818 (index 156) to leader 1
client write log 7501937126976921036 (index 157) to leader 1
client write log 3335326407187946220 (index 158) to leader 1
client write log 5870753320656186329 (index 159) to leader 1
client write log 3493023397450621932 (index 160) to leader 1
client write log 6528648091532666618 (index 161) to leader 1
client write log 6724731734190337794 (index 162) to leader 1
flag 82768 term 27 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 27 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 27 leader 0 nextIndex[2]: 0  matchIndex[2]: 146
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 25
------------------------------------------------------
flag 19583 term 28 leader 1 nextIndex[0]: 147  matchIndex[0]: 0
term 28 leader 1 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 27 leaderCommit: 147 
------------------------------------------------------
flag 75195 term 28 leader 1 nextIndex[2]: 148  matchIndex[2]: 147
term 28 leader 1 sendAppendEntries PrevLogIndex: 147  PrevLogTerm: 28 leaderCommit: 147 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:147 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 25 139} {4054916362129449237 25 140} {6576954296285009334 25 141} {1103636627763259285 25 142} {7291098656995270665 25 143} {7344030320005398225 25 144} {8629472918732628437 25 145} {8629472918732628437 27 146} {6425978270682693625 28 147} {3614939652157038972 28 148} {2867012662821355914 28 149} {6621768003812310536 28 150} {7136033483094917718 28 151} {3100314707755898650 28 152} {4471194965591742498 28 153} {2547501987878607354 28 154} {7624880274245070705 28 155} {7637796054797449818 28 156} {7501937126976921036 28 157} {3335326407187946220 28 158} {5870753320656186329 28 159} {3493023397450621932 28 160} {6528648091532666618 28 161} {6724731734190337794 28 162}]
------------------------------------------------------
term 28 Server1 start snapshot! index=149
term 28 server1 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=162
-------------------------------------------------------------
term 28 Server1 start snapshot! index=159
term 28 server1 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=162
-------------------------------------------------------------
flag 51237 term 27 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 27 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 27 leader 0 nextIndex[2]: 0  matchIndex[2]: 146
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 25
------------------------------------------------------
term 28 leader 1 nextIndex[0]: 147  matchIndex[0]: 0
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 28
------------------------------------------------------
flag 40280 term 28 leader 1 nextIndex[2]: 163  matchIndex[2]: 162
term 28 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 28 leaderCommit: 162 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=163
update matchIndex[2]=162
update leader CommitIndex=162
leader log:
[{snapshot 28 159} {3493023397450621932 28 160} {6528648091532666618 28 161} {6724731734190337794 28 162}]
------------------------------------------------------
term 28 Server2 start snapshot! index=149
term 28 server2 snapshot success
lastIncludedIndex=149 lastApplied=149 lastIndex=162
-------------------------------------------------------------
term 28 Server2 start snapshot! index=159
term 28 server2 snapshot success
lastIncludedIndex=159 lastApplied=159 lastIndex=162
-------------------------------------------------------------
!!!!!!connect server 0
client write log 1678536968168982407 (index 163) to leader 1
flag 67286 term 27 leader 0 nextIndex[1]: 147  matchIndex[1]: 146
term 27 leader 0 sendAppendEntries PrevLogIndex: 146  PrevLogTerm: 27 leaderCommit: 146 
------------------------------------------------------
term 27 leader 0 nextIndex[2]: 0  matchIndex[2]: 146
term 27 leader 0 sendInstallSnapshot LastIncludedIndex: 139  LastIncludedTerm: 25
------------------------------------------------------
term 28 server 1 AppendEntries false 领导者任期过期 args.Term 27
------------------------------------------------------
term 28 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 28 leader 1 nextIndex[0]: 147  matchIndex[0]: 0
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 159  LastIncludedTerm: 28
------------------------------------------------------
flag 67147 term 28 leader 1 nextIndex[2]: 163  matchIndex[2]: 162
term 28 leader 1 sendAppendEntries PrevLogIndex: 162  PrevLogTerm: 28 leaderCommit: 162 
------------------------------------------------------
term 28 server 0 InstallSnapshot success
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:162 
------------------------------------------------------
Server0 get CondInstallSnapshot!
rf.lastIncludedIndex 159 rf.lastIncludedTerm 28 rf.commitIndex 159 rf.lastApplied 159
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {3493023397450621932 28 160} {6528648091532666618 28 161} {6724731734190337794 28 162} {1678536968168982407 28 163}]
------------------------------------------------------
term 28 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 160 matchIndex[0] 159 
------------------------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 58206 term 28 leader 1 nextIndex[0]: 160  matchIndex[0]: 159
term 28 leader 1 sendAppendEntries PrevLogIndex: 159  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
flag 41695 term 28 leader 1 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 1 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {3493023397450621932 28 160} {6528648091532666618 28 161} {6724731734190337794 28 162} {1678536968168982407 28 163}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:159 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=164
update matchIndex[0]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {3493023397450621932 28 160} {6528648091532666618 28 161} {6724731734190337794 28 162} {1678536968168982407 28 163}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85455 term 28 leader 1 nextIndex[0]: 164  matchIndex[0]: 163
term 28 leader 1 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
flag 60587 term 28 leader 1 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 1 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {3493023397450621932 28 160} {6528648091532666618 28 161} {6724731734190337794 28 162} {1678536968168982407 28 163}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=164
update matchIndex[0]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {3493023397450621932 28 160} {6528648091532666618 28 161} {6724731734190337794 28 162} {1678536968168982407 28 163}]
------------------------------------------------------
flag 2790 term 28 leader 1 nextIndex[0]: 164  matchIndex[0]: 163
term 28 leader 1 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
flag 29035 term 28 leader 1 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 1 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {3493023397450621932 28 160} {6528648091532666618 28 161} {6724731734190337794 28 162} {1678536968168982407 28 163}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=164
update matchIndex[0]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {3493023397450621932 28 160} {6528648091532666618 28 161} {6724731734190337794 28 162} {1678536968168982407 28 163}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57191 term 28 leader 1 nextIndex[0]: 164  matchIndex[0]: 163
term 28 leader 1 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
flag 33041 term 28 leader 1 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 1 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {3493023397450621932 28 160} {6528648091532666618 28 161} {6724731734190337794 28 162} {1678536968168982407 28 163}]
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=164
update matchIndex[0]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {3493023397450621932 28 160} {6528648091532666618 28 161} {6724731734190337794 28 162} {1678536968168982407 28 163}]
------------------------------------------------------
term 28 server 2 not vote for server 1, 任期不够新
term 28 server 1 get outdate rpc reply from server 2
flag 93690 term 28 leader 1 nextIndex[0]: 164  matchIndex[0]: 163
term 28 leader 1 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
flag 1338 term 28 leader 1 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 1 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {3493023397450621932 28 160} {6528648091532666618 28 161} {6724731734190337794 28 162} {1678536968168982407 28 163}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=164
update matchIndex[0]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {3493023397450621932 28 160} {6528648091532666618 28 161} {6724731734190337794 28 162} {1678536968168982407 28 163}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68518 term 28 leader 1 nextIndex[0]: 164  matchIndex[0]: 163
term 28 leader 1 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
flag 55074 term 28 leader 1 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 1 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=164
update matchIndex[0]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {3493023397450621932 28 160} {6528648091532666618 28 161} {6724731734190337794 28 162} {1678536968168982407 28 163}]
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {3493023397450621932 28 160} {6528648091532666618 28 161} {6724731734190337794 28 162} {1678536968168982407 28 163}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35788 term 28 leader 1 nextIndex[0]: 164  matchIndex[0]: 163
term 28 leader 1 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
flag 64664 term 28 leader 1 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 1 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 server 2 AppendEntries true commitIndex:163 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=164
update matchIndex[2]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {3493023397450621932 28 160} {6528648091532666618 28 161} {6724731734190337794 28 162} {1678536968168982407 28 163}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=164
update matchIndex[0]=163
update leader CommitIndex=163
leader log:
[{snapshot 28 159} {3493023397450621932 28 160} {6528648091532666618 28 161} {6724731734190337794 28 162} {1678536968168982407 28 163}]
------------------------------------------------------
!!!!!!diconnect server 2
client write log 5182185290006570292 (index 164) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96243 term 28 leader 1 nextIndex[0]: 164  matchIndex[0]: 163
term 28 leader 1 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
flag 26160 term 28 leader 1 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 1 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 163 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:163 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 28 159} {3493023397450621932 28 160} {6528648091532666618 28 161} {6724731734190337794 28 162} {1678536968168982407 28 163} {5182185290006570292 28 164}]
------------------------------------------------------
term 28 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 28175 term 28 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 28 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
flag 72350 term 28 leader 1 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 1 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=165
update matchIndex[0]=164
update leader CommitIndex=164
leader log:
[{snapshot 28 159} {3493023397450621932 28 160} {6528648091532666618 28 161} {6724731734190337794 28 162} {1678536968168982407 28 163} {5182185290006570292 28 164}]
------------------------------------------------------
client write log 3308633946094024094 (index 165) to leader 1
client write log 6380683537360418146 (index 166) to leader 1
client write log 1320010763553533862 (index 167) to leader 1
client write log 6823982154873606469 (index 168) to leader 1
client write log 5894779047380316218 (index 169) to leader 1
client write log 8084979234431330576 (index 170) to leader 1
client write log 2107666972471313805 (index 171) to leader 1
client write log 5312627667398490633 (index 172) to leader 1
client write log 5493819824491708129 (index 173) to leader 1
client write log 2631377331348360852 (index 174) to leader 1
client write log 6133388457791832120 (index 175) to leader 1
client write log 2626354114545582335 (index 176) to leader 1
client write log 7418669201966004268 (index 177) to leader 1
flag 85193 term 28 leader 1 nextIndex[0]: 165  matchIndex[0]: 164
term 28 leader 1 sendAppendEntries PrevLogIndex: 164  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
flag 88352 term 28 leader 1 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 1 sendAppendEntries PrevLogIndex: 163  PrevLogTerm: 28 leaderCommit: 164 
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:164 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 159} {3493023397450621932 28 160} {6528648091532666618 28 161} {6724731734190337794 28 162} {1678536968168982407 28 163} {5182185290006570292 28 164} {3308633946094024094 28 165} {6380683537360418146 28 166} {1320010763553533862 28 167} {6823982154873606469 28 168} {5894779047380316218 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177}]
------------------------------------------------------
term 28 Server1 start snapshot! index=169
term 28 server1 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=177
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 43629 term 28 leader 1 nextIndex[0]: 178  matchIndex[0]: 177
term 28 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 28 leader 1 nextIndex[2]: 164  matchIndex[2]: 163
term 28 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
term 28 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=178
update matchIndex[0]=177
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177}]
------------------------------------------------------
term 28 Server0 start snapshot! index=169
term 28 server0 snapshot success
lastIncludedIndex=169 lastApplied=170 lastIndex=177
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2447170523595299504 (index 178) to leader 1
term 28 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 28 server 1 not vote for server 2, 日志不够新
term 28 server 0 not vote for server 2, 日志不够新
term 30 server 2 vote for server 1
term 30 server 0 vote for server 1
term 30 server 1 get vote from server 2
term 30 server 1 become leader
------------------------------------------------------
term 30 server 1 get outdate rpc reply from server 0
flag 81032 term 30 leader 1 nextIndex[0]: 179  matchIndex[0]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 40945 term 30 leader 1 nextIndex[2]: 179  matchIndex[2]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 30 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 179->178
------------------------------------------------------
term 30 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 179->178
------------------------------------------------------
flag 61775 term 30 leader 1 nextIndex[0]: 178  matchIndex[0]: 0
term 30 leader 1 sendAppendEntries PrevLogIndex: 177  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 30 leader 1 nextIndex[2]: 164  matchIndex[2]: 0
term 30 leader 1 sendInstallSnapshot LastIncludedIndex: 169  LastIncludedTerm: 28
------------------------------------------------------
term 30 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 169 rf.lastIncludedTerm 28 rf.commitIndex 169 rf.lastApplied 169
term 30 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
term 30 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 170 matchIndex[2] 169 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
flag 29714 term 30 leader 1 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 38712 term 30 leader 1 nextIndex[2]: 170  matchIndex[2]: 169
term 30 leader 1 sendAppendEntries PrevLogIndex: 169  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:169 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
flag 47823 term 30 leader 1 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 20503 term 30 leader 1 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
flag 81105 term 30 leader 1 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 96270 term 30 leader 1 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
term 30 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 39838 term 30 leader 1 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 85033 term 30 leader 1 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
flag 13964 term 30 leader 1 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 47800 term 30 leader 1 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40939 term 30 leader 1 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 11136 term 30 leader 1 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
term 30 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 76238 term 30 leader 1 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 32907 term 30 leader 1 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
flag 23303 term 30 leader 1 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 76211 term 30 leader 1 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
term 30 leader 0 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 22036 term 30 leader 1 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 11054 term 30 leader 1 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
flag 40896 term 30 leader 1 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 43439 term 30 leader 1 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
flag 62427 term 30 leader 1 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 61350 term 30 leader 1 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
flag 51246 term 30 leader 1 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 27329 term 30 leader 1 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
flag 93794 term 30 leader 1 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 77747 term 30 leader 1 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
flag 84774 term 30 leader 1 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 94406 term 30 leader 1 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
term 30 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 23672 term 30 leader 1 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 44535 term 30 leader 1 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
flag 40214 term 30 leader 1 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 56262 term 30 leader 1 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
flag 20723 term 30 leader 1 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 39763 term 30 leader 1 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
flag 80652 term 30 leader 1 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 77856 term 30 leader 1 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=179
update matchIndex[2]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=179
update matchIndex[0]=178
update leader CommitIndex=177
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178}]
------------------------------------------------------
client write log 2447170523595299504 (index 179) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 28208 term 30 leader 1 nextIndex[0]: 179  matchIndex[0]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
flag 34090 term 30 leader 1 nextIndex[2]: 179  matchIndex[2]: 178
term 30 leader 1 sendAppendEntries PrevLogIndex: 178  PrevLogTerm: 28 leaderCommit: 177 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178} {2447170523595299504 30 179}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:177 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 28 169} {8084979234431330576 28 170} {2107666972471313805 28 171} {5312627667398490633 28 172} {5493819824491708129 28 173} {2631377331348360852 28 174} {6133388457791832120 28 175} {2626354114545582335 28 176} {7418669201966004268 28 177} {2447170523595299504 28 178} {2447170523595299504 30 179}]
------------------------------------------------------
term 30 Server1 start snapshot! index=179
term 30 server1 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
flag 44431 term 30 leader 1 nextIndex[0]: 180  matchIndex[0]: 179
term 30 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
flag 46723 term 30 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 30 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
------------------------------------------------------
term 30 Server0 start snapshot! index=179
term 30 server0 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
term 30 Server2 start snapshot! index=179
term 30 server2 snapshot success
lastIncludedIndex=179 lastApplied=179 lastIndex=179
-------------------------------------------------------------
flag 6084 term 30 leader 1 nextIndex[0]: 180  matchIndex[0]: 179
term 30 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
flag 53669 term 30 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 30 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
------------------------------------------------------
term 30 server 0 not vote for server 1, 任期不够新
term 30 server 1 get outdate rpc reply from server 0
flag 80190 term 30 leader 1 nextIndex[0]: 180  matchIndex[0]: 179
term 30 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
flag 92130 term 30 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 30 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
------------------------------------------------------
flag 35009 term 30 leader 1 nextIndex[0]: 180  matchIndex[0]: 179
term 30 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
flag 43626 term 30 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 30 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
term 30 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
------------------------------------------------------
flag 32459 term 30 leader 1 nextIndex[0]: 180  matchIndex[0]: 179
term 30 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
flag 32894 term 30 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 30 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
term 30 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
[{snapshot 30 179}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
------------------------------------------------------
flag 76770 term 30 leader 1 nextIndex[0]: 180  matchIndex[0]: 179
term 30 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
flag 48620 term 30 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 30 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
term 30 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=180
update matchIndex[2]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=180
update matchIndex[0]=179
update leader CommitIndex=179
leader log:
[{snapshot 30 179}]
------------------------------------------------------
!!!!!!diconnect server 2
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 6447847648818734258 (index 180) to leader 1
flag 84112 term 30 leader 1 nextIndex[0]: 180  matchIndex[0]: 179
term 30 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
flag 11891 term 30 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 30 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 179 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {6447847648818734258 30 180}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62757 term 30 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 30 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
flag 72879 term 30 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 30 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=181
update matchIndex[0]=180
update leader CommitIndex=180
leader log:
[{snapshot 30 179} {6447847648818734258 30 180}]
------------------------------------------------------
client write log 7944758270530691900 (index 181) to leader 1
client write log 7096468278706237840 (index 182) to leader 1
client write log 1623597192351653505 (index 183) to leader 1
client write log 7814823211564855262 (index 184) to leader 1
client write log 2540456517610264117 (index 185) to leader 1
client write log 7841088928028999424 (index 186) to leader 1
client write log 8114836079015702063 (index 187) to leader 1
client write log 664572041722786106 (index 188) to leader 1
flag 65685 term 30 leader 1 nextIndex[0]: 181  matchIndex[0]: 180
term 30 leader 1 sendAppendEntries PrevLogIndex: 180  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
flag 27096 term 30 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 30 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 180 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:180 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188}]
------------------------------------------------------
flag 82335 term 30 leader 1 nextIndex[0]: 189  matchIndex[0]: 188
term 30 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 79965 term 30 leader 1 nextIndex[2]: 180  matchIndex[2]: 179
term 30 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 30 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=189
update matchIndex[0]=188
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188}]
------------------------------------------------------
!!!!!!connect server 2
client write log 3429210236101216037 (index 189) to leader 1
term 30 server 1 not vote for server 2, 日志不够新
term 30 server 0 not vote for server 2, 日志不够新
term 32 server 2 vote for server 1
term 32 server 0 vote for server 1
term 32 server 1 get vote from server 2
term 32 server 1 become leader
------------------------------------------------------
term 32 server 1 get outdate rpc reply from server 0
flag 75733 term 32 leader 1 nextIndex[0]: 190  matchIndex[0]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 40331 term 32 leader 1 nextIndex[2]: 190  matchIndex[2]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 190->189
------------------------------------------------------
term 32 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 190->189
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 97668 term 32 leader 1 nextIndex[0]: 189  matchIndex[0]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 188  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 39202 term 32 leader 1 nextIndex[2]: 180  matchIndex[2]: 0
term 32 leader 1 sendAppendEntries PrevLogIndex: 179  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:179 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
flag 20408 term 32 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 36956 term 32 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
flag 35178 term 32 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 38613 term 32 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64584 term 32 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 75175 term 32 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
flag 64706 term 32 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 92668 term 32 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
flag 19236 term 32 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 95387 term 32 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
term 32 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
flag 16837 term 32 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 81790 term 32 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 13997 term 32 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 11297 term 32 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
flag 98255 term 32 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 12457 term 32 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
flag 70869 term 32 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 46761 term 32 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
flag 79127 term 32 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 92519 term 32 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99647 term 32 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 61754 term 32 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18245 term 32 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 63623 term 32 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
flag 23742 term 32 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 68851 term 32 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueterm 32 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
update nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
flag 83013 term 32 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 26114 term 32 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
flag 1848 term 32 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 42596 term 32 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
term 32 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 92651 term 32 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 3963 term 32 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
term 32 server 0 not vote for server 1, 任期不够新
term 32 server 1 get outdate rpc reply from server 0
flag 83143 term 32 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 8661 term 32 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
flag 37201 term 32 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 71896 term 32 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=190
update matchIndex[2]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=190
update matchIndex[0]=189
update leader CommitIndex=188
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189}]
------------------------------------------------------
client write log 3429210236101216037 (index 190) to leader 1
flag 20456 term 32 leader 1 nextIndex[0]: 190  matchIndex[0]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
flag 90350 term 32 leader 1 nextIndex[2]: 190  matchIndex[2]: 189
term 32 leader 1 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 188 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189} {3429210236101216037 32 190}]
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:188 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 179} {6447847648818734258 30 180} {7944758270530691900 30 181} {7096468278706237840 30 182} {1623597192351653505 30 183} {7814823211564855262 30 184} {2540456517610264117 30 185} {7841088928028999424 30 186} {8114836079015702063 30 187} {664572041722786106 30 188} {3429210236101216037 30 189} {3429210236101216037 32 190}]
------------------------------------------------------
term 32 Server1 start snapshot! index=189
term 32 server1 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=190
-------------------------------------------------------------
flag 89938 term 32 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 32 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 26816 term 32 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 32 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
term 32 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader log:
[{snapshot 30 189} {3429210236101216037 32 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3429210236101216037 32 190}]
------------------------------------------------------
term 32 Server0 start snapshot! index=189
term 32 server0 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=190
-------------------------------------------------------------
term 32 Server2 start snapshot! index=189
term 32 server2 snapshot success
lastIncludedIndex=189 lastApplied=190 lastIndex=190
-------------------------------------------------------------
flag 97429 term 32 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 32 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 96198 term 32 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 32 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3429210236101216037 32 190}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3429210236101216037 32 190}]
------------------------------------------------------
flag 5575 term 32 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 32 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 52604 term 32 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 32 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3429210236101216037 32 190}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3429210236101216037 32 190}]
------------------------------------------------------
flag 89766 term 32 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 32 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 88540 term 32 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 32 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3429210236101216037 32 190}]
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3429210236101216037 32 190}]
------------------------------------------------------
flag 4 term 32 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 32 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 40609 term 32 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 32 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3429210236101216037 32 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3429210236101216037 32 190}]
------------------------------------------------------
flag 29096 term 32 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 32 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 92944 term 32 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 32 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
term 32 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
term 32 server 0 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3429210236101216037 32 190}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=191
update matchIndex[0]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3429210236101216037 32 190}]
------------------------------------------------------
!!!!!!diconnect server 1
flag 16035 term 32 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 32 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 9327 term 32 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 32 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 51684 term 32 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 32 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 66577 term 32 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 32 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 42667 term 32 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 32 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 12488 term 32 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 32 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 29091 term 32 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 32 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 49209 term 32 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 32 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 33 server 2 vote for server 0
term 33 server 0 get vote from server 2
term 33 server 0 become leader
------------------------------------------------------
flag 82664 term 33 leader 0 nextIndex[1]: 191  matchIndex[1]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 15027 term 33 leader 0 nextIndex[2]: 191  matchIndex[2]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=191
update matchIndex[2]=190
update leader CommitIndex=190
leader log:
[{snapshot 30 189} {3429210236101216037 32 190}]
------------------------------------------------------
client write log 870906368521275283 (index 191) to leader 0
flag 94436 term 32 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 32 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 81767 term 32 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 32 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 89832 term 33 leader 0 nextIndex[1]: 191  matchIndex[1]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 59206 term 33 leader 0 nextIndex[2]: 191  matchIndex[2]: 190
term 33 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:190 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191}]
------------------------------------------------------
flag 11072 term 32 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 32 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 14866 term 32 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 32 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 45049 term 33 leader 0 nextIndex[1]: 191  matchIndex[1]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 42252 term 33 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 33 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=192
update matchIndex[2]=191
update leader CommitIndex=191
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191}]
------------------------------------------------------
client write log 8844832428609064242 (index 192) to leader 0
flag 2185 term 32 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 32 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 73199 term 32 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 32 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 72181 term 33 leader 0 nextIndex[1]: 191  matchIndex[1]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 191 
------------------------------------------------------
flag 69967 term 33 leader 0 nextIndex[2]: 192  matchIndex[2]: 191
term 33 leader 0 sendAppendEntries PrevLogIndex: 191  PrevLogTerm: 33 leaderCommit: 191 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
flag 48741 term 32 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 32 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 40007 term 32 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 32 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 31725 term 33 leader 0 nextIndex[1]: 191  matchIndex[1]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 60762 term 33 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
!!!!!!connect server 1
client write log 8927801334922006980 (index 191) to leader 1
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15733 term 32 leader 1 nextIndex[0]: 191  matchIndex[0]: 190
term 32 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
flag 53433 term 32 leader 1 nextIndex[2]: 191  matchIndex[2]: 190
term 32 leader 1 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 190 
------------------------------------------------------
term 33 server 2 AppendEntries false 领导者任期过期 args.Term 32
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 33 server 0 AppendEntries false 领导者任期过期 args.Term 32
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 8691 term 33 leader 0 nextIndex[1]: 191  matchIndex[1]: 0
term 33 leader 0 sendAppendEntries PrevLogIndex: 190  PrevLogTerm: 32 leaderCommit: 192 
------------------------------------------------------
flag 64541 term 33 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:191 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
flag 33228 term 33 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 92896 term 33 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
flag 97121 term 33 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 30453 term 33 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
flag 58396 term 33 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 62064 term 33 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
flag 84993 term 33 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 24251 term 33 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:192 
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
flag 83000 term 33 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 36609 term 33 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
flag 34882 term 33 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 64495 term 33 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81928 term 33 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 78847 term 33 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
flag 27499 term 33 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 78090 term 33 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
flag 63059 term 33 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 21513 term 33 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
flag 33619 term 33 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 78808 term 33 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
flag 87735 term 33 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 7437 term 33 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
flag 10375 term 33 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 78429 term 33 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueterm 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
update nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
flag 91623 term 33 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 832 term 33 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
flag 98856 term 33 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 56743 term 33 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 193->192
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 0  matchIndex[1]: 192
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
flag 8697 term 33 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
term 33 server 1 InstallSnapshot fail
rf.commitIndex 192 args.LastIncludedIndex 189
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 190 matchIndex[1] 189 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 96621 term 33 leader 0 nextIndex[1]: 190  matchIndex[1]: 189
term 33 leader 0 sendAppendEntries PrevLogIndex: 189  PrevLogTerm: 30 leaderCommit: 192 
------------------------------------------------------
flag 57152 term 33 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
flag 78234 term 33 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 11263 term 33 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 83367 term 33 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 37218 term 33 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
flag 39221 term 33 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 85808 term 33 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=193
update matchIndex[2]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=193
update matchIndex[1]=192
update leader CommitIndex=192
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192}]
------------------------------------------------------
client write log 8927801334922006980 (index 193) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15498 term 33 leader 0 nextIndex[1]: 193  matchIndex[1]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
flag 66308 term 33 leader 0 nextIndex[2]: 193  matchIndex[2]: 192
term 33 leader 0 sendAppendEntries PrevLogIndex: 192  PrevLogTerm: 33 leaderCommit: 192 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:192 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:192 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192} {8927801334922006980 33 193}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192} {8927801334922006980 33 193}]
------------------------------------------------------
flag 11809 term 33 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 33 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 193 
------------------------------------------------------
flag 55312 term 33 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 33 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 193 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192} {8927801334922006980 33 193}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192} {8927801334922006980 33 193}]
------------------------------------------------------
flag 64687 term 33 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 33 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 193 
------------------------------------------------------
flag 78535 term 33 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 33 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 193 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192} {8927801334922006980 33 193}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192} {8927801334922006980 33 193}]
------------------------------------------------------
flag 76383 term 33 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 33 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 193 
------------------------------------------------------
flag 74274 term 33 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 33 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 193 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
term 33 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192} {8927801334922006980 33 193}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192} {8927801334922006980 33 193}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 37851 term 33 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 33 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 193 
------------------------------------------------------
flag 74826 term 33 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 33 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 193 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192} {8927801334922006980 33 193}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192} {8927801334922006980 33 193}]
------------------------------------------------------
flag 61111 term 33 leader 0 nextIndex[1]: 194  matchIndex[1]: 193
term 33 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 193 
------------------------------------------------------
flag 7208 term 33 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 33 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 193 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192} {8927801334922006980 33 193}]
------------------------------------------------------
term 33 server 1 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=194
update matchIndex[1]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192} {8927801334922006980 33 193}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 194->193
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 0  matchIndex[1]: 193
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
flag 90427 term 33 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 33 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 193 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=194
update matchIndex[2]=193
update leader CommitIndex=193
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192} {8927801334922006980 33 193}]
------------------------------------------------------
term 33 server 1 InstallSnapshot fail
rf.commitIndex 193 args.LastIncludedIndex 189
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 190 matchIndex[1] 189 
------------------------------------------------------------------------
!!!!!!diconnect server 1
client write log 6262369580307961748 (index 194) to leader 0
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 190->189
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 0  matchIndex[1]: 189
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
flag 87396 term 33 leader 0 nextIndex[2]: 194  matchIndex[2]: 193
term 33 leader 0 sendAppendEntries PrevLogIndex: 193  PrevLogTerm: 33 leaderCommit: 193 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:193 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192} {8927801334922006980 33 193} {6262369580307961748 33 194}]
------------------------------------------------------
term 33 leader 0 nextIndex[1]: 0  matchIndex[1]: 189
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
flag 45663 term 33 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=195
update matchIndex[2]=194
update leader CommitIndex=194
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192} {8927801334922006980 33 193} {6262369580307961748 33 194}]
------------------------------------------------------
client write log 2916283720852727946 (index 195) to leader 0
client write log 3649234075223664852 (index 196) to leader 0
client write log 2707439662580837412 (index 197) to leader 0
client write log 4358535841621278338 (index 198) to leader 0
client write log 5593848251970351892 (index 199) to leader 0
client write log 6142191585176953147 (index 200) to leader 0
client write log 2635426103573794725 (index 201) to leader 0
client write log 235622267761762259 (index 202) to leader 0
client write log 813491285883263786 (index 203) to leader 0
client write log 4142045796951879431 (index 204) to leader 0
client write log 8439296384653121572 (index 205) to leader 0
client write log 2410690986149413970 (index 206) to leader 0
client write log 7068878120239828083 (index 207) to leader 0
client write log 2983713248511209056 (index 208) to leader 0
term 33 leader 0 nextIndex[1]: 0  matchIndex[1]: 189
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 189  LastIncludedTerm: 30
------------------------------------------------------
flag 9994 term 33 leader 0 nextIndex[2]: 195  matchIndex[2]: 194
term 33 leader 0 sendAppendEntries PrevLogIndex: 194  PrevLogTerm: 33 leaderCommit: 194 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:194 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 30 189} {3429210236101216037 32 190} {870906368521275283 33 191} {8844832428609064242 33 192} {8927801334922006980 33 193} {6262369580307961748 33 194} {2916283720852727946 33 195} {3649234075223664852 33 196} {2707439662580837412 33 197} {4358535841621278338 33 198} {5593848251970351892 33 199} {6142191585176953147 33 200} {2635426103573794725 33 201} {235622267761762259 33 202} {813491285883263786 33 203} {4142045796951879431 33 204} {8439296384653121572 33 205} {2410690986149413970 33 206} {7068878120239828083 33 207} {2983713248511209056 33 208}]
------------------------------------------------------
term 33 Server0 start snapshot! index=199
term 33 server0 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=208
-------------------------------------------------------------
term 33 leader 0 nextIndex[1]: 0  matchIndex[1]: 189
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 32130 term 33 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 33 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 33 leaderCommit: 208 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=209
update matchIndex[2]=208
update leader CommitIndex=208
leader log:
[{snapshot 33 199} {6142191585176953147 33 200} {2635426103573794725 33 201} {235622267761762259 33 202} {813491285883263786 33 203} {4142045796951879431 33 204} {8439296384653121572 33 205} {2410690986149413970 33 206} {7068878120239828083 33 207} {2983713248511209056 33 208}]
------------------------------------------------------
term 33 Server2 start snapshot! index=199
term 33 server2 snapshot success
lastIncludedIndex=199 lastApplied=200 lastIndex=208
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3964309347604963361 (index 209) to leader 0
term 33 leader 0 nextIndex[1]: 0  matchIndex[1]: 189
term 33 leader 0 sendInstallSnapshot LastIncludedIndex: 199  LastIncludedTerm: 33
------------------------------------------------------
flag 81177 term 33 leader 0 nextIndex[2]: 209  matchIndex[2]: 208
term 33 leader 0 sendAppendEntries PrevLogIndex: 208  PrevLogTerm: 33 leaderCommit: 208 
------------------------------------------------------
term 33 server 2 AppendEntries true commitIndex:208 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 33 199} {6142191585176953147 33 200} {2635426103573794725 33 201} {235622267761762259 33 202} {813491285883263786 33 203} {4142045796951879431 33 204} {8439296384653121572 33 205} {2410690986149413970 33 206} {7068878120239828083 33 207} {2983713248511209056 33 208} {3964309347604963361 33 209}]
------------------------------------------------------
term 34 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 33 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 34 Server0 start snapshot! index=209
term 34 server0 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
term 35 server 2 vote for server 0
term 35 server 1 vote for server 0
term 35 server 0 get vote from server 2
term 35 server 0 become leader
------------------------------------------------------
term 35 server 0 get outdate rpc reply from server 1
flag 88589 term 35 leader 0 nextIndex[1]: 210  matchIndex[1]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 209 
------------------------------------------------------
flag 54695 term 35 leader 0 nextIndex[2]: 210  matchIndex[2]: 0
term 35 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 209 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 33 209}]
------------------------------------------------------
term 35 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 210->209
------------------------------------------------------
term 35 Server2 start snapshot! index=209
term 35 server2 snapshot success
lastIncludedIndex=209 lastApplied=209 lastIndex=209
-------------------------------------------------------------
term 35 leader 0 nextIndex[1]: 194  matchIndex[1]: 0
term 35 leader 0 sendInstallSnapshot LastIncludedIndex: 209  LastIncludedTerm: 33
------------------------------------------------------
flag 80629 term 35 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 35 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 209 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 33 209}]
------------------------------------------------------
term 35 server 1 InstallSnapshot success
------------------------------------------------------
term 35 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 210 matchIndex[1] 209 
------------------------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 209 rf.lastIncludedTerm 33 rf.commitIndex 209 rf.lastApplied 209
flag 82745 term 35 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 35 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 209 
------------------------------------------------------
flag 82449 term 35 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 35 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 209 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 33 209}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 33 209}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 63658 term 35 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 35 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 209 
------------------------------------------------------
flag 37022 term 35 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 35 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 209 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 33 209}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 33 209}]
------------------------------------------------------
term 35 server 0 not vote for server 1, 任期不够新
term 35 server 1 get outdate rpc reply from server 0
flag 25223 term 35 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 35 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 209 
------------------------------------------------------
flag 57364 term 35 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 35 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 209 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 33 209}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 33 209}]
------------------------------------------------------
flag 84732 term 35 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 35 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 209 
------------------------------------------------------
flag 99174 term 35 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 35 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 209 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=210
update matchIndex[2]=209
update leader CommitIndex=209
leader log:
[{snapshot 33 209}]
------------------------------------------------------
term 35 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=210
update matchIndex[1]=209
update leader CommitIndex=209
leader log:
[{snapshot 33 209}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 4092529027431936196 (index 210) to leader 0
flag 33670 term 35 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 35 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 209 
------------------------------------------------------
flag 45218 term 35 leader 0 nextIndex[2]: 210  matchIndex[2]: 209
term 35 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 209 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 33 209} {4092529027431936196 35 210}]
------------------------------------------------------
flag 10880 term 35 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 35 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 210 
------------------------------------------------------
flag 4674 term 35 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 35 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 35 leaderCommit: 210 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=211
update matchIndex[2]=210
update leader CommitIndex=210
leader log:
[{snapshot 33 209} {4092529027431936196 35 210}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 1726712021750847746 (index 211) to leader 0
client write log 8790036788851185858 (index 212) to leader 0
client write log 7656168631985540674 (index 213) to leader 0
client write log 31888536157960742 (index 214) to leader 0
client write log 5922413004015480075 (index 215) to leader 0
client write log 8888110982875079638 (index 216) to leader 0
client write log 585208049268936877 (index 217) to leader 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 77461 term 35 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 35 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 210 
------------------------------------------------------
flag 89386 term 35 leader 0 nextIndex[2]: 211  matchIndex[2]: 210
term 35 leader 0 sendAppendEntries PrevLogIndex: 210  PrevLogTerm: 35 leaderCommit: 210 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:210 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 45417 term 35 leader 0 nextIndex[1]: 210  matchIndex[1]: 209
term 35 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 217 
------------------------------------------------------
flag 18391 term 35 leader 0 nextIndex[2]: 218  matchIndex[2]: 217
term 35 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 35 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=218
update matchIndex[2]=217
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217}]
------------------------------------------------------
!!!!!!connect server 1
client write log 836511061442369781 (index 218) to leader 0
term 35 server 2 not vote for server 1, 日志不够新
term 35 server 0 not vote for server 1, 日志不够新
term 37 server 2 vote for server 0
term 37 server 0 get vote from server 2
term 37 server 0 become leader
------------------------------------------------------
term 37 server 1 vote for server 0
term 37 server 0 get outdate rpc reply from server 1
flag 54445 term 37 leader 0 nextIndex[1]: 219  matchIndex[1]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
flag 65623 term 37 leader 0 nextIndex[2]: 219  matchIndex[2]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 37 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 219->218
------------------------------------------------------
term 37 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 219->218
------------------------------------------------------
flag 80334 term 37 leader 0 nextIndex[1]: 210  matchIndex[1]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 209  PrevLogTerm: 33 leaderCommit: 217 
------------------------------------------------------
flag 39884 term 37 leader 0 nextIndex[2]: 218  matchIndex[2]: 0
term 37 leader 0 sendAppendEntries PrevLogIndex: 217  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:209 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 93235 term 37 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
flag 50717 term 37 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
flag 24378 term 37 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
flag 64958 term 37 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
flag 14705 term 37 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
flag 99980 term 37 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
flag 17470 term 37 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
flag 42467 term 37 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
term 37 server 2 not vote for server 1, 任期不够新
term 37 server 1 get outdate rpc reply from server 2
flag 34378 term 37 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
flag 20974 term 37 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
flag 10865 term 37 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
flag 36131 term 37 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
flag 67677 term 37 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
flag 66772 term 37 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 37 server 1 not vote for server 0, 任期不够新
term 37 server 0 get outdate rpc reply from server 1
flag 92703 term 37 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
flag 30215 term 37 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
flag 67974 term 37 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
flag 2241 term 37 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
flag 1169 term 37 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
flag 26948 term 37 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78608 term 37 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
flag 74356 term 37 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 49199 term 37 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
flag 93666 term 37 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
flag 35873 term 37 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
flag 35915 term 37 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
flag 24252 term 37 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
flag 79648 term 37 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 33661 term 37 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
flag 7002 term 37 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
flag 6226 term 37 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
flag 6013 term 37 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 48255 term 37 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
flag 84820 term 37 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
flag 18711 term 37 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
flag 45898 term 37 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=219
update matchIndex[1]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=219
update matchIndex[2]=218
update leader CommitIndex=217
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218}]
------------------------------------------------------
client write log 836511061442369781 (index 219) to leader 0
flag 551 term 37 leader 0 nextIndex[1]: 219  matchIndex[1]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
flag 29092 term 37 leader 0 nextIndex[2]: 219  matchIndex[2]: 218
term 37 leader 0 sendAppendEntries PrevLogIndex: 218  PrevLogTerm: 35 leaderCommit: 217 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:217 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:217 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218} {836511061442369781 37 219}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 33 209} {4092529027431936196 35 210} {1726712021750847746 35 211} {8790036788851185858 35 212} {7656168631985540674 35 213} {31888536157960742 35 214} {5922413004015480075 35 215} {8888110982875079638 35 216} {585208049268936877 35 217} {836511061442369781 35 218} {836511061442369781 37 219}]
------------------------------------------------------
term 37 Server0 start snapshot! index=219
term 37 server0 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
flag 99910 term 37 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
flag 67948 term 37 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
update leader CommitIndex=219
leader log:
[{snapshot 37 219}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 37 219}]
------------------------------------------------------
term 37 Server1 start snapshot! index=219
term 37 server1 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
term 37 Server2 start snapshot! index=219
term 37 server2 snapshot success
lastIncludedIndex=219 lastApplied=219 lastIndex=219
-------------------------------------------------------------
flag 48746 term 37 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
flag 96372 term 37 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 37 219}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 37 219}]
------------------------------------------------------
term 37 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 77951 term 37 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
flag 74829 term 37 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 37 219}]
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 37 219}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17278 term 37 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
flag 29067 term 37 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 37 219}]
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 37 219}]
------------------------------------------------------
term 37 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 41003 term 37 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
flag 99057 term 37 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
term 37 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
term 37 server 1 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 37 219}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=220
update matchIndex[1]=219
update leader CommitIndex=219
leader log:
[{snapshot 37 219}]
------------------------------------------------------
!!!!!!diconnect server 0
flag 63034 term 37 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
flag 75117 term 37 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
flag 67337 term 37 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
flag 79476 term 37 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
flag 93376 term 37 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
flag 69313 term 37 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
flag 74559 term 37 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
flag 89944 term 37 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
term 38 server 2 vote for server 1
term 38 server 1 get vote from server 2
term 38 server 1 become leader
------------------------------------------------------
flag 3070 term 38 leader 1 nextIndex[0]: 220  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
flag 50030 term 38 leader 1 nextIndex[2]: 220  matchIndex[2]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=220
update matchIndex[2]=219
update leader CommitIndex=219
leader log:
[{snapshot 37 219}]
------------------------------------------------------
client write log 8754849004811022315 (index 220) to leader 1
flag 90286 term 37 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
flag 30012 term 37 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
flag 51352 term 38 leader 1 nextIndex[0]: 220  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
flag 39753 term 38 leader 1 nextIndex[2]: 220  matchIndex[2]: 219
term 38 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 37 219} {8754849004811022315 38 220}]
------------------------------------------------------
flag 64283 term 37 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
flag 87476 term 37 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
flag 85820 term 38 leader 1 nextIndex[0]: 220  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 220 
------------------------------------------------------
flag 95877 term 38 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 38 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 38 leaderCommit: 220 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=221
update matchIndex[2]=220
update leader CommitIndex=220
leader log:
[{snapshot 37 219} {8754849004811022315 38 220}]
------------------------------------------------------
client write log 8063366919419182987 (index 221) to leader 1
client write log 1678569156645566338 (index 222) to leader 1
client write log 1890494460127449375 (index 223) to leader 1
client write log 3774453046632273246 (index 224) to leader 1
client write log 8071930156991210306 (index 225) to leader 1
client write log 2970216474138673288 (index 226) to leader 1
flag 33298 term 37 leader 0 nextIndex[1]: 220  matchIndex[1]: 219
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
flag 50991 term 37 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
flag 2899 term 38 leader 1 nextIndex[0]: 220  matchIndex[0]: 0
term 38 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 220 
------------------------------------------------------
flag 87567 term 38 leader 1 nextIndex[2]: 221  matchIndex[2]: 220
term 38 leader 1 sendAppendEntries PrevLogIndex: 220  PrevLogTerm: 38 leaderCommit: 220 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:220 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 37 219} {8754849004811022315 38 220} {8063366919419182987 38 221} {1678569156645566338 38 222} {1890494460127449375 38 223} {3774453046632273246 38 224} {8071930156991210306 38 225} {2970216474138673288 38 226}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 220->219
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 false nextIndex[0] 220->219
------------------------------------------------------
term 37 leader 0 nextIndex[1]: 0  matchIndex[1]: 219
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 37
------------------------------------------------------
flag 50881 term 37 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
term 38 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 37
------------------------------------------------------
flag 80363 term 38 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 38 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 226 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=227
update matchIndex[2]=226
update leader CommitIndex=226
leader log:
[{snapshot 37 219} {8754849004811022315 38 220} {8063366919419182987 38 221} {1678569156645566338 38 222} {1890494460127449375 38 223} {3774453046632273246 38 224} {8071930156991210306 38 225} {2970216474138673288 38 226}]
------------------------------------------------------
!!!!!!connect server 0
client write log 9020544526131767920 (index 227) to leader 1
term 37 leader 0 nextIndex[1]: 0  matchIndex[1]: 219
term 37 leader 0 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 37
------------------------------------------------------
flag 81869 term 37 leader 0 nextIndex[2]: 220  matchIndex[2]: 219
term 37 leader 0 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 219 
------------------------------------------------------
term 38 server 2 AppendEntries false 领导者任期过期 args.Term 37
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
term 38 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 38 leader 1 nextIndex[0]: 0  matchIndex[0]: 0
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 219  LastIncludedTerm: 37
------------------------------------------------------
flag 37722 term 38 leader 1 nextIndex[2]: 227  matchIndex[2]: 226
term 38 leader 1 sendAppendEntries PrevLogIndex: 226  PrevLogTerm: 38 leaderCommit: 226 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:226 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {8754849004811022315 38 220} {8063366919419182987 38 221} {1678569156645566338 38 222} {1890494460127449375 38 223} {3774453046632273246 38 224} {8071930156991210306 38 225} {2970216474138673288 38 226} {9020544526131767920 38 227}]
------------------------------------------------------
term 38 server 0 InstallSnapshot fail
rf.commitIndex 219 args.LastIncludedIndex 219
------------------------------------------------------
term 38 leader 1 -> server 0 sendInstallSnapshot success
nextIndex[0] 220 matchIndex[0] 219 
------------------------------------------------------------------------
flag 55159 term 38 leader 1 nextIndex[0]: 220  matchIndex[0]: 219
term 38 leader 1 sendAppendEntries PrevLogIndex: 219  PrevLogTerm: 37 leaderCommit: 227 
------------------------------------------------------
flag 24461 term 38 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 38 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 38 leaderCommit: 227 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:219 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {8754849004811022315 38 220} {8063366919419182987 38 221} {1678569156645566338 38 222} {1890494460127449375 38 223} {3774453046632273246 38 224} {8071930156991210306 38 225} {2970216474138673288 38 226} {9020544526131767920 38 227}]
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {8754849004811022315 38 220} {8063366919419182987 38 221} {1678569156645566338 38 222} {1890494460127449375 38 223} {3774453046632273246 38 224} {8071930156991210306 38 225} {2970216474138673288 38 226} {9020544526131767920 38 227}]
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 70124 term 38 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 38 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 38 leaderCommit: 227 
------------------------------------------------------
flag 89952 term 38 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 38 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 38 leaderCommit: 227 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {8754849004811022315 38 220} {8063366919419182987 38 221} {1678569156645566338 38 222} {1890494460127449375 38 223} {3774453046632273246 38 224} {8071930156991210306 38 225} {2970216474138673288 38 226} {9020544526131767920 38 227}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {8754849004811022315 38 220} {8063366919419182987 38 221} {1678569156645566338 38 222} {1890494460127449375 38 223} {3774453046632273246 38 224} {8071930156991210306 38 225} {2970216474138673288 38 226} {9020544526131767920 38 227}]
------------------------------------------------------
flag 50679 term 38 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 38 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 38 leaderCommit: 227 
------------------------------------------------------
flag 46350 term 38 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 38 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 38 leaderCommit: 227 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:227 
leader 1 sendAppendEntries -> server 2 true------------------------------------------------------
update nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {8754849004811022315 38 220} {8063366919419182987 38 221} {1678569156645566338 38 222} {1890494460127449375 38 223} {3774453046632273246 38 224} {8071930156991210306 38 225} {2970216474138673288 38 226} {9020544526131767920 38 227}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {8754849004811022315 38 220} {8063366919419182987 38 221} {1678569156645566338 38 222} {1890494460127449375 38 223} {3774453046632273246 38 224} {8071930156991210306 38 225} {2970216474138673288 38 226} {9020544526131767920 38 227}]
------------------------------------------------------
flag 79527 term 38 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 38 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 38 leaderCommit: 227 
------------------------------------------------------
flag 52800 term 38 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 38 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 38 leaderCommit: 227 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {8754849004811022315 38 220} {8063366919419182987 38 221} {1678569156645566338 38 222} {1890494460127449375 38 223} {3774453046632273246 38 224} {8071930156991210306 38 225} {2970216474138673288 38 226} {9020544526131767920 38 227}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {8754849004811022315 38 220} {8063366919419182987 38 221} {1678569156645566338 38 222} {1890494460127449375 38 223} {3774453046632273246 38 224} {8071930156991210306 38 225} {2970216474138673288 38 226} {9020544526131767920 38 227}]
------------------------------------------------------
flag 66666 term 38 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 38 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 38 leaderCommit: 227 
------------------------------------------------------
flag 33832 term 38 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 38 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 38 leaderCommit: 227 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {8754849004811022315 38 220} {8063366919419182987 38 221} {1678569156645566338 38 222} {1890494460127449375 38 223} {3774453046632273246 38 224} {8071930156991210306 38 225} {2970216474138673288 38 226} {9020544526131767920 38 227}]
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {8754849004811022315 38 220} {8063366919419182987 38 221} {1678569156645566338 38 222} {1890494460127449375 38 223} {3774453046632273246 38 224} {8071930156991210306 38 225} {2970216474138673288 38 226} {9020544526131767920 38 227}]
------------------------------------------------------
flag 2764 term 38 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 38 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 38 leaderCommit: 227 
------------------------------------------------------
flag 4068 term 38 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 38 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 38 leaderCommit: 227 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
term 38 server 2 AppendEntries true commitIndex:227 
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=228
update matchIndex[0]=227
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {8754849004811022315 38 220} {8063366919419182987 38 221} {1678569156645566338 38 222} {1890494460127449375 38 223} {3774453046632273246 38 224} {8071930156991210306 38 225} {2970216474138673288 38 226} {9020544526131767920 38 227}]
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=228
update matchIndex[2]=227
update leader CommitIndex=227
leader log:
[{snapshot 37 219} {8754849004811022315 38 220} {8063366919419182987 38 221} {1678569156645566338 38 222} {1890494460127449375 38 223} {3774453046632273246 38 224} {8071930156991210306 38 225} {2970216474138673288 38 226} {9020544526131767920 38 227}]
------------------------------------------------------
term 38 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 2
client write log 6752715262197096134 (index 228) to leader 1
flag 33411 term 38 leader 1 nextIndex[0]: 228  matchIndex[0]: 227
term 38 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 38 leaderCommit: 227 
------------------------------------------------------
flag 26968 term 38 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 38 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 38 leaderCommit: 227 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:227 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 37 219} {8754849004811022315 38 220} {8063366919419182987 38 221} {1678569156645566338 38 222} {1890494460127449375 38 223} {3774453046632273246 38 224} {8071930156991210306 38 225} {2970216474138673288 38 226} {9020544526131767920 38 227} {6752715262197096134 38 228}]
------------------------------------------------------
flag 38700 term 38 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 38 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
flag 92574 term 38 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 38 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=229
update matchIndex[0]=228
update leader CommitIndex=228
leader log:
[{snapshot 37 219} {8754849004811022315 38 220} {8063366919419182987 38 221} {1678569156645566338 38 222} {1890494460127449375 38 223} {3774453046632273246 38 224} {8071930156991210306 38 225} {2970216474138673288 38 226} {9020544526131767920 38 227} {6752715262197096134 38 228}]
------------------------------------------------------
client write log 8357426148006999619 (index 229) to leader 1
client write log 5670395999028825664 (index 230) to leader 1
client write log 8677985291660710680 (index 231) to leader 1
client write log 1812449575288814934 (index 232) to leader 1
client write log 3599096490943564606 (index 233) to leader 1
client write log 3768641860573718909 (index 234) to leader 1
client write log 4947445227685161744 (index 235) to leader 1
flag 44362 term 38 leader 1 nextIndex[0]: 229  matchIndex[0]: 228
term 38 leader 1 sendAppendEntries PrevLogIndex: 228  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
flag 74831 term 38 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 38 leader 1 sendAppendEntries PrevLogIndex: 227  PrevLogTerm: 38 leaderCommit: 228 
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:228 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 37 219} {8754849004811022315 38 220} {8063366919419182987 38 221} {1678569156645566338 38 222} {1890494460127449375 38 223} {3774453046632273246 38 224} {8071930156991210306 38 225} {2970216474138673288 38 226} {9020544526131767920 38 227} {6752715262197096134 38 228} {8357426148006999619 38 229} {5670395999028825664 38 230} {8677985291660710680 38 231} {1812449575288814934 38 232} {3599096490943564606 38 233} {3768641860573718909 38 234} {4947445227685161744 38 235}]
------------------------------------------------------
term 38 Server1 start snapshot! index=229
term 38 server1 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=235
-------------------------------------------------------------
flag 86989 term 38 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 38 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 38 leaderCommit: 235 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=236
update matchIndex[0]=235
update leader CommitIndex=235
leader log:
[{snapshot 38 229} {5670395999028825664 38 230} {8677985291660710680 38 231} {1812449575288814934 38 232} {3599096490943564606 38 233} {3768641860573718909 38 234} {4947445227685161744 38 235}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 38 Server0 start snapshot! index=229
term 38 server0 snapshot success
lastIncludedIndex=229 lastApplied=230 lastIndex=235
-------------------------------------------------------------
!!!!!!connect server 2
client write log 2983534645153847412 (index 236) to leader 1
flag 40004 term 38 leader 1 nextIndex[0]: 236  matchIndex[0]: 235
term 38 leader 1 sendAppendEntries PrevLogIndex: 235  PrevLogTerm: 38 leaderCommit: 235 
------------------------------------------------------
term 38 leader 1 nextIndex[2]: 228  matchIndex[2]: 227
term 38 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
term 39 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 38 server 0 AppendEntries true commitIndex:235 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {5670395999028825664 38 230} {8677985291660710680 38 231} {1812449575288814934 38 232} {3599096490943564606 38 233} {3768641860573718909 38 234} {4947445227685161744 38 235} {2983534645153847412 38 236}]
------------------------------------------------------
term 38 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 40 server 2 vote for server 1
term 40 server 0 vote for server 1
term 40 server 1 get vote from server 2
term 40 server 1 become leader
------------------------------------------------------
term 40 server 1 get outdate rpc reply from server 0
flag 20078 term 40 leader 1 nextIndex[0]: 237  matchIndex[0]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 20434 term 40 leader 1 nextIndex[2]: 237  matchIndex[2]: 0
term 40 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 237->236
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {5670395999028825664 38 230} {8677985291660710680 38 231} {1812449575288814934 38 232} {3599096490943564606 38 233} {3768641860573718909 38 234} {4947445227685161744 38 235} {2983534645153847412 38 236}]
------------------------------------------------------
flag 63980 term 40 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 40 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 228  matchIndex[2]: 0
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 229  LastIncludedTerm: 38
------------------------------------------------------
term 40 server 2 InstallSnapshot success
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 229 rf.lastIncludedTerm 38 rf.commitIndex 229 rf.lastApplied 229
term 40 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 230 matchIndex[2] 229 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {5670395999028825664 38 230} {8677985291660710680 38 231} {1812449575288814934 38 232} {3599096490943564606 38 233} {3768641860573718909 38 234} {4947445227685161744 38 235} {2983534645153847412 38 236}]
------------------------------------------------------
flag 80777 term 40 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 40 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 25774 term 40 leader 1 nextIndex[2]: 230  matchIndex[2]: 229
term 40 leader 1 sendAppendEntries PrevLogIndex: 229  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:229 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {5670395999028825664 38 230} {8677985291660710680 38 231} {1812449575288814934 38 232} {3599096490943564606 38 233} {3768641860573718909 38 234} {4947445227685161744 38 235} {2983534645153847412 38 236}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {5670395999028825664 38 230} {8677985291660710680 38 231} {1812449575288814934 38 232} {3599096490943564606 38 233} {3768641860573718909 38 234} {4947445227685161744 38 235} {2983534645153847412 38 236}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 21688 term 40 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 40 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 21455 term 40 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 40 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {5670395999028825664 38 230} {8677985291660710680 38 231} {1812449575288814934 38 232} {3599096490943564606 38 233} {3768641860573718909 38 234} {4947445227685161744 38 235} {2983534645153847412 38 236}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {5670395999028825664 38 230} {8677985291660710680 38 231} {1812449575288814934 38 232} {3599096490943564606 38 233} {3768641860573718909 38 234} {4947445227685161744 38 235} {2983534645153847412 38 236}]
------------------------------------------------------
flag 75446 term 40 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 40 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 27033 term 40 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 40 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
[{snapshot 38 229} {5670395999028825664 38 230} {8677985291660710680 38 231} {1812449575288814934 38 232} {3599096490943564606 38 233} {3768641860573718909 38 234} {4947445227685161744 38 235} {2983534645153847412 38 236}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {5670395999028825664 38 230} {8677985291660710680 38 231} {1812449575288814934 38 232} {3599096490943564606 38 233} {3768641860573718909 38 234} {4947445227685161744 38 235} {2983534645153847412 38 236}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7941 term 40 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 40 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 89760 term 40 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 40 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {5670395999028825664 38 230} {8677985291660710680 38 231} {1812449575288814934 38 232} {3599096490943564606 38 233} {3768641860573718909 38 234} {4947445227685161744 38 235} {2983534645153847412 38 236}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {5670395999028825664 38 230} {8677985291660710680 38 231} {1812449575288814934 38 232} {3599096490943564606 38 233} {3768641860573718909 38 234} {4947445227685161744 38 235} {2983534645153847412 38 236}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30410 term 40 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 40 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 21188 term 40 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 40 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {5670395999028825664 38 230} {8677985291660710680 38 231} {1812449575288814934 38 232} {3599096490943564606 38 233} {3768641860573718909 38 234} {4947445227685161744 38 235} {2983534645153847412 38 236}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {5670395999028825664 38 230} {8677985291660710680 38 231} {1812449575288814934 38 232} {3599096490943564606 38 233} {3768641860573718909 38 234} {4947445227685161744 38 235} {2983534645153847412 38 236}]
------------------------------------------------------
flag 84280 term 40 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 40 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 97668 term 40 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 40 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 2 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=237
update matchIndex[2]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {5670395999028825664 38 230} {8677985291660710680 38 231} {1812449575288814934 38 232} {3599096490943564606 38 233} {3768641860573718909 38 234} {4947445227685161744 38 235} {2983534645153847412 38 236}]
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=237
update matchIndex[0]=236
update leader CommitIndex=236
leader log:
[{snapshot 38 229} {5670395999028825664 38 230} {8677985291660710680 38 231} {1812449575288814934 38 232} {3599096490943564606 38 233} {3768641860573718909 38 234} {4947445227685161744 38 235} {2983534645153847412 38 236}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 2
client write log 1304720014663350729 (index 237) to leader 1
flag 52502 term 40 leader 1 nextIndex[0]: 237  matchIndex[0]: 236
term 40 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
flag 13347 term 40 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 40 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 236 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:236 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 38 229} {5670395999028825664 38 230} {8677985291660710680 38 231} {1812449575288814934 38 232} {3599096490943564606 38 233} {3768641860573718909 38 234} {4947445227685161744 38 235} {2983534645153847412 38 236} {1304720014663350729 40 237}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 57036 term 40 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 40 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 40 leaderCommit: 237 
------------------------------------------------------
flag 85654 term 40 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 40 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 237 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=238
update matchIndex[0]=237
update leader CommitIndex=237
leader log:
[{snapshot 38 229} {5670395999028825664 38 230} {8677985291660710680 38 231} {1812449575288814934 38 232} {3599096490943564606 38 233} {3768641860573718909 38 234} {4947445227685161744 38 235} {2983534645153847412 38 236} {1304720014663350729 40 237}]
------------------------------------------------------
client write log 1277485336046828366 (index 238) to leader 1
client write log 4787631584013550736 (index 239) to leader 1
client write log 4784958255601343580 (index 240) to leader 1
client write log 1697615562534369012 (index 241) to leader 1
client write log 354167741962634409 (index 242) to leader 1
client write log 9148742472768735904 (index 243) to leader 1
client write log 8443790587595013161 (index 244) to leader 1
client write log 1893086396848392072 (index 245) to leader 1
client write log 6553860385679979529 (index 246) to leader 1
client write log 7009753491650269931 (index 247) to leader 1
client write log 1956733834517380044 (index 248) to leader 1
client write log 3428305234017541083 (index 249) to leader 1
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 85315 term 40 leader 1 nextIndex[0]: 238  matchIndex[0]: 237
term 40 leader 1 sendAppendEntries PrevLogIndex: 237  PrevLogTerm: 40 leaderCommit: 237 
------------------------------------------------------
flag 14428 term 40 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 40 leader 1 sendAppendEntries PrevLogIndex: 236  PrevLogTerm: 38 leaderCommit: 237 
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:237 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 38 229} {5670395999028825664 38 230} {8677985291660710680 38 231} {1812449575288814934 38 232} {3599096490943564606 38 233} {3768641860573718909 38 234} {4947445227685161744 38 235} {2983534645153847412 38 236} {1304720014663350729 40 237} {1277485336046828366 40 238} {4787631584013550736 40 239} {4784958255601343580 40 240} {1697615562534369012 40 241} {354167741962634409 40 242} {9148742472768735904 40 243} {8443790587595013161 40 244} {1893086396848392072 40 245} {6553860385679979529 40 246} {7009753491650269931 40 247} {1956733834517380044 40 248} {3428305234017541083 40 249}]
------------------------------------------------------
term 40 Server1 start snapshot! index=239
term 40 server1 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=249
-------------------------------------------------------------
term 40 Server1 start snapshot! index=249
term 40 server1 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
flag 18496 term 40 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 40
------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=250
update matchIndex[0]=249
update leader CommitIndex=249
leader log:
[{snapshot 40 249}]
------------------------------------------------------
term 40 Server0 start snapshot! index=239
term 40 server0 snapshot success
lastIncludedIndex=239 lastApplied=239 lastIndex=249
-------------------------------------------------------------
term 40 Server0 start snapshot! index=249
term 40 server0 snapshot success
lastIncludedIndex=249 lastApplied=249 lastIndex=249
-------------------------------------------------------------
!!!!!!connect server 2
client write log 1693702635396816372 (index 250) to leader 1
flag 36665 term 40 leader 1 nextIndex[0]: 250  matchIndex[0]: 249
term 40 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
term 40 leader 1 nextIndex[2]: 237  matchIndex[2]: 236
term 40 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 40
------------------------------------------------------
term 41 server 2 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 40 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
term 40 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 42 server 2 vote for server 1
term 42 server 0 vote for server 1
term 42 server 1 get vote from server 0
term 42 server 1 become leader
------------------------------------------------------
term 42 server 1 get outdate rpc reply from server 2
flag 13625 term 42 leader 1 nextIndex[0]: 251  matchIndex[0]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
flag 2489 term 42 leader 1 nextIndex[2]: 251  matchIndex[2]: 0
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
term 42 server 2 AppendEntries false prev日志不匹配
term 42 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 false nextIndex[2] 251->250
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35626 term 42 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
term 42 leader 1 nextIndex[2]: 237  matchIndex[2]: 0
term 42 leader 1 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 40
------------------------------------------------------
term 42 server 2 InstallSnapshot success
------------------------------------------------------
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 249 rf.lastIncludedTerm 40 rf.commitIndex 249 rf.lastApplied 249
term 42 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
term 42 leader 1 -> server 2 sendInstallSnapshot success
nextIndex[2] 250 matchIndex[2] 249 
------------------------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
term 42 server 1 not vote for server 2, 任期不够新
term 42 server 2 get outdate rpc reply from server 1
flag 33109 term 42 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
flag 29057 term 42 leader 1 nextIndex[2]: 250  matchIndex[2]: 249
term 42 leader 1 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
flag 33536 term 42 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
flag 67727 term 42 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
flag 33129 term 42 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
flag 16061 term 42 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
flag 80718 term 42 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
flag 26971 term 42 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
flag 12321 term 42 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
flag 97224 term 42 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 25821 term 42 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
flag 9665 term 42 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
flag 42148 term 42 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
flag 16204 term 42 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
flag 56321 term 42 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
flag 25504 term 42 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
flag 51614 term 42 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
flag 47677 term 42 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 23766 term 42 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
flag 31906 term 42 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
flag 13999 term 42 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
flag 14833 term 42 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 4358 term 42 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
flag 31199 term 42 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 19862 term 42 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
flag 49760 term 42 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
flag 44991 term 42 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
flag 46889 term 42 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
flag 38120 term 42 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
flag 96488 term 42 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
flag 75238 term 42 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
flag 4451 term 42 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=251
update matchIndex[0]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=251
update matchIndex[2]=250
update leader CommitIndex=249
leader log:
[{snapshot 40 249} {1693702635396816372 40 250}]
------------------------------------------------------
client write log 1693702635396816372 (index 251) to leader 1
flag 47148 term 42 leader 1 nextIndex[0]: 251  matchIndex[0]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
flag 31209 term 42 leader 1 nextIndex[2]: 251  matchIndex[2]: 250
term 42 leader 1 sendAppendEntries PrevLogIndex: 250  PrevLogTerm: 40 leaderCommit: 249 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:249 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:249 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 6540 term 42 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 42 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 14080 term 42 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 42 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251}]
------------------------------------------------------
flag 92882 term 42 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 42 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 51773 term 42 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 42 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251}]
------------------------------------------------------
flag 10278 term 42 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 42 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 23107 term 42 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 42 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251}]
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251}]
------------------------------------------------------
flag 2521 term 42 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 42 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 91203 term 42 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 42 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251}]
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251}]
------------------------------------------------------
flag 63869 term 42 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 42 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 69159 term 42 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 42 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
term 42 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
term 42 server 0 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 1 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251}]
------------------------------------------------------
leader 1 sendAppendEntries -> server 0 trueupdate nextIndex[0]=252
update matchIndex[0]=251
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251}]
------------------------------------------------------
term 42 leader 1 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 1
flag 88752 term 42 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 42 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 47507 term 42 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 42 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 11659 term 42 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 42 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 24547 term 42 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 42 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
term 42 server 0 not vote for server 2, 任期不够新
term 42 server 2 get outdate rpc reply from server 0
flag 77858 term 42 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 42 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 97069 term 42 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 42 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
term 43 server 2 vote for server 0
term 43 server 0 get vote from server 2
term 43 server 0 become leader
------------------------------------------------------
flag 79528 term 43 leader 0 nextIndex[1]: 252  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 34069 term 43 leader 0 nextIndex[2]: 252  matchIndex[2]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=252
update matchIndex[2]=251
update leader CommitIndex=251
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251}]
------------------------------------------------------
flag 85873 term 42 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 42 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 84825 term 42 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 42 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
client write log 8621753208978463963 (index 252) to leader 0
flag 49013 term 43 leader 0 nextIndex[1]: 252  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 97982 term 43 leader 0 nextIndex[2]: 252  matchIndex[2]: 251
term 43 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:251 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252}]
------------------------------------------------------
flag 95495 term 42 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 42 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 26705 term 42 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 42 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 11714 term 43 leader 0 nextIndex[1]: 252  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
flag 36678 term 43 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 43 leaderCommit: 252 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=253
update matchIndex[2]=252
update leader CommitIndex=252
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252}]
------------------------------------------------------
flag 27151 term 42 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 42 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 6734 term 42 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 42 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
client write log 8192913855201280048 (index 253) to leader 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9832 term 43 leader 0 nextIndex[1]: 252  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 252 
------------------------------------------------------
flag 82659 term 43 leader 0 nextIndex[2]: 253  matchIndex[2]: 252
term 43 leader 0 sendAppendEntries PrevLogIndex: 252  PrevLogTerm: 43 leaderCommit: 252 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
flag 73762 term 42 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 42 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 49536 term 42 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 42 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 6181 term 43 leader 0 nextIndex[1]: 252  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 70653 term 43 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
flag 12391 term 42 leader 1 nextIndex[0]: 252  matchIndex[0]: 251
term 42 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
flag 55818 term 42 leader 1 nextIndex[2]: 252  matchIndex[2]: 251
term 42 leader 1 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 251 
------------------------------------------------------
!!!!!!connect server 1
client write log 3363923122779405149 (index 252) to leader 1
flag 23753 term 43 leader 0 nextIndex[1]: 252  matchIndex[1]: 0
term 43 leader 0 sendAppendEntries PrevLogIndex: 251  PrevLogTerm: 42 leaderCommit: 253 
------------------------------------------------------
flag 45095 term 43 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:252 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 40650 term 43 leader 0 nextIndex[1]: 254  matchIndex[1]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
flag 49811 term 43 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
flag 95784 term 43 leader 0 nextIndex[1]: 254  matchIndex[1]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
flag 61088 term 43 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
term 43 server 1 not vote for server 2, 任期不够新
term 43 server 2 get outdate rpc reply from server 1
flag 66454 term 43 leader 0 nextIndex[1]: 254  matchIndex[1]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
flag 51673 term 43 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 32094 term 43 leader 0 nextIndex[1]: 254  matchIndex[1]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
flag 93812 term 43 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:253 
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
flag 45491 term 43 leader 0 nextIndex[1]: 254  matchIndex[1]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
flag 77168 term 43 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
term 43 server 0 not vote for server 1, 任期不够新
term 43 server 1 get outdate rpc reply from server 0
flag 79863 term 43 leader 0 nextIndex[1]: 254  matchIndex[1]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
flag 99936 term 43 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
flag 955 term 43 leader 0 nextIndex[1]: 254  matchIndex[1]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
flag 2487 term 43 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
flag 45441 term 43 leader 0 nextIndex[1]: 254  matchIndex[1]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
flag 65193 term 43 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 80603 term 43 leader 0 nextIndex[1]: 254  matchIndex[1]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
flag 48127 term 43 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 43 leader 1 -> server 2 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 12590 term 43 leader 0 nextIndex[1]: 254  matchIndex[1]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
flag 10851 term 43 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 75627 term 43 leader 0 nextIndex[1]: 254  matchIndex[1]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
flag 25883 term 43 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 254->253
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 253
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 40
------------------------------------------------------
flag 49175 term 43 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
term 43 server 1 InstallSnapshot fail
rf.commitIndex 253 args.LastIncludedIndex 249
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36433 term 43 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 43 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 40 leaderCommit: 253 
------------------------------------------------------
flag 28897 term 43 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 254->253
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 253
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 40
------------------------------------------------------
flag 96067 term 43 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 1 InstallSnapshot fail
rf.commitIndex 253 args.LastIncludedIndex 249
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
flag 46986 term 43 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 43 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 40 leaderCommit: 253 
------------------------------------------------------
flag 14429 term 43 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
term 43 server 0 not vote for server 2, 任期不够新
term 43 server 2 get outdate rpc reply from server 0
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 69956 term 43 leader 0 nextIndex[1]: 254  matchIndex[1]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
flag 12799 term 43 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
flag 30625 term 43 leader 0 nextIndex[1]: 254  matchIndex[1]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
flag 74706 term 43 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
term 43 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
flag 19921 term 43 leader 0 nextIndex[1]: 254  matchIndex[1]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
flag 4440 term 43 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 84500 term 43 leader 0 nextIndex[1]: 254  matchIndex[1]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
flag 64043 term 43 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=254
update matchIndex[2]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=254
update matchIndex[1]=253
update leader CommitIndex=253
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253}]
------------------------------------------------------
client write log 3363923122779405149 (index 254) to leader 0
flag 23523 term 43 leader 0 nextIndex[1]: 254  matchIndex[1]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
flag 73264 term 43 leader 0 nextIndex[2]: 254  matchIndex[2]: 253
term 43 leader 0 sendAppendEntries PrevLogIndex: 253  PrevLogTerm: 43 leaderCommit: 253 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253} {3363923122779405149 43 254}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:253 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253} {3363923122779405149 43 254}]
------------------------------------------------------
flag 2419 term 43 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 43 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 43 leaderCommit: 254 
------------------------------------------------------
flag 36395 term 43 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 43 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 43 leaderCommit: 254 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253} {3363923122779405149 43 254}]
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253} {3363923122779405149 43 254}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 255->254
------------------------------------------------------
term 43 leader 0 nextIndex[1]: 0  matchIndex[1]: 254
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 249  LastIncludedTerm: 40
------------------------------------------------------
flag 27110 term 43 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 43 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 43 leaderCommit: 254 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253} {3363923122779405149 43 254}]
term 43 server 1 InstallSnapshot fail
rf.commitIndex 254 args.LastIncludedIndex 249
------------------------------------------------------
------------------------------------------------------
term 43 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 250 matchIndex[1] 249 
------------------------------------------------------------------------
flag 36647 term 43 leader 0 nextIndex[1]: 250  matchIndex[1]: 249
term 43 leader 0 sendAppendEntries PrevLogIndex: 249  PrevLogTerm: 40 leaderCommit: 254 
------------------------------------------------------
flag 70727 term 43 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 43 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 43 leaderCommit: 254 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253} {3363923122779405149 43 254}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253} {3363923122779405149 43 254}]
------------------------------------------------------
flag 92470 term 43 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 43 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 43 leaderCommit: 254 
------------------------------------------------------
flag 31127 term 43 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 43 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 43 leaderCommit: 254 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253} {3363923122779405149 43 254}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253} {3363923122779405149 43 254}]
------------------------------------------------------
flag 60207 term 43 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 43 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 43 leaderCommit: 254 
------------------------------------------------------
flag 70534 term 43 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 43 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 43 leaderCommit: 254 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253} {3363923122779405149 43 254}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253} {3363923122779405149 43 254}]
------------------------------------------------------
flag 67561 term 43 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 43 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 43 leaderCommit: 254 
------------------------------------------------------
flag 26327 term 43 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 43 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 43 leaderCommit: 254 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
term 43 server 1 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=255
update matchIndex[2]=254
update leader CommitIndex=254
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253} {3363923122779405149 43 254}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=255
update matchIndex[1]=254
update leader CommitIndex=254
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253} {3363923122779405149 43 254}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
!!!!!!diconnect server 1
client write log 3754850265360246031 (index 255) to leader 0
flag 9533 term 43 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 43 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 43 leaderCommit: 254 
------------------------------------------------------
flag 90039 term 43 leader 0 nextIndex[2]: 255  matchIndex[2]: 254
term 43 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 43 leaderCommit: 254 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:254 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253} {3363923122779405149 43 254} {3754850265360246031 43 255}]
------------------------------------------------------
flag 16168 term 43 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 43 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 42128 term 43 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=256
update matchIndex[2]=255
update leader CommitIndex=255
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253} {3363923122779405149 43 254} {3754850265360246031 43 255}]
------------------------------------------------------
client write log 1861487020775718938 (index 256) to leader 0
client write log 5774697425770892420 (index 257) to leader 0
client write log 2879279710580951038 (index 258) to leader 0
client write log 7703450235837251723 (index 259) to leader 0
client write log 3016695180509215373 (index 260) to leader 0
client write log 7073163422674604795 (index 261) to leader 0
client write log 1050501977327023373 (index 262) to leader 0
client write log 310432751445048736 (index 263) to leader 0
client write log 633056534090344846 (index 264) to leader 0
client write log 6681559068895240909 (index 265) to leader 0
client write log 58212866628712999 (index 266) to leader 0
client write log 3182444633599503061 (index 267) to leader 0
client write log 7935441082762808642 (index 268) to leader 0
flag 23651 term 43 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 43 leader 0 sendAppendEntries PrevLogIndex: 254  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
flag 8386 term 43 leader 0 nextIndex[2]: 256  matchIndex[2]: 255
term 43 leader 0 sendAppendEntries PrevLogIndex: 255  PrevLogTerm: 43 leaderCommit: 255 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:255 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 40 249} {1693702635396816372 40 250} {1693702635396816372 42 251} {8621753208978463963 43 252} {8192913855201280048 43 253} {3363923122779405149 43 254} {3754850265360246031 43 255} {1861487020775718938 43 256} {5774697425770892420 43 257} {2879279710580951038 43 258} {7703450235837251723 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268}]
------------------------------------------------------
term 43 Server0 start snapshot! index=259
term 43 server0 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=268
-------------------------------------------------------------
term 43 leader 0 nextIndex[1]: 255  matchIndex[1]: 254
term 43 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 43
------------------------------------------------------
flag 88915 term 43 leader 0 nextIndex[2]: 269  matchIndex[2]: 268
term 43 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 43 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=269
update matchIndex[2]=268
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268}]
------------------------------------------------------
term 43 Server2 start snapshot! index=259
term 43 server2 snapshot success
lastIncludedIndex=259 lastApplied=259 lastIndex=268
-------------------------------------------------------------
!!!!!!connect server 1
client write log 5143973607869186396 (index 269) to leader 0
term 43 server 2 not vote for server 1, 日志不够新
term 43 server 0 not vote for server 1, 日志不够新
term 45 server 2 vote for server 0
term 45 server 0 get vote from server 2
term 45 server 1 vote for server 0
term 45 server 0 become leader
------------------------------------------------------
term 45 server 0 get outdate rpc reply from server 1
flag 98005 term 45 leader 0 nextIndex[1]: 270  matchIndex[1]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 7680 term 45 leader 0 nextIndex[2]: 270  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 45 server 2 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false nextIndex[2] 270->269
------------------------------------------------------
term 45 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 270->269
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 255  matchIndex[1]: 0
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 259  LastIncludedTerm: 43
------------------------------------------------------
flag 25768 term 45 leader 0 nextIndex[2]: 269  matchIndex[2]: 0
term 45 leader 0 sendAppendEntries PrevLogIndex: 268  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 45 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 259 rf.lastIncludedTerm 43 rf.commitIndex 259 rf.lastApplied 259
term 45 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 260 matchIndex[1] 259 
------------------------------------------------------------------------
flag 16903 term 45 leader 0 nextIndex[1]: 260  matchIndex[1]: 259
term 45 leader 0 sendAppendEntries PrevLogIndex: 259  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 91377 term 45 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:259 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
flag 83045 term 45 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 91016 term 45 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
flag 47429 term 45 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 24119 term 45 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 81156 term 45 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 40818 term 45 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
flag 38573 term 45 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 77904 term 45 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 76899 term 45 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 73586 term 45 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
flag 78150 term 45 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 8711 term 45 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
term 45 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
term 45 server 1 not vote for server 0, 任期不够新
term 45 server 0 get outdate rpc reply from server 1
flag 52999 term 45 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 60019 term 45 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 64312 term 45 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 15041 term 45 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
flag 48152 term 45 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 29301 term 45 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
flag 50442 term 45 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 66182 term 45 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
flag 18897 term 45 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 15708 term 45 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
flag 66819 term 45 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 26400 term 45 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
flag 79125 term 45 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 75738 term 45 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
flag 65678 term 45 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 17477 term 45 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 39615 term 45 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 40413 term 45 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
flag 61939 term 45 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 51738 term 45 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=270
update matchIndex[1]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=270
update matchIndex[2]=269
update leader CommitIndex=268
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 5143973607869186396 (index 270) to leader 0
flag 44055 term 45 leader 0 nextIndex[1]: 270  matchIndex[1]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
flag 23153 term 45 leader 0 nextIndex[2]: 270  matchIndex[2]: 269
term 45 leader 0 sendAppendEntries PrevLogIndex: 269  PrevLogTerm: 43 leaderCommit: 268 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269} {5143973607869186396 45 270}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:268 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 43 259} {3016695180509215373 43 260} {7073163422674604795 43 261} {1050501977327023373 43 262} {310432751445048736 43 263} {633056534090344846 43 264} {6681559068895240909 43 265} {58212866628712999 43 266} {3182444633599503061 43 267} {7935441082762808642 43 268} {5143973607869186396 43 269} {5143973607869186396 45 270}]
------------------------------------------------------
term 45 Server0 start snapshot! index=269
term 45 server0 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=270
-------------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 56551 term 45 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 45 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 45 leaderCommit: 270 
------------------------------------------------------
flag 19751 term 45 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 45 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 45 leaderCommit: 270 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
term 45 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {5143973607869186396 45 270}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {5143973607869186396 45 270}]
------------------------------------------------------
term 45 Server1 start snapshot! index=269
term 45 server1 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=270
-------------------------------------------------------------
term 45 Server2 start snapshot! index=269
term 45 server2 snapshot success
lastIncludedIndex=269 lastApplied=270 lastIndex=270
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24867 term 45 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 45 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 45 leaderCommit: 270 
------------------------------------------------------
flag 69133 term 45 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 45 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 45 leaderCommit: 270 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {5143973607869186396 45 270}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {5143973607869186396 45 270}]
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 60292 term 45 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 45 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 45 leaderCommit: 270 
------------------------------------------------------
flag 85377 term 45 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 45 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 45 leaderCommit: 270 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {5143973607869186396 45 270}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {5143973607869186396 45 270}]
------------------------------------------------------
flag 8735 term 45 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 45 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 45 leaderCommit: 270 
------------------------------------------------------
flag 14245 term 45 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 45 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 45 leaderCommit: 270 
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {5143973607869186396 45 270}]
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {5143973607869186396 45 270}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 18588 term 45 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 45 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 45 leaderCommit: 270 
------------------------------------------------------
flag 17211 term 45 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 45 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 45 leaderCommit: 270 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {5143973607869186396 45 270}]
------------------------------------------------------
term 45 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=271
update matchIndex[1]=270
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {5143973607869186396 45 270}]
------------------------------------------------------
flag 88833 term 45 leader 0 nextIndex[1]: 271  matchIndex[1]: 270
term 45 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 45 leaderCommit: 270 
------------------------------------------------------
flag 3397 term 45 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 45 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 45 leaderCommit: 270 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
!!!!!!diconnect server 1
client write log 6144197587837573354 (index 271) to leader 0
term 45 server 1 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 271->270
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=271
update matchIndex[2]=270
update leader CommitIndex=270
leader log:
[{snapshot 43 269} {5143973607869186396 45 270} {6144197587837573354 45 271}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 0  matchIndex[1]: 270
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 4029 term 45 leader 0 nextIndex[2]: 271  matchIndex[2]: 270
term 45 leader 0 sendAppendEntries PrevLogIndex: 270  PrevLogTerm: 45 leaderCommit: 270 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:270 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {5143973607869186396 45 270} {6144197587837573354 45 271}]
------------------------------------------------------
term 45 leader 0 nextIndex[1]: 0  matchIndex[1]: 270
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 95516 term 45 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=272
update matchIndex[2]=271
update leader CommitIndex=271
leader log:
[{snapshot 43 269} {5143973607869186396 45 270} {6144197587837573354 45 271}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 7985388963321840122 (index 272) to leader 0
client write log 5232821675545975565 (index 273) to leader 0
client write log 7252353437336097362 (index 274) to leader 0
client write log 5907912994041703056 (index 275) to leader 0
client write log 1988163321991427614 (index 276) to leader 0
client write log 3250107194809514443 (index 277) to leader 0
client write log 3201252922089927593 (index 278) to leader 0
client write log 915542500626827335 (index 279) to leader 0
client write log 239292958144555779 (index 280) to leader 0
client write log 6795514982691594926 (index 281) to leader 0
client write log 5088261390135213338 (index 282) to leader 0
client write log 6877715437874208517 (index 283) to leader 0
client write log 8342532155065753368 (index 284) to leader 0
client write log 3912943784661839394 (index 285) to leader 0
term 45 leader 0 nextIndex[1]: 0  matchIndex[1]: 270
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 269  LastIncludedTerm: 43
------------------------------------------------------
flag 52400 term 45 leader 0 nextIndex[2]: 272  matchIndex[2]: 271
term 45 leader 0 sendAppendEntries PrevLogIndex: 271  PrevLogTerm: 45 leaderCommit: 271 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:271 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 43 269} {5143973607869186396 45 270} {6144197587837573354 45 271} {7985388963321840122 45 272} {5232821675545975565 45 273} {7252353437336097362 45 274} {5907912994041703056 45 275} {1988163321991427614 45 276} {3250107194809514443 45 277} {3201252922089927593 45 278} {915542500626827335 45 279} {239292958144555779 45 280} {6795514982691594926 45 281} {5088261390135213338 45 282} {6877715437874208517 45 283} {8342532155065753368 45 284} {3912943784661839394 45 285}]
------------------------------------------------------
term 45 Server0 start snapshot! index=279
term 45 server0 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=285
-------------------------------------------------------------
term 45 leader 0 nextIndex[1]: 0  matchIndex[1]: 270
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 76365 term 45 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=286
update matchIndex[2]=285
update leader CommitIndex=285
leader log:
[{snapshot 45 279} {239292958144555779 45 280} {6795514982691594926 45 281} {5088261390135213338 45 282} {6877715437874208517 45 283} {8342532155065753368 45 284} {3912943784661839394 45 285}]
------------------------------------------------------
term 45 Server2 start snapshot! index=279
term 45 server2 snapshot success
lastIncludedIndex=279 lastApplied=280 lastIndex=285
-------------------------------------------------------------
!!!!!!connect server 1
client write log 3223260358197807051 (index 286) to leader 0
term 45 leader 0 nextIndex[1]: 0  matchIndex[1]: 270
term 45 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 32440 term 45 leader 0 nextIndex[2]: 286  matchIndex[2]: 285
term 45 leader 0 sendAppendEntries PrevLogIndex: 285  PrevLogTerm: 45 leaderCommit: 285 
------------------------------------------------------
term 45 server 2 AppendEntries true commitIndex:285 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {239292958144555779 45 280} {6795514982691594926 45 281} {5088261390135213338 45 282} {6877715437874208517 45 283} {8342532155065753368 45 284} {3912943784661839394 45 285} {3223260358197807051 45 286}]
------------------------------------------------------
term 46 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 45 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 47 server 2 vote for server 0
term 47 server 1 vote for server 0
term 47 server 0 get vote from server 2
term 47 server 0 become leader
------------------------------------------------------
term 47 server 0 get outdate rpc reply from server 1
flag 46486 term 47 leader 0 nextIndex[1]: 287  matchIndex[1]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 39345 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 0
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 47 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 287->286
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {239292958144555779 45 280} {6795514982691594926 45 281} {5088261390135213338 45 282} {6877715437874208517 45 283} {8342532155065753368 45 284} {3912943784661839394 45 285} {3223260358197807051 45 286}]
------------------------------------------------------
leader 1 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 47 leader 0 nextIndex[1]: 271  matchIndex[1]: 0
term 47 leader 0 sendInstallSnapshot LastIncludedIndex: 279  LastIncludedTerm: 45
------------------------------------------------------
flag 24883 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
term 47 server 1 InstallSnapshot success
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 279 rf.lastIncludedTerm 45 rf.commitIndex 279 rf.lastApplied 279
[{snapshot 45 279} {239292958144555779 45 280} {6795514982691594926 45 281} {5088261390135213338 45 282} {6877715437874208517 45 283} {8342532155065753368 45 284} {3912943784661839394 45 285} {3223260358197807051 45 286}]
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 280 matchIndex[1] 279 
------------------------------------------------------------------------
flag 91096 term 47 leader 0 nextIndex[1]: 280  matchIndex[1]: 279
term 47 leader 0 sendAppendEntries PrevLogIndex: 279  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 98606 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:279 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {239292958144555779 45 280} {6795514982691594926 45 281} {5088261390135213338 45 282} {6877715437874208517 45 283} {8342532155065753368 45 284} {3912943784661839394 45 285} {3223260358197807051 45 286}]
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {239292958144555779 45 280} {6795514982691594926 45 281} {5088261390135213338 45 282} {6877715437874208517 45 283} {8342532155065753368 45 284} {3912943784661839394 45 285} {3223260358197807051 45 286}]
------------------------------------------------------
flag 912 term 47 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 28884 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {239292958144555779 45 280} {6795514982691594926 45 281} {5088261390135213338 45 282} {6877715437874208517 45 283} {8342532155065753368 45 284} {3912943784661839394 45 285} {3223260358197807051 45 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {239292958144555779 45 280} {6795514982691594926 45 281} {5088261390135213338 45 282} {6877715437874208517 45 283} {8342532155065753368 45 284} {3912943784661839394 45 285} {3223260358197807051 45 286}]
------------------------------------------------------
flag 84180 term 47 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 42210 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {239292958144555779 45 280} {6795514982691594926 45 281} {5088261390135213338 45 282} {6877715437874208517 45 283} {8342532155065753368 45 284} {3912943784661839394 45 285} {3223260358197807051 45 286}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {239292958144555779 45 280} {6795514982691594926 45 281} {5088261390135213338 45 282} {6877715437874208517 45 283} {8342532155065753368 45 284} {3912943784661839394 45 285} {3223260358197807051 45 286}]
------------------------------------------------------
flag 37276 term 47 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 49587 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {239292958144555779 45 280} {6795514982691594926 45 281} {5088261390135213338 45 282} {6877715437874208517 45 283} {8342532155065753368 45 284} {3912943784661839394 45 285} {3223260358197807051 45 286}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {239292958144555779 45 280} {6795514982691594926 45 281} {5088261390135213338 45 282} {6877715437874208517 45 283} {8342532155065753368 45 284} {3912943784661839394 45 285} {3223260358197807051 45 286}]
------------------------------------------------------
term 47 server 0 not vote for server 1, 任期不够新
term 47 server 1 get outdate rpc reply from server 0
flag 98612 term 47 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 5387 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {239292958144555779 45 280} {6795514982691594926 45 281} {5088261390135213338 45 282} {6877715437874208517 45 283} {8342532155065753368 45 284} {3912943784661839394 45 285} {3223260358197807051 45 286}]
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {239292958144555779 45 280} {6795514982691594926 45 281} {5088261390135213338 45 282} {6877715437874208517 45 283} {8342532155065753368 45 284} {3912943784661839394 45 285} {3223260358197807051 45 286}]
------------------------------------------------------
flag 54119 term 47 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 16074 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {239292958144555779 45 280} {6795514982691594926 45 281} {5088261390135213338 45 282} {6877715437874208517 45 283} {8342532155065753368 45 284} {3912943784661839394 45 285} {3223260358197807051 45 286}]
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {239292958144555779 45 280} {6795514982691594926 45 281} {5088261390135213338 45 282} {6877715437874208517 45 283} {8342532155065753368 45 284} {3912943784661839394 45 285} {3223260358197807051 45 286}]
------------------------------------------------------
flag 60966 term 47 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 41884 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 47 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {239292958144555779 45 280} {6795514982691594926 45 281} {5088261390135213338 45 282} {6877715437874208517 45 283} {8342532155065753368 45 284} {3912943784661839394 45 285} {3223260358197807051 45 286}]
------------------------------------------------------
term 47 server 2 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=287
update matchIndex[2]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {239292958144555779 45 280} {6795514982691594926 45 281} {5088261390135213338 45 282} {6877715437874208517 45 283} {8342532155065753368 45 284} {3912943784661839394 45 285} {3223260358197807051 45 286}]
------------------------------------------------------
!!!!!!diconnect server 0
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 62233 term 47 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 50892 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 66697 term 47 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 10370 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 72799 term 47 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 58923 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 48 server 1 vote for server 2
term 48 server 2 get vote from server 1
term 48 server 2 become leader
------------------------------------------------------
flag 31421 term 47 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 10309 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 66981 term 48 leader 2 nextIndex[0]: 287  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 95818 term 48 leader 2 nextIndex[1]: 287  matchIndex[1]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=287
update matchIndex[1]=286
update leader CommitIndex=286
leader log:
[{snapshot 45 279} {239292958144555779 45 280} {6795514982691594926 45 281} {5088261390135213338 45 282} {6877715437874208517 45 283} {8342532155065753368 45 284} {3912943784661839394 45 285} {3223260358197807051 45 286}]
------------------------------------------------------
client write log 5902190495365907498 (index 287) to leader 2
flag 79653 term 47 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 77471 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 32333 term 48 leader 2 nextIndex[0]: 287  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 43481 term 48 leader 2 nextIndex[1]: 287  matchIndex[1]: 286
term 48 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {239292958144555779 45 280} {6795514982691594926 45 281} {5088261390135213338 45 282} {6877715437874208517 45 283} {8342532155065753368 45 284} {3912943784661839394 45 285} {3223260358197807051 45 286} {5902190495365907498 48 287}]
------------------------------------------------------
term 47 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 63070 term 47 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 59696 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 67576 term 48 leader 2 nextIndex[0]: 287  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 35898 term 48 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 48 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 48 leaderCommit: 287 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=288
update matchIndex[1]=287
update leader CommitIndex=287
leader log:
[{snapshot 45 279} {239292958144555779 45 280} {6795514982691594926 45 281} {5088261390135213338 45 282} {6877715437874208517 45 283} {8342532155065753368 45 284} {3912943784661839394 45 285} {3223260358197807051 45 286} {5902190495365907498 48 287}]
------------------------------------------------------
client write log 1908100109687812246 (index 288) to leader 2
flag 42972 term 47 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 44635 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 2303 term 48 leader 2 nextIndex[0]: 287  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 287 
------------------------------------------------------
flag 28826 term 48 leader 2 nextIndex[1]: 288  matchIndex[1]: 287
term 48 leader 2 sendAppendEntries PrevLogIndex: 287  PrevLogTerm: 48 leaderCommit: 287 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:287 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 45 279} {239292958144555779 45 280} {6795514982691594926 45 281} {5088261390135213338 45 282} {6877715437874208517 45 283} {8342532155065753368 45 284} {3912943784661839394 45 285} {3223260358197807051 45 286} {5902190495365907498 48 287} {1908100109687812246 48 288}]
------------------------------------------------------
flag 40347 term 47 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 25874 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 13523 term 48 leader 2 nextIndex[0]: 287  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
flag 44597 term 48 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 48 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 48 leaderCommit: 288 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=289
update matchIndex[1]=288
update leader CommitIndex=288
leader log:
[{snapshot 45 279} {239292958144555779 45 280} {6795514982691594926 45 281} {5088261390135213338 45 282} {6877715437874208517 45 283} {8342532155065753368 45 284} {3912943784661839394 45 285} {3223260358197807051 45 286} {5902190495365907498 48 287} {1908100109687812246 48 288}]
------------------------------------------------------
!!!!!!connect server 0
client write log 1461564254023926439 (index 289) to leader 2
flag 84254 term 47 leader 0 nextIndex[1]: 287  matchIndex[1]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
flag 14334 term 47 leader 0 nextIndex[2]: 287  matchIndex[2]: 286
term 47 leader 0 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 286 
------------------------------------------------------
term 48 server 2 AppendEntries false 领导者任期过期 args.Term 47
------------------------------------------------------
term 48 server 1 AppendEntries false 领导者任期过期 args.Term 47
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 false 任期过期
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 90026 term 48 leader 2 nextIndex[0]: 287  matchIndex[0]: 0
term 48 leader 2 sendAppendEntries PrevLogIndex: 286  PrevLogTerm: 45 leaderCommit: 288 
------------------------------------------------------
flag 32676 term 48 leader 2 nextIndex[1]: 289  matchIndex[1]: 288
term 48 leader 2 sendAppendEntries PrevLogIndex: 288  PrevLogTerm: 48 leaderCommit: 288 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:286 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 45 279} {239292958144555779 45 280} {6795514982691594926 45 281} {5088261390135213338 45 282} {6877715437874208517 45 283} {8342532155065753368 45 284} {3912943784661839394 45 285} {3223260358197807051 45 286} {5902190495365907498 48 287} {1908100109687812246 48 288} {1461564254023926439 48 289}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:288 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 45 279} {239292958144555779 45 280} {6795514982691594926 45 281} {5088261390135213338 45 282} {6877715437874208517 45 283} {8342532155065753368 45 284} {3912943784661839394 45 285} {3223260358197807051 45 286} {5902190495365907498 48 287} {1908100109687812246 48 288} {1461564254023926439 48 289}]
------------------------------------------------------
term 48 Server2 start snapshot! index=289
term 48 server2 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 36762 term 48 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 289 
------------------------------------------------------
flag 54527 term 48 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 289 
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 48 289}]
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 48 289}]
------------------------------------------------------
term 48 Server0 start snapshot! index=289
term 48 server0 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
term 48 Server1 start snapshot! index=289
term 48 server1 snapshot success
lastIncludedIndex=289 lastApplied=289 lastIndex=289
-------------------------------------------------------------
flag 2901 term 48 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 289 
------------------------------------------------------
flag 77810 term 48 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 289 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 48 289}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 48 289}]
------------------------------------------------------
flag 60617 term 48 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 289 
------------------------------------------------------
flag 61191 term 48 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 289 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 48 289}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 48 289}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 290->289
------------------------------------------------------
term 48 leader 2 nextIndex[0]: 0  matchIndex[0]: 289
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 48
------------------------------------------------------
flag 52232 term 48 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 289 
------------------------------------------------------
term 48 server 0 InstallSnapshot fail
rf.commitIndex 289 args.LastIncludedIndex 289
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
term 48 leader 2 -> server 0 sendInstallSnapshot success
nextIndex[0] 290 matchIndex[0] 289 
------------------------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 48 289}]
------------------------------------------------------
flag 9045 term 48 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 289 
------------------------------------------------------
flag 2845 term 48 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 289 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 48 289}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 48 289}]
------------------------------------------------------
flag 61986 term 48 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 289 
------------------------------------------------------
flag 17526 term 48 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 289 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=290
update matchIndex[1]=289
update leader CommitIndex=289
leader log:
[{snapshot 48 289}]
------------------------------------------------------
term 48 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=290
update matchIndex[0]=289
update leader CommitIndex=289
leader log:
[{snapshot 48 289}]
------------------------------------------------------
!!!!!!diconnect server 0
client write log 7645442659417673470 (index 290) to leader 2
flag 1009 term 48 leader 2 nextIndex[0]: 290  matchIndex[0]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 289 
------------------------------------------------------
flag 5375 term 48 leader 2 nextIndex[1]: 290  matchIndex[1]: 289
term 48 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 289 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {7645442659417673470 48 290}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 290->289
------------------------------------------------------
term 48 leader 2 nextIndex[0]: 0  matchIndex[0]: 289
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 48
------------------------------------------------------
flag 40598 term 48 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 48 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=291
update matchIndex[1]=290
update leader CommitIndex=290
leader log:
[{snapshot 48 289} {7645442659417673470 48 290}]
------------------------------------------------------
client write log 2282375668422045025 (index 291) to leader 2
client write log 993771964921706687 (index 292) to leader 2
client write log 755363192291740116 (index 293) to leader 2
client write log 1904291551053757890 (index 294) to leader 2
client write log 3447352058234925231 (index 295) to leader 2
client write log 8324555941323537843 (index 296) to leader 2
client write log 232948979384107613 (index 297) to leader 2
term 48 leader 2 nextIndex[0]: 0  matchIndex[0]: 289
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 48
------------------------------------------------------
flag 76070 term 48 leader 2 nextIndex[1]: 291  matchIndex[1]: 290
term 48 leader 2 sendAppendEntries PrevLogIndex: 290  PrevLogTerm: 48 leaderCommit: 290 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:290 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297}]
------------------------------------------------------
term 48 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 48 leader 2 nextIndex[0]: 0  matchIndex[0]: 289
term 48 leader 2 sendInstallSnapshot LastIncludedIndex: 289  LastIncludedTerm: 48
------------------------------------------------------
flag 92792 term 48 leader 2 nextIndex[1]: 298  matchIndex[1]: 297
term 48 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
term 48 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=298
update matchIndex[1]=297
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297}]
------------------------------------------------------
!!!!!!connect server 0
client write log 892586488956334526 (index 298) to leader 2
term 48 server 2 not vote for server 0, 日志不够新
term 48 server 1 not vote for server 0, 日志不够新
term 50 server 0 vote for server 2
term 50 server 1 vote for server 2
term 50 server 2 get vote from server 0
term 50 server 2 become leader
------------------------------------------------------
term 50 server 2 get outdate rpc reply from server 1
flag 76770 term 50 leader 2 nextIndex[0]: 299  matchIndex[0]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
flag 56775 term 50 leader 2 nextIndex[1]: 299  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
term 50 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 299->298
------------------------------------------------------
term 50 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 299->298
------------------------------------------------------
term 50 server 0 not vote for server 2, 任期不够新
term 50 server 2 get outdate rpc reply from server 0
flag 70534 term 50 leader 2 nextIndex[0]: 290  matchIndex[0]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 289  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
flag 22825 term 50 leader 2 nextIndex[1]: 298  matchIndex[1]: 0
term 50 leader 2 sendAppendEntries PrevLogIndex: 297  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:289 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 40670 term 50 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
flag 78919 term 50 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
term 50 server 2 not vote for server 1, 任期不够新
term 50 server 1 get outdate rpc reply from server 2
flag 89613 term 50 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
flag 51759 term 50 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
flag 160 term 50 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
flag 53732 term 50 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
flag 8098 term 50 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
flag 54880 term 50 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
flag 96266 term 50 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
flag 9276 term 50 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
flag 15293 term 50 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
flag 13633 term 50 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
flag 66419 term 50 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
flag 40885 term 50 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
flag 37589 term 50 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
flag 16022 term 50 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 54861 term 50 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
flag 30049 term 50 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 9350 term 50 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
flag 54389 term 50 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
flag 32342 term 50 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
flag 32994 term 50 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 15426 term 50 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
flag 3740 term 50 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 333 term 50 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
flag 88869 term 50 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
flag 51490 term 50 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
flag 4695 term 50 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
flag 61135 term 50 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
flag 13625 term 50 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 30052 term 50 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
flag 41032 term 50 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 24200 term 50 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
flag 93865 term 50 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=299
update matchIndex[0]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=299
update matchIndex[1]=298
update leader CommitIndex=297
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
client write log 892586488956334526 (index 299) to leader 2
flag 51590 term 50 leader 2 nextIndex[0]: 299  matchIndex[0]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
flag 61477 term 50 leader 2 nextIndex[1]: 299  matchIndex[1]: 298
term 50 leader 2 sendAppendEntries PrevLogIndex: 298  PrevLogTerm: 48 leaderCommit: 297 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:297 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
term 50 server 0 AppendEntries true commitIndex:297 
------------------------------------------------------
update leader CommitIndex=299
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298} {892586488956334526 50 299}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 48 289} {7645442659417673470 48 290} {2282375668422045025 48 291} {993771964921706687 48 292} {755363192291740116 48 293} {1904291551053757890 48 294} {3447352058234925231 48 295} {8324555941323537843 48 296} {232948979384107613 48 297} {892586488956334526 48 298} {892586488956334526 50 299}]
------------------------------------------------------
term 50 Server2 start snapshot! index=299
term 50 server2 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
flag 33560 term 50 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 50 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 299 
------------------------------------------------------
flag 9322 term 50 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 50 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 299 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 50 299}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 50 299}]
------------------------------------------------------
term 50 Server1 start snapshot! index=299
term 50 server1 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
term 50 Server0 start snapshot! index=299
term 50 server0 snapshot success
lastIncludedIndex=299 lastApplied=299 lastIndex=299
-------------------------------------------------------------
flag 38244 term 50 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 50 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 299 
------------------------------------------------------
flag 55829 term 50 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 50 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 299 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 50 299}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 50 299}]
------------------------------------------------------
flag 89238 term 50 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 50 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 299 
------------------------------------------------------
flag 39525 term 50 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 50 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 299 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 50 299}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 50 299}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 94377 term 50 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 50 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 299 
------------------------------------------------------
flag 10518 term 50 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 50 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 299 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 50 299}]
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 50 299}]
------------------------------------------------------
flag 37911 term 50 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 50 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 299 
------------------------------------------------------
flag 16855 term 50 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 50 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 299 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
term 50 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=300
update matchIndex[1]=299
update leader CommitIndex=299
leader log:
[{snapshot 50 299}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=300
update matchIndex[0]=299
update leader CommitIndex=299
leader log:
[{snapshot 50 299}]
------------------------------------------------------
term 50 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
!!!!!!diconnect server 0
client write log 8595723854431365607 (index 300) to leader 2
flag 4 term 50 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 50 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 299 
------------------------------------------------------
flag 21595 term 50 leader 2 nextIndex[1]: 300  matchIndex[1]: 299
term 50 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 299 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 50 299} {8595723854431365607 50 300}]
------------------------------------------------------
term 50 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 98331 term 50 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 50 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
flag 68526 term 50 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 50 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=301
update matchIndex[1]=300
update leader CommitIndex=300
leader log:
[{snapshot 50 299} {8595723854431365607 50 300}]
------------------------------------------------------
client write log 6975061903050362158 (index 301) to leader 2
client write log 5166003515193557502 (index 302) to leader 2
client write log 6351361913713908130 (index 303) to leader 2
client write log 5665759749391940238 (index 304) to leader 2
client write log 2763069669003342810 (index 305) to leader 2
client write log 7058368203440545136 (index 306) to leader 2
flag 82298 term 50 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 50 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
flag 67336 term 50 leader 2 nextIndex[1]: 301  matchIndex[1]: 300
term 50 leader 2 sendAppendEntries PrevLogIndex: 300  PrevLogTerm: 50 leaderCommit: 300 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:300 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306}]
------------------------------------------------------
flag 53076 term 50 leader 2 nextIndex[0]: 300  matchIndex[0]: 299
term 50 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 53881 term 50 leader 2 nextIndex[1]: 307  matchIndex[1]: 306
term 50 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 50 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=307
update matchIndex[1]=306
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306}]
------------------------------------------------------
!!!!!!connect server 0
client write log 8389997682217235952 (index 307) to leader 2
term 50 server 2 not vote for server 0, 日志不够新
term 50 server 1 not vote for server 0, 日志不够新
term 52 server 1 vote for server 2
term 52 server 0 vote for server 2
term 52 server 2 get vote from server 1
term 52 server 2 become leader
------------------------------------------------------
term 52 server 2 get outdate rpc reply from server 0
flag 46803 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 69438 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 0 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 308->307
------------------------------------------------------
term 52 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false nextIndex[1] 308->307
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 51458 term 52 leader 2 nextIndex[0]: 300  matchIndex[0]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 299  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 81261 term 52 leader 2 nextIndex[1]: 307  matchIndex[1]: 0
term 52 leader 2 sendAppendEntries PrevLogIndex: 306  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:299 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
flag 45966 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 45799 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 16241 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 92564 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
flag 41084 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 90962 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
flag 23283 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 29798 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
flag 64976 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 85188 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
flag 93431 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 43739 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70717 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 87239 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 41321 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 90734 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
flag 89488 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 20303 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 73276 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 43601 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 7155 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 50337 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
flag 17416 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 72611 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
flag 9477 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 24138 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
flag 25494 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 68284 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
flag 88470 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 9510 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
flag 59782 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 43856 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 99712 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 83602 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=308
update matchIndex[0]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=308
update matchIndex[1]=307
update leader CommitIndex=306
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
client write log 8389997682217235952 (index 308) to leader 2
flag 85112 term 52 leader 2 nextIndex[0]: 308  matchIndex[0]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
flag 49254 term 52 leader 2 nextIndex[1]: 308  matchIndex[1]: 307
term 52 leader 2 sendAppendEntries PrevLogIndex: 307  PrevLogTerm: 50 leaderCommit: 306 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307} {8389997682217235952 52 308}]
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:306 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307} {8389997682217235952 52 308}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 52 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 77808 term 52 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
flag 8139 term 52 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307} {8389997682217235952 52 308}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307} {8389997682217235952 52 308}]
------------------------------------------------------
flag 52549 term 52 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
flag 49782 term 52 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307} {8389997682217235952 52 308}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307} {8389997682217235952 52 308}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 35276 term 52 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
flag 85080 term 52 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307} {8389997682217235952 52 308}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307} {8389997682217235952 52 308}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 70820 term 52 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
flag 17866 term 52 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307} {8389997682217235952 52 308}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307} {8389997682217235952 52 308}]
------------------------------------------------------
flag 36274 term 52 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
flag 89210 term 52 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307} {8389997682217235952 52 308}]
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307} {8389997682217235952 52 308}]
------------------------------------------------------
flag 91334 term 52 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
flag 91243 term 52 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
term 52 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 trueupdate nextIndex[1]=309
update matchIndex[1]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307} {8389997682217235952 52 308}]
------------------------------------------------------
term 52 server 0 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 trueupdate nextIndex[0]=309
update matchIndex[0]=308
update leader CommitIndex=308
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307} {8389997682217235952 52 308}]
------------------------------------------------------
!!!!!!diconnect server 2
flag 72154 term 52 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
flag 7376 term 52 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
flag 37987 term 52 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
flag 88386 term 52 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
flag 50687 term 52 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
flag 44658 term 52 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
term 53 server 1 vote for server 0
term 53 server 0 get vote from server 1
term 53 server 0 become leader
------------------------------------------------------
client write log 4965453002976056086 (index 309) to leader 0
flag 52617 term 53 leader 0 nextIndex[1]: 309  matchIndex[1]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
flag 9681 term 53 leader 0 nextIndex[2]: 309  matchIndex[2]: 0
term 53 leader 0 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:308 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 50 299} {8595723854431365607 50 300} {6975061903050362158 50 301} {5166003515193557502 50 302} {6351361913713908130 50 303} {5665759749391940238 50 304} {2763069669003342810 50 305} {7058368203440545136 50 306} {8389997682217235952 50 307} {8389997682217235952 52 308} {4965453002976056086 53 309}]
------------------------------------------------------
term 53 Server0 start snapshot! index=309
term 53 server0 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
flag 43643 term 52 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
flag 51293 term 52 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
flag 58021 term 53 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 53 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
term 53 leader 0 nextIndex[2]: 309  matchIndex[2]: 0
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=310
update matchIndex[1]=309
update leader CommitIndex=309
leader log:
[{snapshot 53 309}]
------------------------------------------------------
term 53 Server1 start snapshot! index=309
term 53 server1 snapshot success
lastIncludedIndex=309 lastApplied=309 lastIndex=309
-------------------------------------------------------------
flag 32433 term 52 leader 2 nextIndex[0]: 309  matchIndex[0]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
flag 72144 term 52 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
leader 2 sendAppendEntries -> server 0 false nextIndex[0] 309->308
------------------------------------------------------
client write log 5086639516033498294 (index 310) to leader 0
client write log 5203128744416162517 (index 311) to leader 0
client write log 1660508363628326372 (index 312) to leader 0
client write log 4841429983007104935 (index 313) to leader 0
client write log 4573799180078377442 (index 314) to leader 0
client write log 5178636829535161389 (index 315) to leader 0
flag 66809 term 53 leader 0 nextIndex[1]: 310  matchIndex[1]: 309
term 53 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 309 
------------------------------------------------------
term 53 leader 0 nextIndex[2]: 309  matchIndex[2]: 0
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:309 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
term 52 leader 2 nextIndex[0]: 0  matchIndex[0]: 308
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
flag 15826 term 52 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
flag 29243 term 53 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
term 53 leader 0 nextIndex[2]: 309  matchIndex[2]: 0
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
!!!!!!connect server 2
client write log 4696210829026633557 (index 309) to leader 2
term 52 leader 2 nextIndex[0]: 0  matchIndex[0]: 308
term 52 leader 2 sendInstallSnapshot LastIncludedIndex: 299  LastIncludedTerm: 50
------------------------------------------------------
flag 79300 term 52 leader 2 nextIndex[1]: 309  matchIndex[1]: 308
term 52 leader 2 sendAppendEntries PrevLogIndex: 308  PrevLogTerm: 52 leaderCommit: 308 
------------------------------------------------------
term 53 server 1 AppendEntries false 领导者任期过期 args.Term 52
------------------------------------------------------
term 53 server 0 InstallSnapshot false 领导者任期过期
------------------------------------------------------
leader 2 sendAppendEntries -> server 1 false 任期过期
------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
flag 68693 term 53 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
term 53 leader 0 nextIndex[2]: 309  matchIndex[2]: 0
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 309  LastIncludedTerm: 53
------------------------------------------------------
term 53 server 2 InstallSnapshot success
------------------------------------------------------
term 53 leader 0 -> server 2 sendInstallSnapshot success
nextIndex[2] 310 matchIndex[2] 309 
------------------------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
Server2 get CondInstallSnapshot!
rf.lastIncludedIndex 309 rf.lastIncludedTerm 53 rf.commitIndex 309 rf.lastApplied 309
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
flag 26455 term 53 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
flag 41095 term 53 leader 0 nextIndex[2]: 310  matchIndex[2]: 309
term 53 leader 0 sendAppendEntries PrevLogIndex: 309  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:309 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
flag 71138 term 53 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
flag 86296 term 53 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
flag 45746 term 53 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
flag 521 term 53 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
flag 28376 term 53 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
flag 5410 term 53 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
flag 77054 term 53 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
flag 75760 term 53 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
flag 9993 term 53 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
flag 99503 term 53 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 52403 term 53 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
flag 29990 term 53 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
term 53 server 2 not vote for server 0, 日志不够新
term 53 server 0 get outdate rpc reply from server 2
flag 68230 term 53 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
flag 2750 term 53 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
flag 47257 term 53 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
flag 10701 term 53 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
term 53 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
flag 54641 term 53 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
flag 31259 term 53 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
flag 77190 term 53 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
flag 84151 term 53 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
flag 84246 term 53 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
flag 57055 term 53 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
flag 82028 term 53 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
flag 48229 term 53 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
flag 73389 term 53 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
flag 26060 term 53 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
flag 95340 term 53 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
flag 61089 term 53 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
flag 86278 term 53 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
flag 26746 term 53 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
flag 63946 term 53 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
flag 68852 term 53 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
flag 37462 term 53 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
flag 22105 term 53 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=316
update matchIndex[1]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=316
update matchIndex[2]=315
update leader CommitIndex=315
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315}]
------------------------------------------------------
client write log 4696210829026633557 (index 316) to leader 0
flag 11773 term 53 leader 0 nextIndex[1]: 316  matchIndex[1]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
flag 58816 term 53 leader 0 nextIndex[2]: 316  matchIndex[2]: 315
term 53 leader 0 sendAppendEntries PrevLogIndex: 315  PrevLogTerm: 53 leaderCommit: 315 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315} {4696210829026633557 53 316}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:315 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315} {4696210829026633557 53 316}]
------------------------------------------------------
flag 3408 term 53 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 53 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 53 leaderCommit: 316 
------------------------------------------------------
flag 45621 term 53 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 53 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 53 leaderCommit: 316 
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315} {4696210829026633557 53 316}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315} {4696210829026633557 53 316}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 14325 term 53 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 53 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 53 leaderCommit: 316 
------------------------------------------------------
flag 34566 term 53 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 53 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 53 leaderCommit: 316 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315} {4696210829026633557 53 316}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315} {4696210829026633557 53 316}]
------------------------------------------------------
flag 234 term 53 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 53 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 53 leaderCommit: 316 
------------------------------------------------------
flag 35392 term 53 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 53 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 53 leaderCommit: 316 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315} {4696210829026633557 53 316}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315} {4696210829026633557 53 316}]
------------------------------------------------------
flag 99887 term 53 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 53 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 53 leaderCommit: 316 
------------------------------------------------------
flag 79604 term 53 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 53 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 53 leaderCommit: 316 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315} {4696210829026633557 53 316}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315} {4696210829026633557 53 316}]
------------------------------------------------------
flag 12581 term 53 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 53 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 53 leaderCommit: 316 
------------------------------------------------------
flag 68186 term 53 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 53 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 53 leaderCommit: 316 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315} {4696210829026633557 53 316}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315} {4696210829026633557 53 316}]
------------------------------------------------------
flag 64704 term 53 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 53 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 53 leaderCommit: 316 
------------------------------------------------------
flag 40027 term 53 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 53 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 53 leaderCommit: 316 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=317
update matchIndex[2]=316
update leader CommitIndex=316
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315} {4696210829026633557 53 316}]
------------------------------------------------------
term 53 server 1 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=317
update matchIndex[1]=316
update leader CommitIndex=316
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315} {4696210829026633557 53 316}]
------------------------------------------------------
!!!!!!diconnect server 1
client write log 13172073445766340 (index 317) to leader 0
flag 45631 term 53 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 53 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 53 leaderCommit: 316 
------------------------------------------------------
flag 51432 term 53 leader 0 nextIndex[2]: 317  matchIndex[2]: 316
term 53 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 53 leaderCommit: 316 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:316 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315} {4696210829026633557 53 316} {13172073445766340 53 317}]
------------------------------------------------------
flag 19172 term 53 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 53 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 53 leaderCommit: 317 
------------------------------------------------------
flag 54806 term 53 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 53 leaderCommit: 317 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=318
update matchIndex[2]=317
update leader CommitIndex=317
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315} {4696210829026633557 53 316} {13172073445766340 53 317}]
------------------------------------------------------
client write log 758831204741043551 (index 318) to leader 0
client write log 68081881943079434 (index 319) to leader 0
client write log 9137595777899510948 (index 320) to leader 0
client write log 8412005464130404279 (index 321) to leader 0
client write log 7027793879562916936 (index 322) to leader 0
client write log 3968491498244710273 (index 323) to leader 0
client write log 2741539154528068362 (index 324) to leader 0
client write log 9087507136997033691 (index 325) to leader 0
client write log 7774253352899012603 (index 326) to leader 0
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 68797 term 53 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 53 leader 0 sendAppendEntries PrevLogIndex: 316  PrevLogTerm: 53 leaderCommit: 317 
------------------------------------------------------
flag 55093 term 53 leader 0 nextIndex[2]: 318  matchIndex[2]: 317
term 53 leader 0 sendAppendEntries PrevLogIndex: 317  PrevLogTerm: 53 leaderCommit: 317 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:317 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 53 309} {5086639516033498294 53 310} {5203128744416162517 53 311} {1660508363628326372 53 312} {4841429983007104935 53 313} {4573799180078377442 53 314} {5178636829535161389 53 315} {4696210829026633557 53 316} {13172073445766340 53 317} {758831204741043551 53 318} {68081881943079434 53 319} {9137595777899510948 53 320} {8412005464130404279 53 321} {7027793879562916936 53 322} {3968491498244710273 53 323} {2741539154528068362 53 324} {9087507136997033691 53 325} {7774253352899012603 53 326}]
------------------------------------------------------
term 53 Server0 start snapshot! index=319
term 53 server0 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=326
-------------------------------------------------------------
term 53 leader 2 -> server 0 sendInstallSnapshot fail
------------------------------------------------------------------------
term 53 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 53
------------------------------------------------------
flag 13029 term 53 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=327
update matchIndex[2]=326
update leader CommitIndex=326
leader log:
[{snapshot 53 319} {9137595777899510948 53 320} {8412005464130404279 53 321} {7027793879562916936 53 322} {3968491498244710273 53 323} {2741539154528068362 53 324} {9087507136997033691 53 325} {7774253352899012603 53 326}]
------------------------------------------------------
term 53 Server2 start snapshot! index=319
term 53 server2 snapshot success
lastIncludedIndex=319 lastApplied=320 lastIndex=326
-------------------------------------------------------------
!!!!!!connect server 1
client write log 455952618148174557 (index 327) to leader 0
term 53 leader 0 nextIndex[1]: 317  matchIndex[1]: 316
term 53 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 53
------------------------------------------------------
flag 968 term 53 leader 0 nextIndex[2]: 327  matchIndex[2]: 326
term 53 leader 0 sendAppendEntries PrevLogIndex: 326  PrevLogTerm: 53 leaderCommit: 326 
------------------------------------------------------
term 53 server 2 AppendEntries true commitIndex:326 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 53 319} {9137595777899510948 53 320} {8412005464130404279 53 321} {7027793879562916936 53 322} {3968491498244710273 53 323} {2741539154528068362 53 324} {9087507136997033691 53 325} {7774253352899012603 53 326} {455952618148174557 53 327}]
------------------------------------------------------
term 54 server 1 InstallSnapshot false 领导者任期过期
------------------------------------------------------
term 53 leader 0 -> server 1 sendInstallSnapshot fail
------------------------------------------------------------------------
term 55 server 2 vote for server 0
term 55 server 0 get vote from server 2
term 55 server 0 become leader
------------------------------------------------------
term 55 server 1 vote for server 0
term 55 server 0 get outdate rpc reply from server 1
flag 73061 term 55 leader 0 nextIndex[1]: 328  matchIndex[1]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
flag 96148 term 55 leader 0 nextIndex[2]: 328  matchIndex[2]: 0
term 55 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
term 55 server 1 AppendEntries false prev日志不匹配
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 53 319} {9137595777899510948 53 320} {8412005464130404279 53 321} {7027793879562916936 53 322} {3968491498244710273 53 323} {2741539154528068362 53 324} {9087507136997033691 53 325} {7774253352899012603 53 326} {455952618148174557 53 327}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 false nextIndex[1] 328->327
------------------------------------------------------
term 55 leader 0 nextIndex[1]: 317  matchIndex[1]: 0
term 55 leader 0 sendInstallSnapshot LastIncludedIndex: 319  LastIncludedTerm: 53
------------------------------------------------------
flag 68151 term 55 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 55 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
term 55 server 1 InstallSnapshot success
------------------------------------------------------
[{snapshot 53 319} {9137595777899510948 53 320} {8412005464130404279 53 321} {7027793879562916936 53 322} {3968491498244710273 53 323} {2741539154528068362 53 324} {9087507136997033691 53 325} {7774253352899012603 53 326} {455952618148174557 53 327}]
------------------------------------------------------
Server1 get CondInstallSnapshot!
rf.lastIncludedIndex 319 rf.lastIncludedTerm 53 rf.commitIndex 319 rf.lastApplied 319
term 55 leader 0 -> server 1 sendInstallSnapshot success
nextIndex[1] 320 matchIndex[1] 319 
------------------------------------------------------------------------
flag 14100 term 55 leader 0 nextIndex[1]: 320  matchIndex[1]: 319
term 55 leader 0 sendAppendEntries PrevLogIndex: 319  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
flag 93861 term 55 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 55 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 53 319} {9137595777899510948 53 320} {8412005464130404279 53 321} {7027793879562916936 53 322} {3968491498244710273 53 323} {2741539154528068362 53 324} {9087507136997033691 53 325} {7774253352899012603 53 326} {455952618148174557 53 327}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:319 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 53 319} {9137595777899510948 53 320} {8412005464130404279 53 321} {7027793879562916936 53 322} {3968491498244710273 53 323} {2741539154528068362 53 324} {9087507136997033691 53 325} {7774253352899012603 53 326} {455952618148174557 53 327}]
------------------------------------------------------
flag 75018 term 55 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 55 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
flag 80528 term 55 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 55 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 53 319} {9137595777899510948 53 320} {8412005464130404279 53 321} {7027793879562916936 53 322} {3968491498244710273 53 323} {2741539154528068362 53 324} {9087507136997033691 53 325} {7774253352899012603 53 326} {455952618148174557 53 327}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 53 319} {9137595777899510948 53 320} {8412005464130404279 53 321} {7027793879562916936 53 322} {3968491498244710273 53 323} {2741539154528068362 53 324} {9087507136997033691 53 325} {7774253352899012603 53 326} {455952618148174557 53 327}]
------------------------------------------------------
flag 61562 term 55 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 55 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
flag 85129 term 55 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 55 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 53 319} {9137595777899510948 53 320} {8412005464130404279 53 321} {7027793879562916936 53 322} {3968491498244710273 53 323} {2741539154528068362 53 324} {9087507136997033691 53 325} {7774253352899012603 53 326} {455952618148174557 53 327}]
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 53 319} {9137595777899510948 53 320} {8412005464130404279 53 321} {7027793879562916936 53 322} {3968491498244710273 53 323} {2741539154528068362 53 324} {9087507136997033691 53 325} {7774253352899012603 53 326} {455952618148174557 53 327}]
------------------------------------------------------
leader 2 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 78134 term 55 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 55 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
flag 75184 term 55 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 55 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:327 
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 53 319} {9137595777899510948 53 320} {8412005464130404279 53 321} {7027793879562916936 53 322} {3968491498244710273 53 323} {2741539154528068362 53 324} {9087507136997033691 53 325} {7774253352899012603 53 326} {455952618148174557 53 327}]
------------------------------------------------------
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 53 319} {9137595777899510948 53 320} {8412005464130404279 53 321} {7027793879562916936 53 322} {3968491498244710273 53 323} {2741539154528068362 53 324} {9087507136997033691 53 325} {7774253352899012603 53 326} {455952618148174557 53 327}]
------------------------------------------------------
leader 0 sendAppendEntries false 过期RPC 类型2
------------------------------------------------------
flag 17148 term 55 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 55 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
flag 12621 term 55 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 55 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 53 319} {9137595777899510948 53 320} {8412005464130404279 53 321} {7027793879562916936 53 322} {3968491498244710273 53 323} {2741539154528068362 53 324} {9087507136997033691 53 325} {7774253352899012603 53 326} {455952618148174557 53 327}]
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 53 319} {9137595777899510948 53 320} {8412005464130404279 53 321} {7027793879562916936 53 322} {3968491498244710273 53 323} {2741539154528068362 53 324} {9087507136997033691 53 325} {7774253352899012603 53 326} {455952618148174557 53 327}]
------------------------------------------------------
flag 17834 term 55 leader 0 nextIndex[1]: 328  matchIndex[1]: 327
term 55 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
flag 55385 term 55 leader 0 nextIndex[2]: 328  matchIndex[2]: 327
term 55 leader 0 sendAppendEntries PrevLogIndex: 327  PrevLogTerm: 53 leaderCommit: 327 
------------------------------------------------------
term 55 server 2 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 2 trueupdate nextIndex[2]=328
update matchIndex[2]=327
update leader CommitIndex=327
leader log:
[{snapshot 53 319} {9137595777899510948 53 320} {8412005464130404279 53 321} {7027793879562916936 53 322} {3968491498244710273 53 323} {2741539154528068362 53 324} {9087507136997033691 53 325} {7774253352899012603 53 326} {455952618148174557 53 327}]
------------------------------------------------------
term 55 server 1 AppendEntries true commitIndex:327 
------------------------------------------------------
leader 0 sendAppendEntries -> server 1 trueupdate nextIndex[1]=328
update matchIndex[1]=327
update leader CommitIndex=327
leader log:
[{snapshot 53 319} {9137595777899510948 53 320} {8412005464130404279 53 321} {7027793879562916936 53 322} {3968491498244710273 53 323} {2741539154528068362 53 324} {9087507136997033691 53 325} {7774253352899012603 53 326} {455952618148174557 53 327}]
------------------------------------------------------
  ... Passed --  72.7  3 1682  734313  327
--- PASS: TestSnapshotInstall2D (72.73s)
PASS
